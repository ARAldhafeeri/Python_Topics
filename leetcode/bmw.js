RequireJS 2.3 .2 Copyright jQuery Foundation and other contributors.
Released under MIT license, https: //github.com/requirejs/requirejs/blob/master/LICENSE
    2010 - 2011 Benjamin Arthur Lupton < contact @balupton.com >
    @license New BSD License < http: //creativecommons.org/licenses/BSD/>
    Public Domain
@author Benjamin Arthur Lupton < contact @balupton.com >
    @author James Padolsey < https: //gist.github.com/527683>
    Public Domain
@author Benjamin Arthur Lupton < contact @balupton.com >
    jQuery v1 .11 .1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org / license jQuery & Zepto Lazy - v1 .7 .4
http: //jquery.eisbehr.de/lazy/

    Copyright 2012 - 2016, Daniel 'Eisbehr'
Kern

Dual licensed under the MIT and GPL - 2.0 licenses:
    http: //www.opensource.org/licenses/mit-license.php
    http: //www.gnu.org/licenses/gpl-2.0.html

    $("img.lazy").lazy();
CosyEncoder: tool to generate encoded cosy URLs from cosy parameter object / serialized parameter string
Warning: The CosyEncoder is confidential and must only be distributed in obfuscated form.
See https: //javascriptobfuscator.herokuapp.com/ for more information on obfuscation
    CosyDecoder: tool to decode cosy URLs into serialized parameter strings / parameter objects
Warning: The CosyDecoder is confidential and must not be distributed in its current form.
matchMedia() polyfill - Test a CSS media type / query in JS.Authors & copyright(c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight.Dual MIT / BSD license matchMedia() polyfill addListener / removeListener extension.Author & copyright(c) 2012: Scott Jehl.Dual MIT / BSD license noUiSlider - 7.0 .10 - 2014 - 12 - 27 14: 50: 47 imagesLoaded PACKAGED v3 .1 .8
JavaScript is all like "You images are done yet or what?"
MIT License
EventEmitter v4 .2 .6 - git.io / ee
Oliver Caldwell
MIT license
@preserve
eventie v1 .0 .4
event binding helper
eventie.bind(elem, 'click', myFn)
eventie.unbind(elem, 'click', myFn)
imagesLoaded v3 .1 .8
JavaScript is all like "You images are done yet or what?"
MIT License
Pikaday

CopyrightÂ© 2014 David Bushell | BSD & MIT license | https: //github.com/dbushell/Pikaday
    shariff - v1 .7 .4 - 26.02 .2015
https: //github.com/heiseonline/shariff
    Copyright(c) 2015 Ines Pauer, Philipp Busse, Sebastian Hilbig, Erich Kramer, Deniz Sesli
Licensed under the MIT < http: //www.opensource.org/licenses/mit-license.php> license
    @overview es6 - promise - a tiny implementation of Promises / A + .
@copyright Copyright(c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors(Conversion to ES6 API by Jake Archibald)
@license Licensed under MIT license
See https: //raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
    @version 3.2 .2 + 39 aa2571
Full Tilt v0 .5 .3 / http: //github.com/richtr/Full-Tilt  contact-data-services.js | https://github.com/experiandataquality/RealTimeAddress | Apache-2.0
    Experian Data Quality | https: //github.com/experiandataquality */
    var requirejs, require, define;
(function(b, f) {
    function k(a, b) {
        return b || ""
    }

    function g(a) {
        return "[object Function]" === N.call(a)
    }

    function c(a) {
        return "[object Array]" === N.call(a)
    }

    function a(a, b) {
        if (a) {
            var c;
            for (c = 0; c < a.length && (!a[c] || !b(a[c], c, a)); c += 1);
        }
    }

    function d(a, b) {
        if (a) {
            var c;
            for (c = a.length - 1; - 1 < c && (!a[c] || !b(a[c], c, a)); --c);
        }
    }

    function e(a, b) {
        return K.call(a, b)
    }

    function h(a, b) {
        return e(a, b) && a[b]
    }

    function m(a, b) {
        for (var c in a)
            if (e(a, c) && b(a[c], c)) break
    }

    function p(a, b, d, h) {
        b && m(b, function(b, f) {
            if (d || !e(a, f)) !h || "object" !==
                typeof b || !b || c(b) || g(b) || b instanceof RegExp ? a[f] = b : (a[f] || (a[f] = {}), p(a[f], b, d, h))
        });
        return a
    }

    function q(a, b) {
        return function() {
            return b.apply(a, arguments)
        }
    }

    function l(a) {
        throw a;
    }

    function u(c) {
        if (!c) return c;
        var d = b;
        a(c.split("."), function(a) {
            d = d[a]
        });
        return d
    }

    function w(a, b, c, d) {
        b = Error(b + "\nhttp://requirejs.org/docs/errors.html#" + a);
        b.requireType = a;
        b.requireModules = d;
        c && (b.originalError = c);
        return b
    }

    function r() {
        if (A && "interactive" === A.readyState) return A;
        d(document.getElementsByTagName("script"),
            function(a) {
                if ("interactive" === a.readyState) return A = a
            });
        return A
    }
    var x, v, t, A, z, B, E, y = /\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,
        C = /[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,
        O = /\.js$/,
        I = /^\.\//;
    var F = Object.prototype;
    var N = F.toString,
        K = F.hasOwnProperty,
        Q = !("undefined" === typeof window || "undefined" === typeof navigator || !window.document),
        G = !Q && "undefined" !== typeof importScripts,
        J = Q && "PLAYSTATION 3" === navigator.platform ? /^complete$/ : /^(complete|loaded)$/,
        V = "undefined" !== typeof opera && "[object Opera]" ===
        opera.toString(),
        M = {},
        R = {},
        H = [],
        T = !1;
    if ("undefined" === typeof define) {
        if ("undefined" !== typeof requirejs) {
            if (g(requirejs)) return;
            R = requirejs;
            requirejs = void 0
        }
        "undefined" === typeof require || g(require) || (R = require, require = void 0);
        var U = requirejs = function(a, b, d, e) {
            var f = "_";
            if (!c(a) && "string" !== typeof a) {
                var l = a;
                c(b) ? (a = b, b = d, d = e) : a = []
            }
            l && l.context && (f = l.context);
            (e = h(M, f)) || (e = M[f] = U.s.newContext(f));
            l && e.configure(l);
            return e.require(a, b, d)
        };
        U.config = function(a) {
            return U(a)
        };
        U.nextTick = "undefined" !==
            typeof f ? function(a) {
                f(a, 4)
            } : function(a) {
                a()
            };
        require || (require = U);
        U.version = "2.3.2";
        U.jsExtRegExp = /^\/|:|\?|\.js$/;
        U.isBrowser = Q;
        F = U.s = {
            contexts: M,
            newContext: function(r) {
                function v(a, b, c) {
                    var d;
                    b = b && b.split("/");
                    var e = X.map,
                        f = e && e["*"];
                    if (a) {
                        a = a.split("/");
                        var l = a.length - 1;
                        X.nodeIdCompat && O.test(a[l]) && (a[l] = a[l].replace(O, ""));
                        "." === a[0].charAt(0) && b && (l = b.slice(0, b.length - 1), a = l.concat(a));
                        l = a;
                        for (d = 0; d < l.length; d++) {
                            var g = l[d];
                            "." === g ? (l.splice(d, 1), --d) : ".." === g && 0 !== d && (1 !== d || ".." !== l[2]) &&
                                ".." !== l[d - 1] && 0 < d && (l.splice(d - 1, 2), d -= 2)
                        }
                        a = a.join("/")
                    }
                    if (c && e && (b || f)) {
                        l = a.split("/");
                        d = l.length;
                        a: for (; 0 < d; --d) {
                            var m = l.slice(0, d).join("/");
                            if (b)
                                for (g = b.length; 0 < g; --g)
                                    if (c = h(e, b.slice(0, g).join("/")))
                                        if (c = h(c, m)) {
                                            var r = c;
                                            var v = d;
                                            break a
                                        } if (!k && f && h(f, m)) {
                                var k = h(f, m);
                                var t = d
                            }
                        }!r && k && (r = k, v = t);
                        r && (l.splice(0, v, r), a = l.join("/"))
                    }
                    return (r = h(X.pkgs, a)) ? r : a
                }

                function k(b) {
                    Q && a(document.getElementsByTagName("script"), function(a) {
                        if (a.getAttribute("data-requiremodule") === b && a.getAttribute("data-requirecontext") ===
                            W.contextName) return a.parentNode.removeChild(a), !0
                    })
                }

                function t(a) {
                    var b = h(X.paths, a);
                    if (b && c(b) && 1 < b.length) return b.shift(), W.require.undef(a), W.makeRequire(null, {
                        skipMap: !0
                    })([a]), !0
                }

                function x(a) {
                    var b = a ? a.indexOf("!") : -1;
                    if (-1 < b) {
                        var c = a.substring(0, b);
                        a = a.substring(b + 1, a.length)
                    }
                    return [c, a]
                }

                function B(a, b, c, d) {
                    var e = null,
                        f = b ? b.name : null,
                        l = a,
                        g = !0,
                        r = "";
                    a || (g = !1, a = "_@r" + (oa += 1));
                    a = x(a);
                    e = a[0];
                    a = a[1];
                    if (e) {
                        e = v(e, f, d);
                        var m = h(fa, e)
                    }
                    if (a)
                        if (e) r = m && m.normalize ? m.normalize(a, function(a) {
                            return v(a,
                                f, d)
                        }) : -1 === a.indexOf("!") ? v(a, f, d) : a;
                        else {
                            r = v(a, f, d);
                            a = x(r);
                            e = a[0];
                            r = a[1];
                            c = !0;
                            var k = W.nameToUrl(r)
                        } c = !e || m || c ? "" : "_unnormalized" + (S += 1);
                    return {
                        prefix: e,
                        name: r,
                        parentMap: b,
                        unnormalized: !!c,
                        url: k,
                        originalName: l,
                        isDefine: g,
                        id: (e ? e + "!" + r : r) + c
                    }
                }

                function z(a) {
                    var b = a.id,
                        c = h(D, b);
                    c || (c = D[b] = new W.Module(a));
                    return c
                }

                function y(a, b, c) {
                    var d = a.id,
                        f = h(D, d);
                    if (!e(fa, d) || f && !f.defineEmitComplete)
                        if (f = z(a), f.error && "error" === b) c(f.error);
                        else f.on(b, c);
                    else "defined" === b && c(fa[d])
                }

                function E(b, c) {
                    var d = b.requireModules,
                        e = !1;
                    if (c) c(b);
                    else if (a(d, function(a) {
                            if (a = h(D, a)) a.error = b, a.events.error && (e = !0, a.emit("error", b))
                        }), !e) U.onError(b)
                }

                function C() {
                    H.length && (a(H, function(a) {
                        var b = a[0];
                        "string" === typeof b && (W.defQueueMap[b] = !0);
                        ka.push(a)
                    }), H = [])
                }

                function F(a) {
                    delete D[a];
                    delete xa[a]
                }

                function K(b, c, d) {
                    var e = b.map.id;
                    b.error ? b.emit("error", b.error) : (c[e] = !0, a(b.depMaps, function(a, e) {
                        a = a.id;
                        var f = h(D, a);
                        !f || b.depMatched[e] || d[a] || (h(c, a) ? (b.defineDep(e, fa[a]), b.check()) : K(f, c, d))
                    }), d[e] = !0)
                }

                function n() {
                    var b, c,
                        d = (b = 1E3 * X.waitSeconds) && W.startTime + b < (new Date).getTime(),
                        e = [],
                        h = [],
                        l = !1,
                        g = !0;
                    if (!Y) {
                        Y = !0;
                        m(xa, function(a) {
                            var b = a.map,
                                f = b.id;
                            if (a.enabled && (b.isDefine || h.push(a), !a.error))
                                if (!a.inited && d) t(f) ? l = c = !0 : (e.push(f), k(f));
                                else if (!a.inited && a.fetched && b.isDefine && (l = !0, !b.prefix)) return g = !1
                        });
                        if (d && e.length) return b = w("timeout", "Load timeout for modules: " + e, null, e), b.contextName = W.contextName, E(b);
                        g && a(h, function(a) {
                            K(a, {}, {})
                        });
                        d && !c || !l || !Q && !G || ba || (ba = f(function() {
                            ba = 0;
                            n()
                        }, 50));
                        Y = !1
                    }
                }

                function N(a) {
                    e(fa,
                        a[0]) || z(B(a[0], null, !0)).init(a[1], a[2])
                }

                function R(a) {
                    a = a.currentTarget || a.srcElement;
                    var b = W.onScriptLoad;
                    a.detachEvent && !V ? a.detachEvent("onreadystatechange", b) : a.removeEventListener("load", b, !1);
                    b = W.onScriptError;
                    a.detachEvent && !V || a.removeEventListener("error", b, !1);
                    return {
                        node: a,
                        id: a && a.getAttribute("data-requiremodule")
                    }
                }

                function M() {
                    for (C(); ka.length;) {
                        var a = ka.shift();
                        if (null === a[0]) return E(w("mismatch", "Mismatched anonymous define() module: " + a[a.length - 1]));
                        N(a)
                    }
                    W.defQueueMap = {}
                }
                var Y,
                    ba, X = {
                        waitSeconds: 7,
                        baseUrl: "./",
                        paths: {},
                        bundles: {},
                        pkgs: {},
                        shim: {},
                        config: {}
                    },
                    D = {},
                    xa = {},
                    P = {},
                    ka = [],
                    fa = {},
                    ha = {},
                    va = {},
                    oa = 1,
                    S = 1;
                var ya = {
                    require: function(a) {
                        return a.require ? a.require : a.require = W.makeRequire(a.map)
                    },
                    exports: function(a) {
                        a.usingExports = !0;
                        if (a.map.isDefine) return a.exports ? fa[a.map.id] = a.exports : a.exports = fa[a.map.id] = {}
                    },
                    module: function(a) {
                        return a.module ? a.module : a.module = {
                            id: a.map.id,
                            uri: a.map.url,
                            config: function() {
                                return h(X.config, a.map.id) || {}
                            },
                            exports: a.exports || (a.exports = {})
                        }
                    }
                };
                var Ea = function(a) {
                    this.events = h(P, a.id) || {};
                    this.map = a;
                    this.shim = h(X.shim, a.id);
                    this.depExports = [];
                    this.depMaps = [];
                    this.depMatched = [];
                    this.pluginMaps = {};
                    this.depCount = 0
                };
                Ea.prototype = {
                    init: function(a, b, c, d) {
                        d = d || {};
                        if (!this.inited) {
                            this.factory = b;
                            if (c) this.on("error", c);
                            else this.events.error && (c = q(this, function(a) {
                                this.emit("error", a)
                            }));
                            this.depMaps = a && a.slice(0);
                            this.errback = c;
                            this.inited = !0;
                            this.ignore = d.ignore;
                            d.enabled || this.enabled ? this.enable() : this.check()
                        }
                    },
                    defineDep: function(a, b) {
                        this.depMatched[a] ||
                            (this.depMatched[a] = !0, --this.depCount, this.depExports[a] = b)
                    },
                    fetch: function() {
                        if (!this.fetched) {
                            this.fetched = !0;
                            W.startTime = (new Date).getTime();
                            var a = this.map;
                            if (this.shim) W.makeRequire(this.map, {
                                enableBuildCallback: !0
                            })(this.shim.deps || [], q(this, function() {
                                return a.prefix ? this.callPlugin() : this.load()
                            }));
                            else return a.prefix ? this.callPlugin() : this.load()
                        }
                    },
                    load: function() {
                        var a = this.map.url;
                        ha[a] || (ha[a] = !0, W.load(this.map.id, a))
                    },
                    check: function() {
                        if (this.enabled && !this.enabling) {
                            var b = this.map.id;
                            var c = this.depExports;
                            var d = this.exports,
                                h = this.factory;
                            if (!this.inited) e(W.defQueueMap, b) || this.fetch();
                            else if (this.error) this.emit("error", this.error);
                            else if (!this.defining) {
                                this.defining = !0;
                                if (1 > this.depCount && !this.defined) {
                                    if (g(h)) {
                                        if (this.events.error && this.map.isDefine || U.onError !== l) try {
                                            d = W.execCb(b, h, c, d)
                                        } catch (La) {
                                            var f = La
                                        } else d = W.execCb(b, h, c, d);
                                        this.map.isDefine && void 0 === d && ((c = this.module) ? d = c.exports : this.usingExports && (d = this.exports));
                                        if (f) return f.requireMap = this.map, f.requireModules =
                                            this.map.isDefine ? [this.map.id] : null, f.requireType = this.map.isDefine ? "define" : "require", E(this.error = f)
                                    } else d = h;
                                    this.exports = d;
                                    if (this.map.isDefine && !this.ignore && (fa[b] = d, U.onResourceLoad)) {
                                        var r = [];
                                        a(this.depMaps, function(a) {
                                            r.push(a.normalizedMap || a)
                                        });
                                        U.onResourceLoad(W, this.map, r)
                                    }
                                    F(b);
                                    this.defined = !0
                                }
                                this.defining = !1;
                                this.defined && !this.defineEmitted && (this.defineEmitted = !0, this.emit("defined", this.exports), this.defineEmitComplete = !0)
                            }
                        }
                    },
                    callPlugin: function() {
                        var a = this.map,
                            b = a.id,
                            c = B(a.prefix);
                        this.depMaps.push(c);
                        y(c, "defined", q(this, function(c) {
                            var d = h(va, this.map.id),
                                f = this.map.name,
                                l = this.map.parentMap ? this.map.parentMap.name : null,
                                g = W.makeRequire(a.parentMap, {
                                    enableBuildCallback: !0
                                });
                            if (this.map.unnormalized) {
                                c.normalize && (f = c.normalize(f, function(a) {
                                    return v(a, l, !0)
                                }) || "");
                                var r = B(a.prefix + "!" + f, this.map.parentMap);
                                y(r, "defined", q(this, function(a) {
                                    this.map.normalizedMap = r;
                                    this.init([], function() {
                                        return a
                                    }, null, {
                                        enabled: !0,
                                        ignore: !0
                                    })
                                }));
                                if (c = h(D, r.id)) {
                                    this.depMaps.push(r);
                                    if (this.events.error) c.on("error",
                                        q(this, function(a) {
                                            this.emit("error", a)
                                        }));
                                    c.enable()
                                }
                            } else if (d) this.map.url = W.nameToUrl(d), this.load();
                            else {
                                var k = q(this, function(a) {
                                    this.init([], function() {
                                        return a
                                    }, null, {
                                        enabled: !0
                                    })
                                });
                                k.error = q(this, function(a) {
                                    this.inited = !0;
                                    this.error = a;
                                    a.requireModules = [b];
                                    m(D, function(a) {
                                        0 === a.map.id.indexOf(b + "_unnormalized") && F(a.map.id)
                                    });
                                    E(a)
                                });
                                k.fromText = q(this, function(c, d) {
                                    var h = a.name,
                                        f = B(h),
                                        l = T;
                                    d && (c = d);
                                    l && (T = !1);
                                    z(f);
                                    e(X.config, b) && (X.config[h] = X.config[b]);
                                    try {
                                        U.exec(c)
                                    } catch (Ma) {
                                        return E(w("fromtexteval",
                                            "fromText eval for " + b + " failed: " + Ma, Ma, [b]))
                                    }
                                    l && (T = !0);
                                    this.depMaps.push(f);
                                    W.completeLoad(h);
                                    g([h], k)
                                });
                                c.load(a.name, g, k, X)
                            }
                        }));
                        W.enable(c, this);
                        this.pluginMaps[c.id] = c
                    },
                    enable: function() {
                        xa[this.map.id] = this;
                        this.enabling = this.enabled = !0;
                        a(this.depMaps, q(this, function(a, b) {
                            var c;
                            if ("string" === typeof a) {
                                a = B(a, this.map.isDefine ? this.map : this.map.parentMap, !1, !this.skipMap);
                                this.depMaps[b] = a;
                                if (c = h(ya, a.id)) {
                                    this.depExports[b] = c(this);
                                    return
                                }
                                this.depCount += 1;
                                y(a, "defined", q(this, function(a) {
                                    this.undefed ||
                                        (this.defineDep(b, a), this.check())
                                }));
                                this.errback ? y(a, "error", q(this, this.errback)) : this.events.error && y(a, "error", q(this, function(a) {
                                    this.emit("error", a)
                                }))
                            }
                            c = a.id;
                            var d = D[c];
                            e(ya, c) || !d || d.enabled || W.enable(a, this)
                        }));
                        m(this.pluginMaps, q(this, function(a) {
                            var b = h(D, a.id);
                            b && !b.enabled && W.enable(a, this)
                        }));
                        this.enabling = !1;
                        this.check()
                    },
                    on: function(a, b) {
                        var c = this.events[a];
                        c || (c = this.events[a] = []);
                        c.push(b)
                    },
                    emit: function(b, c) {
                        a(this.events[b], function(a) {
                            a(c)
                        });
                        "error" === b && delete this.events[b]
                    }
                };
                var W = {
                    config: X,
                    contextName: r,
                    registry: D,
                    defined: fa,
                    urlFetched: ha,
                    defQueue: ka,
                    defQueueMap: {},
                    Module: Ea,
                    makeModuleMap: B,
                    nextTick: U.nextTick,
                    onError: E,
                    configure: function(b) {
                        b.baseUrl && "/" !== b.baseUrl.charAt(b.baseUrl.length - 1) && (b.baseUrl += "/");
                        if ("string" === typeof b.urlArgs) {
                            var d = b.urlArgs;
                            b.urlArgs = function(a, b) {
                                return (-1 === b.indexOf("?") ? "?" : "\x26") + d
                            }
                        }
                        var e = X.shim,
                            h = {
                                paths: !0,
                                bundles: !0,
                                config: !0,
                                map: !0
                            };
                        m(b, function(a, b) {
                            h[b] ? (X[b] || (X[b] = {}), p(X[b], a, !0, !0)) : X[b] = a
                        });
                        b.bundles && m(b.bundles, function(b,
                            c) {
                            a(b, function(a) {
                                a !== c && (va[a] = c)
                            })
                        });
                        b.shim && (m(b.shim, function(a, b) {
                            c(a) && (a = {
                                deps: a
                            });
                            !a.exports && !a.init || a.exportsFn || (a.exportsFn = W.makeShimExports(a));
                            e[b] = a
                        }), X.shim = e);
                        b.packages && a(b.packages, function(a) {
                            a = "string" === typeof a ? {
                                name: a
                            } : a;
                            var b = a.name;
                            a.location && (X.paths[b] = a.location);
                            X.pkgs[b] = a.name + "/" + (a.main || "main").replace(I, "").replace(O, "")
                        });
                        m(D, function(a, b) {
                            a.inited || a.map.unnormalized || (a.map = B(b, null, !0))
                        });
                        (b.deps || b.callback) && W.require(b.deps || [], b.callback)
                    },
                    makeShimExports: function(a) {
                        return function() {
                            var c;
                            a.init && (c = a.init.apply(b, arguments));
                            return c || a.exports && u(a.exports)
                        }
                    },
                    makeRequire: function(a, b) {
                        function c(d, h, f) {
                            var l;
                            b.enableBuildCallback && h && g(h) && (h.__requireJsBuild = !0);
                            if ("string" === typeof d) {
                                if (g(h)) return E(w("requireargs", "Invalid require call"), f);
                                if (a && e(ya, d)) return ya[d](D[a.id]);
                                if (U.get) return U.get(W, d, a, c);
                                var m = B(d, a, !1, !0);
                                m = m.id;
                                return e(fa, m) ? fa[m] : E(w("notloaded", 'Module name "' + m + '" has not been loaded yet for context: ' + r + (a ? "" : ". Use require([])")))
                            }
                            M();
                            W.nextTick(function() {
                                M();
                                l = z(B(null, a));
                                l.skipMap = b.skipMap;
                                l.init(d, h, f, {
                                    enabled: !0
                                });
                                n()
                            });
                            return c
                        }
                        b = b || {};
                        p(c, {
                            isBrowser: Q,
                            toUrl: function(b) {
                                var c = b.lastIndexOf("."),
                                    d = b.split("/")[0];
                                if (-1 !== c && ("." !== d && ".." !== d || 1 < c)) {
                                    var e = b.substring(c, b.length);
                                    b = b.substring(0, c)
                                }
                                return W.nameToUrl(v(b, a && a.id, !0), e, !0)
                            },
                            defined: function(b) {
                                return e(fa, B(b, a, !1, !0).id)
                            },
                            specified: function(b) {
                                b = B(b, a, !1, !0).id;
                                return e(fa, b) || e(D, b)
                            }
                        });
                        a || (c.undef = function(b) {
                            C();
                            var c = B(b, a, !0),
                                e = h(D, b);
                            e.undefed = !0;
                            k(b);
                            delete fa[b];
                            delete ha[c.url];
                            delete P[b];
                            d(ka, function(a, c) {
                                a[0] === b && ka.splice(c, 1)
                            });
                            delete W.defQueueMap[b];
                            e && (e.events.defined && (P[b] = e.events), F(b))
                        });
                        return c
                    },
                    enable: function(a) {
                        h(D, a.id) && z(a).enable()
                    },
                    completeLoad: function(a) {
                        var b = h(X.shim, a) || {},
                            c = b.exports;
                        for (C(); ka.length;) {
                            var d = ka.shift();
                            if (null === d[0]) {
                                d[0] = a;
                                if (f) break;
                                var f = !0
                            } else d[0] === a && (f = !0);
                            N(d)
                        }
                        W.defQueueMap = {};
                        d = h(D, a);
                        if (!f && !e(fa, a) && d && !d.inited)
                            if (!X.enforceDefine || c && u(c)) N([a, b.deps || [], b.exportsFn]);
                            else return t(a) ? void 0 : E(w("nodefine",
                                "No define call for " + a, null, [a]));
                        n()
                    },
                    nameToUrl: function(a, b, d) {
                        var e, f;
                        (e = h(X.pkgs, a)) && (a = e);
                        if (e = h(va, a)) return W.nameToUrl(e, b, d);
                        if (U.jsExtRegExp.test(a)) e = a + (b || "");
                        else {
                            e = X.paths;
                            var l = a.split("/");
                            for (f = l.length; 0 < f; --f) {
                                var g = l.slice(0, f).join("/");
                                if (g = h(e, g)) {
                                    c(g) && (g = g[0]);
                                    l.splice(0, f, g);
                                    break
                                }
                            }
                            e = l.join("/");
                            e += b || (/^data:|^blob:|\?/.test(e) || d ? "" : ".js");
                            e = ("/" === e.charAt(0) || e.match(/^[\w\+\.\-]+:/) ? "" : X.baseUrl) + e
                        }
                        return X.urlArgs && !/^blob:/.test(e) ? e + X.urlArgs(a, e) : e
                    },
                    load: function(a,
                        b) {
                        U.load(W, a, b)
                    },
                    execCb: function(a, b, c, d) {
                        return b.apply(d, c)
                    },
                    onScriptLoad: function(a) {
                        if ("load" === a.type || J.test((a.currentTarget || a.srcElement).readyState)) A = null, a = R(a), W.completeLoad(a.id)
                    },
                    onScriptError: function(b) {
                        var c = R(b);
                        if (!t(c.id)) {
                            var d = [];
                            m(D, function(b, e) {
                                0 !== e.indexOf("_@r") && a(b.depMaps, function(a) {
                                    if (a.id === c.id) return d.push(e), !0
                                })
                            });
                            return E(w("scripterror", 'Script error for "' + c.id + (d.length ? '", needed by: ' + d.join(", ") : '"'), b, [c.id]))
                        }
                    }
                };
                W.require = W.makeRequire();
                return W
            }
        };
        U({});
        a(["toUrl", "undef", "defined", "specified"], function(a) {
            U[a] = function() {
                var b = M._;
                return b.require[a].apply(b, arguments)
            }
        });
        if (Q) {
            var ba = F.head = document.getElementsByTagName("head")[0];
            if (x = document.getElementsByTagName("base")[0]) ba = F.head = x.parentNode
        }
        U.onError = l;
        U.createNode = function(a, b, c) {
            b = a.xhtml ? document.createElementNS("http://www.w3.org/1999/xhtml", "html:script") : document.createElement("script");
            b.type = a.scriptType || "text/javascript";
            b.charset = "utf-8";
            b.async = !0;
            return b
        };
        U.load = function(a,
            b, c) {
            var d = a && a.config || {};
            if (Q) {
                var e = U.createNode(d, b, c);
                e.setAttribute("data-requirecontext", a.contextName);
                e.setAttribute("data-requiremodule", b);
                !e.attachEvent || e.attachEvent.toString && 0 > e.attachEvent.toString().indexOf("[native code") || V ? (e.addEventListener("load", a.onScriptLoad, !1), e.addEventListener("error", a.onScriptError, !1)) : (T = !0, e.attachEvent("onreadystatechange", a.onScriptLoad));
                e.src = c;
                if (d.onNodeCreated) d.onNodeCreated(e, d, b, c);
                z = e;
                x ? ba.insertBefore(e, x) : ba.appendChild(e);
                z = null;
                return e
            }
            if (G) try {
                f(function() {},
                    0), importScripts(c), a.completeLoad(b)
            } catch (sa) {
                a.onError(w("importscripts", "importScripts failed for " + b + " at " + c, sa, [b]))
            }
        };
        Q && !R.skipDataMain && d(document.getElementsByTagName("script"), function(a) {
            ba || (ba = a.parentNode);
            if (v = a.getAttribute("data-main")) return B = v, R.baseUrl || -1 !== B.indexOf("!") || (t = B.split("/"), B = t.pop(), E = t.length ? t.join("/") + "/" : "./", R.baseUrl = E), B = B.replace(O, ""), U.jsExtRegExp.test(B) && (B = v), R.deps = R.deps ? R.deps.concat(B) : [B], !0
        });
        define = function(a, b, d) {
            var e;
            "string" !== typeof a &&
                (d = b, b = a, a = null);
            c(b) || (d = b, b = null);
            !b && g(d) && (b = [], d.length && (d.toString().replace(y, k).replace(C, function(a, c) {
                b.push(c)
            }), b = (1 === d.length ? ["require"] : ["require", "exports", "module"]).concat(b)));
            if (T && (e = z || r())) {
                a || (a = e.getAttribute("data-requiremodule"));
                var h = M[e.getAttribute("data-requirecontext")]
            }
            h ? (h.defQueue.push([a, b, d]), h.defQueueMap[a] = !0) : H.push([a, b, d])
        };
        define.amd = {
            jQuery: !0
        };
        U.exec = function(a) {
            return eval(a)
        };
        U(R)
    }
})(this, "undefined" === typeof setTimeout ? void 0 : setTimeout);
(function() {
    var b = [],
        f = [],
        k = window.define,
        g = function() {
            var a = null;
            0 < b.length && (a = b.pop());
            return a
        },
        c = function(a) {
            for (var b = !1, c = 0; c < f.length; c++)
                if (a === f[c]) {
                    console.log("WARNING: Module ID '" + a + "' is already defined.");
                    b = !0;
                    break
                } b || f.push(a)
        };
    window.defineNextId = function(a) {
        b.push(a)
    };
    window.define = function(a, b, e) {
        "[object Array]" === Object.prototype.toString.call(a) ? (e = b, b = a, a = g(), null != a ? (c(a), k(a, b, e)) : console.log("WARNING: No define ID is given.")) : "[object Function]" === Object.prototype.toString.call(a) ?
            (e = a, a = g(), null != a ? (c(a), k(a, e)) : console.log("WARNING: No define ID is given.")) : (c(a), k(a, b, e))
    };
    window.define.nextId = window.defineNextId;
    window.define.amd = k.amd;
    window.define.definedModuleIds = f
})();
define.nextId("require-css");
define(function() {
    if ("undefined" == typeof window) return {
        load: function(a, b, c) {
            c()
        }
    };
    var b = document.getElementsByTagName("head")[0],
        f = window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/) || 0,
        k = !1,
        g = !0;
    f[1] || f[7] ? k = 6 > parseInt(f[1]) || 9 >= parseInt(f[7]) : f[2] || f[8] ? g = !1 : f[4] && (k = 18 > parseInt(f[4]));
    f = {
        pluginBuilder: "./css-builder"
    };
    var c, a, d = function() {
            c = document.createElement("style");
            b.appendChild(c);
            a = c.styleSheet || c.sheet
        },
        e = 0,
        h = [],
        m, p = function(b) {
            a.addImport(b);
            c.onload = function() {
                m();
                var a = h.shift();
                a ? (m = a[1], p(a[0])) : m = null
            };
            e++;
            31 == e && (d(), e = 0)
        },
        q = function(b, e) {
            a && a.addImport || d();
            if (a && a.addImport) m ? h.push([b, e]) : (p(b), m = e);
            else {
                c.textContent = '@import "' + b + '";';
                var f = setInterval(function() {
                    try {
                        c.sheet.cssRules, clearInterval(f), e()
                    } catch (x) {}
                }, 10)
            }
        },
        l = function(a, c) {
            var d = document.createElement("link");
            d.type = "text/css";
            d.rel = "stylesheet";
            if (g) d.onload = function() {
                d.onload = function() {};
                setTimeout(c,
                    7)
            };
            else var e = setInterval(function() {
                for (var a = 0; a < document.styleSheets.length; a++)
                    if (document.styleSheets[a].href == d.href) return clearInterval(e), c()
            }, 10);
            d.href = a;
            b.appendChild(d)
        };
    f.normalize = function(a, b) {
        ".css" == a.substr(a.length - 4, 4) && (a = a.substr(0, a.length - 4));
        return b(a)
    };
    f.load = function(a, b, c, d) {
        (k ? q : l)(b.toUrl(a + ".css"), c)
    };
    return f
});
! function(b, f) {
    "object" == typeof module && "object" == typeof module.exports ? module.exports = b.document ? f(b, !0) : function(b) {
        if (!b.document) throw Error("jQuery requires a window with a document");
        return f(b)
    } : f(b)
}("undefined" != typeof window ? window : this, function(b, f) {
    function k(a) {
        var b = a.length,
            c = n.type(a);
        return "function" === c || n.isWindow(a) ? !1 : 1 === a.nodeType && b ? !0 : "array" === c || 0 === b || "number" == typeof b && 0 < b && b - 1 in a
    }

    function g(a, b, c) {
        if (n.isFunction(b)) return n.grep(a, function(a, d) {
            return !!b.call(a, d,
                a) !== c
        });
        if (b.nodeType) return n.grep(a, function(a) {
            return a === b !== c
        });
        if ("string" == typeof b) {
            if (xa.test(b)) return n.filter(b, a, c);
            b = n.filter(b, a)
        }
        return n.grep(a, function(a) {
            return 0 <= n.inArray(a, b) !== c
        })
    }

    function c(a, b) {
        do a = a[b]; while (a && 1 !== a.nodeType);
        return a
    }

    function a(a) {
        var b = S[a] = {};
        return n.each(a.match(oa) || [], function(a, c) {
            b[c] = !0
        }), b
    }

    function d() {
        P.addEventListener ? (P.removeEventListener("DOMContentLoaded", e, !1), b.removeEventListener("load", e, !1)) : (P.detachEvent("onreadystatechange",
            e), b.detachEvent("onload", e))
    }

    function e() {
        (P.addEventListener || "load" === event.type || "complete" === P.readyState) && (d(), n.ready())
    }

    function h(a, b, c) {
        if (void 0 === c && 1 === a.nodeType) {
            var d = "data-" + b.replace(Ka, "-$1").toLowerCase();
            if (c = a.getAttribute(d), "string" == typeof c) {
                try {
                    c = "true" === c ? !0 : "false" === c ? !1 : "null" === c ? null : +c + "" === c ? +c : W.test(c) ? n.parseJSON(c) : c
                } catch (Sb) {}
                n.data(a, b, c)
            } else c = void 0
        }
        return c
    }

    function m(a) {
        for (var b in a)
            if (("data" !== b || !n.isEmptyObject(a[b])) && "toJSON" !== b) return !1;
        return !0
    }

    function p(a, b, c, d) {
        if (n.acceptData(a)) {
            var e, h, f = n.expando,
                l = a.nodeType,
                g = l ? n.cache : a,
                m = l ? a[f] : a[f] && f;
            if (m && g[m] && (d || g[m].data) || void 0 !== c || "string" != typeof b) return m || (m = l ? a[f] = ea.pop() || n.guid++ : f), g[m] || (g[m] = l ? {} : {
                toJSON: n.noop
            }), ("object" == typeof b || "function" == typeof b) && (d ? g[m] = n.extend(g[m], b) : g[m].data = n.extend(g[m].data, b)), h = g[m], d || (h.data || (h.data = {}), h = h.data), void 0 !== c && (h[n.camelCase(b)] = c), "string" == typeof b ? (e = h[b], null == e && (e = h[n.camelCase(b)])) : e = h, e
        }
    }

    function q(a, b, c) {
        if (n.acceptData(a)) {
            var d,
                e, h = a.nodeType,
                f = h ? n.cache : a,
                l = h ? a[n.expando] : n.expando;
            if (f[l]) {
                if (b && (d = c ? f[l] : f[l].data)) {
                    n.isArray(b) ? b = b.concat(n.map(b, n.camelCase)) : b in d ? b = [b] : (b = n.camelCase(b), b = b in d ? [b] : b.split(" "));
                    for (e = b.length; e--;) delete d[b[e]];
                    if (c ? !m(d) : !n.isEmptyObject(d)) return
                }(c || (delete f[l].data, m(f[l]))) && (h ? n.cleanData([a], !0) : L.deleteExpando || f != f.window ? delete f[l] : f[l] = null)
            }
        }
    }

    function l() {
        return !0
    }

    function u() {
        return !1
    }

    function w() {
        try {
            return P.activeElement
        } catch (pa) {}
    }

    function r(a) {
        var b = gb.split("|");
        a = a.createDocumentFragment();
        if (a.createElement)
            for (; b.length;) a.createElement(b.pop());
        return a
    }

    function x(a, b) {
        var c, d, e = 0,
            h = "undefined" !== typeof a.getElementsByTagName ? a.getElementsByTagName(b || "*") : "undefined" !== typeof a.querySelectorAll ? a.querySelectorAll(b || "*") : void 0;
        if (!h)
            for (h = [], c = a.childNodes || a; null != (d = c[e]); e++) !b || n.nodeName(d, b) ? h.push(d) : n.merge(h, x(d, b));
        return void 0 === b || b && n.nodeName(a, b) ? n.merge([a], h) : h
    }

    function v(a) {
        Va.test(a.type) && (a.defaultChecked = a.checked)
    }

    function t(a,
        b) {
        return n.nodeName(a, "table") && n.nodeName(11 !== b.nodeType ? b : b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a
    }

    function A(a) {
        return a.type = (null !== n.find.attr(a, "type")) + "/" + a.type, a
    }

    function z(a) {
        var b = ib.exec(a.type);
        return b ? a.type = b[1] : a.removeAttribute("type"), a
    }

    function B(a, b) {
        for (var c, d = 0; null != (c = a[d]); d++) n._data(c, "globalEval", !b || n._data(b[d], "globalEval"))
    }

    function E(a, b) {
        if (1 === b.nodeType && n.hasData(a)) {
            var c, d;
            var e = n._data(a);
            a = n._data(b, e);
            var h = e.events;
            if (h)
                for (c in delete a.handle, a.events = {}, h)
                    for (e = 0, d = h[c].length; d > e; e++) n.event.add(b, c, h[c][e]);
            a.data && (a.data = n.extend({}, a.data))
        }
    }

    function y(a, c) {
        var d;
        a = n(c.createElement(a)).appendTo(c.body);
        c = b.getDefaultComputedStyle && (d = b.getDefaultComputedStyle(a[0])) ? d.display : n.css(a[0], "display");
        return a.detach(), c
    }

    function C(a) {
        var b = P,
            c = Ya[a];
        return c || (c = y(a, b), "none" !== c && c || (za = (za || n("\x3ciframe frameborder\x3d'0' width\x3d'0' height\x3d'0'/\x3e")).appendTo(b.documentElement),
            b = (za[0].contentWindow || za[0].contentDocument).document, b.write(), b.close(), c = y(a, b), za.detach()), Ya[a] = c), c
    }

    function O(a, b) {
        return {
            get: function() {
                var c = a();
                if (null != c) return c ? void delete this.get : (this.get = b).apply(this, arguments)
            }
        }
    }

    function I(a, b) {
        if (b in a) return b;
        for (var c = b.charAt(0).toUpperCase() + b.slice(1), d = b, e = Gb.length; e--;)
            if (b = Gb[e] + c, b in a) return b;
        return d
    }

    function F(a, b) {
        for (var c, d, e, h = [], f = 0, l = a.length; l > f; f++) d = a[f], d.style && (h[f] = n._data(d, "olddisplay"), c = d.style.display, b ? (h[f] ||
            "none" !== c || (d.style.display = ""), "" === d.style.display && ta(d) && (h[f] = n._data(d, "olddisplay", C(d.nodeName)))) : (e = ta(d), (c && "none" !== c || !e) && n._data(d, "olddisplay", e ? c : n.css(d, "display"))));
        for (f = 0; l > f; f++) d = a[f], d.style && (b && "none" !== d.style.display && "" !== d.style.display || (d.style.display = b ? h[f] || "" : "none"));
        return a
    }

    function N(a, b, c) {
        return (a = vb.exec(b)) ? Math.max(0, a[1] - (c || 0)) + (a[2] || "px") : b
    }

    function K(a, b, c, d, e) {
        b = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0;
        for (var h = 0; 4 > b; b += 2) "margin" === c && (h +=
            n.css(a, c + da[b], !0, e)), d ? ("content" === c && (h -= n.css(a, "padding" + da[b], !0, e)), "margin" !== c && (h -= n.css(a, "border" + da[b] + "Width", !0, e))) : (h += n.css(a, "padding" + da[b], !0, e), "padding" !== c && (h += n.css(a, "border" + da[b] + "Width", !0, e)));
        return h
    }

    function Q(a, b, c) {
        var d = !0,
            e = "width" === b ? a.offsetWidth : a.offsetHeight,
            h = Fa(a),
            f = L.boxSizing && "border-box" === n.css(a, "boxSizing", !1, h);
        if (0 >= e || null == e) {
            if (e = Ga(a, b, h), (0 > e || null == e) && (e = a.style[b]), Aa.test(e)) return e;
            d = f && (L.boxSizingReliable() || e === a.style[b]);
            e = parseFloat(e) ||
                0
        }
        return e + K(a, b, c || (f ? "border" : "content"), d, h) + "px"
    }

    function G(a, b, c, d, e) {
        return new G.prototype.init(a, b, c, d, e)
    }

    function J() {
        return setTimeout(function() {
            Ra = void 0
        }), Ra = n.now()
    }

    function V(a, b) {
        var c = {
                height: a
            },
            d = 0;
        for (b = b ? 1 : 0; 4 > d; d += 2 - b) {
            var e = da[d];
            c["margin" + e] = c["padding" + e] = a
        }
        return b && (c.opacity = c.width = a), c
    }

    function M(a, b, c) {
        for (var d, e = (Za[b] || []).concat(Za["*"]), h = 0, f = e.length; f > h; h++)
            if (d = e[h].call(c, b, a)) return d
    }

    function R(a, b) {
        var c, d, e, h, f;
        for (c in a)
            if (d = n.camelCase(c), e = b[d], h = a[c],
                n.isArray(h) && (e = h[1], h = a[c] = h[0]), c !== d && (a[d] = h, delete a[c]), f = n.cssHooks[d], f && "expand" in f)
                for (c in h = f.expand(h), delete a[d], h) c in a || (a[c] = h[c], b[c] = e);
            else b[d] = e
    }

    function H(a, b, c) {
        var d, e = 0,
            h = jb.length,
            f = n.Deferred().always(function() {
                delete l.elem
            }),
            l = function() {
                if (d) return !1;
                var b = Ra || J();
                b = Math.max(0, g.startTime + g.duration - b);
                for (var c = 1 - (b / g.duration || 0), e = 0, h = g.tweens.length; h > e; e++) g.tweens[e].run(c);
                return f.notifyWith(a, [g, c, b]), 1 > c && h ? b : (f.resolveWith(a, [g]), !1)
            },
            g = f.promise({
                elem: a,
                props: n.extend({}, b),
                opts: n.extend(!0, {
                    specialEasing: {}
                }, c),
                originalProperties: b,
                originalOptions: c,
                startTime: Ra || J(),
                duration: c.duration,
                tweens: [],
                createTween: function(b, c) {
                    b = n.Tween(a, g.opts, b, c, g.opts.specialEasing[b] || g.opts.easing);
                    return g.tweens.push(b), b
                },
                stop: function(b) {
                    var c = 0,
                        e = b ? g.tweens.length : 0;
                    if (d) return this;
                    for (d = !0; e > c; c++) g.tweens[c].run(1);
                    return b ? f.resolveWith(a, [g, b]) : f.rejectWith(a, [g, b]), this
                }
            });
        c = g.props;
        for (R(c, g.opts.specialEasing); h > e; e++)
            if (b = jb[e].call(g, a, c, g.opts)) return b;
        return n.map(c, M, g), n.isFunction(g.opts.start) && g.opts.start.call(a, g), n.fx.timer(n.extend(l, {
            elem: a,
            anim: g,
            queue: g.opts.queue
        })), g.progress(g.opts.progress).done(g.opts.done, g.opts.complete).fail(g.opts.fail).always(g.opts.always)
    }

    function T(a) {
        return function(b, c) {
            "string" != typeof b && (c = b, b = "*");
            var d = 0,
                e = b.toLowerCase().match(oa) || [];
            if (n.isFunction(c))
                for (; b = e[d++];) "+" === b.charAt(0) ? (b = b.slice(1) || "*", (a[b] = a[b] || []).unshift(c)) : (a[b] = a[b] || []).push(c)
        }
    }

    function U(a, b, c, d) {
        function e(l) {
            var g;
            return h[l] = !0, n.each(a[l] || [], function(a, l) {
                a = l(b, c, d);
                return "string" != typeof a || f || h[a] ? f ? !(g = a) : void 0 : (b.dataTypes.unshift(a), e(a), !1)
            }), g
        }
        var h = {},
            f = a === wb;
        return e(b.dataTypes[0]) || !h["*"] && e("*")
    }

    function ba(a, b) {
        var c, d, e = n.ajaxSettings.flatOptions || {};
        for (d in b) void 0 !== b[d] && ((e[d] ? a : c || (c = {}))[d] = b[d]);
        return c && n.extend(!0, a, c), a
    }

    function Y(a, b, c, d) {
        var e;
        if (n.isArray(b)) n.each(b, function(b, e) {
            c || Ub.test(a) ? d(a, e) : Y(a + "[" + ("object" == typeof e ? b : "") + "]", e, c, d)
        });
        else if (c || "object" !== n.type(b)) d(a,
            b);
        else
            for (e in b) Y(a + "[" + e + "]", b[e], c, d)
    }

    function ca() {
        try {
            return new b.XMLHttpRequest
        } catch (pa) {}
    }

    function aa(a) {
        return n.isWindow(a) ? a : 9 === a.nodeType ? a.defaultView || a.parentWindow : !1
    }
    var ea = [],
        ja = ea.slice,
        sa = ea.concat,
        ma = ea.push,
        qa = ea.indexOf,
        ua = {},
        Ia = ua.toString,
        la = ua.hasOwnProperty,
        L = {},
        n = function(a, b) {
            return new n.fn.init(a, b)
        },
        Ha = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
        ra = /^-ms-/,
        wa = /-([\da-z])/gi,
        Da = function(a, b) {
            return b.toUpperCase()
        };
    n.fn = n.prototype = {
        jquery: "1.11.1",
        constructor: n,
        selector: "",
        length: 0,
        toArray: function() {
            return ja.call(this)
        },
        get: function(a) {
            return null != a ? 0 > a ? this[a + this.length] : this[a] : ja.call(this)
        },
        pushStack: function(a) {
            a = n.merge(this.constructor(), a);
            return a.prevObject = this, a.context = this.context, a
        },
        each: function(a, b) {
            return n.each(this, a, b)
        },
        map: function(a) {
            return this.pushStack(n.map(this, function(b, c) {
                return a.call(b, c, b)
            }))
        },
        slice: function() {
            return this.pushStack(ja.apply(this, arguments))
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq(-1)
        },
        eq: function(a) {
            var b = this.length;
            a = +a + (0 > a ? b : 0);
            return this.pushStack(0 <= a && b > a ? [this[a]] : [])
        },
        end: function() {
            return this.prevObject || this.constructor(null)
        },
        push: ma,
        sort: ea.sort,
        splice: ea.splice
    };
    n.extend = n.fn.extend = function() {
        var a, b, c, d, e = arguments[0] || {},
            h = 1,
            f = arguments.length,
            l = !1;
        "boolean" == typeof e && (l = e, e = arguments[h] || {}, h++);
        "object" == typeof e || n.isFunction(e) || (e = {});
        for (h === f && (e = this, h--); f > h; h++)
            if (null != (c = arguments[h]))
                for (b in c) {
                    var g = e[b];
                    var m = c[b];
                    e !== m && (l && m && (n.isPlainObject(m) ||
                        (a = n.isArray(m))) ? (a ? (a = !1, d = g && n.isArray(g) ? g : []) : d = g && n.isPlainObject(g) ? g : {}, e[b] = n.extend(l, d, m)) : void 0 !== m && (e[b] = m))
                }
        return e
    };
    n.extend({
        expando: "jQuery" + ("1.11.1" + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function(a) {
            throw Error(a);
        },
        noop: function() {},
        isFunction: function(a) {
            return "function" === n.type(a)
        },
        isArray: Array.isArray || function(a) {
            return "array" === n.type(a)
        },
        isWindow: function(a) {
            return null != a && a == a.window
        },
        isNumeric: function(a) {
            return !n.isArray(a) && 0 <= a - parseFloat(a)
        },
        isEmptyObject: function(a) {
            for (var b in a) return !1;
            return !0
        },
        isPlainObject: function(a) {
            var b;
            if (!a || "object" !== n.type(a) || a.nodeType || n.isWindow(a)) return !1;
            try {
                if (a.constructor && !la.call(a, "constructor") && !la.call(a.constructor.prototype, "isPrototypeOf")) return !1
            } catch (Rb) {
                return !1
            }
            if (L.ownLast)
                for (b in a) return la.call(a, b);
            for (b in a);
            return void 0 === b || la.call(a, b)
        },
        type: function(a) {
            return null == a ? a + "" : "object" == typeof a || "function" == typeof a ? ua[Ia.call(a)] || "object" : typeof a
        },
        globalEval: function(a) {
            a && n.trim(a) && (b.execScript || function(a) {
                b.eval.call(b,
                    a)
            })(a)
        },
        camelCase: function(a) {
            return a.replace(ra, "ms-").replace(wa, Da)
        },
        nodeName: function(a, b) {
            return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase()
        },
        each: function(a, b, c) {
            var d, e = 0,
                h = a.length,
                f = k(a);
            if (c)
                if (f)
                    for (; h > e && (d = b.apply(a[e], c), !1 !== d); e++);
                else
                    for (e in a) {
                        if (d = b.apply(a[e], c), !1 === d) break
                    } else if (f)
                        for (; h > e && (d = b.call(a[e], e, a[e]), !1 !== d); e++);
                    else
                        for (e in a)
                            if (d = b.call(a[e], e, a[e]), !1 === d) break;
            return a
        },
        trim: function(a) {
            return null == a ? "" : (a + "").replace(Ha, "")
        },
        makeArray: function(a,
            b) {
            b = b || [];
            return null != a && (k(Object(a)) ? n.merge(b, "string" == typeof a ? [a] : a) : ma.call(b, a)), b
        },
        inArray: function(a, b, c) {
            if (b) {
                if (qa) return qa.call(b, a, c);
                var d = b.length;
                for (c = c ? 0 > c ? Math.max(0, d + c) : c : 0; d > c; c++)
                    if (c in b && b[c] === a) return c
            }
            return -1
        },
        merge: function(a, b) {
            for (var c = +b.length, d = 0, e = a.length; c > d;) a[e++] = b[d++];
            if (c !== c)
                for (; void 0 !== b[d];) a[e++] = b[d++];
            return a.length = e, a
        },
        grep: function(a, b, c) {
            for (var d = [], e = 0, h = a.length, f = !c; h > e; e++) c = !b(a[e], e), c !== f && d.push(a[e]);
            return d
        },
        map: function(a,
            b, c) {
            var d = 0,
                e = a.length,
                h = [];
            if (k(a))
                for (; e > d; d++) {
                    var f = b(a[d], d, c);
                    null != f && h.push(f)
                } else
                    for (d in a) f = b(a[d], d, c), null != f && h.push(f);
            return sa.apply([], h)
        },
        guid: 1,
        proxy: function(a, b) {
            var c, d, e;
            return "string" == typeof b && (e = a[b], b = a, a = e), n.isFunction(a) ? (c = ja.call(arguments, 2), d = function() {
                return a.apply(b || this, c.concat(ja.call(arguments)))
            }, d.guid = a.guid = a.guid || n.guid++, d) : void 0
        },
        now: function() {
            return +new Date
        },
        support: L
    });
    n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
        function(a, b) {
            ua["[object " + b + "]"] = b.toLowerCase()
        });
    var na = function(a) {
        function b(a, b, c, d) {
            var e, h, f, l, g;
            if ((b ? b.ownerDocument || b : I) !== C && S(b), b = b || C, c = c || [], !a || "string" != typeof a) return c;
            if (1 !== (l = b.nodeType) && 9 !== l) return [];
            if (ia && !d) {
                if (e = Ia.exec(a))
                    if (f = e[1])
                        if (9 === l) {
                            if (h = b.getElementById(f), !h || !h.parentNode) return c;
                            if (h.id === f) return c.push(h), c
                        } else {
                            if (b.ownerDocument && (h = b.ownerDocument.getElementById(f)) && N(b, h) && h.id === f) return c.push(h), c
                        }
                else {
                    if (e[2]) return ma.apply(c, b.getElementsByTagName(a)),
                        c;
                    if ((f = e[3]) && da.getElementsByClassName && b.getElementsByClassName) return ma.apply(c, b.getElementsByClassName(f)), c
                }
                if (da.qsa && (!F || !F.test(a))) {
                    if (h = e = H, f = b, g = 9 === l && a, 1 === l && "object" !== b.nodeName.toLowerCase()) {
                        l = W(a);
                        (e = b.getAttribute("id")) ? h = e.replace(la, "\\$\x26"): b.setAttribute("id", h);
                        h = "[id\x3d'" + h + "'] ";
                        for (f = l.length; f--;) l[f] = h + k(l[f]);
                        f = Ca.test(a) && r(b.parentNode) || b;
                        g = l.join(",")
                    }
                    if (g) try {
                        return ma.apply(c, f.querySelectorAll(g)), c
                    } catch (tc) {} finally {
                        e || b.removeAttribute("id")
                    }
                }
            }
            return y(a.replace(D,
                "$1"), b, c, d)
        }

        function c() {
            function a(c, d) {
                return b.push(c + " ") > Z.cacheLength && delete a[b.shift()], a[c + " "] = d
            }
            var b = [];
            return a
        }

        function d(a) {
            return a[H] = !0, a
        }

        function e(a) {
            var b = C.createElement("div");
            try {
                return !!a(b)
            } catch (rc) {
                return !1
            } finally {
                b.parentNode && b.parentNode.removeChild(b)
            }
        }

        function h(a, b) {
            var c = a.split("|");
            for (a = a.length; a--;) Z.attrHandle[c[a]] = b
        }

        function f(a, b) {
            var c = b && a,
                d = c && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || -2147483648) - (~a.sourceIndex || -2147483648);
            if (d) return d;
            if (c)
                for (; c = c.nextSibling;)
                    if (c === b) return -1;
            return a ? 1 : -1
        }

        function l(a) {
            return function(b) {
                return "input" === b.nodeName.toLowerCase() && b.type === a
            }
        }

        function g(a) {
            return function(b) {
                var c = b.nodeName.toLowerCase();
                return ("input" === c || "button" === c) && b.type === a
            }
        }

        function m(a) {
            return d(function(b) {
                return b = +b, d(function(c, d) {
                    for (var e, h = a([], c.length, b), f = h.length; f--;) c[e = h[f]] && (c[e] = !(d[e] = c[e]))
                })
            })
        }

        function r(a) {
            return a && "undefined" !== typeof a.getElementsByTagName && a
        }

        function v() {}

        function k(a) {
            for (var b =
                    0, c = a.length, d = ""; c > b; b++) d += a[b].value;
            return d
        }

        function t(a, b, c) {
            var d = b.dir,
                e = c && "parentNode" === d,
                h = T++;
            return b.first ? function(b, c, h) {
                for (; b = b[d];)
                    if (1 === b.nodeType || e) return a(b, c, h)
            } : function(b, c, f) {
                var l, g, m = [G, h];
                if (f)
                    for (; b = b[d];) {
                        if ((1 === b.nodeType || e) && a(b, c, f)) return !0
                    } else
                        for (; b = b[d];)
                            if (1 === b.nodeType || e) {
                                if (g = b[H] || (b[H] = {}), (l = g[d]) && l[0] === G && l[1] === h) return m[2] = l[2];
                                if (g[d] = m, m[2] = a(b, c, f)) return !0
                            }
            }
        }

        function p(a) {
            return 1 < a.length ? function(b, c, d) {
                for (var e = a.length; e--;)
                    if (!a[e](b,
                            c, d)) return !1;
                return !0
            } : a[0]
        }

        function x(a, b, c, d, e) {
            for (var h, f = [], l = 0, g = a.length, m = null != b; g > l; l++)(h = a[l]) && (!c || c(h, d, e)) && (f.push(h), m && b.push(l));
            return f
        }

        function B(a, c, e, h, f, l) {
            return h && !h[H] && (h = B(h)), f && !f[H] && (f = B(f, l)), d(function(d, l, g, m) {
                var r, v = [],
                    k = [],
                    t = l.length,
                    p;
                if (!(p = d)) {
                    p = c || "*";
                    for (var B = g.nodeType ? [g] : g, z = [], u = 0, q = B.length; q > u; u++) b(p, B[u], z);
                    p = z
                }
                p = !a || !d && c ? p : x(p, v, a, g, m);
                B = e ? f || (d ? a : t || h) ? [] : l : p;
                if (e && e(p, B, g, m), h) {
                    var pa = x(B, k);
                    h(pa, [], g, m);
                    for (g = pa.length; g--;)(r = pa[g]) &&
                        (B[k[g]] = !(p[k[g]] = r))
                }
                if (d) {
                    if (f || a) {
                        if (f) {
                            pa = [];
                            for (g = B.length; g--;)(r = B[g]) && pa.push(p[g] = r);
                            f(null, B = [], pa, m)
                        }
                        for (g = B.length; g--;)(r = B[g]) && -1 < (pa = f ? qa.call(d, r) : v[g]) && (d[pa] = !(l[pa] = r))
                    }
                } else B = x(B === l ? B.splice(t, B.length) : B), f ? f(null, l, B, m) : ma.apply(l, B)
            })
        }

        function z(a) {
            var b, c, d = a.length,
                e = Z.relative[a[0].type];
            var h = e || Z.relative[" "];
            for (var f = e ? 1 : 0, l = t(function(a) {
                    return a === b
                }, h, !0), g = t(function(a) {
                    return -1 < qa.call(b, a)
                }, h, !0), m = [function(a, c, d) {
                    return !e && (d || c !== A) || ((b = c).nodeType ? l(a,
                        c, d) : g(a, c, d))
                }]; d > f; f++)
                if (h = Z.relative[a[f].type]) m = [t(p(m), h)];
                else {
                    if (h = Z.filter[a[f].type].apply(null, a[f].matches), h[H]) {
                        for (c = ++f; d > c && !Z.relative[a[c].type]; c++);
                        return B(1 < f && p(m), 1 < f && k(a.slice(0, f - 1).concat({
                            value: " " === a[f - 2].type ? "*" : ""
                        })).replace(D, "$1"), h, c > f && z(a.slice(f, c)), d > c && z(a = a.slice(c)), d > c && k(a))
                    }
                    m.push(h)
                } return p(m)
        }

        function u(a, c) {
            var e = 0 < c.length,
                h = 0 < a.length,
                f = function(d, f, l, g, m) {
                    var r, v, k, t = 0,
                        p = "0",
                        B = d && [],
                        z = [],
                        u = A,
                        q = d || h && Z.find.TAG("*", m),
                        pa = G += null == u ? 1 : Math.random() ||
                        .1,
                        y = q.length;
                    for (m && (A = f !== C && f); p !== y && null != (r = q[p]); p++) {
                        if (h && r) {
                            for (v = 0; k = a[v++];)
                                if (k(r, f, l)) {
                                    g.push(r);
                                    break
                                } m && (G = pa)
                        }
                        e && ((r = !k && r) && t--, d && B.push(r))
                    }
                    if (t += p, e && p !== t) {
                        for (v = 0; k = c[v++];) k(B, z, f, l);
                        if (d) {
                            if (0 < t)
                                for (; p--;) B[p] || z[p] || (z[p] = aa.call(g));
                            z = x(z)
                        }
                        ma.apply(g, z);
                        m && !d && 0 < z.length && 1 < t + c.length && b.uniqueSort(g)
                    }
                    return m && (G = pa, A = u), B
                };
            return e ? d(f) : f
        }
        var q, pa, y, A, w, E, C, n, ia, F, O, K, N, H = "sizzle" + -new Date,
            I = a.document,
            G = 0,
            T = 0,
            nb = c(),
            R = c(),
            M = c(),
            Q = function(a, b) {
                return a === b && (E = !0), 0
            },
            ja = {}.hasOwnProperty,
            J = [],
            aa = J.pop,
            V = J.push,
            ma = J.push,
            U = J.slice,
            qa = J.indexOf || function(a) {
                for (var b = 0, c = this.length; c > b; b++)
                    if (this[b] === a) return b;
                return -1
            },
            ea = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w", "w#"),
            sa = "\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + ea + "))|)[\\x20\\t\\r\\n\\f]*\\]",
            Sa = ":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" +
            sa + ")*)|.*)\\)|)",
            D = /^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,
            vb = /^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,
            Y = /^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,
            ba = /=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,
            ua = new RegExp(Sa),
            L = new RegExp("^" + ea + "$"),
            X = {
                ID: /^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,
                CLASS: /^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,
                TAG: new RegExp("^(" + "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w", "w*") + ")"),
                ATTR: new RegExp("^" + sa),
                PSEUDO: new RegExp("^" + Sa),
                CHILD: /^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
                bool: /^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,
                needsContext: /^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i
            },
            zb = /^(?:input|select|textarea|button)$/i,
            ca = /^h\d$/i,
            P = /^[^{]+\{\s*\[native \w/,
            Ia = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
            Ca = /[+~]/,
            la = /'|\\/g,
            na = /\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,
            ta = function(a, b, c) {
                a = "0x" + b - 65536;
                return a !== a || c ? b : 0 > a ? String.fromCharCode(a + 65536) : String.fromCharCode(a >> 10 | 55296, 1023 & a | 56320)
            };
        try {
            ma.apply(J = U.call(I.childNodes), I.childNodes), J[I.childNodes.length].nodeType
        } catch (qc) {
            ma = {
                apply: J.length ? function(a, b) {
                    V.apply(a, U.call(b))
                } : function(a, b) {
                    for (var c = a.length, d = 0; a[c++] = b[d++];);
                    a.length = c - 1
                }
            }
        }
        var da = b.support = {};
        var ob = b.isXML = function(a) {
            return (a = a && (a.ownerDocument || a).documentElement) ? "HTML" !== a.nodeName : !1
        };
        var S = b.setDocument = function(a) {
            var b, c = a ? a.ownerDocument || a : I;
            a = c.defaultView;
            return c !== C && 9 === c.nodeType && c.documentElement ? (C = c, n = c.documentElement, ia = !ob(c), a && a !== a.top && (a.addEventListener ? a.addEventListener("unload", function() {
                    S()
                }, !1) : a.attachEvent && a.attachEvent("onunload", function() {
                    S()
                })), da.attributes = e(function(a) {
                    return a.className = "i", !a.getAttribute("className")
                }), da.getElementsByTagName = e(function(a) {
                    return a.appendChild(c.createComment("")), !a.getElementsByTagName("*").length
                }), da.getElementsByClassName = P.test(c.getElementsByClassName) && e(function(a) {
                    return a.innerHTML =
                        "\x3cdiv class\x3d'a'\x3e\x3c/div\x3e\x3cdiv class\x3d'a i'\x3e\x3c/div\x3e", a.firstChild.className = "i", 2 === a.getElementsByClassName("i").length
                }), da.getById = e(function(a) {
                    return n.appendChild(a).id = H, !c.getElementsByName || !c.getElementsByName(H).length
                }), da.getById ? (Z.find.ID = function(a, b) {
                    if ("undefined" !== typeof b.getElementById && ia) return (a = b.getElementById(a)) && a.parentNode ? [a] : []
                }, Z.filter.ID = function(a) {
                    var b = a.replace(na, ta);
                    return function(a) {
                        return a.getAttribute("id") === b
                    }
                }) : (delete Z.find.ID,
                    Z.filter.ID = function(a) {
                        var b = a.replace(na, ta);
                        return function(a) {
                            return (a = "undefined" !== typeof a.getAttributeNode && a.getAttributeNode("id")) && a.value === b
                        }
                    }), Z.find.TAG = da.getElementsByTagName ? function(a, b) {
                    return "undefined" !== typeof b.getElementsByTagName ? b.getElementsByTagName(a) : void 0
                } : function(a, b) {
                    var c = [],
                        d = 0;
                    b = b.getElementsByTagName(a);
                    if ("*" === a) {
                        for (; a = b[d++];) 1 === a.nodeType && c.push(a);
                        return c
                    }
                    return b
                }, Z.find.CLASS = da.getElementsByClassName && function(a, b) {
                    return "undefined" !== typeof b.getElementsByClassName &&
                        ia ? b.getElementsByClassName(a) : void 0
                }, O = [], F = [], (da.qsa = P.test(c.querySelectorAll)) && (e(function(a) {
                    a.innerHTML = "\x3cselect msallowclip\x3d''\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";
                    a.querySelectorAll("[msallowclip^\x3d'']").length && F.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:''|\"\")");
                    a.querySelectorAll("[selected]").length || F.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
                    a.querySelectorAll(":checked").length || F.push(":checked")
                }), e(function(a) {
                    var b = c.createElement("input");
                    b.setAttribute("type", "hidden");
                    a.appendChild(b).setAttribute("name", "D");
                    a.querySelectorAll("[name\x3dd]").length && F.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?\x3d");
                    a.querySelectorAll(":enabled").length || F.push(":enabled", ":disabled");
                    a.querySelectorAll("*,:x");
                    F.push(",.*:")
                })), (da.matchesSelector = P.test(K = n.matches || n.webkitMatchesSelector || n.mozMatchesSelector || n.oMatchesSelector || n.msMatchesSelector)) &&
                e(function(a) {
                    da.disconnectedMatch = K.call(a, "div");
                    K.call(a, "[s!\x3d'']:x");
                    O.push("!\x3d", Sa)
                }), F = F.length && new RegExp(F.join("|")), O = O.length && new RegExp(O.join("|")), b = P.test(n.compareDocumentPosition), N = b || P.test(n.contains) ? function(a, b) {
                    var c = 9 === a.nodeType ? a.documentElement : a;
                    b = b && b.parentNode;
                    return a === b || !(!b || 1 !== b.nodeType || !(c.contains ? c.contains(b) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(b)))
                } : function(a, b) {
                    if (b)
                        for (; b = b.parentNode;)
                            if (b === a) return !0;
                    return !1
                }, Q = b ? function(a,
                    b) {
                    if (a === b) return E = !0, 0;
                    var d = !a.compareDocumentPosition - !b.compareDocumentPosition;
                    return d ? d : (d = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1, 1 & d || !da.sortDetached && b.compareDocumentPosition(a) === d ? a === c || a.ownerDocument === I && N(I, a) ? -1 : b === c || b.ownerDocument === I && N(I, b) ? 1 : w ? qa.call(w, a) - qa.call(w, b) : 0 : 4 & d ? -1 : 1)
                } : function(a, b) {
                    if (a === b) return E = !0, 0;
                    var d = 0,
                        e = a.parentNode,
                        h = b.parentNode,
                        l = [a],
                        g = [b];
                    if (!e || !h) return a === c ? -1 : b === c ? 1 : e ? -1 : h ? 1 : w ? qa.call(w, a) - qa.call(w,
                        b) : 0;
                    if (e === h) return f(a, b);
                    for (; a = a.parentNode;) l.unshift(a);
                    for (a = b; a = a.parentNode;) g.unshift(a);
                    for (; l[d] === g[d];) d++;
                    return d ? f(l[d], g[d]) : l[d] === I ? -1 : g[d] === I ? 1 : 0
                }, c) : C
        };
        b.matches = function(a, c) {
            return b(a, null, null, c)
        };
        b.matchesSelector = function(a, c) {
            if ((a.ownerDocument || a) !== C && S(a), c = c.replace(ba, "\x3d'$1']"), !(!da.matchesSelector || !ia || O && O.test(c) || F && F.test(c))) try {
                var d = K.call(a, c);
                if (d || da.disconnectedMatch || a.document && 11 !== a.document.nodeType) return d
            } catch (sc) {}
            return 0 < b(c, C, null,
                [a]).length
        };
        b.contains = function(a, b) {
            return (a.ownerDocument || a) !== C && S(a), N(a, b)
        };
        b.attr = function(a, b) {
            (a.ownerDocument || a) !== C && S(a);
            var c = Z.attrHandle[b.toLowerCase()];
            c = c && ja.call(Z.attrHandle, b.toLowerCase()) ? c(a, b, !ia) : void 0;
            return void 0 !== c ? c : da.attributes || !ia ? a.getAttribute(b) : (c = a.getAttributeNode(b)) && c.specified ? c.value : null
        };
        b.error = function(a) {
            throw Error("Syntax error, unrecognized expression: " + a);
        };
        b.uniqueSort = function(a) {
            var b, c = [],
                d = 0,
                e = 0;
            if (E = !da.detectDuplicates, w = !da.sortStable &&
                a.slice(0), a.sort(Q), E) {
                for (; b = a[e++];) b === a[e] && (d = c.push(e));
                for (; d--;) a.splice(c[d], 1)
            }
            return w = null, a
        };
        var db = b.getText = function(a) {
            var b, c = "",
                d = 0;
            if (b = a.nodeType)
                if (1 === b || 9 === b || 11 === b) {
                    if ("string" == typeof a.textContent) return a.textContent;
                    for (a = a.firstChild; a; a = a.nextSibling) c += db(a)
                } else {
                    if (3 === b || 4 === b) return a.nodeValue
                }
            else
                for (; b = a[d++];) c += db(b);
            return c
        };
        var Z = b.selectors = {
            cacheLength: 50,
            createPseudo: d,
            match: X,
            attrHandle: {},
            find: {},
            relative: {
                "\x3e": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(a) {
                    return a[1] = a[1].replace(na, ta), a[3] = (a[3] || a[4] || a[5] || "").replace(na, ta), "~\x3d" === a[2] && (a[3] = " " + a[3] + " "), a.slice(0, 4)
                },
                CHILD: function(a) {
                    return a[1] = a[1].toLowerCase(), "nth" === a[1].slice(0, 3) ? (a[3] || b.error(a[0]), a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])), a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && b.error(a[0]), a
                },
                PSEUDO: function(a) {
                    var b, c = !a[6] && a[2];
                    return X.CHILD.test(a[0]) ? null : (a[3] ?
                        a[2] = a[4] || a[5] || "" : c && ua.test(c) && (b = W(c, !0)) && (b = c.indexOf(")", c.length - b) - c.length) && (a[0] = a[0].slice(0, b), a[2] = c.slice(0, b)), a.slice(0, 3))
                }
            },
            filter: {
                TAG: function(a) {
                    var b = a.replace(na, ta).toLowerCase();
                    return "*" === a ? function() {
                        return !0
                    } : function(a) {
                        return a.nodeName && a.nodeName.toLowerCase() === b
                    }
                },
                CLASS: function(a) {
                    var b = nb[a + " "];
                    return b || (b = new RegExp("(^|[\\x20\\t\\r\\n\\f])" + a + "([\\x20\\t\\r\\n\\f]|$)"), nb(a, function(a) {
                        return b.test("string" == typeof a.className && a.className || "undefined" !==
                            typeof a.getAttribute && a.getAttribute("class") || "")
                    }))
                },
                ATTR: function(a, c, d) {
                    return function(e) {
                        e = b.attr(e, a);
                        return null == e ? "!\x3d" === c : c ? (e += "", "\x3d" === c ? e === d : "!\x3d" === c ? e !== d : "^\x3d" === c ? d && 0 === e.indexOf(d) : "*\x3d" === c ? d && -1 < e.indexOf(d) : "$\x3d" === c ? d && e.slice(-d.length) === d : "~\x3d" === c ? -1 < (" " + e + " ").indexOf(d) : "|\x3d" === c ? e === d || e.slice(0, d.length + 1) === d + "-" : !1) : !0
                    }
                },
                CHILD: function(a, b, c, d, e) {
                    var h = "nth" !== a.slice(0, 3),
                        f = "last" !== a.slice(-4),
                        l = "of-type" === b;
                    return 1 === d && 0 === e ? function(a) {
                            return !!a.parentNode
                        } :
                        function(b, c, g) {
                            var m;
                            c = h !== f ? "nextSibling" : "previousSibling";
                            var r = b.parentNode,
                                v = l && b.nodeName.toLowerCase();
                            g = !g && !l;
                            if (r) {
                                if (h) {
                                    for (; c;) {
                                        for (m = b; m = m[c];)
                                            if (l ? m.nodeName.toLowerCase() === v : 1 === m.nodeType) return !1;
                                        var k = c = "only" === a && !k && "nextSibling"
                                    }
                                    return !0
                                }
                                if (k = [f ? r.firstChild : r.lastChild], f && g) {
                                    g = r[H] || (r[H] = {});
                                    var t = g[a] || [];
                                    var p = t[0] === G && t[1];
                                    var x = t[0] === G && t[2];
                                    for (m = p && r.childNodes[p]; m = ++p && m && m[c] || (x = p = 0) || k.pop();)
                                        if (1 === m.nodeType && ++x && m === b) {
                                            g[a] = [G, p, x];
                                            break
                                        }
                                } else if (g && (t =
                                        (b[H] || (b[H] = {}))[a]) && t[0] === G) x = t[1];
                                else
                                    for (;
                                        (m = ++p && m && m[c] || (x = p = 0) || k.pop()) && ((l ? m.nodeName.toLowerCase() !== v : 1 !== m.nodeType) || !++x || (g && ((m[H] || (m[H] = {}))[a] = [G, x]), m !== b)););
                                return x -= e, x === d || 0 === x % d && 0 <= x / d
                            }
                        }
                },
                PSEUDO: function(a, c) {
                    var e, h = Z.pseudos[a] || Z.setFilters[a.toLowerCase()] || b.error("unsupported pseudo: " + a);
                    return h[H] ? h(c) : 1 < h.length ? (e = [a, a, "", c], Z.setFilters.hasOwnProperty(a.toLowerCase()) ? d(function(a, b) {
                            for (var d, e = h(a, c), f = e.length; f--;) d = qa.call(a, e[f]), a[d] = !(b[d] = e[f])
                        }) :
                        function(a) {
                            return h(a, 0, e)
                        }) : h
                }
            },
            pseudos: {
                not: d(function(a) {
                    var b = [],
                        c = [],
                        e = pa(a.replace(D, "$1"));
                    return e[H] ? d(function(a, b, c, d) {
                        var h;
                        c = e(a, null, d, []);
                        for (d = a.length; d--;)(h = c[d]) && (a[d] = !(b[d] = h))
                    }) : function(a, d, h) {
                        return b[0] = a, e(b, null, h, c), !c.pop()
                    }
                }),
                has: d(function(a) {
                    return function(c) {
                        return 0 < b(a, c).length
                    }
                }),
                contains: d(function(a) {
                    return function(b) {
                        return -1 < (b.textContent || b.innerText || db(b)).indexOf(a)
                    }
                }),
                lang: d(function(a) {
                    return L.test(a || "") || b.error("unsupported lang: " + a), a = a.replace(na,
                            ta).toLowerCase(),
                        function(b) {
                            var c;
                            do
                                if (c = ia ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang")) return c = c.toLowerCase(), c === a || 0 === c.indexOf(a + "-"); while ((b = b.parentNode) && 1 === b.nodeType);
                            return !1
                        }
                }),
                target: function(b) {
                    var c = a.location && a.location.hash;
                    return c && c.slice(1) === b.id
                },
                root: function(a) {
                    return a === n
                },
                focus: function(a) {
                    return a === C.activeElement && (!C.hasFocus || C.hasFocus()) && !!(a.type || a.href || ~a.tabIndex)
                },
                enabled: function(a) {
                    return !1 === a.disabled
                },
                disabled: function(a) {
                    return !0 ===
                        a.disabled
                },
                checked: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && !!a.checked || "option" === b && !!a.selected
                },
                selected: function(a) {
                    return a.parentNode && a.parentNode.selectedIndex, !0 === a.selected
                },
                empty: function(a) {
                    for (a = a.firstChild; a; a = a.nextSibling)
                        if (6 > a.nodeType) return !1;
                    return !0
                },
                parent: function(a) {
                    return !Z.pseudos.empty(a)
                },
                header: function(a) {
                    return ca.test(a.nodeName)
                },
                input: function(a) {
                    return zb.test(a.nodeName)
                },
                button: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" ===
                        b && "button" === a.type || "button" === b
                },
                text: function(a) {
                    var b;
                    return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (b = a.getAttribute("type")) || "text" === b.toLowerCase())
                },
                first: m(function() {
                    return [0]
                }),
                last: m(function(a, b) {
                    return [b - 1]
                }),
                eq: m(function(a, b, c) {
                    return [0 > c ? c + b : c]
                }),
                even: m(function(a, b) {
                    for (var c = 0; b > c; c += 2) a.push(c);
                    return a
                }),
                odd: m(function(a, b) {
                    for (var c = 1; b > c; c += 2) a.push(c);
                    return a
                }),
                lt: m(function(a, b, c) {
                    for (b = 0 > c ? c + b : c; 0 <= --b;) a.push(b);
                    return a
                }),
                gt: m(function(a, b, c) {
                    for (c =
                        0 > c ? c + b : c; ++c < b;) a.push(c);
                    return a
                })
            }
        };
        Z.pseudos.nth = Z.pseudos.eq;
        for (q in {
                radio: !0,
                checkbox: !0,
                file: !0,
                password: !0,
                image: !0
            }) Z.pseudos[q] = l(q);
        for (q in {
                submit: !0,
                reset: !0
            }) Z.pseudos[q] = g(q);
        v.prototype = Z.filters = Z.pseudos;
        Z.setFilters = new v;
        var W = b.tokenize = function(a, c) {
            var d, e, h, f, l;
            if (f = R[a + " "]) return c ? 0 : f.slice(0);
            f = a;
            var g = [];
            for (l = Z.preFilter; f;) {
                m && !(d = vb.exec(f)) || (d && (f = f.slice(d[0].length) || f), g.push(e = []));
                var m = !1;
                (d = Y.exec(f)) && (m = d.shift(), e.push({
                        value: m,
                        type: d[0].replace(D, " ")
                    }),
                    f = f.slice(m.length));
                for (h in Z.filter) !(d = X[h].exec(f)) || l[h] && !(d = l[h](d)) || (m = d.shift(), e.push({
                    value: m,
                    type: h,
                    matches: d
                }), f = f.slice(m.length));
                if (!m) break
            }
            return c ? f.length : f ? b.error(a) : R(a, g).slice(0)
        };
        return pa = b.compile = function(a, b) {
            var c, d = [],
                e = [],
                h = M[a + " "];
            if (!h) {
                b || (b = W(a));
                for (c = b.length; c--;) h = z(b[c]), h[H] ? d.push(h) : e.push(h);
                h = M(a, u(e, d));
                h.selector = a
            }
            return h
        }, y = b.select = function(a, b, c, d) {
            var e, h, f, l, g, m = "function" == typeof a && a,
                v = !d && W(a = m.selector || a);
            if (c = c || [], 1 === v.length) {
                if (h =
                    v[0] = v[0].slice(0), 2 < h.length && "ID" === (f = h[0]).type && da.getById && 9 === b.nodeType && ia && Z.relative[h[1].type]) {
                    if (b = (Z.find.ID(f.matches[0].replace(na, ta), b) || [])[0], !b) return c;
                    m && (b = b.parentNode);
                    a = a.slice(h.shift().value.length)
                }
                for (e = X.needsContext.test(a) ? 0 : h.length; e-- && (f = h[e], !Z.relative[l = f.type]);)
                    if ((g = Z.find[l]) && (d = g(f.matches[0].replace(na, ta), Ca.test(h[0].type) && r(b.parentNode) || b))) {
                        if (h.splice(e, 1), a = d.length && k(h), !a) return ma.apply(c, d), c;
                        break
                    }
            }
            return (m || pa(a, v))(d, b, !ia, c, Ca.test(a) &&
                r(b.parentNode) || b), c
        }, da.sortStable = H.split("").sort(Q).join("") === H, da.detectDuplicates = !!E, S(), da.sortDetached = e(function(a) {
            return 1 & a.compareDocumentPosition(C.createElement("div"))
        }), e(function(a) {
            return a.innerHTML = "\x3ca href\x3d'#'\x3e\x3c/a\x3e", "#" === a.firstChild.getAttribute("href")
        }) || h("type|href|height|width", function(a, b, c) {
            return c ? void 0 : a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2)
        }), da.attributes && e(function(a) {
            return a.innerHTML = "\x3cinput/\x3e", a.firstChild.setAttribute("value",
                ""), "" === a.firstChild.getAttribute("value")
        }) || h("value", function(a, b, c) {
            return c || "input" !== a.nodeName.toLowerCase() ? void 0 : a.defaultValue
        }), e(function(a) {
            return null == a.getAttribute("disabled")
        }) || h("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", function(a, b, c) {
            var d;
            return c ? void 0 : !0 === a[b] ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null
        }), b
    }(b);
    n.find = na;
    n.expr = na.selectors;
    n.expr[":"] = n.expr.pseudos;
    n.unique = na.uniqueSort;
    n.text = na.getText;
    n.isXMLDoc = na.isXML;
    n.contains = na.contains;
    var X = n.expr.match.needsContext,
        D = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
        xa = /^.[^:#\[\.,]*$/;
    n.filter = function(a, b, c) {
        var d = b[0];
        return c && (a = ":not(" + a + ")"), 1 === b.length && 1 === d.nodeType ? n.find.matchesSelector(d, a) ? [d] : [] : n.find.matches(a, n.grep(b, function(a) {
            return 1 === a.nodeType
        }))
    };
    n.fn.extend({
        find: function(a) {
            var b, c = [],
                d = this,
                e = d.length;
            if ("string" != typeof a) return this.pushStack(n(a).filter(function() {
                for (b = 0; e > b; b++)
                    if (n.contains(d[b],
                            this)) return !0
            }));
            for (b = 0; e > b; b++) n.find(a, d[b], c);
            return c = this.pushStack(1 < e ? n.unique(c) : c), c.selector = this.selector ? this.selector + " " + a : a, c
        },
        filter: function(a) {
            return this.pushStack(g(this, a || [], !1))
        },
        not: function(a) {
            return this.pushStack(g(this, a || [], !0))
        },
        is: function(a) {
            return !!g(this, "string" == typeof a && X.test(a) ? n(a) : a || [], !1).length
        }
    });
    var P = b.document,
        ka = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;
    (n.fn.init = function(a, b) {
        var c, d;
        if (!a) return this;
        if ("string" == typeof a) {
            if (c = "\x3c" === a.charAt(0) &&
                "\x3e" === a.charAt(a.length - 1) && 3 <= a.length ? [null, a, null] : ka.exec(a), !c || !c[1] && b) return !b || b.jquery ? (b || fa).find(a) : this.constructor(b).find(a);
            if (c[1]) {
                if (b = b instanceof n ? b[0] : b, n.merge(this, n.parseHTML(c[1], b && b.nodeType ? b.ownerDocument || b : P, !0)), D.test(c[1]) && n.isPlainObject(b))
                    for (c in b) n.isFunction(this[c]) ? this[c](b[c]) : this.attr(c, b[c]);
                return this
            }
            if (d = P.getElementById(c[2]), d && d.parentNode) {
                if (d.id !== c[2]) return fa.find(a);
                this.length = 1;
                this[0] = d
            }
            return this.context = P, this.selector = a, this
        }
        return a.nodeType ?
            (this.context = this[0] = a, this.length = 1, this) : n.isFunction(a) ? "undefined" != typeof fa.ready ? fa.ready(a) : a(n) : (void 0 !== a.selector && (this.selector = a.selector, this.context = a.context), n.makeArray(a, this))
    }).prototype = n.fn;
    var fa = n(P);
    var ha = /^(?:parents|prev(?:Until|All))/,
        va = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
    n.extend({
        dir: function(a, b, c) {
            var d = [];
            for (a = a[b]; a && 9 !== a.nodeType && (void 0 === c || 1 !== a.nodeType || !n(a).is(c));) 1 === a.nodeType && d.push(a), a = a[b];
            return d
        },
        sibling: function(a, b) {
            for (var c = []; a; a =
                a.nextSibling) 1 === a.nodeType && a !== b && c.push(a);
            return c
        }
    });
    n.fn.extend({
        has: function(a) {
            var b, c = n(a, this),
                d = c.length;
            return this.filter(function() {
                for (b = 0; d > b; b++)
                    if (n.contains(this, c[b])) return !0
            })
        },
        closest: function(a, b) {
            for (var c, d = 0, e = this.length, h = [], f = X.test(a) || "string" != typeof a ? n(a, b || this.context) : 0; e > d; d++)
                for (c = this[d]; c && c !== b; c = c.parentNode)
                    if (11 > c.nodeType && (f ? -1 < f.index(c) : 1 === c.nodeType && n.find.matchesSelector(c, a))) {
                        h.push(c);
                        break
                    } return this.pushStack(1 < h.length ? n.unique(h) : h)
        },
        index: function(a) {
            return a ? "string" == typeof a ? n.inArray(this[0], n(a)) : n.inArray(a.jquery ? a[0] : a, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        },
        add: function(a, b) {
            return this.pushStack(n.unique(n.merge(this.get(), n(a, b))))
        },
        addBack: function(a) {
            return this.add(null == a ? this.prevObject : this.prevObject.filter(a))
        }
    });
    n.each({
        parent: function(a) {
            return (a = a.parentNode) && 11 !== a.nodeType ? a : null
        },
        parents: function(a) {
            return n.dir(a, "parentNode")
        },
        parentsUntil: function(a, b, c) {
            return n.dir(a,
                "parentNode", c)
        },
        next: function(a) {
            return c(a, "nextSibling")
        },
        prev: function(a) {
            return c(a, "previousSibling")
        },
        nextAll: function(a) {
            return n.dir(a, "nextSibling")
        },
        prevAll: function(a) {
            return n.dir(a, "previousSibling")
        },
        nextUntil: function(a, b, c) {
            return n.dir(a, "nextSibling", c)
        },
        prevUntil: function(a, b, c) {
            return n.dir(a, "previousSibling", c)
        },
        siblings: function(a) {
            return n.sibling((a.parentNode || {}).firstChild, a)
        },
        children: function(a) {
            return n.sibling(a.firstChild)
        },
        contents: function(a) {
            return n.nodeName(a,
                "iframe") ? a.contentDocument || a.contentWindow.document : n.merge([], a.childNodes)
        }
    }, function(a, b) {
        n.fn[a] = function(c, d) {
            var e = n.map(this, b, c);
            return "Until" !== a.slice(-5) && (d = c), d && "string" == typeof d && (e = n.filter(d, e)), 1 < this.length && (va[a] || (e = n.unique(e)), ha.test(a) && (e = e.reverse())), this.pushStack(e)
        }
    });
    var oa = /\S+/g,
        S = {};
    n.Callbacks = function(b) {
        b = "string" == typeof b ? S[b] || a(b) : n.extend({}, b);
        var c, d, e, h, f, l, g = [],
            m = !b.once && [],
            r = function(a) {
                d = b.memory && a;
                e = !0;
                f = l || 0;
                l = 0;
                h = g.length;
                for (c = !0; g && h > f; f++)
                    if (!1 ===
                        g[f].apply(a[0], a[1]) && b.stopOnFalse) {
                        d = !1;
                        break
                    } c = !1;
                g && (m ? m.length && r(m.shift()) : d ? g = [] : v.disable())
            },
            v = {
                add: function() {
                    if (g) {
                        var a = g.length;
                        ! function Vb(a) {
                            n.each(a, function(a, c) {
                                a = n.type(c);
                                "function" === a ? b.unique && v.has(c) || g.push(c) : c && c.length && "string" !== a && Vb(c)
                            })
                        }(arguments);
                        c ? h = g.length : d && (l = a, r(d))
                    }
                    return this
                },
                remove: function() {
                    return g && n.each(arguments, function(a, b) {
                        for (var d; - 1 < (d = n.inArray(b, g, d));) g.splice(d, 1), c && (h >= d && h--, f >= d && f--)
                    }), this
                },
                has: function(a) {
                    return a ? -1 < n.inArray(a,
                        g) : !(!g || !g.length)
                },
                empty: function() {
                    return g = [], h = 0, this
                },
                disable: function() {
                    return g = m = d = void 0, this
                },
                disabled: function() {
                    return !g
                },
                lock: function() {
                    return m = void 0, d || v.disable(), this
                },
                locked: function() {
                    return !m
                },
                fireWith: function(a, b) {
                    return !g || e && !m || (b = b || [], b = [a, b.slice ? b.slice() : b], c ? m.push(b) : r(b)), this
                },
                fire: function() {
                    return v.fireWith(this, arguments), this
                },
                fired: function() {
                    return !!e
                }
            };
        return v
    };
    n.extend({
        Deferred: function(a) {
            var b = [
                    ["resolve", "done", n.Callbacks("once memory"), "resolved"],
                    ["reject", "fail", n.Callbacks("once memory"), "rejected"],
                    ["notify", "progress", n.Callbacks("memory")]
                ],
                c = "pending",
                d = {
                    state: function() {
                        return c
                    },
                    always: function() {
                        return e.done(arguments).fail(arguments), this
                    },
                    then: function() {
                        var a = arguments;
                        return n.Deferred(function(c) {
                            n.each(b, function(b, h) {
                                var f = n.isFunction(a[b]) && a[b];
                                e[h[1]](function() {
                                    var a = f && f.apply(this, arguments);
                                    a && n.isFunction(a.promise) ? a.promise().done(c.resolve).fail(c.reject).progress(c.notify) : c[h[0] + "With"](this === d ? c.promise() :
                                        this, f ? [a] : arguments)
                                })
                            });
                            a = null
                        }).promise()
                    },
                    promise: function(a) {
                        return null != a ? n.extend(a, d) : d
                    }
                },
                e = {};
            return d.pipe = d.then, n.each(b, function(a, h) {
                var f = h[2],
                    g = h[3];
                d[h[1]] = f.add;
                g && f.add(function() {
                    c = g
                }, b[1 ^ a][2].disable, b[2][2].lock);
                e[h[0]] = function() {
                    return e[h[0] + "With"](this === e ? d : this, arguments), this
                };
                e[h[0] + "With"] = f.fireWith
            }), d.promise(e), a && a.call(e, e), e
        },
        when: function(a) {
            var b = 0,
                c = ja.call(arguments),
                d = c.length,
                e = 1 !== d || a && n.isFunction(a.promise) ? d : 0,
                h = 1 === e ? a : n.Deferred(),
                f = function(a,
                    b, c) {
                    return function(d) {
                        b[a] = this;
                        c[a] = 1 < arguments.length ? ja.call(arguments) : d;
                        c === l ? h.notifyWith(b, c) : --e || h.resolveWith(b, c)
                    }
                },
                g;
            if (1 < d) {
                var l = Array(d);
                var m = Array(d);
                for (g = Array(d); d > b; b++) c[b] && n.isFunction(c[b].promise) ? c[b].promise().done(f(b, g, c)).fail(h.reject).progress(f(b, m, l)) : --e
            }
            return e || h.resolveWith(g, c), h.promise()
        }
    });
    var ya;
    n.fn.ready = function(a) {
        return n.ready.promise().done(a), this
    };
    n.extend({
        isReady: !1,
        readyWait: 1,
        holdReady: function(a) {
            a ? n.readyWait++ : n.ready(!0)
        },
        ready: function(a) {
            if (!0 ===
                a ? !--n.readyWait : !n.isReady) {
                if (!P.body) return setTimeout(n.ready);
                n.isReady = !0;
                !0 !== a && 0 < --n.readyWait || (ya.resolveWith(P, [n]), n.fn.triggerHandler && (n(P).triggerHandler("ready"), n(P).off("ready")))
            }
        }
    });
    n.ready.promise = function(a) {
        if (!ya)
            if (ya = n.Deferred(), "complete" === P.readyState) setTimeout(n.ready);
            else if (P.addEventListener) P.addEventListener("DOMContentLoaded", e, !1), b.addEventListener("load", e, !1);
        else {
            P.attachEvent("onreadystatechange", e);
            b.attachEvent("onload", e);
            var c = !1;
            try {
                c = null == b.frameElement &&
                    P.documentElement
            } catch (Rb) {}
            c && c.doScroll && ! function ub() {
                if (!n.isReady) {
                    try {
                        c.doScroll("left")
                    } catch (Sb) {
                        return setTimeout(ub, 50)
                    }
                    d();
                    n.ready()
                }
            }()
        }
        return ya.promise(a)
    };
    for (var Ea in n(L)) break;
    L.ownLast = "0" !== Ea;
    L.inlineBlockNeedsLayout = !1;
    n(function() {
        var a, b, c, d;
        (c = P.getElementsByTagName("body")[0]) && c.style && (b = P.createElement("div"), d = P.createElement("div"), d.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px", c.appendChild(d).appendChild(b), "undefined" !== typeof b.style.zoom &&
            (b.style.cssText = "display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1", L.inlineBlockNeedsLayout = a = 3 === b.offsetWidth, a && (c.style.zoom = 1)), c.removeChild(d))
    });
    (function() {
        var a = P.createElement("div");
        if (null == L.deleteExpando) {
            L.deleteExpando = !0;
            try {
                delete a.test
            } catch (Fb) {
                L.deleteExpando = !1
            }
        }
    })();
    n.acceptData = function(a) {
        var b = n.noData[(a.nodeName + " ").toLowerCase()],
            c = +a.nodeType || 1;
        return 1 !== c && 9 !== c ? !1 : !b || !0 !== b && a.getAttribute("classid") === b
    };
    var W = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
        Ka =
        /([A-Z])/g;
    n.extend({
        cache: {},
        noData: {
            "applet ": !0,
            "embed ": !0,
            "object ": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
        },
        hasData: function(a) {
            return a = a.nodeType ? n.cache[a[n.expando]] : a[n.expando], !!a && !m(a)
        },
        data: function(a, b, c) {
            return p(a, b, c)
        },
        removeData: function(a, b) {
            return q(a, b)
        },
        _data: function(a, b, c) {
            return p(a, b, c, !0)
        },
        _removeData: function(a, b) {
            return q(a, b, !0)
        }
    });
    n.fn.extend({
        data: function(a, b) {
            var c, d, e, f = this[0],
                g = f && f.attributes;
            if (void 0 === a) {
                if (this.length && (e = n.data(f), 1 === f.nodeType &&
                        !n._data(f, "parsedAttrs"))) {
                    for (c = g.length; c--;) g[c] && (d = g[c].name, 0 === d.indexOf("data-") && (d = n.camelCase(d.slice(5)), h(f, d, e[d])));
                    n._data(f, "parsedAttrs", !0)
                }
                return e
            }
            return "object" == typeof a ? this.each(function() {
                n.data(this, a)
            }) : 1 < arguments.length ? this.each(function() {
                n.data(this, a, b)
            }) : f ? h(f, a, n.data(f, a)) : void 0
        },
        removeData: function(a) {
            return this.each(function() {
                n.removeData(this, a)
            })
        }
    });
    n.extend({
        queue: function(a, b, c) {
            var d;
            return a ? (b = (b || "fx") + "queue", d = n._data(a, b), c && (!d || n.isArray(c) ?
                d = n._data(a, b, n.makeArray(c)) : d.push(c)), d || []) : void 0
        },
        dequeue: function(a, b) {
            b = b || "fx";
            var c = n.queue(a, b),
                d = c.length,
                e = c.shift(),
                h = n._queueHooks(a, b),
                f = function() {
                    n.dequeue(a, b)
                };
            "inprogress" === e && (e = c.shift(), d--);
            e && ("fx" === b && c.unshift("inprogress"), delete h.stop, e.call(a, f, h));
            !d && h && h.empty.fire()
        },
        _queueHooks: function(a, b) {
            var c = b + "queueHooks";
            return n._data(a, c) || n._data(a, c, {
                empty: n.Callbacks("once memory").add(function() {
                    n._removeData(a, b + "queue");
                    n._removeData(a, c)
                })
            })
        }
    });
    n.fn.extend({
        queue: function(a,
            b) {
            var c = 2;
            return "string" != typeof a && (b = a, a = "fx", c--), arguments.length < c ? n.queue(this[0], a) : void 0 === b ? this : this.each(function() {
                var c = n.queue(this, a, b);
                n._queueHooks(this, a);
                "fx" === a && "inprogress" !== c[0] && n.dequeue(this, a)
            })
        },
        dequeue: function(a) {
            return this.each(function() {
                n.dequeue(this, a)
            })
        },
        clearQueue: function(a) {
            return this.queue(a || "fx", [])
        },
        promise: function(a, b) {
            var c, d = 1,
                e = n.Deferred(),
                h = this,
                f = this.length,
                g = function() {
                    --d || e.resolveWith(h, [h])
                };
            "string" != typeof a && (b = a, a = void 0);
            for (a = a ||
                "fx"; f--;)(c = n._data(h[f], a + "queueHooks")) && c.empty && (d++, c.empty.add(g));
            return g(), e.promise(b)
        }
    });
    var Ca = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
        da = ["Top", "Right", "Bottom", "Left"],
        ta = function(a, b) {
            return a = b || a, "none" === n.css(a, "display") || !n.contains(a.ownerDocument, a)
        },
        Z = n.access = function(a, b, c, d, e, h, f) {
            var g = 0,
                l = a.length,
                m = null == c;
            if ("object" === n.type(c))
                for (g in e = !0, c) n.access(a, b, g, c[g], !0, h, f);
            else if (void 0 !== d && (e = !0, n.isFunction(d) || (f = !0), m && (f ? (b.call(a, d), b = null) : (m = b, b = function(a,
                    b, c) {
                    return m.call(n(a), c)
                })), b))
                for (; l > g; g++) b(a[g], c, f ? d : d.call(a[g], g, b(a[g], c)));
            return e ? a : m ? b.call(a) : l ? b(a[0], c) : h
        },
        Va = /^(?:checkbox|radio)$/i;
    ! function() {
        var a = P.createElement("input"),
            b = P.createElement("div"),
            c = P.createDocumentFragment();
        if (b.innerHTML = "  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e", L.leadingWhitespace = 3 === b.firstChild.nodeType, L.tbody = !b.getElementsByTagName("tbody").length, L.htmlSerialize = !!b.getElementsByTagName("link").length,
            L.html5Clone = "\x3c:nav\x3e\x3c/:nav\x3e" !== P.createElement("nav").cloneNode(!0).outerHTML, a.type = "checkbox", a.checked = !0, c.appendChild(a), L.appendChecked = a.checked, b.innerHTML = "\x3ctextarea\x3ex\x3c/textarea\x3e", L.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue, c.appendChild(b), b.innerHTML = "\x3cinput type\x3d'radio' checked\x3d'checked' name\x3d't'/\x3e", L.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked, L.noCloneEvent = !0, b.attachEvent && (b.attachEvent("onclick", function() {
                L.noCloneEvent = !1
            }), b.cloneNode(!0).click()), null == L.deleteExpando) {
            L.deleteExpando = !0;
            try {
                delete b.test
            } catch (ub) {
                L.deleteExpando = !1
            }
        }
    }();
    (function() {
        var a, c = P.createElement("div");
        for (a in {
                submit: !0,
                change: !0,
                focusin: !0
            }) {
            var d = "on" + a;
            (L[a + "Bubbles"] = d in b) || (c.setAttribute(d, "t"), L[a + "Bubbles"] = !1 === c.attributes[d].expando)
        }
    })();
    var La = /^(?:input|select|textarea)$/i,
        tb = /^key/,
        Wa = /^(?:mouse|pointer|contextmenu)|click/,
        eb = /^(?:focusinfocus|focusoutblur)$/,
        fb = /^([^.]*)(?:\.(.+)|)$/;
    n.event = {
        global: {},
        add: function(a,
            b, c, d, e) {
            var h, f, g, l, m, r, v, k;
            if (f = n._data(a)) {
                c.handler && (g = c, c = g.handler, e = g.selector);
                c.guid || (c.guid = n.guid++);
                (h = f.events) || (h = f.events = {});
                (m = f.handle) || (m = f.handle = function(a) {
                    return "undefined" === typeof n || a && n.event.triggered === a.type ? void 0 : n.event.dispatch.apply(m.elem, arguments)
                }, m.elem = a);
                b = (b || "").match(oa) || [""];
                for (f = b.length; f--;) {
                    var t = fb.exec(b[f]) || [];
                    var p = k = t[1];
                    t = (t[2] || "").split(".").sort();
                    p && (l = n.event.special[p] || {}, p = (e ? l.delegateType : l.bindType) || p, l = n.event.special[p] || {}, r = n.extend({
                        type: p,
                        origType: k,
                        data: d,
                        handler: c,
                        guid: c.guid,
                        selector: e,
                        needsContext: e && n.expr.match.needsContext.test(e),
                        namespace: t.join(".")
                    }, g), (v = h[p]) || (v = h[p] = [], v.delegateCount = 0, l.setup && !1 !== l.setup.call(a, d, t, m) || (a.addEventListener ? a.addEventListener(p, m, !1) : a.attachEvent && a.attachEvent("on" + p, m))), l.add && (l.add.call(a, r), r.handler.guid || (r.handler.guid = c.guid)), e ? v.splice(v.delegateCount++, 0, r) : v.push(r), n.event.global[p] = !0)
                }
                a = null
            }
        },
        remove: function(a, b, c, d, e) {
            var h, f, g, l, m, r, v, k, t =
                n.hasData(a) && n._data(a);
            if (t && (m = t.events)) {
                b = (b || "").match(oa) || [""];
                for (l = b.length; l--;)
                    if (f = fb.exec(b[l]) || [], r = k = f[1], v = (f[2] || "").split(".").sort(), r) {
                        var p = n.event.special[r] || {};
                        r = (d ? p.delegateType : p.bindType) || r;
                        var x = m[r] || [];
                        f = f[2] && new RegExp("(^|\\.)" + v.join("\\.(?:.*\\.|)") + "(\\.|$)");
                        for (g = h = x.length; h--;) {
                            var B = x[h];
                            !e && k !== B.origType || c && c.guid !== B.guid || f && !f.test(B.namespace) || d && d !== B.selector && ("**" !== d || !B.selector) || (x.splice(h, 1), B.selector && x.delegateCount--, p.remove && p.remove.call(a,
                                B))
                        }
                        g && !x.length && (p.teardown && !1 !== p.teardown.call(a, v, t.handle) || n.removeEvent(a, r, t.handle), delete m[r])
                    } else
                        for (r in m) n.event.remove(a, r + b[l], c, d, !0);
                n.isEmptyObject(m) && (delete t.handle, n._removeData(a, "events"))
            }
        },
        trigger: function(a, c, d, e) {
            var h, f, g, l, m = [d || P],
                r = la.call(a, "type") ? a.type : a;
            var v = la.call(a, "namespace") ? a.namespace.split(".") : [];
            if (g = h = d = d || P, 3 !== d.nodeType && 8 !== d.nodeType && !eb.test(r + n.event.triggered) && (0 <= r.indexOf(".") && (v = r.split("."), r = v.shift(), v.sort()), f = 0 > r.indexOf(":") &&
                    "on" + r, a = a[n.expando] ? a : new n.Event(r, "object" == typeof a && a), a.isTrigger = e ? 2 : 3, a.namespace = v.join("."), a.namespace_re = a.namespace ? new RegExp("(^|\\.)" + v.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, a.result = void 0, a.target || (a.target = d), c = null == c ? [a] : n.makeArray(c, [a]), l = n.event.special[r] || {}, e || !l.trigger || !1 !== l.trigger.apply(d, c))) {
                if (!e && !l.noBubble && !n.isWindow(d)) {
                    var k = l.delegateType || r;
                    for (eb.test(k + r) || (g = g.parentNode); g; g = g.parentNode) m.push(g), h = g;
                    h === (d.ownerDocument || P) && m.push(h.defaultView ||
                        h.parentWindow || b)
                }
                for (v = 0;
                    (g = m[v++]) && !a.isPropagationStopped();) a.type = 1 < v ? k : l.bindType || r, (h = (n._data(g, "events") || {})[a.type] && n._data(g, "handle")) && h.apply(g, c), (h = f && g[f]) && h.apply && n.acceptData(g) && (a.result = h.apply(g, c), !1 === a.result && a.preventDefault());
                if (a.type = r, !(e || a.isDefaultPrevented() || l._default && !1 !== l._default.apply(m.pop(), c)) && n.acceptData(d) && f && d[r] && !n.isWindow(d)) {
                    (h = d[f]) && (d[f] = null);
                    n.event.triggered = r;
                    try {
                        d[r]()
                    } catch (Tb) {}
                    n.event.triggered = void 0;
                    h && (d[f] = h)
                }
                return a.result
            }
        },
        dispatch: function(a) {
            a = n.event.fix(a);
            var b, c, d, e, h = ja.call(arguments);
            var f = (n._data(this, "events") || {})[a.type] || [];
            var g = n.event.special[a.type] || {};
            if (h[0] = a, a.delegateTarget = this, !g.preDispatch || !1 !== g.preDispatch.call(this, a)) {
                var l = n.event.handlers.call(this, a, f);
                for (f = 0;
                    (d = l[f++]) && !a.isPropagationStopped();)
                    for (a.currentTarget = d.elem, e = 0;
                        (c = d.handlers[e++]) && !a.isImmediatePropagationStopped();) a.namespace_re && !a.namespace_re.test(c.namespace) || (a.handleObj = c, a.data = c.data, b = ((n.event.special[c.origType] || {}).handle || c.handler).apply(d.elem, h), void 0 === b || !1 !== (a.result = b) || (a.preventDefault(), a.stopPropagation()));
                return g.postDispatch && g.postDispatch.call(this, a), a.result
            }
        },
        handlers: function(a, b) {
            var c, d = [],
                e = b.delegateCount,
                h = a.target;
            if (e && h.nodeType && (!a.button || "click" !== a.type))
                for (; h != this; h = h.parentNode || this)
                    if (1 === h.nodeType && (!0 !== h.disabled || "click" !== a.type)) {
                        var f = [];
                        for (c = 0; e > c; c++) {
                            var g = b[c];
                            var l = g.selector + " ";
                            void 0 === f[l] && (f[l] = g.needsContext ? 0 <= n(l, this).index(h) : n.find(l, this,
                                null, [h]).length);
                            f[l] && f.push(g)
                        }
                        f.length && d.push({
                            elem: h,
                            handlers: f
                        })
                    } return e < b.length && d.push({
                elem: this,
                handlers: b.slice(e)
            }), d
        },
        fix: function(a) {
            if (a[n.expando]) return a;
            var b = a.type;
            var c = a,
                d = this.fixHooks[b];
            d || (this.fixHooks[b] = d = Wa.test(b) ? this.mouseHooks : tb.test(b) ? this.keyHooks : {});
            var e = d.props ? this.props.concat(d.props) : this.props;
            a = new n.Event(c);
            for (b = e.length; b--;) {
                var h = e[b];
                a[h] = c[h]
            }
            return a.target || (a.target = c.srcElement || P), 3 === a.target.nodeType && (a.target = a.target.parentNode),
                a.metaKey = !!a.metaKey, d.filter ? d.filter(a, c) : a
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: ["char", "charCode", "key", "keyCode"],
            filter: function(a, b) {
                return null == a.which && (a.which = null != b.charCode ? b.charCode : b.keyCode), a
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(a, b) {
                var c, d,
                    e, h = b.button,
                    f = b.fromElement;
                return null == a.pageX && null != b.clientX && (d = a.target.ownerDocument || P, e = d.documentElement, c = d.body, a.pageX = b.clientX + (e && e.scrollLeft || c && c.scrollLeft || 0) - (e && e.clientLeft || c && c.clientLeft || 0), a.pageY = b.clientY + (e && e.scrollTop || c && c.scrollTop || 0) - (e && e.clientTop || c && c.clientTop || 0)), !a.relatedTarget && f && (a.relatedTarget = f === a.target ? b.toElement : f), a.which || void 0 === h || (a.which = 1 & h ? 1 : 2 & h ? 3 : 4 & h ? 2 : 0), a
            }
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function() {
                    if (this !== w() &&
                        this.focus) try {
                        return this.focus(), !1
                    } catch (pa) {}
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    return this === w() && this.blur ? (this.blur(), !1) : void 0
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    return n.nodeName(this, "input") && "checkbox" === this.type && this.click ? (this.click(), !1) : void 0
                },
                _default: function(a) {
                    return n.nodeName(a.target, "a")
                }
            },
            beforeunload: {
                postDispatch: function(a) {
                    void 0 !== a.result && a.originalEvent && (a.originalEvent.returnValue = a.result)
                }
            }
        },
        simulate: function(a, b, c, d) {
            a = n.extend(new n.Event,
                c, {
                    type: a,
                    isSimulated: !0,
                    originalEvent: {}
                });
            d ? n.event.trigger(a, null, b) : n.event.dispatch.call(b, a);
            a.isDefaultPrevented() && c.preventDefault()
        }
    };
    n.removeEvent = P.removeEventListener ? function(a, b, c) {
        a.removeEventListener && a.removeEventListener(b, c, !1)
    } : function(a, b, c) {
        b = "on" + b;
        a.detachEvent && ("undefined" === typeof a[b] && (a[b] = null), a.detachEvent(b, c))
    };
    n.Event = function(a, b) {
        return this instanceof n.Event ? (a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || void 0 ===
            a.defaultPrevented && !1 === a.returnValue ? l : u) : this.type = a, b && n.extend(this, b), this.timeStamp = a && a.timeStamp || n.now(), void(this[n.expando] = !0)) : new n.Event(a, b)
    };
    n.Event.prototype = {
        isDefaultPrevented: u,
        isPropagationStopped: u,
        isImmediatePropagationStopped: u,
        preventDefault: function() {
            var a = this.originalEvent;
            this.isDefaultPrevented = l;
            a && (a.preventDefault ? a.preventDefault() : a.returnValue = !1)
        },
        stopPropagation: function() {
            var a = this.originalEvent;
            this.isPropagationStopped = l;
            a && (a.stopPropagation && a.stopPropagation(),
                a.cancelBubble = !0)
        },
        stopImmediatePropagation: function() {
            var a = this.originalEvent;
            this.isImmediatePropagationStopped = l;
            a && a.stopImmediatePropagation && a.stopImmediatePropagation();
            this.stopPropagation()
        }
    };
    n.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function(a, b) {
        n.event.special[a] = {
            delegateType: b,
            bindType: b,
            handle: function(a) {
                var c, d = a.relatedTarget,
                    e = a.handleObj;
                return (!d || d !== this && !n.contains(this, d)) && (a.type = e.origType, c = e.handler.apply(this,
                    arguments), a.type = b), c
            }
        }
    });
    L.submitBubbles || (n.event.special.submit = {
        setup: function() {
            return n.nodeName(this, "form") ? !1 : void n.event.add(this, "click._submit keypress._submit", function(a) {
                a = a.target;
                (a = n.nodeName(a, "input") || n.nodeName(a, "button") ? a.form : void 0) && !n._data(a, "submitBubbles") && (n.event.add(a, "submit._submit", function(a) {
                    a._submit_bubble = !0
                }), n._data(a, "submitBubbles", !0))
            })
        },
        postDispatch: function(a) {
            a._submit_bubble && (delete a._submit_bubble, this.parentNode && !a.isTrigger && n.event.simulate("submit",
                this.parentNode, a, !0))
        },
        teardown: function() {
            return n.nodeName(this, "form") ? !1 : void n.event.remove(this, "._submit")
        }
    });
    L.changeBubbles || (n.event.special.change = {
        setup: function() {
            return La.test(this.nodeName) ? (("checkbox" === this.type || "radio" === this.type) && (n.event.add(this, "propertychange._change", function(a) {
                "checked" === a.originalEvent.propertyName && (this._just_changed = !0)
            }), n.event.add(this, "click._change", function(a) {
                this._just_changed && !a.isTrigger && (this._just_changed = !1);
                n.event.simulate("change",
                    this, a, !0)
            })), !1) : void n.event.add(this, "beforeactivate._change", function(a) {
                a = a.target;
                La.test(a.nodeName) && !n._data(a, "changeBubbles") && (n.event.add(a, "change._change", function(a) {
                    !this.parentNode || a.isSimulated || a.isTrigger || n.event.simulate("change", this.parentNode, a, !0)
                }), n._data(a, "changeBubbles", !0))
            })
        },
        handle: function(a) {
            var b = a.target;
            return this !== b || a.isSimulated || a.isTrigger || "radio" !== b.type && "checkbox" !== b.type ? a.handleObj.handler.apply(this, arguments) : void 0
        },
        teardown: function() {
            return n.event.remove(this,
                "._change"), !La.test(this.nodeName)
        }
    });
    L.focusinBubbles || n.each({
        focus: "focusin",
        blur: "focusout"
    }, function(a, b) {
        var c = function(a) {
            n.event.simulate(b, a.target, n.event.fix(a), !0)
        };
        n.event.special[b] = {
            setup: function() {
                var d = this.ownerDocument || this,
                    e = n._data(d, b);
                e || d.addEventListener(a, c, !0);
                n._data(d, b, (e || 0) + 1)
            },
            teardown: function() {
                var d = this.ownerDocument || this,
                    e = n._data(d, b) - 1;
                e ? n._data(d, b, e) : (d.removeEventListener(a, c, !0), n._removeData(d, b))
            }
        }
    });
    n.fn.extend({
        on: function(a, b, c, d, e) {
            var h, f;
            if ("object" ==
                typeof a) {
                "string" != typeof b && (c = c || b, b = void 0);
                for (h in a) this.on(h, b, c, a[h], e);
                return this
            }
            if (null == c && null == d ? (d = b, c = b = void 0) : null == d && ("string" == typeof b ? (d = c, c = void 0) : (d = c, c = b, b = void 0)), !1 === d) d = u;
            else if (!d) return this;
            return 1 === e && (f = d, d = function(a) {
                return n().off(a), f.apply(this, arguments)
            }, d.guid = f.guid || (f.guid = n.guid++)), this.each(function() {
                n.event.add(this, a, d, c, b)
            })
        },
        one: function(a, b, c, d) {
            return this.on(a, b, c, d, 1)
        },
        off: function(a, b, c) {
            var d, e;
            if (a && a.preventDefault && a.handleObj) return d =
                a.handleObj, n(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d.origType, d.selector, d.handler), this;
            if ("object" == typeof a) {
                for (e in a) this.off(e, b, a[e]);
                return this
            }
            return (!1 === b || "function" == typeof b) && (c = b, b = void 0), !1 === c && (c = u), this.each(function() {
                n.event.remove(this, a, c, b)
            })
        },
        trigger: function(a, b) {
            return this.each(function() {
                n.event.trigger(a, b, this)
            })
        },
        triggerHandler: function(a, b) {
            var c = this[0];
            return c ? n.event.trigger(a, b, c, !0) : void 0
        }
    });
    var gb = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
        hb = / jQuery\d+="(?:null|\d+)"/g,
        Xa = new RegExp("\x3c(?:" + gb + ")[\\s/\x3e]", "i"),
        Qa = /^\s+/,
        Ma = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
        kb = /<([\w:]+)/,
        lb = /<tbody/i,
        xb = /<|&#?\w+;/,
        $a = /<(?:script|style|link)/i,
        ab = /checked\s*(?:[^=]|=\s*.checked.)/i,
        mb = /^$|\/(?:java|ecma)script/i,
        ib = /^true\/(.*)/,
        yb = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
        Ba = {
            option: [1, "\x3cselect multiple\x3d'multiple'\x3e", "\x3c/select\x3e"],
            legend: [1, "\x3cfieldset\x3e", "\x3c/fieldset\x3e"],
            area: [1,
                "\x3cmap\x3e", "\x3c/map\x3e"
            ],
            param: [1, "\x3cobject\x3e", "\x3c/object\x3e"],
            thead: [1, "\x3ctable\x3e", "\x3c/table\x3e"],
            tr: [2, "\x3ctable\x3e\x3ctbody\x3e", "\x3c/tbody\x3e\x3c/table\x3e"],
            col: [2, "\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e", "\x3c/colgroup\x3e\x3c/table\x3e"],
            td: [3, "\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e", "\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],
            _default: L.htmlSerialize ? [0, "", ""] : [1, "X\x3cdiv\x3e", "\x3c/div\x3e"]
        },
        Na = r(P).appendChild(P.createElement("div"));
    Ba.optgroup = Ba.option;
    Ba.tbody = Ba.tfoot = Ba.colgroup = Ba.caption = Ba.thead;
    Ba.th = Ba.td;
    n.extend({
        clone: function(a, b, c) {
            var d, e, h, f = n.contains(a.ownerDocument, a);
            if (L.html5Clone || n.isXMLDoc(a) || !Xa.test("\x3c" + a.nodeName + "\x3e") ? e = a.cloneNode(!0) : (Na.innerHTML = a.outerHTML, Na.removeChild(e = Na.firstChild)), !(L.noCloneEvent && L.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || n.isXMLDoc(a))) {
                var g = x(e);
                var l = x(a);
                for (h = 0; null != (d = l[h]); ++h)
                    if (g[h]) {
                        var m = void 0,
                            r, v = d,
                            k = g[h];
                        if (1 === k.nodeType) {
                            if (r = k.nodeName.toLowerCase(), !L.noCloneEvent &&
                                k[n.expando]) {
                                d = n._data(k);
                                for (m in d.events) n.removeEvent(k, m, d.handle);
                                k.removeAttribute(n.expando)
                            }
                            "script" === r && k.text !== v.text ? (A(k).text = v.text, z(k)) : "object" === r ? (k.parentNode && (k.outerHTML = v.outerHTML), L.html5Clone && v.innerHTML && !n.trim(k.innerHTML) && (k.innerHTML = v.innerHTML)) : "input" === r && Va.test(v.type) ? (k.defaultChecked = k.checked = v.checked, k.value !== v.value && (k.value = v.value)) : "option" === r ? k.defaultSelected = k.selected = v.defaultSelected : ("input" === r || "textarea" === r) && (k.defaultValue = v.defaultValue)
                        }
                    }
            }
            if (b)
                if (c)
                    for (l =
                        l || x(a), g = g || x(e), h = 0; null != (d = l[h]); h++) E(d, g[h]);
                else E(a, e);
            return g = x(e, "script"), 0 < g.length && B(g, !f && x(a, "script")), e
        },
        buildFragment: function(a, b, c, d) {
            for (var e, h, f, g, l, m, k, t = a.length, p = r(b), z = [], u = 0; t > u; u++)
                if (h = a[u], h || 0 === h)
                    if ("object" === n.type(h)) n.merge(z, h.nodeType ? [h] : h);
                    else if (xb.test(h)) {
                g = g || p.appendChild(b.createElement("div"));
                l = (kb.exec(h) || ["", ""])[1].toLowerCase();
                k = Ba[l] || Ba._default;
                g.innerHTML = k[1] + h.replace(Ma, "\x3c$1\x3e\x3c/$2\x3e") + k[2];
                for (e = k[0]; e--;) g = g.lastChild;
                if (!L.leadingWhitespace &&
                    Qa.test(h) && z.push(b.createTextNode(Qa.exec(h)[0])), !L.tbody)
                    for (e = (h = "table" !== l || lb.test(h) ? "\x3ctable\x3e" !== k[1] || lb.test(h) ? 0 : g : g.firstChild) && h.childNodes.length; e--;) n.nodeName(m = h.childNodes[e], "tbody") && !m.childNodes.length && h.removeChild(m);
                n.merge(z, g.childNodes);
                for (g.textContent = ""; g.firstChild;) g.removeChild(g.firstChild);
                g = p.lastChild
            } else z.push(b.createTextNode(h));
            g && p.removeChild(g);
            L.appendChecked || n.grep(x(z, "input"), v);
            for (u = 0; h = z[u++];)
                if ((!d || -1 === n.inArray(h, d)) && (f = n.contains(h.ownerDocument,
                        h), g = x(p.appendChild(h), "script"), f && B(g), c))
                    for (e = 0; h = g[e++];) mb.test(h.type || "") && c.push(h);
            return p
        },
        cleanData: function(a, b) {
            for (var c, d, e, h, f = 0, g = n.expando, l = n.cache, m = L.deleteExpando, r = n.event.special; null != (c = a[f]); f++)
                if ((b || n.acceptData(c)) && (e = c[g], h = e && l[e])) {
                    if (h.events)
                        for (d in h.events) r[d] ? n.event.remove(c, d) : n.removeEvent(c, d, h.handle);
                    l[e] && (delete l[e], m ? delete c[g] : "undefined" !== typeof c.removeAttribute ? c.removeAttribute(g) : c[g] = null, ea.push(e))
                }
        }
    });
    n.fn.extend({
        text: function(a) {
            return Z(this,
                function(a) {
                    return void 0 === a ? n.text(this) : this.empty().append((this[0] && this[0].ownerDocument || P).createTextNode(a))
                }, null, a, arguments.length)
        },
        append: function() {
            return this.domManip(arguments, function(a) {
                1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || t(this, a).appendChild(a)
            })
        },
        prepend: function() {
            return this.domManip(arguments, function(a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = t(this, a);
                    b.insertBefore(a, b.firstChild)
                }
            })
        },
        before: function() {
            return this.domManip(arguments,
                function(a) {
                    this.parentNode && this.parentNode.insertBefore(a, this)
                })
        },
        after: function() {
            return this.domManip(arguments, function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this.nextSibling)
            })
        },
        remove: function(a, b) {
            for (var c = a ? n.filter(a, this) : this, d = 0; null != (a = c[d]); d++) b || 1 !== a.nodeType || n.cleanData(x(a)), a.parentNode && (b && n.contains(a.ownerDocument, a) && B(x(a, "script")), a.parentNode.removeChild(a));
            return this
        },
        empty: function() {
            for (var a, b = 0; null != (a = this[b]); b++) {
                for (1 === a.nodeType && n.cleanData(x(a,
                        !1)); a.firstChild;) a.removeChild(a.firstChild);
                a.options && n.nodeName(a, "select") && (a.options.length = 0)
            }
            return this
        },
        clone: function(a, b) {
            return a = null == a ? !1 : a, b = null == b ? a : b, this.map(function() {
                return n.clone(this, a, b)
            })
        },
        html: function(a) {
            return Z(this, function(a) {
                var b = this[0] || {},
                    c = 0,
                    d = this.length;
                if (void 0 === a) return 1 === b.nodeType ? b.innerHTML.replace(hb, "") : void 0;
                if (!("string" != typeof a || $a.test(a) || !L.htmlSerialize && Xa.test(a) || !L.leadingWhitespace && Qa.test(a) || Ba[(kb.exec(a) || ["", ""])[1].toLowerCase()])) {
                    a =
                        a.replace(Ma, "\x3c$1\x3e\x3c/$2\x3e");
                    try {
                        for (; d > c; c++) b = this[c] || {}, 1 === b.nodeType && (n.cleanData(x(b, !1)), b.innerHTML = a);
                        b = 0
                    } catch (nc) {}
                }
                b && this.empty().append(a)
            }, null, a, arguments.length)
        },
        replaceWith: function() {
            var a = arguments[0];
            return this.domManip(arguments, function(b) {
                a = this.parentNode;
                n.cleanData(x(this));
                a && a.replaceChild(b, this)
            }), a && (a.length || a.nodeType) ? this : this.remove()
        },
        detach: function(a) {
            return this.remove(a, !0)
        },
        domManip: function(a, b) {
            a = sa.apply([], a);
            var c, d, e, h = 0,
                f = this.length,
                g = this,
                l = f - 1,
                m = a[0],
                r = n.isFunction(m);
            if (r || 1 < f && "string" == typeof m && !L.checkClone && ab.test(m)) return this.each(function(c) {
                var d = g.eq(c);
                r && (a[0] = m.call(this, c, d.html()));
                d.domManip(a, b)
            });
            if (f && (e = n.buildFragment(a, this[0].ownerDocument, !1, this), c = e.firstChild, 1 === e.childNodes.length && (e = c), c)) {
                var v = n.map(x(e, "script"), A);
                for (d = v.length; f > h; h++) c = e, h !== l && (c = n.clone(c, !0, !0), d && n.merge(v, x(c, "script"))), b.call(this[h], c, h);
                if (d)
                    for (e = v[v.length - 1].ownerDocument, n.map(v, z), h = 0; d > h; h++) c = v[h], mb.test(c.type ||
                        "") && !n._data(c, "globalEval") && n.contains(e, c) && (c.src ? n._evalUrl && n._evalUrl(c.src) : n.globalEval((c.text || c.textContent || c.innerHTML || "").replace(yb, "")));
                e = c = null
            }
            return this
        }
    });
    n.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(a, b) {
        n.fn[a] = function(a) {
            for (var c = 0, d = [], e = n(a), h = e.length - 1; h >= c; c++) a = c === h ? this : this.clone(!0), n(e[c])[b](a), ma.apply(d, a.get());
            return this.pushStack(d)
        }
    });
    var za, Ya = {};
    ! function() {
        var a;
        L.shrinkWrapBlocks =
            function() {
                if (null != a) return a;
                a = !1;
                var b, c, d;
                return c = P.getElementsByTagName("body")[0], c && c.style ? (b = P.createElement("div"), d = P.createElement("div"), d.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px", c.appendChild(d).appendChild(b), "undefined" !== typeof b.style.zoom && (b.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1", b.appendChild(P.createElement("div")).style.width =
                    "5px", a = 3 !== b.offsetWidth), c.removeChild(d), a) : void 0
            }
    }();
    var bb = /^margin/,
        Aa = new RegExp("^(" + Ca + ")(?!px)[a-z%]+$", "i"),
        Fa, Ga, cb = /^(top|right|bottom|left)$/;
    b.getComputedStyle ? (Fa = function(a) {
        return a.ownerDocument.defaultView.getComputedStyle(a, null)
    }, Ga = function(a, b, c) {
        var d, e, h, f, g = a.style;
        return c = c || Fa(a), f = c ? c.getPropertyValue(b) || c[b] : void 0, c && ("" !== f || n.contains(a.ownerDocument, a) || (f = n.style(a, b)), Aa.test(f) && bb.test(b) && (d = g.width, e = g.minWidth, h = g.maxWidth, g.minWidth = g.maxWidth = g.width =
            f, f = c.width, g.width = d, g.minWidth = e, g.maxWidth = h)), void 0 === f ? f : f + ""
    }) : P.documentElement.currentStyle && (Fa = function(a) {
        return a.currentStyle
    }, Ga = function(a, b, c) {
        var d, e, h, f, g = a.style;
        return c = c || Fa(a), f = c ? c[b] : void 0, null == f && g && g[b] && (f = g[b]), Aa.test(f) && !cb.test(b) && (d = g.left, e = a.runtimeStyle, h = e && e.left, h && (e.left = a.currentStyle.left), g.left = "fontSize" === b ? "1em" : f, f = g.pixelLeft + "px", g.left = d, h && (e.left = h)), void 0 === f ? f : f + "" || "auto"
    });
    ! function() {
        var a, c, d, e, h, f, g;
        if (a = P.createElement("div"), a.innerHTML =
            "  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e", d = a.getElementsByTagName("a")[0], c = d && d.style) {
            var l = function() {
                var a, c, d, l;
                (c = P.getElementsByTagName("body")[0]) && c.style && (a = P.createElement("div"), d = P.createElement("div"), d.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px", c.appendChild(d).appendChild(a), a.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",
                    e = h = !1, g = !0, b.getComputedStyle && (e = "1%" !== (b.getComputedStyle(a, null) || {}).top, h = "4px" === (b.getComputedStyle(a, null) || {
                        width: "4px"
                    }).width, l = a.appendChild(P.createElement("div")), l.style.cssText = a.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0", l.style.marginRight = l.style.width = "0", a.style.width = "1px", g = !parseFloat((b.getComputedStyle(l, null) || {}).marginRight)), a.innerHTML = "\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3et\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",
                    l = a.getElementsByTagName("td"), l[0].style.cssText = "margin:0;border:0;padding:0;display:none", f = 0 === l[0].offsetHeight, f && (l[0].style.display = "", l[1].style.display = "none", f = 0 === l[0].offsetHeight), c.removeChild(d))
            };
            c.cssText = "float:left;opacity:.5";
            L.opacity = "0.5" === c.opacity;
            L.cssFloat = !!c.cssFloat;
            a.style.backgroundClip = "content-box";
            a.cloneNode(!0).style.backgroundClip = "";
            L.clearCloneStyle = "content-box" === a.style.backgroundClip;
            L.boxSizing = "" === c.boxSizing || "" === c.MozBoxSizing || "" === c.WebkitBoxSizing;
            n.extend(L, {
                reliableHiddenOffsets: function() {
                    return null == f && l(), f
                },
                boxSizingReliable: function() {
                    return null == h && l(), h
                },
                pixelPosition: function() {
                    return null == e && l(), e
                },
                reliableMarginRight: function() {
                    return null == g && l(), g
                }
            })
        }
    }();
    n.swap = function(a, b, c, d) {
        var e, h = {};
        for (e in b) h[e] = a.style[e], a.style[e] = b[e];
        c = c.apply(a, d || []);
        for (e in b) a.style[e] = h[e];
        return c
    };
    var ia = /alpha\([^)]*\)/i,
        nb = /opacity\s*=\s*([^)]*)/,
        Sa = /^(none|table(?!-c[ea]).+)/,
        vb = new RegExp("^(" + Ca + ")(.*)$", "i"),
        zb = new RegExp("^([+-])\x3d(" +
            Ca + ")", "i"),
        db = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        },
        ob = {
            letterSpacing: "0",
            fontWeight: "400"
        },
        Gb = ["Webkit", "O", "Moz", "ms"];
    n.extend({
        cssHooks: {
            opacity: {
                get: function(a, b) {
                    if (b) return a = Ga(a, "opacity"), "" === a ? "1" : a
                }
            }
        },
        cssNumber: {
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": L.cssFloat ? "cssFloat" : "styleFloat"
        },
        style: function(a, b, c, d) {
            if (a && 3 !== a.nodeType && 8 !== a.nodeType &&
                a.style) {
                var e, h, f, g = n.camelCase(b),
                    l = a.style;
                if (b = n.cssProps[g] || (n.cssProps[g] = I(l, g)), f = n.cssHooks[b] || n.cssHooks[g], void 0 === c) return f && "get" in f && void 0 !== (e = f.get(a, !1, d)) ? e : l[b];
                if (h = typeof c, "string" === h && (e = zb.exec(c)) && (c = (e[1] + 1) * e[2] + parseFloat(n.css(a, b)), h = "number"), null != c && c === c && ("number" !== h || n.cssNumber[g] || (c += "px"), L.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (l[b] = "inherit"), !(f && "set" in f && void 0 === (c = f.set(a, c, d))))) try {
                    l[b] = c
                } catch (pc) {}
            }
        },
        css: function(a, b, c, d) {
            var e,
                h, f, g = n.camelCase(b);
            return b = n.cssProps[g] || (n.cssProps[g] = I(a.style, g)), f = n.cssHooks[b] || n.cssHooks[g], f && "get" in f && (h = f.get(a, !0, c)), void 0 === h && (h = Ga(a, b, d)), "normal" === h && b in ob && (h = ob[b]), "" === c || c ? (e = parseFloat(h), !0 === c || n.isNumeric(e) ? e || 0 : h) : h
        }
    });
    n.each(["height", "width"], function(a, b) {
        n.cssHooks[b] = {
            get: function(a, c, d) {
                return c ? Sa.test(n.css(a, "display")) && 0 === a.offsetWidth ? n.swap(a, db, function() {
                    return Q(a, b, d)
                }) : Q(a, b, d) : void 0
            },
            set: function(a, c, d) {
                var e = d && Fa(a);
                return N(a, c, d ? K(a,
                    b, d, L.boxSizing && "border-box" === n.css(a, "boxSizing", !1, e), e) : 0)
            }
        }
    });
    L.opacity || (n.cssHooks.opacity = {
        get: function(a, b) {
            return nb.test((b && a.currentStyle ? a.currentStyle.filter : a.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "" : b ? "1" : ""
        },
        set: function(a, b) {
            var c = a.style;
            a = a.currentStyle;
            var d = n.isNumeric(b) ? "alpha(opacity\x3d" + 100 * b + ")" : "",
                e = a && a.filter || c.filter || "";
            c.zoom = 1;
            (1 <= b || "" === b) && "" === n.trim(e.replace(ia, "")) && c.removeAttribute && (c.removeAttribute("filter"), "" === b || a && !a.filter) || (c.filter =
                ia.test(e) ? e.replace(ia, d) : e + " " + d)
        }
    });
    n.cssHooks.marginRight = O(L.reliableMarginRight, function(a, b) {
        return b ? n.swap(a, {
            display: "inline-block"
        }, Ga, [a, "marginRight"]) : void 0
    });
    n.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(a, b) {
        n.cssHooks[a + b] = {
            expand: function(c) {
                var d = 0,
                    e = {};
                for (c = "string" == typeof c ? c.split(" ") : [c]; 4 > d; d++) e[a + da[d] + b] = c[d] || c[d - 2] || c[0];
                return e
            }
        };
        bb.test(a) || (n.cssHooks[a + b].set = N)
    });
    n.fn.extend({
        css: function(a, b) {
            return Z(this, function(a, b, c) {
                var d, e = {},
                    h = 0;
                if (n.isArray(b)) {
                    c =
                        Fa(a);
                    for (d = b.length; d > h; h++) e[b[h]] = n.css(a, b[h], !1, c);
                    return e
                }
                return void 0 !== c ? n.style(a, b, c) : n.css(a, b)
            }, a, b, 1 < arguments.length)
        },
        show: function() {
            return F(this, !0)
        },
        hide: function() {
            return F(this)
        },
        toggle: function(a) {
            return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function() {
                ta(this) ? n(this).show() : n(this).hide()
            })
        }
    });
    n.Tween = G;
    G.prototype = {
        constructor: G,
        init: function(a, b, c, d, e, h) {
            this.elem = a;
            this.prop = c;
            this.easing = e || "swing";
            this.options = b;
            this.start = this.now = this.cur();
            this.end =
                d;
            this.unit = h || (n.cssNumber[c] ? "" : "px")
        },
        cur: function() {
            var a = G.propHooks[this.prop];
            return a && a.get ? a.get(this) : G.propHooks._default.get(this)
        },
        run: function(a) {
            var b, c = G.propHooks[this.prop];
            return this.pos = b = this.options.duration ? n.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : a, this.now = (this.end - this.start) * b + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), c && c.set ? c.set(this) : G.propHooks._default.set(this), this
        }
    };
    G.prototype.init.prototype =
        G.prototype;
    G.propHooks = {
        _default: {
            get: function(a) {
                var b;
                return null == a.elem[a.prop] || a.elem.style && null != a.elem.style[a.prop] ? (b = n.css(a.elem, a.prop, ""), b && "auto" !== b ? b : 0) : a.elem[a.prop]
            },
            set: function(a) {
                n.fx.step[a.prop] ? n.fx.step[a.prop](a) : a.elem.style && (null != a.elem.style[n.cssProps[a.prop]] || n.cssHooks[a.prop]) ? n.style(a.elem, a.prop, a.now + a.unit) : a.elem[a.prop] = a.now
            }
        }
    };
    G.propHooks.scrollTop = G.propHooks.scrollLeft = {
        set: function(a) {
            a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now)
        }
    };
    n.easing = {
        linear: function(a) {
            return a
        },
        swing: function(a) {
            return .5 - Math.cos(a * Math.PI) / 2
        }
    };
    n.fx = G.prototype.init;
    n.fx.step = {};
    var Ra, pb, Xb = /^(?:toggle|show|hide)$/,
        Ib = new RegExp("^(?:([+-])\x3d|)(" + Ca + ")([a-z%]*)$", "i"),
        Yb = /queueHooks$/,
        jb = [function(a, b, c) {
            var d, e, h, f, g, l, m, r = this,
                v = {},
                k = a.style,
                t = a.nodeType && ta(a),
                p = n._data(a, "fxshow");
            c.queue || (f = n._queueHooks(a, "fx"), null == f.unqueued && (f.unqueued = 0, g = f.empty.fire, f.empty.fire = function() {
                f.unqueued || g()
            }), f.unqueued++, r.always(function() {
                r.always(function() {
                    f.unqueued--;
                    n.queue(a, "fx").length || f.empty.fire()
                })
            }));
            1 === a.nodeType && ("height" in b || "width" in b) && (c.overflow = [k.overflow, k.overflowX, k.overflowY], l = n.css(a, "display"), m = "none" === l ? n._data(a, "olddisplay") || C(a.nodeName) : l, "inline" === m && "none" === n.css(a, "float") && (L.inlineBlockNeedsLayout && "inline" !== C(a.nodeName) ? k.zoom = 1 : k.display = "inline-block"));
            c.overflow && (k.overflow = "hidden", L.shrinkWrapBlocks() || r.always(function() {
                k.overflow = c.overflow[0];
                k.overflowX = c.overflow[1];
                k.overflowY = c.overflow[2]
            }));
            for (d in b)
                if (e =
                    b[d], Xb.exec(e)) {
                    if (delete b[d], h = h || "toggle" === e, e === (t ? "hide" : "show")) {
                        if ("show" !== e || !p || void 0 === p[d]) continue;
                        t = !0
                    }
                    v[d] = p && p[d] || n.style(a, d)
                } else l = void 0;
            if (n.isEmptyObject(v)) "inline" === ("none" === l ? C(a.nodeName) : l) && (k.display = l);
            else
                for (d in p ? "hidden" in p && (t = p.hidden) : p = n._data(a, "fxshow", {}), h && (p.hidden = !t), t ? n(a).show() : r.done(function() {
                        n(a).hide()
                    }), r.done(function() {
                        var b;
                        n._removeData(a, "fxshow");
                        for (b in v) n.style(a, b, v[b])
                    }), v) b = M(t ? p[d] : 0, d, r), d in p || (p[d] = b.start, t && (b.end =
                    b.start, b.start = "width" === d || "height" === d ? 1 : 0))
        }],
        Za = {
            "*": [function(a, b) {
                var c = this.createTween(a, b),
                    d = c.cur(),
                    e = (b = Ib.exec(b)) && b[3] || (n.cssNumber[a] ? "" : "px"),
                    h = (n.cssNumber[a] || "px" !== e && +d) && Ib.exec(n.css(c.elem, a)),
                    f = 1,
                    g = 20;
                if (h && h[3] !== e) {
                    e = e || h[3];
                    b = b || [];
                    h = +d || 1;
                    do f = f || ".5", h /= f, n.style(c.elem, a, h + e); while (f !== (f = c.cur() / d) && 1 !== f && --g)
                }
                return b && (h = c.start = +h || +d || 0, c.unit = e, c.end = b[1] ? h + (b[1] + 1) * b[2] : +b[2]), c
            }]
        };
    n.Animation = n.extend(H, {
        tweener: function(a, b) {
            n.isFunction(a) ? (b = a, a = ["*"]) :
                a = a.split(" ");
            for (var c, d = 0, e = a.length; e > d; d++) c = a[d], Za[c] = Za[c] || [], Za[c].unshift(b)
        },
        prefilter: function(a, b) {
            b ? jb.unshift(a) : jb.push(a)
        }
    });
    n.speed = function(a, b, c) {
        var d = a && "object" == typeof a ? n.extend({}, a) : {
            complete: c || !c && b || n.isFunction(a) && a,
            duration: a,
            easing: c && b || b && !n.isFunction(b) && b
        };
        return d.duration = n.fx.off ? 0 : "number" == typeof d.duration ? d.duration : d.duration in n.fx.speeds ? n.fx.speeds[d.duration] : n.fx.speeds._default, (null == d.queue || !0 === d.queue) && (d.queue = "fx"), d.old = d.complete, d.complete =
            function() {
                n.isFunction(d.old) && d.old.call(this);
                d.queue && n.dequeue(this, d.queue)
            }, d
    };
    n.fn.extend({
        fadeTo: function(a, b, c, d) {
            return this.filter(ta).css("opacity", 0).show().end().animate({
                opacity: b
            }, a, c, d)
        },
        animate: function(a, b, c, d) {
            var e = n.isEmptyObject(a),
                h = n.speed(b, c, d);
            b = function() {
                var b = H(this, n.extend({}, a), h);
                (e || n._data(this, "finish")) && b.stop(!0)
            };
            return b.finish = b, e || !1 === h.queue ? this.each(b) : this.queue(h.queue, b)
        },
        stop: function(a, b, c) {
            var d = function(a) {
                var b = a.stop;
                delete a.stop;
                b(c)
            };
            return "string" !=
                typeof a && (c = b, b = a, a = void 0), b && !1 !== a && this.queue(a || "fx", []), this.each(function() {
                    var b = !0,
                        e = null != a && a + "queueHooks",
                        h = n.timers,
                        f = n._data(this);
                    if (e) f[e] && f[e].stop && d(f[e]);
                    else
                        for (e in f) f[e] && f[e].stop && Yb.test(e) && d(f[e]);
                    for (e = h.length; e--;) h[e].elem !== this || null != a && h[e].queue !== a || (h[e].anim.stop(c), b = !1, h.splice(e, 1));
                    !b && c || n.dequeue(this, a)
                })
        },
        finish: function(a) {
            return !1 !== a && (a = a || "fx"), this.each(function() {
                var b = n._data(this),
                    c = b[a + "queue"];
                var d = b[a + "queueHooks"];
                var e = n.timers,
                    h =
                    c ? c.length : 0;
                b.finish = !0;
                n.queue(this, a, []);
                d && d.stop && d.stop.call(this, !0);
                for (d = e.length; d--;) e[d].elem === this && e[d].queue === a && (e[d].anim.stop(!0), e.splice(d, 1));
                for (d = 0; h > d; d++) c[d] && c[d].finish && c[d].finish.call(this);
                delete b.finish
            })
        }
    });
    n.each(["toggle", "show", "hide"], function(a, b) {
        var c = n.fn[b];
        n.fn[b] = function(a, d, e) {
            return null == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(V(b, !0), a, d, e)
        }
    });
    n.each({
        slideDown: V("show"),
        slideUp: V("hide"),
        slideToggle: V("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function(a, b) {
        n.fn[a] = function(a, c, d) {
            return this.animate(b, a, c, d)
        }
    });
    n.timers = [];
    n.fx.tick = function() {
        var a = n.timers,
            b = 0;
        for (Ra = n.now(); b < a.length; b++) {
            var c = a[b];
            c() || a[b] !== c || a.splice(b--, 1)
        }
        a.length || n.fx.stop();
        Ra = void 0
    };
    n.fx.timer = function(a) {
        n.timers.push(a);
        a() ? n.fx.start() : n.timers.pop()
    };
    n.fx.interval = 13;
    n.fx.start = function() {
        pb || (pb = setInterval(n.fx.tick, n.fx.interval))
    };
    n.fx.stop = function() {
        clearInterval(pb);
        pb = null
    };
    n.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    };
    n.fn.delay = function(a, b) {
        return a = n.fx ? n.fx.speeds[a] || a : a, b = b || "fx", this.queue(b, function(b, c) {
            var d = setTimeout(b, a);
            c.stop = function() {
                clearTimeout(d)
            }
        })
    };
    (function() {
        var a = P.createElement("div");
        a.setAttribute("className", "t");
        a.innerHTML = "  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e";
        var b = a.getElementsByTagName("a")[0];
        var c = P.createElement("select");
        var d = c.appendChild(P.createElement("option"));
        var e = a.getElementsByTagName("input")[0];
        b.style.cssText = "top:1px";
        L.getSetAttribute = "t" !== a.className;
        L.style = /top/.test(b.getAttribute("style"));
        L.hrefNormalized = "/a" === b.getAttribute("href");
        L.checkOn = !!e.value;
        L.optSelected = d.selected;
        L.enctype = !!P.createElement("form").enctype;
        c.disabled = !0;
        L.optDisabled = !d.disabled;
        e = P.createElement("input");
        e.setAttribute("value", "");
        L.input = "" === e.getAttribute("value");
        e.value = "t";
        e.setAttribute("type", "radio");
        L.radioValue = "t" === e.value
    })();
    var Zb = /\r/g;
    n.fn.extend({
        val: function(a) {
            var b, c, d, e = this[0];
            if (arguments.length) return d = n.isFunction(a), this.each(function(c) {
                var e;
                1 === this.nodeType && (e = d ? a.call(this, c, n(this).val()) : a, null == e ? e = "" : "number" == typeof e ? e += "" : n.isArray(e) && (e = n.map(e, function(a) {
                    return null == a ? "" : a + ""
                })), b = n.valHooks[this.type] || n.valHooks[this.nodeName.toLowerCase()], b && "set" in b && void 0 !== b.set(this, e, "value") || (this.value = e))
            });
            if (e) return b = n.valHooks[e.type] || n.valHooks[e.nodeName.toLowerCase()], b && "get" in b && void 0 !==
                (c = b.get(e, "value")) ? c : (c = e.value, "string" == typeof c ? c.replace(Zb, "") : null == c ? "" : c)
        }
    });
    n.extend({
        valHooks: {
            option: {
                get: function(a) {
                    var b = n.find.attr(a, "value");
                    return null != b ? b : n.trim(n.text(a))
                }
            },
            select: {
                get: function(a) {
                    for (var b, c = a.options, d = a.selectedIndex, e = "select-one" === a.type || 0 > d, h = e ? null : [], f = e ? d + 1 : c.length, g = 0 > d ? f : e ? d : 0; f > g; g++)
                        if (b = c[g], !(!b.selected && g !== d || (L.optDisabled ? b.disabled : null !== b.getAttribute("disabled")) || b.parentNode.disabled && n.nodeName(b.parentNode, "optgroup"))) {
                            if (a =
                                n(b).val(), e) return a;
                            h.push(a)
                        } return h
                },
                set: function(a, b) {
                    var c, d, e = a.options;
                    b = n.makeArray(b);
                    for (var h = e.length; h--;)
                        if (d = e[h], 0 <= n.inArray(n.valHooks.option.get(d), b)) try {
                            d.selected = c = !0
                        } catch (oc) {
                            d.scrollHeight
                        } else d.selected = !1;
                    return c || (a.selectedIndex = -1), e
                }
            }
        }
    });
    n.each(["radio", "checkbox"], function() {
        n.valHooks[this] = {
            set: function(a, b) {
                return n.isArray(b) ? a.checked = 0 <= n.inArray(n(a).val(), b) : void 0
            }
        };
        L.checkOn || (n.valHooks[this].get = function(a) {
            return null === a.getAttribute("value") ? "on" :
                a.value
        })
    });
    var Ta, Ja = n.expr.attrHandle,
        Ab = /^(?:checked|selected)$/i,
        Oa = L.getSetAttribute,
        qb = L.input;
    n.fn.extend({
        attr: function(a, b) {
            return Z(this, n.attr, a, b, 1 < arguments.length)
        },
        removeAttr: function(a) {
            return this.each(function() {
                n.removeAttr(this, a)
            })
        }
    });
    n.extend({
        attr: function(a, b, c) {
            var d, e, h = a.nodeType;
            if (a && 3 !== h && 8 !== h && 2 !== h) return "undefined" === typeof a.getAttribute ? n.prop(a, b, c) : (1 === h && n.isXMLDoc(a) || (b = b.toLowerCase(), d = n.attrHooks[b] || (n.expr.match.bool.test(b) ? $b : Ta)), void 0 === c ? d && "get" in
                d && null !== (e = d.get(a, b)) ? e : (e = n.find.attr(a, b), null == e ? void 0 : e) : null !== c ? d && "set" in d && void 0 !== (e = d.set(a, c, b)) ? e : (a.setAttribute(b, c + ""), c) : void n.removeAttr(a, b))
        },
        removeAttr: function(a, b) {
            var c = 0,
                d = b && b.match(oa);
            if (d && 1 === a.nodeType)
                for (; b = d[c++];) {
                    var e = n.propFix[b] || b;
                    n.expr.match.bool.test(b) ? qb && Oa || !Ab.test(b) ? a[e] = !1 : a[n.camelCase("default-" + b)] = a[e] = !1 : n.attr(a, b, "");
                    a.removeAttribute(Oa ? b : e)
                }
        },
        attrHooks: {
            type: {
                set: function(a, b) {
                    if (!L.radioValue && "radio" === b && n.nodeName(a, "input")) {
                        var c =
                            a.value;
                        return a.setAttribute("type", b), c && (a.value = c), b
                    }
                }
            }
        }
    });
    var $b = {
        set: function(a, b, c) {
            return !1 === b ? n.removeAttr(a, c) : qb && Oa || !Ab.test(c) ? a.setAttribute(!Oa && n.propFix[c] || c, c) : a[n.camelCase("default-" + c)] = a[c] = !0, c
        }
    };
    n.each(n.expr.match.bool.source.match(/\w+/g), function(a, b) {
        var c = Ja[b] || n.find.attr;
        Ja[b] = qb && Oa || !Ab.test(b) ? function(a, b, d) {
            var e, h;
            return d || (h = Ja[b], Ja[b] = e, e = null != c(a, b, d) ? b.toLowerCase() : null, Ja[b] = h), e
        } : function(a, b, c) {
            return c ? void 0 : a[n.camelCase("default-" + b)] ? b.toLowerCase() :
                null
        }
    });
    qb && Oa || (n.attrHooks.value = {
        set: function(a, b, c) {
            return n.nodeName(a, "input") ? void(a.defaultValue = b) : Ta && Ta.set(a, b, c)
        }
    });
    Oa || (Ta = {
        set: function(a, b, c) {
            var d = a.getAttributeNode(c);
            return d || a.setAttributeNode(d = a.ownerDocument.createAttribute(c)), d.value = b += "", "value" === c || b === a.getAttribute(c) ? b : void 0
        }
    }, Ja.id = Ja.name = Ja.coords = function(a, b, c) {
        var d;
        return c ? void 0 : (d = a.getAttributeNode(b)) && "" !== d.value ? d.value : null
    }, n.valHooks.button = {
        get: function(a, b) {
            return (a = a.getAttributeNode(b)) && a.specified ?
                a.value : void 0
        },
        set: Ta.set
    }, n.attrHooks.contenteditable = {
        set: function(a, b, c) {
            Ta.set(a, "" === b ? !1 : b, c)
        }
    }, n.each(["width", "height"], function(a, b) {
        n.attrHooks[b] = {
            set: function(a, c) {
                return "" === c ? (a.setAttribute(b, "auto"), c) : void 0
            }
        }
    }));
    L.style || (n.attrHooks.style = {
        get: function(a) {
            return a.style.cssText || void 0
        },
        set: function(a, b) {
            return a.style.cssText = b + ""
        }
    });
    var ac = /^(?:input|select|textarea|button|object)$/i,
        bc = /^(?:a|area)$/i;
    n.fn.extend({
        prop: function(a, b) {
            return Z(this, n.prop, a, b, 1 < arguments.length)
        },
        removeProp: function(a) {
            return a = n.propFix[a] || a, this.each(function() {
                try {
                    this[a] = void 0, delete this[a]
                } catch (Fb) {}
            })
        }
    });
    n.extend({
        propFix: {
            "for": "htmlFor",
            "class": "className"
        },
        prop: function(a, b, c) {
            var d, e, h, f = a.nodeType;
            if (a && 3 !== f && 8 !== f && 2 !== f) return h = 1 !== f || !n.isXMLDoc(a), h && (b = n.propFix[b] || b, e = n.propHooks[b]), void 0 !== c ? e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && "get" in e && null !== (d = e.get(a, b)) ? d : a[b]
        },
        propHooks: {
            tabIndex: {
                get: function(a) {
                    var b = n.find.attr(a, "tabindex");
                    return b ? parseInt(b,
                        10) : ac.test(a.nodeName) || bc.test(a.nodeName) && a.href ? 0 : -1
                }
            }
        }
    });
    L.hrefNormalized || n.each(["href", "src"], function(a, b) {
        n.propHooks[b] = {
            get: function(a) {
                return a.getAttribute(b, 4)
            }
        }
    });
    L.optSelected || (n.propHooks.selected = {
        get: function(a) {
            a = a.parentNode;
            return a && (a.selectedIndex, a.parentNode && a.parentNode.selectedIndex), null
        }
    });
    n.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "), function() {
        n.propFix[this.toLowerCase()] = this
    });
    L.enctype ||
        (n.propFix.enctype = "encoding");
    var Bb = /[\t\r\n\f]/g;
    n.fn.extend({
        addClass: function(a) {
            var b, c, d, e, h = 0,
                f = this.length;
            var g = "string" == typeof a && a;
            if (n.isFunction(a)) return this.each(function(b) {
                n(this).addClass(a.call(this, b, this.className))
            });
            if (g)
                for (g = (a || "").match(oa) || []; f > h; h++)
                    if (b = this[h], c = 1 === b.nodeType && (b.className ? (" " + b.className + " ").replace(Bb, " ") : " ")) {
                        for (e = 0; d = g[e++];) 0 > c.indexOf(" " + d + " ") && (c += d + " ");
                        c = n.trim(c);
                        b.className !== c && (b.className = c)
                    } return this
        },
        removeClass: function(a) {
            var b,
                c, d, e, h = 0,
                f = this.length;
            var g = 0 === arguments.length || "string" == typeof a && a;
            if (n.isFunction(a)) return this.each(function(b) {
                n(this).removeClass(a.call(this, b, this.className))
            });
            if (g)
                for (g = (a || "").match(oa) || []; f > h; h++)
                    if (b = this[h], c = 1 === b.nodeType && (b.className ? (" " + b.className + " ").replace(Bb, " ") : "")) {
                        for (e = 0; d = g[e++];)
                            for (; 0 <= c.indexOf(" " + d + " ");) c = c.replace(" " + d + " ", " ");
                        c = a ? n.trim(c) : "";
                        b.className !== c && (b.className = c)
                    } return this
        },
        toggleClass: function(a, b) {
            var c = typeof a;
            return "boolean" == typeof b &&
                "string" === c ? b ? this.addClass(a) : this.removeClass(a) : this.each(n.isFunction(a) ? function(c) {
                    n(this).toggleClass(a.call(this, c, this.className, b), b)
                } : function() {
                    if ("string" === c)
                        for (var b, d = 0, e = n(this), h = a.match(oa) || []; b = h[d++];) e.hasClass(b) ? e.removeClass(b) : e.addClass(b);
                    else("undefined" === c || "boolean" === c) && (this.className && n._data(this, "__className__", this.className), this.className = this.className || !1 === a ? "" : n._data(this, "__className__") || "")
                })
        },
        hasClass: function(a) {
            a = " " + a + " ";
            for (var b = 0, c = this.length; c >
                b; b++)
                if (1 === this[b].nodeType && 0 <= (" " + this[b].className + " ").replace(Bb, " ").indexOf(a)) return !0;
            return !1
        }
    });
    n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(a, b) {
        n.fn[b] = function(a, c) {
            return 0 < arguments.length ? this.on(b, null, a, c) : this.trigger(b)
        }
    });
    n.fn.extend({
        hover: function(a, b) {
            return this.mouseenter(a).mouseleave(b ||
                a)
        },
        bind: function(a, b, c) {
            return this.on(a, null, b, c)
        },
        unbind: function(a, b) {
            return this.off(a, null, b)
        },
        delegate: function(a, b, c, d) {
            return this.on(b, a, c, d)
        },
        undelegate: function(a, b, c) {
            return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c)
        }
    });
    var Cb = n.now(),
        Db = /\?/,
        cc = /(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
    n.parseJSON = function(a) {
        if (b.JSON && b.JSON.parse) return b.JSON.parse(a + "");
        var c, d = null,
            e = n.trim(a +
                "");
        return e && !n.trim(e.replace(cc, function(a, b, e, h) {
            return c && b && (d = 0), 0 === d ? a : (c = e || b, d += !h - !e, "")
        })) ? Function("return " + e)() : n.error("Invalid JSON: " + a)
    };
    n.parseXML = function(a) {
        var c, d;
        if (!a || "string" != typeof a) return null;
        try {
            b.DOMParser ? (d = new DOMParser, c = d.parseFromString(a, "text/xml")) : (c = new ActiveXObject("Microsoft.XMLDOM"), c.async = "false", c.loadXML(a))
        } catch (ub) {
            c = void 0
        }
        return c && c.documentElement && !c.getElementsByTagName("parsererror").length || n.error("Invalid XML: " + a), c
    };
    var dc = /#.*$/,
        Jb = /([?&])_=[^&]*/,
        ec = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm,
        fc = /^(?:GET|HEAD)$/,
        gc = /^\/\//,
        Kb = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,
        Lb = {},
        wb = {},
        Mb = "*/".concat("*");
    try {
        var Pa = location.href
    } catch (pa) {
        Pa = P.createElement("a"), Pa.href = "", Pa = Pa.href
    }
    var Ua = Kb.exec(Pa.toLowerCase()) || [];
    n.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: Pa,
            type: "GET",
            isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ua[1]),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset\x3dUTF-8",
            accepts: {
                "*": Mb,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": n.parseJSON,
                "text xml": n.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(a, b) {
            return b ? ba(ba(a, n.ajaxSettings), b) : ba(n.ajaxSettings, a)
        },
        ajaxPrefilter: T(Lb),
        ajaxTransport: T(wb),
        ajax: function(a,
            b) {
            function c(a, b, c, d) {
                var e, m, B, z = b;
                if (2 !== u) {
                    u = 2;
                    f && clearTimeout(f);
                    l = void 0;
                    h = d || "";
                    y.readyState = 0 < a ? 4 : 0;
                    d = 200 <= a && 300 > a || 304 === a;
                    if (c) {
                        var q = r;
                        for (var w = y, E, C, ia, F, O = q.contents, K = q.dataTypes;
                            "*" === K[0];) K.shift(), void 0 === C && (C = q.mimeType || w.getResponseHeader("Content-Type"));
                        if (C)
                            for (F in O)
                                if (O[F] && O[F].test(C)) {
                                    K.unshift(F);
                                    break
                                } if (K[0] in c) ia = K[0];
                        else {
                            for (F in c) {
                                if (!K[0] || q.converters[F + " " + K[0]]) {
                                    ia = F;
                                    break
                                }
                                E || (E = F)
                            }
                            ia = ia || E
                        }
                        q = ia ? (ia !== K[0] && K.unshift(ia), c[ia]) : void 0
                    }
                    a: {
                        c = r;E = q;C = y;
                        ia = d;
                        var H, N, I;q = {};w = c.dataTypes.slice();
                        if (w[1])
                            for (H in c.converters) q[H.toLowerCase()] = c.converters[H];
                        for (F = w.shift(); F;)
                            if (c.responseFields[F] && (C[c.responseFields[F]] = E), !I && ia && c.dataFilter && (E = c.dataFilter(E, c.dataType)), I = F, F = w.shift())
                                if ("*" === F) F = I;
                                else if ("*" !== I && I !== F) {
                            if (H = q[I + " " + F] || q["* " + F], !H)
                                for (G in q)
                                    if (N = G.split(" "), N[1] === F && (H = q[I + " " + N[0]] || q["* " + N[0]])) {
                                        !0 === H ? H = q[G] : !0 !== q[G] && (F = N[0], w.unshift(N[1]));
                                        break
                                    } if (!0 !== H)
                                if (H && c["throws"]) E = H(E);
                                else try {
                                    E = H(E)
                                } catch (Wb) {
                                    var G = {
                                        state: "parsererror",
                                        error: H ? Wb : "No conversion from " + I + " to " + F
                                    };
                                    break a
                                }
                        }
                        G = {
                            state: "success",
                            data: E
                        }
                    }
                    q = G;
                    d ? (r.ifModified && (B = y.getResponseHeader("Last-Modified"), B && (n.lastModified[A] = B), B = y.getResponseHeader("etag"), B && (n.etag[A] = B)), 204 === a || "HEAD" === r.type ? z = "nocontent" : 304 === a ? z = "notmodified" : (z = q.state, e = q.data, m = q.error, d = !m)) : (m = z, (a || !z) && (z = "error", 0 > a && (a = 0)));
                    y.status = a;
                    y.statusText = (b || z) + "";
                    d ? t.resolveWith(v, [e, z, y]) : t.rejectWith(v, [y, z, m]);
                    y.statusCode(x);
                    x = void 0;
                    g && k.trigger(d ? "ajaxSuccess" :
                        "ajaxError", [y, r, d ? e : m]);
                    p.fireWith(v, [y, z]);
                    g && (k.trigger("ajaxComplete", [y, r]), --n.active || n.event.trigger("ajaxStop"))
                }
            }
            "object" == typeof a && (b = a, a = void 0);
            b = b || {};
            var d, e, h, f, g, l, m, r = n.ajaxSetup({}, b),
                v = r.context || r,
                k = r.context && (v.nodeType || v.jquery) ? n(v) : n.event,
                t = n.Deferred(),
                p = n.Callbacks("once memory"),
                x = r.statusCode || {},
                B = {},
                z = {},
                u = 0,
                q = "canceled",
                y = {
                    readyState: 0,
                    getResponseHeader: function(a) {
                        var b;
                        if (2 === u) {
                            if (!m)
                                for (m = {}; b = ec.exec(h);) m[b[1].toLowerCase()] = b[2];
                            b = m[a.toLowerCase()]
                        }
                        return null ==
                            b ? null : b
                    },
                    getAllResponseHeaders: function() {
                        return 2 === u ? h : null
                    },
                    setRequestHeader: function(a, b) {
                        var c = a.toLowerCase();
                        return u || (a = z[c] = z[c] || a, B[a] = b), this
                    },
                    overrideMimeType: function(a) {
                        return u || (r.mimeType = a), this
                    },
                    statusCode: function(a) {
                        var b;
                        if (a)
                            if (2 > u)
                                for (b in a) x[b] = [x[b], a[b]];
                            else y.always(a[y.status]);
                        return this
                    },
                    abort: function(a) {
                        a = a || q;
                        return l && l.abort(a), c(0, a), this
                    }
                };
            if (t.promise(y).complete = p.add, y.success = y.done, y.error = y.fail, r.url = ((a || r.url || Pa) + "").replace(dc, "").replace(gc,
                    Ua[1] + "//"), r.type = b.method || b.type || r.method || r.type, r.dataTypes = n.trim(r.dataType || "*").toLowerCase().match(oa) || [""], null == r.crossDomain && (d = Kb.exec(r.url.toLowerCase()), r.crossDomain = !(!d || d[1] === Ua[1] && d[2] === Ua[2] && (d[3] || ("http:" === d[1] ? "80" : "443")) === (Ua[3] || ("http:" === Ua[1] ? "80" : "443")))), r.data && r.processData && "string" != typeof r.data && (r.data = n.param(r.data, r.traditional)), U(Lb, r, b, y), 2 === u) return y;
            (g = r.global) && 0 === n.active++ && n.event.trigger("ajaxStart");
            r.type = r.type.toUpperCase();
            r.hasContent = !fc.test(r.type);
            var A = r.url;
            r.hasContent || (r.data && (A = r.url += (Db.test(A) ? "\x26" : "?") + r.data, delete r.data), !1 === r.cache && (r.url = Jb.test(A) ? A.replace(Jb, "$1_\x3d" + Cb++) : A + (Db.test(A) ? "\x26" : "?") + "_\x3d" + Cb++));
            r.ifModified && (n.lastModified[A] && y.setRequestHeader("If-Modified-Since", n.lastModified[A]), n.etag[A] && y.setRequestHeader("If-None-Match", n.etag[A]));
            (r.data && r.hasContent && !1 !== r.contentType || b.contentType) && y.setRequestHeader("Content-Type", r.contentType);
            y.setRequestHeader("Accept", r.dataTypes[0] &&
                r.accepts[r.dataTypes[0]] ? r.accepts[r.dataTypes[0]] + ("*" !== r.dataTypes[0] ? ", " + Mb + "; q\x3d0.01" : "") : r.accepts["*"]);
            for (e in r.headers) y.setRequestHeader(e, r.headers[e]);
            if (r.beforeSend && (!1 === r.beforeSend.call(v, y, r) || 2 === u)) return y.abort();
            q = "abort";
            for (e in {
                    success: 1,
                    error: 1,
                    complete: 1
                }) y[e](r[e]);
            if (l = U(wb, r, b, y)) {
                y.readyState = 1;
                g && k.trigger("ajaxSend", [y, r]);
                r.async && 0 < r.timeout && (f = setTimeout(function() {
                    y.abort("timeout")
                }, r.timeout));
                try {
                    u = 1, l.send(B, c)
                } catch (Hb) {
                    if (!(2 > u)) throw Hb;
                    c(-1, Hb)
                }
            } else c(-1,
                "No Transport");
            return y
        },
        getJSON: function(a, b, c) {
            return n.get(a, b, c, "json")
        },
        getScript: function(a, b) {
            return n.get(a, void 0, b, "script")
        }
    });
    n.each(["get", "post"], function(a, b) {
        n[b] = function(a, c, d, e) {
            return n.isFunction(c) && (e = e || d, d = c, c = void 0), n.ajax({
                url: a,
                type: b,
                dataType: e,
                data: c,
                success: d
            })
        }
    });
    n.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "), function(a, b) {
        n.fn[b] = function(a) {
            return this.on(b, a)
        }
    });
    n._evalUrl = function(a) {
        return n.ajax({
            url: a,
            type: "GET",
            dataType: "script",
            async: !1,
            global: !1,
            "throws": !0
        })
    };
    n.fn.extend({
        wrapAll: function(a) {
            if (n.isFunction(a)) return this.each(function(b) {
                n(this).wrapAll(a.call(this, b))
            });
            if (this[0]) {
                var b = n(a, this[0].ownerDocument).eq(0).clone(!0);
                this[0].parentNode && b.insertBefore(this[0]);
                b.map(function() {
                    for (var a = this; a.firstChild && 1 === a.firstChild.nodeType;) a = a.firstChild;
                    return a
                }).append(this)
            }
            return this
        },
        wrapInner: function(a) {
            return this.each(n.isFunction(a) ? function(b) {
                n(this).wrapInner(a.call(this, b))
            } : function() {
                var b = n(this),
                    c = b.contents();
                c.length ? c.wrapAll(a) : b.append(a)
            })
        },
        wrap: function(a) {
            var b = n.isFunction(a);
            return this.each(function(c) {
                n(this).wrapAll(b ? a.call(this, c) : a)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                n.nodeName(this, "body") || n(this).replaceWith(this.childNodes)
            }).end()
        }
    });
    n.expr.filters.hidden = function(a) {
        return 0 >= a.offsetWidth && 0 >= a.offsetHeight || !L.reliableHiddenOffsets() && "none" === (a.style && a.style.display || n.css(a, "display"))
    };
    n.expr.filters.visible = function(a) {
        return !n.expr.filters.hidden(a)
    };
    var hc = /%20/g,
        Ub = /\[\]$/,
        Nb = /\r?\n/g,
        ic = /^(?:submit|button|image|reset|file)$/i,
        jc = /^(?:input|select|textarea|keygen)/i;
    n.param = function(a, b) {
        var c, d = [],
            e = function(a, b) {
                b = n.isFunction(b) ? b() : null == b ? "" : b;
                d[d.length] = encodeURIComponent(a) + "\x3d" + encodeURIComponent(b)
            };
        if (void 0 === b && (b = n.ajaxSettings && n.ajaxSettings.traditional), n.isArray(a) || a.jquery && !n.isPlainObject(a)) n.each(a, function() {
            e(this.name, this.value)
        });
        else
            for (c in a) Y(c, a[c], b, e);
        return d.join("\x26").replace(hc, "+")
    };
    n.fn.extend({
        serialize: function() {
            return n.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                var a = n.prop(this, "elements");
                return a ? n.makeArray(a) : this
            }).filter(function() {
                var a = this.type;
                return this.name && !n(this).is(":disabled") && jc.test(this.nodeName) && !ic.test(a) && (this.checked || !Va.test(a))
            }).map(function(a, b) {
                a = n(this).val();
                return null == a ? null : n.isArray(a) ? n.map(a, function(a) {
                    return {
                        name: b.name,
                        value: a.replace(Nb, "\r\n")
                    }
                }) : {
                    name: b.name,
                    value: a.replace(Nb, "\r\n")
                }
            }).get()
        }
    });
    n.ajaxSettings.xhr = void 0 !== b.ActiveXObject ? function() {
        var a;
        if (!(a = !this.isLocal && /^(get|post|head|put|delete|options)$/i.test(this.type) && ca())) a: {
            try {
                a = new b.ActiveXObject("Microsoft.XMLHTTP");
                break a
            } catch (Fb) {}
            a = void 0
        }
        return a
    } : ca;
    var kc = 0,
        rb = {},
        sb = n.ajaxSettings.xhr();
    b.ActiveXObject && n(b).on("unload", function() {
        for (var a in rb) rb[a](void 0, !0)
    });
    L.cors = !!sb && "withCredentials" in sb;
    (sb = L.ajax = !!sb) && n.ajaxTransport(function(a) {
        if (!a.crossDomain || L.cors) {
            var b;
            return {
                send: function(c, d) {
                    var e, h = a.xhr(),
                        f = ++kc;
                    if (h.open(a.type, a.url, a.async, a.username,
                            a.password), a.xhrFields)
                        for (e in a.xhrFields) h[e] = a.xhrFields[e];
                    a.mimeType && h.overrideMimeType && h.overrideMimeType(a.mimeType);
                    a.crossDomain || c["X-Requested-With"] || (c["X-Requested-With"] = "XMLHttpRequest");
                    for (e in c) void 0 !== c[e] && h.setRequestHeader(e, c[e] + "");
                    h.send(a.hasContent && a.data || null);
                    b = function(c, e) {
                        if (b && (e || 4 === h.readyState))
                            if (delete rb[f], b = void 0, h.onreadystatechange = n.noop, e) 4 !== h.readyState && h.abort();
                            else {
                                var g = {};
                                var l = h.status;
                                "string" == typeof h.responseText && (g.text = h.responseText);
                                try {
                                    var m = h.statusText
                                } catch (Tb) {
                                    m = ""
                                }
                                l || !a.isLocal || a.crossDomain ? 1223 === l && (l = 204) : l = g.text ? 200 : 404
                            } g && d(l, m, g, h.getAllResponseHeaders())
                    };
                    a.async ? 4 === h.readyState ? setTimeout(b) : h.onreadystatechange = rb[f] = b : b()
                },
                abort: function() {
                    b && b(void 0, !0)
                }
            }
        }
    });
    n.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /(?:java|ecma)script/
        },
        converters: {
            "text script": function(a) {
                return n.globalEval(a), a
            }
        }
    });
    n.ajaxPrefilter("script",
        function(a) {
            void 0 === a.cache && (a.cache = !1);
            a.crossDomain && (a.type = "GET", a.global = !1)
        });
    n.ajaxTransport("script", function(a) {
        if (a.crossDomain) {
            var b, c = P.head || n("head")[0] || P.documentElement;
            return {
                send: function(d, e) {
                    b = P.createElement("script");
                    b.async = !0;
                    a.scriptCharset && (b.charset = a.scriptCharset);
                    b.src = a.url;
                    b.onload = b.onreadystatechange = function(a, c) {
                        (c || !b.readyState || /loaded|complete/.test(b.readyState)) && (b.onload = b.onreadystatechange = null, b.parentNode && b.parentNode.removeChild(b), b = null, c ||
                            e(200, "success"))
                    };
                    c.insertBefore(b, c.firstChild)
                },
                abort: function() {
                    b && b.onload(void 0, !0)
                }
            }
        }
    });
    var Ob = [],
        Eb = /(=)\?(?=&|$)|\?\?/;
    n.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var a = Ob.pop() || n.expando + "_" + Cb++;
            return this[a] = !0, a
        }
    });
    n.ajaxPrefilter("json jsonp", function(a, c, d) {
        var e, h, f, g = !1 !== a.jsonp && (Eb.test(a.url) ? "url" : "string" == typeof a.data && !(a.contentType || "").indexOf("application/x-www-form-urlencoded") && Eb.test(a.data) && "data");
        return g || "jsonp" === a.dataTypes[0] ? (e = a.jsonpCallback =
            n.isFunction(a.jsonpCallback) ? a.jsonpCallback() : a.jsonpCallback, g ? a[g] = a[g].replace(Eb, "$1" + e) : !1 !== a.jsonp && (a.url += (Db.test(a.url) ? "\x26" : "?") + a.jsonp + "\x3d" + e), a.converters["script json"] = function() {
                return f || n.error(e + " was not called"), f[0]
            }, a.dataTypes[0] = "json", h = b[e], b[e] = function() {
                f = arguments
            }, d.always(function() {
                b[e] = h;
                a[e] && (a.jsonpCallback = c.jsonpCallback, Ob.push(e));
                f && n.isFunction(h) && h(f[0]);
                f = h = void 0
            }), "script") : void 0
    });
    n.parseHTML = function(a, b, c) {
        if (!a || "string" != typeof a) return null;
        "boolean" == typeof b && (c = b, b = !1);
        b = b || P;
        var d = D.exec(a);
        c = !c && [];
        return d ? [b.createElement(d[1])] : (d = n.buildFragment([a], b, c), c && c.length && n(c).remove(), n.merge([], d.childNodes))
    };
    var Pb = n.fn.load;
    n.fn.load = function(a, b, c) {
        if ("string" != typeof a && Pb) return Pb.apply(this, arguments);
        var d, e, h, f = this,
            g = a.indexOf(" ");
        return 0 <= g && (d = n.trim(a.slice(g, a.length)), a = a.slice(0, g)), n.isFunction(b) ? (c = b, b = void 0) : b && "object" == typeof b && (h = "POST"), 0 < f.length && n.ajax({
            url: a,
            type: h,
            dataType: "html",
            data: b
        }).done(function(a) {
            e =
                arguments;
            f.html(d ? n("\x3cdiv\x3e").append(n.parseHTML(a)).find(d) : a)
        }).complete(c && function(a, b) {
            f.each(c, e || [a.responseText, b, a])
        }), this
    };
    n.expr.filters.animated = function(a) {
        return n.grep(n.timers, function(b) {
            return a === b.elem
        }).length
    };
    var Qb = b.document.documentElement;
    n.offset = {
        setOffset: function(a, b, c) {
            var d, e, h, f = n.css(a, "position"),
                g = n(a),
                l = {};
            "static" === f && (a.style.position = "relative");
            var m = g.offset();
            var r = n.css(a, "top");
            var v = n.css(a, "left");
            ("absolute" === f || "fixed" === f) && -1 < n.inArray("auto",
                [r, v]) ? (d = g.position(), h = d.top, e = d.left) : (h = parseFloat(r) || 0, e = parseFloat(v) || 0);
            n.isFunction(b) && (b = b.call(a, c, m));
            null != b.top && (l.top = b.top - m.top + h);
            null != b.left && (l.left = b.left - m.left + e);
            "using" in b ? b.using.call(a, l) : g.css(l)
        }
    };
    n.fn.extend({
        offset: function(a) {
            if (arguments.length) return void 0 === a ? this : this.each(function(b) {
                n.offset.setOffset(this, a, b)
            });
            var b, c, d = {
                    top: 0,
                    left: 0
                },
                e = this[0],
                h = e && e.ownerDocument;
            if (h) return b = h.documentElement, n.contains(b, e) ? ("undefined" !== typeof e.getBoundingClientRect &&
                (d = e.getBoundingClientRect()), c = aa(h), {
                    top: d.top + (c.pageYOffset || b.scrollTop) - (b.clientTop || 0),
                    left: d.left + (c.pageXOffset || b.scrollLeft) - (b.clientLeft || 0)
                }) : d
        },
        position: function() {
            if (this[0]) {
                var a, b, c = {
                        top: 0,
                        left: 0
                    },
                    d = this[0];
                return "fixed" === n.css(d, "position") ? b = d.getBoundingClientRect() : (a = this.offsetParent(), b = this.offset(), n.nodeName(a[0], "html") || (c = a.offset()), c.top += n.css(a[0], "borderTopWidth", !0), c.left += n.css(a[0], "borderLeftWidth", !0)), {
                    top: b.top - c.top - n.css(d, "marginTop", !0),
                    left: b.left -
                        c.left - n.css(d, "marginLeft", !0)
                }
            }
        },
        offsetParent: function() {
            return this.map(function() {
                for (var a = this.offsetParent || Qb; a && !n.nodeName(a, "html") && "static" === n.css(a, "position");) a = a.offsetParent;
                return a || Qb
            })
        }
    });
    n.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(a, b) {
        var c = /Y/.test(b);
        n.fn[a] = function(d) {
            return Z(this, function(a, d, e) {
                    var h = aa(a);
                    return void 0 === e ? h ? b in h ? h[b] : h.document.documentElement[d] : a[d] : void(h ? h.scrollTo(c ? n(h).scrollLeft() : e, c ? e : n(h).scrollTop()) : a[d] = e)
                },
                a, d, arguments.length, null)
        }
    });
    n.each(["top", "left"], function(a, b) {
        n.cssHooks[b] = O(L.pixelPosition, function(a, c) {
            return c ? (c = Ga(a, b), Aa.test(c) ? n(a).position()[b] + "px" : c) : void 0
        })
    });
    n.each({
        Height: "height",
        Width: "width"
    }, function(a, b) {
        n.each({
            padding: "inner" + a,
            content: b,
            "": "outer" + a
        }, function(c, d) {
            n.fn[d] = function(d, e) {
                var h = arguments.length && (c || "boolean" != typeof d),
                    f = c || (!0 === d || !0 === e ? "margin" : "border");
                return Z(this, function(b, c, d) {
                    var e;
                    return n.isWindow(b) ? b.document.documentElement["client" +
                        a] : 9 === b.nodeType ? (e = b.documentElement, Math.max(b.body["scroll" + a], e["scroll" + a], b.body["offset" + a], e["offset" + a], e["client" + a])) : void 0 === d ? n.css(b, c, f) : n.style(b, c, d, f)
                }, b, h ? d : void 0, h, null)
            }
        })
    });
    n.fn.size = function() {
        return this.length
    };
    n.fn.andSelf = n.fn.addBack;
    "function" == typeof define && define.amd && define("jquery", [], function() {
        return n
    });
    var lc = b.jQuery,
        mc = b.$;
    return n.noConflict = function(a) {
        return b.$ === n && (b.$ = mc), a && b.jQuery === n && (b.jQuery = lc), n
    }, "undefined" === typeof f && (b.jQuery = b.$ = n), n
});
var mini = mini || {};
mini.digital = mini.digital || {};
mini.digital.$ = $;
(function(b) {
    var f = {},
        k = {};
    b.publish = function(g, c) {
        f[g] && b.each(f[g], function() {
            "function" === typeof this && this.apply(b, c || [])
        });
        if (f[g] && f[g].length > k[g]) {
            for (var a = [], d = 0; d < f[g].length; d++) f[g][d] && a.push(f[g][d]);
            f[g] = a
        }
    };
    b.subscribe = function(b, c) {
        f[b] || (f[b] = [], k[b] = 0);
        f[b].push(c);
        k[b] += 1;
        return [b, c]
    };
    b.unsubscribe = function(g) {
        var c = g[0];
        f[c] && b.each(f[c], function(a) {
            this === g[1] && (delete f[c][a], --k[c])
        })
    }
})(mini.digital.$);
(function(b, f) {
    function k(a, h, g, k, q) {
        function e() {
            C = 1 < b.devicePixelRatio;
            m(g);
            0 <= h.delay && setTimeout(function() {
                p(!0)
            }, h.delay);
            if (0 > h.delay || h.combined) k.e = t(h.throttle, function(a) {
                "resize" === a.type && (E = y = -1);
                p(a.all)
            }), k.a = function(a) {
                m(a);
                g.push.apply(g, a)
            }, k.g = function() {
                return g = c(g).filter(function() {
                    return !c(this).data(h.loadedName)
                })
            }, k.f = function(a) {
                for (var b = 0; b < a.length; b++) {
                    var c = g.filter(a[b]);
                    c.length && p(!1, c)
                }
            }, p(), c(h.appendScroll).on("scroll." + q + " resize." + q, k.e)
        }

        function m(b) {
            var d =
                h.defaultImage,
                e = h.placeholder,
                g = h.imageBase,
                l = h.srcsetAttribute,
                r = h.loaderAttribute,
                m = h._f || {};
            b = c(b).filter(function() {
                var a = c(this),
                    b = this.tagName.toLowerCase();
                return !a.data(h.handledName) && (a.attr(h.attribute) || a.attr(l) || a.attr(r) || m[b] !== f)
            }).data("plugin_" + h.name, a);
            for (var k = 0, t = b.length; k < t; k++) {
                var p = c(b[k]),
                    x = b[k].tagName.toLowerCase(),
                    B = p.attr(h.imageBaseAttribute) || g;
                "img" == x && B && p.attr(l) && p.attr(l, v(p.attr(l), B));
                m[x] === f || p.attr(r) || p.attr(r, m[x]);
                "img" == x && d && !p.attr("src") ? p.attr("src",
                    d) : "img" == x || !e || p.css("background-image") && "none" != p.css("background-image") || p.css("background-image", "url('" + e + "')")
            }
        }

        function p(b, d) {
            if (g.length) {
                for (var e = d || g, f = !1, l = h.imageBase || "", m = h.srcsetAttribute, v = h.handledName, k = 0; k < e.length; k++)
                    if (b || d || x(e[k])) {
                        var t = c(e[k]),
                            p = e[k].tagName.toLowerCase(),
                            B = t.attr(h.attribute),
                            z = t.attr(h.imageBaseAttribute) || l,
                            q = t.attr(h.loaderAttribute);
                        t.data(v) || h.visibleOnly && !t.is(":visible") || !((B || t.attr(m)) && ("img" == p && (z + B != t.attr("src") || t.attr(m) != t.attr("srcset")) ||
                            "img" != p && z + B != t.css("background-image")) || q) || (f = !0, t.data(v, !0), r(t, p, z, q))
                    } f && (g = c(g).filter(function() {
                    return !c(this).data(v)
                }))
            } else h.autoDestroy && a.destroy()
        }

        function r(a, b, d, e) {
            ++B;
            var f = function() {
                z("onError", a);
                A();
                f = c.noop
            };
            z("beforeLoad", a);
            var g = h.attribute,
                l = h.srcsetAttribute,
                m = h.sizesAttribute,
                r = h.retinaAttribute,
                v = h.removeAttribute,
                k = h.loadedName,
                t = a.attr(r);
            if (e) {
                var p = function() {
                    v && a.removeAttr(h.loaderAttribute);
                    a.data(k, !0);
                    z("afterLoad", a);
                    setTimeout(A, 1);
                    p = c.noop
                };
                a.off("error").one("error",
                    f).one("load", p);
                z(e, a, function(b) {
                    b ? (a.off("load"), p()) : (a.off("error"), f())
                }) || a.trigger("error")
            } else {
                var x = c(new Image);
                x.one("error", f).one("load", function() {
                    a.hide();
                    "img" == b ? a.attr("sizes", x.attr("sizes")).attr("srcset", x.attr("srcset")).attr("src", x.attr("src")) : a.css("background-image", "url('" + x.attr("src") + "')");
                    a[h.effect](h.effectTime);
                    v && (a.removeAttr(g + " " + l + " " + r + " " + h.imageBaseAttribute), "sizes" !== m && a.removeAttr(m));
                    a.data(k, !0);
                    z("afterLoad", a);
                    x.remove();
                    A()
                });
                e = (C && t ? t : a.attr(g)) ||
                    "";
                x.attr("sizes", a.attr(m)).attr("srcset", a.attr(l)).attr("src", e ? d + e : null);
                x.complete && x.trigger("load")
            }
        }

        function x(a) {
            var d = a.getBoundingClientRect();
            a = h.scrollDirection;
            var e = h.threshold,
                f = (0 <= y ? y : y = c(b).height()) + e > d.top && -e < d.bottom;
            d = (0 <= E ? E : E = c(b).width()) + e > d.left && -e < d.right;
            return "vertical" == a ? f : "horizontal" == a ? d : f && d
        }

        function v(a, b) {
            if (b) {
                var c = a.split(",");
                a = "";
                for (var d = 0, e = c.length; d < e; d++) a += b + c[d].trim() + (d !== e - 1 ? "," : "")
            }
            return a
        }

        function t(b, c) {
            var d, e = 0;
            return function(f, g) {
                function l() {
                    e = +new Date;
                    c.call(a, f)
                }
                var m = +new Date - e;
                d && clearTimeout(d);
                m > b || !h.enableThrottle || g ? l() : d = setTimeout(l, b - m)
            }
        }

        function A() {
            --B;
            g.length || B || z("onFinishedAll")
        }

        function z(b, c, d) {
            return (b = h[b]) ? (b.apply(a, [].slice.call(arguments, 1)), !0) : !1
        }
        var B = 0,
            E = -1,
            y = -1,
            C = !1;
        if ("event" == h.bind || d) e();
        else c(b).on("load." + q, e)
    }

    function g(d, h) {
        var e = this,
            g = c.extend({}, e.config, h),
            q = {},
            l = g.name + "-" + ++a;
        e.config = function(a, b) {
            if (b === f) return g[a];
            g[a] = b;
            return e
        };
        e.addItems = function(a) {
            q.a && q.a("string" === c.type(a) ?
                c(a) : a);
            return e
        };
        e.getItems = function() {
            return q.g ? q.g() : {}
        };
        e.update = function(a) {
            q.e && q.e({}, !a);
            return e
        };
        e.force = function(a) {
            q.f && q.f("string" === c.type(a) ? c(a) : a);
            return e
        };
        e.loadAll = function() {
            q.e && q.e({
                all: !0
            }, !0);
            return e
        };
        e.destroy = function() {
            c(g.appendScroll).off("." + l, q.e);
            c(b).off("." + l);
            q = {};
            return f
        };
        k(e, g, d, q, l);
        return g.chainable ? d : e
    }
    var c = b.jQuery || b.Zepto,
        a = 0,
        d = !1;
    c.fn.Lazy = c.fn.lazy = function(a) {
        return new g(this, a)
    };
    c.Lazy = c.lazy = function(a, b, d) {
        c.isFunction(b) && (d = b, b = []);
        if (c.isFunction(d)) {
            a =
                c.isArray(a) ? a : [a];
            b = c.isArray(b) ? b : [b];
            for (var e = g.prototype.config, h = e._f || (e._f = {}), l = 0, m = a.length; l < m; l++)
                if (e[a[l]] === f || c.isFunction(e[a[l]])) e[a[l]] = d;
            d = 0;
            for (e = b.length; d < e; d++) h[b[d]] = a[0]
        }
    };
    g.prototype.config = {
        name: "lazy",
        chainable: !0,
        autoDestroy: !0,
        bind: "load",
        threshold: 500,
        visibleOnly: !1,
        appendScroll: b,
        scrollDirection: "both",
        imageBase: null,
        defaultImage: "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw\x3d\x3d",
        placeholder: null,
        delay: -1,
        combined: !1,
        attribute: "data-src",
        srcsetAttribute: "data-srcset",
        sizesAttribute: "data-sizes",
        retinaAttribute: "data-retina",
        loaderAttribute: "data-loader",
        imageBaseAttribute: "data-imagebase",
        removeAttribute: !0,
        handledName: "handled",
        loadedName: "loaded",
        effect: "show",
        effectTime: 0,
        enableThrottle: !0,
        throttle: 250,
        beforeLoad: f,
        afterLoad: f,
        onError: f,
        onFinishedAll: f
    };
    c(b).on("load", function() {
        d = !0
    })
})(window);
! function(b, f, k) {
    "undefined" != typeof module && module.exports ? module.exports = k() : "function" == typeof define && define.amd ? define(f, k) : b[f] = k()
}(this, "cosyEncoder", function() {
    return function() {
        var b = void 0,
            f = "https://cosy.bmwgroup.com/miniweb/cosySec?",
            k = "https://cosy-int.bmwgroup.net/miniweb/cosySec?",
            g = "https://cosy.bmwgroup.com/h5vcom/cosySec?",
            c = "4Zak0rQzNsXdVEl3S1CTuf7yJ%tmLHwYqoi6Dh9pjMbG2ePUvBW8gIKx5OFcRnA";
        void 0 === b && (b = window.mini.digital.$("#imageCosySettings").data("chinaCosy"));
        b && (f = "https://cosycn.bmwgroup.com/hvcob/cosySec?",
            k = "https://cosycn-int.bmwgroup.net/miniweb/cosySec?", g = "https://cosycn.bmwgroup.com/h5vcom/cosySec?", c = "gGCtnx2%q7H4VIrKamSzsuRolDNBZWXJQpfj8PMU03heyL1Ok6YvTEFd5Aicw9b");
        return {
            serialize: function(a) {
                var b = [];
                Object.keys(a).forEach(function(c) {
                    b.push(encodeURIComponent(c) + "\x3d" + encodeURIComponent(a[c]))
                });
                return b.join("\x26")
            },
            encode: function(a, b) {
                b = "int" === b ? k : "h5vco" === b ? g : f;
                var d = c;
                var h = "";
                var m = 25;
                var p = "COSY-EU-100-" + m + 45;
                var q = "";
                var l = 0;
                a = a.toString();
                for (var u = /(^[a-zA-Z0-9_.]*)/; l < a.length;) {
                    var w =
                        u.exec(a.substr(l));
                    null !== w && 1 < w.length && "" !== w[1] ? (q += w[1], l += w[1].length) : (" " === a[l] ? q += "+" : (w = a.charCodeAt(l).toString(16), q += "%" + (2 > w.length ? "0" : "") + w.toUpperCase()), l++)
                }
                l = q;
                for (q = 0; q < l.length; q++) switch (l.charAt(q)) {
                    case "+":
                        h += "%20";
                        break;
                    case "-":
                        h += "%2D";
                        break;
                    case "_":
                        h += "%5F";
                        break;
                    case ".":
                        h += "%2E";
                        break;
                    case "*":
                        h += "%2A";
                        break;
                    default:
                        h += l.charAt(q)
                }
                for (q = 0; q < h.length; q++) p += d.charAt((m + d.indexOf(h.charAt(q))) % 63), m += 45;
                d = encodeURI(p);
                return b + d
            }
        }
    }()
});
! function(b, f, k) {
    "undefined" != typeof module && module.exports ? module.exports = k() : "function" == typeof define && define.amd ? define(f, k) : b[f] = k()
}(this, "cosyDecoder", function() {
    return function() {
        var b = void 0,
            f = "4Zak0rQzNsXdVEl3S1CTuf7yJ%tmLHwYqoi6Dh9pjMbG2ePUvBW8gIKx5OFcRnA";
        void 0 === b && (b = window.mini.digital.$("#imageCosySettings").data("chinaCosy"));
        b && (f = "gGCtnx2%q7H4VIrKamSzsuRolDNBZWXJQpfj8PMU03heyL1Ok6YvTEFd5Aicw9b");
        return {
            decode: function(b) {
                if ("string" === typeof b) {
                    var g = f,
                        c = "";
                    b = decodeURI(b);
                    var a =
                        b.indexOf("COSY-EU");
                    if (-1 !== a) {
                        b = b.substr(a);
                        var d = parseInt(b.substring(12, 14), 10);
                        var e = parseInt(b.substring(14, 16), 10);
                        for (a = 16; a < b.length; a++) {
                            var h = g.indexOf(b.charAt(a)) - d;
                            0 > h && (h -= 63 * (Math.ceil(h / 63) - 1));
                            c += g.charAt(h % 63);
                            d += e
                        }
                        g = c;
                        c = /(%[^%]{2})/;
                        for (var m; null !== (m = c.exec(g)) && 1 < m.length && "" !== m[1];) b = parseInt(m[1].substr(1), 16), b = String.fromCharCode(b), g = g.replace(m[1], b);
                        return g
                    }
                }
            },
            unserialize: function(b) {
                try {
                    return JSON.parse('{"' + decodeURIComponent(b).replace(/\s+/g, "").replace(/\\x20/g,
                        " ").replace(/"/g, "").replace(/&/g, '","').replace(/=/g, '":"') + '"}')
                } catch (g) {
                    return console.error(g), {}
                }
            }
        }
    }()
});
"undefined" === typeof jwplayer && (jwplayer = function() {
        if (jwplayer.api) return jwplayer.api.selectPlayer.apply(this, arguments)
    }, jwplayer.version = "6.12.4956", jwplayer.vid = document.createElement("video"), jwplayer.audio = document.createElement("audio"), jwplayer.source = document.createElement("source"), function() {
        var b = {},
            f = Array.prototype,
            k = Object.prototype,
            g = f.slice,
            c = f.concat,
            a = k.toString,
            d = k.hasOwnProperty,
            e = f.map,
            h = f.forEach,
            m = f.filter,
            p = f.every,
            q = f.some,
            l = f.indexOf;
        k = Array.isArray;
        var u = Object.keys,
            w =
            function(a) {
                if (a instanceof w) return a;
                if (!(this instanceof w)) return new w(a)
            },
            r = w.each = w.forEach = function(a, c, d) {
                if (null == a) return a;
                if (h && a.forEach === h) a.forEach(c, d);
                else if (a.length === +a.length)
                    for (var e = 0, f = a.length; e < f; e++) {
                        if (c.call(d, a[e], e, a) === b) return
                    } else {
                        var g = w.keys(a);
                        e = 0;
                        for (f = g.length; e < f; e++)
                            if (c.call(d, a[g[e]], g[e], a) === b) return
                    }
                return a
            };
        w.map = w.collect = function(a, b, c) {
            var d = [];
            if (null == a) return d;
            if (e && a.map === e) return a.map(b, c);
            r(a, function(a, e, h) {
                d.push(b.call(c, a, e, h))
            });
            return d
        };
        w.find = w.detect = function(a, b, c) {
            var d;
            x(a, function(a, e, h) {
                if (b.call(c, a, e, h)) return d = a, !0
            });
            return d
        };
        w.filter = w.select = function(a, b, c) {
            var d = [];
            if (null == a) return d;
            if (m && a.filter === m) return a.filter(b, c);
            r(a, function(a, e, h) {
                b.call(c, a, e, h) && d.push(a)
            });
            return d
        };
        w.every = w.all = function(a, c, d) {
            c || (c = w.identity);
            var e = !0;
            if (null == a) return e;
            if (p && a.every === p) return a.every(c, d);
            r(a, function(a, h, f) {
                if (!(e = e && c.call(d, a, h, f))) return b
            });
            return !!e
        };
        var x = w.some = w.any = function(a, c, d) {
            c || (c = w.identity);
            var e = !1;
            if (null == a) return e;
            if (q && a.some === q) return a.some(c, d);
            r(a, function(a, h, f) {
                if (e || (e = c.call(d, a, h, f))) return b
            });
            return !!e
        };
        w.size = function(a) {
            return null == a ? 0 : a.length === +a.length ? a.length : w.keys(a).length
        };
        w.after = function(a, b) {
            return function() {
                if (1 > --a) return b.apply(this, arguments)
            }
        };
        w.sortedIndex = function(a, b, c, d) {
            c = null == c ? w.identity : w.isFunction(c) ? c : w.property(c);
            b = c.call(d, b);
            for (var e = 0, h = a.length; e < h;) {
                var f = e + h >>> 1;
                c.call(d, a[f]) < b ? e = f + 1 : h = f
            }
            return e
        };
        w.find = w.detect = function(a,
            b, c) {
            var d;
            x(a, function(a, e, h) {
                if (b.call(c, a, e, h)) return d = a, !0
            });
            return d
        };
        x = w.some = w.any = function(a, c, d) {
            c || (c = w.identity);
            var e = !1;
            if (null == a) return e;
            if (q && a.some === q) return a.some(c, d);
            r(a, function(a, h, f) {
                if (e || (e = c.call(d, a, h, f))) return b
            });
            return !!e
        };
        w.contains = w.include = function(a, b) {
            if (null == a) return !1;
            a.length !== +a.length && (a = w.values(a));
            return 0 <= w.indexOf(a, b)
        };
        w.where = function(a, b) {
            return w.filter(a, w.matches(b))
        };
        w.difference = function(a) {
            var b = c.apply(f, g.call(arguments, 1));
            return w.filter(a,
                function(a) {
                    return !w.contains(b, a)
                })
        };
        w.without = function(a) {
            return w.difference(a, g.call(arguments, 1))
        };
        w.indexOf = function(a, b, c) {
            if (null == a) return -1;
            var d = 0,
                e = a.length;
            if (c)
                if ("number" == typeof c) d = 0 > c ? Math.max(0, e + c) : c;
                else return d = w.sortedIndex(a, b), a[d] === b ? d : -1;
            if (l && a.indexOf === l) return a.indexOf(b, c);
            for (; d < e; d++)
                if (a[d] === b) return d;
            return -1
        };
        w.partial = function(a) {
            var b = g.call(arguments, 1);
            return function() {
                for (var c = 0, d = b.slice(), e = 0, h = d.length; e < h; e++) d[e] === w && (d[e] = arguments[c++]);
                for (; c <
                    arguments.length;) d.push(arguments[c++]);
                return a.apply(this, d)
            }
        };
        w.memoize = function(a, b) {
            var c = {};
            b || (b = w.identity);
            return function() {
                var d = b.apply(this, arguments);
                return w.has(c, d) ? c[d] : c[d] = a.apply(this, arguments)
            }
        };
        w.delay = function(a, b) {
            var c = g.call(arguments, 2);
            return setTimeout(function() {
                return a.apply(null, c)
            }, b)
        };
        w.defer = function(a) {
            return w.delay.apply(w, [a, 1].concat(g.call(arguments, 1)))
        };
        w.keys = function(a) {
            if (!w.isObject(a)) return [];
            if (u) return u(a);
            var b = [],
                c;
            for (c in a) w.has(a, c) && b.push(c);
            return b
        };
        w.pick = function(a) {
            var b = {},
                d = c.apply(f, g.call(arguments, 1));
            r(d, function(c) {
                c in a && (b[c] = a[c])
            });
            return b
        };
        w.isArray = k || function(b) {
            return "[object Array]" == a.call(b)
        };
        w.isObject = function(a) {
            return a === Object(a)
        };
        r("Arguments Function String Number Date RegExp".split(" "), function(b) {
            w["is" + b] = function(c) {
                return a.call(c) == "[object " + b + "]"
            }
        });
        w.isArguments(arguments) || (w.isArguments = function(a) {
            return !(!a || !w.has(a, "callee"))
        });
        "function" !== typeof /./ && (w.isFunction = function(a) {
            return "function" ===
                typeof a
        });
        w.isFinite = function(a) {
            return isFinite(a) && !isNaN(parseFloat(a))
        };
        w.isNaN = function(a) {
            return w.isNumber(a) && a != +a
        };
        w.isBoolean = function(b) {
            return !0 === b || !1 === b || "[object Boolean]" == a.call(b)
        };
        w.isNull = function(a) {
            return null === a
        };
        w.isUndefined = function(a) {
            return void 0 === a
        };
        w.has = function(a, b) {
            return d.call(a, b)
        };
        w.identity = function(a) {
            return a
        };
        w.constant = function(a) {
            return function() {
                return a
            }
        };
        w.property = function(a) {
            return function(b) {
                return b[a]
            }
        };
        w.matches = function(a) {
            return function(b) {
                if (b ===
                    a) return !0;
                for (var c in a)
                    if (a[c] !== b[c]) return !1;
                return !0
            }
        };
        w.result = function(a, b) {
            if (null != a) return b = a[b], w.isFunction(b) ? b.call(a) : b
        };
        this._ = w
    }.call(jwplayer), function(b) {
        function f(a) {
            return function() {
                return d(a)
            }
        }

        function k(a, b, c, d, e) {
            return function() {
                var h, f;
                if (e) c(a);
                else {
                    try {
                        if (h = a.responseXML)
                            if (f = h.firstChild, h.lastChild && "parsererror" === h.lastChild.nodeName) {
                                d && d("Invalid XML", b, a);
                                return
                            }
                    } catch (r) {}
                    if (h && f) return c(a);
                    (h = g.parseXML(a.responseText)) && h.firstChild ? (a = g.extend({}, a, {
                            responseXML: h
                        }),
                        c(a)) : d && d(a.responseText ? "Invalid XML" : b, b, a)
                }
            }
        }
        var g = b.utils = {},
            c = b._;
        g.exists = function(a) {
            switch (typeof a) {
                case "string":
                    return 0 < a.length;
                case "object":
                    return null !== a;
                case "undefined":
                    return !1
            }
            return !0
        };
        g.styleDimension = function(a) {
            return a + (0 < a.toString().indexOf("%") ? "" : "px")
        };
        g.getAbsolutePath = function(a, b) {
            g.exists(b) || (b = document.location.href);
            if (g.exists(a)) {
                if (g.exists(a)) {
                    var c = a.indexOf("://");
                    var d = a.indexOf("?");
                    c = 0 < c && (0 > d || d > c)
                } else c = void 0;
                if (c) return a;
                c = b.substring(0, b.indexOf("://") +
                    3);
                d = b.substring(c.length, b.indexOf("/", c.length + 1));
                var e;
                0 === a.indexOf("/") ? e = a.split("/") : (e = b.split("?")[0], e = e.substring(c.length + d.length + 1, e.lastIndexOf("/")), e = e.split("/").concat(a.split("/")));
                a = [];
                for (b = 0; b < e.length; b++) e[b] && g.exists(e[b]) && "." !== e[b] && (".." === e[b] ? a.pop() : a.push(e[b]));
                return c + d + "/" + a.join("/")
            }
        };
        g.extend = function() {
            var a = Array.prototype.slice.call(arguments, 0);
            if (1 < a.length) {
                for (var b = a[0], c = function(a, c) {
                        void 0 !== c && null !== c && (b[a] = c)
                    }, d = 1; d < a.length; d++) g.foreach(a[d],
                    c);
                return b
            }
            return null
        };
        var a = window.console = window.console || {
            log: function() {}
        };
        g.log = function() {
            var b = Array.prototype.slice.call(arguments, 0);
            "object" === typeof a.log ? a.log(b) : a.log.apply(a, b)
        };
        var d = c.memoize(function(a) {
            return null !== navigator.userAgent.toLowerCase().match(a)
        });
        g.isFF = f(/firefox/i);
        g.isChrome = f(/chrome/i);
        g.isIPod = f(/iP(hone|od)/i);
        g.isIPad = f(/iPad/i);
        g.isSafari602 = f(/Macintosh.*Mac OS X 10_8.*6\.0\.\d* Safari/i);
        g.isIETrident = function(a) {
            return a ? (a = parseFloat(a).toFixed(1), d(RegExp("trident/.+rv:\\s*" +
                a, "i"))) : d(/trident/i)
        };
        g.isMSIE = function(a) {
            return a ? (a = parseFloat(a).toFixed(1), d(RegExp("msie\\s*" + a, "i"))) : d(/msie/i)
        };
        g.isIE = function(a) {
            return a ? (a = parseFloat(a).toFixed(1), 11 <= a ? g.isIETrident(a) : g.isMSIE(a)) : g.isMSIE() || g.isIETrident()
        };
        g.isSafari = function() {
            return d(/safari/i) && !d(/chrome/i) && !d(/chromium/i) && !d(/android/i)
        };
        g.isIOS = function(a) {
            return a ? d(RegExp("iP(hone|ad|od).+\\sOS\\s" + a, "i")) : d(/iP(hone|ad|od)/i)
        };
        g.isAndroidNative = function(a) {
            return g.isAndroid(a, !0)
        };
        g.isAndroid = function(a,
            b) {
            return b && d(/chrome\/[123456789]/i) && !d(/chrome\/18/) ? !1 : a ? (g.isInt(a) && !/\./.test(a) && (a = "" + a + "."), d(RegExp("Android\\s*" + a, "i"))) : d(/Android/i)
        };
        g.isMobile = function() {
            return g.isIOS() || g.isAndroid()
        };
        g.isIframe = function() {
            return window.frameElement && "IFRAME" === window.frameElement.nodeName
        };
        g.saveCookie = function(a, b) {
            document.cookie = "jwplayer." + a + "\x3d" + b + "; path\x3d/"
        };
        g.getCookies = function() {
            for (var a = {}, b = document.cookie.split("; "), c = 0; c < b.length; c++) {
                var d = b[c].split("\x3d");
                0 === d[0].indexOf("jwplayer.") &&
                    (a[d[0].substring(9, d[0].length)] = d[1])
            }
            return a
        };
        g.isInt = function(a) {
            return 0 === parseFloat(a) % 1
        };
        g.typeOf = function(a) {
            if (null === a) return "null";
            var b = typeof a;
            return "object" === b && c.isArray(a) ? "array" : b
        };
        g.translateEventResponse = function(a, c) {
            var d = g.extend({}, c);
            a !== b.events.JWPLAYER_FULLSCREEN || d.fullscreen ? "object" === typeof d.data ? (a = d.data, delete d.data, d = g.extend(d, a)) : "object" === typeof d.metadata && g.deepReplaceKeyName(d.metadata, ["__dot__", "__spc__", "__dsh__", "__default__"], [".", " ", "-", "default"]) :
                (d.fullscreen = "true" === d.message, delete d.message);
            g.foreach(["position", "duration", "offset"], function(a, b) {
                d[b] && (d[b] = Math.round(1E3 * d[b]) / 1E3)
            });
            return d
        };
        g.flashVersion = function() {
            if (g.isAndroid()) return 0;
            var a = navigator.plugins,
                b;
            try {
                if ("undefined" !== a && (b = a["Shockwave Flash"])) return parseInt(b.description.replace(/\D+(\d+)\..*/, "$1"), 10)
            } catch (p) {}
            if ("undefined" !== typeof window.ActiveXObject) try {
                return b = new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"), parseInt(b.GetVariable("$version").split(" ")[1].split(",")[0],
                    10)
            } catch (p) {}
            return 0
        };
        g.getScriptPath = function(a) {
            for (var b = document.getElementsByTagName("script"), c = 0; c < b.length; c++) {
                var d = b[c].src;
                if (d && 0 <= d.indexOf(a)) return d.substr(0, d.indexOf(a))
            }
            return ""
        };
        g.deepReplaceKeyName = function(a, c, d) {
            switch (b.utils.typeOf(a)) {
                case "array":
                    for (var e = 0; e < a.length; e++) a[e] = b.utils.deepReplaceKeyName(a[e], c, d);
                    break;
                case "object":
                    g.foreach(a, function(e, h) {
                        if (c instanceof Array && d instanceof Array) {
                            if (c.length !== d.length) return;
                            var f = c
                        } else f = [c];
                        for (var g = e, l = 0; l <
                            f.length; l++) g = g.replace(RegExp(c[l], "g"), d[l]);
                        a[g] = b.utils.deepReplaceKeyName(h, c, d);
                        e !== g && delete a[e]
                    })
            }
            return a
        };
        var e = g.pluginPathType = {
            ABSOLUTE: 0,
            RELATIVE: 1,
            CDN: 2
        };
        g.getPluginPathType = function(a) {
            if ("string" === typeof a) {
                a = a.split("?")[0];
                var b = a.indexOf("://");
                if (0 < b) return e.ABSOLUTE;
                var c = a.indexOf("/");
                a = g.extension(a);
                return !(0 > b && 0 > c) || a && isNaN(a) ? e.RELATIVE : e.CDN
            }
        };
        g.getPluginName = function(a) {
            return a.replace(/^(.*\/)?([^-]*)-?.*\.(swf|js)$/, "$2")
        };
        g.getPluginVersion = function(a) {
            return a.replace(/[^-]*-?([^\.]*).*$/,
                "$1")
        };
        g.isYouTube = function(a, b) {
            return "youtube" === b || /^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(a)
        };
        g.youTubeID = function(a) {
            try {
                return /v[=\/]([^?&]*)|youtu\.be\/([^?]*)|^([\w-]*)$/i.exec(a).slice(1).join("").replace("?", "")
            } catch (m) {
                return ""
            }
        };
        g.isRtmp = function(a, b) {
            return 0 === a.indexOf("rtmp") || "rtmp" === b
        };
        g.foreach = function(a, b) {
            var c, d;
            for (c in a) "function" === g.typeOf(a.hasOwnProperty) ? a.hasOwnProperty(c) && (d = a[c], b(c, d)) : (d = a[c], b(c, d))
        };
        g.isHTTPS = function() {
            return 0 === window.location.href.indexOf("https")
        };
        g.repo = function() {
            var a = "http://p.jwpcdn.com/" + b.version.split(/\W/).splice(0, 2).join("/") + "/";
            try {
                g.isHTTPS() && (a = a.replace("http://", "https://ssl."))
            } catch (m) {}
            return a
        };
        g.versionCheck = function(a) {
            a = ("0" + a).split(/\W/);
            var c = b.version.split(/\W/),
                d = parseFloat(a[0]),
                e = parseFloat(c[0]);
            return d > e || d === e && parseFloat("0" + a[1]) > parseFloat(c[1]) ? !1 : !0
        };
        g.ajax = function(a, b, c, d) {
            var e = !1;
            0 < a.indexOf("#") && (a = a.replace(/#.*$/, ""));
            if (a && 0 <= a.indexOf("://") && a.split("/")[2] !== window.location.href.split("/")[2] &&
                g.exists(window.XDomainRequest)) {
                var h = new window.XDomainRequest;
                h.onload = k(h, a, b, c, d);
                h.ontimeout = h.onprogress = function() {};
                h.timeout = 5E3
            } else if (g.exists(window.XMLHttpRequest)) {
                var f = h = new window.XMLHttpRequest,
                    r = a;
                h.onreadystatechange = function() {
                    if (4 === f.readyState) switch (f.status) {
                        case 200:
                            k(f, r, b, c, d)();
                            break;
                        case 404:
                            c("File not found", r, f)
                    }
                }
            } else return c && c("", a, h), h;
            h.overrideMimeType && h.overrideMimeType("text/xml");
            var m = a,
                v = h;
            h.onerror = function() {
                c("Error loading file", m, v)
            };
            try {
                h.open("GET",
                    a, !0)
            } catch (t) {
                e = !0
            }
            setTimeout(function() {
                if (e) c && c(a, a, h);
                else try {
                    h.send()
                } catch (t) {
                    c && c(a, a, h)
                }
            }, 0);
            return h
        };
        g.parseXML = function(a) {
            var b;
            try {
                if (window.DOMParser) {
                    if (b = (new window.DOMParser).parseFromString(a, "text/xml"), b.childNodes && b.childNodes.length && "parsererror" === b.childNodes[0].firstChild.nodeName) return
                } else b = new window.ActiveXObject("Microsoft.XMLDOM"), b.async = "false", b.loadXML(a)
            } catch (p) {
                return
            }
            return b
        };
        g.between = function(a, b, c) {
            return Math.max(Math.min(a, c), b)
        };
        g.seconds = function(a) {
            if (c.isNumber(a)) return a;
            a = a.replace(",", ".");
            var b = a.split(":"),
                d = 0;
            "s" === a.slice(-1) ? d = parseFloat(a) : "m" === a.slice(-1) ? d = 60 * parseFloat(a) : "h" === a.slice(-1) ? d = 3600 * parseFloat(a) : 1 < b.length ? (d = parseFloat(b[b.length - 1]), d += 60 * parseFloat(b[b.length - 2]), 3 === b.length && (d += 3600 * parseFloat(b[b.length - 3]))) : d = parseFloat(a);
            return d
        };
        g.serialize = function(a) {
            return null === a ? null : "true" === a.toString().toLowerCase() ? !0 : "false" === a.toString().toLowerCase() ? !1 : isNaN(Number(a)) || 5 < a.length || 0 === a.length ? a : Number(a)
        };
        g.addClass = function(a,
            b) {
            var d = c.isString(a.className) ? a.className.split(" ") : [];
            b = c.isArray(b) ? b : b.split(" ");
            c.each(b, function(a) {
                c.contains(d, a) || d.push(a)
            });
            a.className = g.trim(d.join(" "))
        };
        g.removeClass = function(a, b) {
            var d = c.isString(a.className) ? a.className.split(" ") : [];
            b = c.isArray(b) ? b : b.split(" ");
            a.className = g.trim(c.difference(d, b).join(" "))
        };
        g.emptyElement = function(a) {
            for (; a.firstChild;) a.removeChild(a.firstChild)
        };
        g.indexOf = c.indexOf;
        g.noop = function() {};
        g.canCast = function() {
            var a = b.cast;
            return !(!a || !c.isFunction(a.available) ||
                !a.available())
        }
    }(jwplayer), function(b) {
        function f(a) {
            var b = document.createElement("style");
            a && b.appendChild(document.createTextNode(a));
            b.type = "text/css";
            document.getElementsByTagName("head")[0].appendChild(b);
            return b
        }

        function k(b, c, d) {
            if (!a.exists(c)) return "";
            d = d ? " !important" : "";
            return "string" === typeof c && isNaN(c) ? /png|gif|jpe?g/i.test(c) && 0 > c.indexOf("url") ? "url(" + c + ")" : c + d : 0 === c || "z-index" === b || "opacity" === b ? "" + c + d : /color/i.test(b) ? "#" + a.pad(c.toString(16).replace(/^0x/i, ""), 6) + d : Math.ceil(c) +
                "px" + d
        }

        function g(a, b) {
            for (var c = 0; c < a.length; c++) {
                var d = a[c],
                    e;
                if (void 0 !== d && null !== d)
                    for (e in b) {
                        var h = e;
                        h = h.split("-");
                        for (var f = 1; f < h.length; f++) h[f] = h[f].charAt(0).toUpperCase() + h[f].slice(1);
                        h = h.join("");
                        d.style[h] !== b[e] && (d.style[h] = b[e])
                    }
            }
        }

        function c(a) {
            var b = d[a].sheet;
            if (b) {
                var c = b.cssRules;
                var e = p[a];
                var f = a;
                var g = h[f];
                f += " { ";
                for (var l in g) f += l + ": " + g[l] + "; ";
                f += "}";
                if (void 0 !== e && e < c.length && c[e].selectorText === a) {
                    if (f === c[e].cssText) return;
                    b.deleteRule(e)
                } else e = c.length, p[a] = e;
                try {
                    b.insertRule(f, e)
                } catch (A) {}
            }
        }
        var a = b.utils,
            d = {},
            e, h = {},
            m = null,
            p = {};
        a.cssKeyframes = function(a, b) {
            var c = d.keyframes;
            c || (c = f(), d.keyframes = c);
            c = c.sheet;
            a = "@keyframes " + a + " { " + b + " }";
            try {
                c.insertRule(a, c.cssRules.length)
            } catch (r) {}
            a = a.replace(/(keyframes|transform)/g, "-webkit-$1");
            try {
                c.insertRule(a, c.cssRules.length)
            } catch (r) {}
        };
        var q = a.css = function(a, b, g) {
            h[a] || (h[a] = {});
            var l = h[a];
            g = g || !1;
            var x = !1,
                v;
            for (v in b) {
                var t = k(v, b[v], g);
                "" !== t ? t !== l[v] && (l[v] = t, x = !0) : void 0 !== l[v] && (delete l[v], x = !0)
            }
            if (x) {
                if (!d[a]) {
                    b =
                        e && e.sheet && e.sheet.cssRules && e.sheet.cssRules.length || 0;
                    if (!e || 5E4 < b) e = f();
                    d[a] = e
                }
                null !== m ? m.styleSheets[a] = h[a] : c(a)
            }
        };
        q.style = function(a, c, d) {
            if (void 0 !== a && null !== a) {
                void 0 === a.length && (a = [a]);
                var e = {},
                    h;
                for (h in c) e[h] = k(h, c[h]);
                if (null === m || d) g(a, e);
                else {
                    c = (c = a.__cssRules) || {};
                    for (var f in e) c[f] = e[f];
                    a.__cssRules = c;
                    0 > b._.indexOf(m.elements, a) && m.elements.push(a)
                }
            }
        };
        q.block = function(a) {
            null === m && (m = {
                id: a,
                styleSheets: {},
                elements: []
            })
        };
        q.unblock = function(a) {
            if (m && (!a || m.id === a)) {
                for (var b in m.styleSheets) c(b);
                for (a = 0; a < m.elements.length; a++) b = m.elements[a], g(b, b.__cssRules);
                m = null
            }
        };
        a.clearCss = function(a) {
            for (var b in h) 0 <= b.indexOf(a) && delete h[b];
            for (var e in d) 0 <= e.indexOf(a) && c(e)
        };
        a.transform = function(a, b) {
            var c = {};
            b = b || "";
            c.transform = b;
            c["-webkit-transform"] = b;
            c["-ms-transform"] = b;
            c["-moz-transform"] = b;
            c["-o-transform"] = b;
            "string" === typeof a ? q(a, c) : q.style(a, c)
        };
        a.dragStyle = function(a, b) {
            q(a, {
                "-webkit-user-select": b,
                "-moz-user-select": b,
                "-ms-user-select": b,
                "-webkit-user-drag": b,
                "user-select": b,
                "user-drag": b
            })
        };
        a.transitionStyle = function(a, b) {
            navigator.userAgent.match(/5\.\d(\.\d)? safari/i) || q(a, {
                "-webkit-transition": b,
                "-moz-transition": b,
                "-o-transition": b,
                transition: b
            })
        };
        a.rotate = function(b, c) {
            a.transform(b, "rotate(" + c + "deg)")
        };
        a.rgbHex = function(a) {
            a = String(a).replace("#", "");
            3 === a.length && (a = a[0] + a[0] + a[1] + a[1] + a[2] + a[2]);
            return "#" + a.substr(-6)
        };
        a.hexToRgba = function(a, b) {
            var c = "rgb";
            a = [parseInt(a.substr(1, 2), 16), parseInt(a.substr(3, 2), 16), parseInt(a.substr(5, 2), 16)];
            void 0 !== b && 100 !== b && (c += "a", a.push(b /
                100));
            return c + "(" + a.join(",") + ")"
        }
    }(jwplayer), function(b) {
        var f = jwplayer._,
            k = b.foreach,
            g = {
                mp4: "video/mp4",
                ogg: "video/ogg",
                oga: "audio/ogg",
                vorbis: "audio/ogg",
                webm: "video/webm",
                aac: "audio/mp4",
                mp3: "audio/mpeg",
                hls: "application/vnd.apple.mpegurl"
            },
            c = {
                mp4: g.mp4,
                f4v: g.mp4,
                m4v: g.mp4,
                mov: g.mp4,
                m4a: g.aac,
                f4a: g.aac,
                aac: g.aac,
                mp3: g.mp3,
                ogv: g.ogg,
                ogg: g.ogg,
                oga: g.vorbis,
                vorbis: g.vorbis,
                webm: g.webm,
                m3u8: g.hls,
                m3u: g.hls,
                hls: g.hls
            },
            a = b.extensionmap = {};
        k(c, function(b, c) {
            a[b] = {
                html5: c
            }
        });
        k({
            flv: "video",
            f4v: "video",
            mov: "video",
            m4a: "video",
            m4v: "video",
            mp4: "video",
            aac: "video",
            f4a: "video",
            mp3: "sound",
            smil: "rtmp",
            m3u8: "hls",
            hls: "hls"
        }, function(b, c) {
            a[b] || (a[b] = {});
            a[b].flash = c
        });
        a.types = g;
        a.mimeType = function(a) {
            var b;
            f.find(g, function(c, d) {
                if (c === a) return b = d, !0
            });
            return b
        };
        a.extType = function(b) {
            return a.mimeType(c[b])
        }
    }(jwplayer.utils), function(b) {
        var f = b.loaderstatus = {
            NEW: 0,
            LOADING: 1,
            ERROR: 2,
            COMPLETE: 3
        };
        b.scriptloader = function(k) {
            function g(b) {
                e = f.ERROR;
                d.sendEvent(a.ERROR, b)
            }

            function c(b) {
                e = f.COMPLETE;
                d.sendEvent(a.COMPLETE,
                    b)
            }
            var a = jwplayer.events,
                d = b.extend(this, new a.eventdispatcher),
                e = f.NEW;
            this.load = function() {
                if (e === f.NEW) {
                    var d = b.scriptloader.loaders[k];
                    if (d && (e = d.getStatus(), 2 > e)) d.addEventListener(a.ERROR, g), d.addEventListener(a.COMPLETE, c);
                    else {
                        var m = document.getElementsByTagName("head")[0] || document.documentElement,
                            p = document.createElement("script"),
                            q = !1;
                        p.onload = p.onreadystatechange = function(a) {
                            q || this.readyState && "loaded" !== this.readyState && "complete" !== this.readyState || (q = !0, c(a), p.onload = p.onreadystatechange =
                                null, m && p.parentNode && m.removeChild(p))
                        };
                        p.onerror = g;
                        p.src = k;
                        m.insertBefore(p, m.firstChild);
                        e = f.LOADING;
                        b.scriptloader.loaders[k] = this
                    }
                }
            };
            this.getStatus = function() {
                return e
            }
        };
        b.scriptloader.loaders = {}
    }(jwplayer.utils), function(b) {
        b.trim = function(b) {
            return b.replace(/^\s+|\s+$/g, "")
        };
        b.pad = function(b, k, g) {
            for (g || (g = "0"); b.length < k;) b = g + b;
            return b
        };
        b.xmlAttribute = function(b, k) {
            for (var f = 0; f < b.attributes.length; f++)
                if (b.attributes[f].name && b.attributes[f].name.toLowerCase() === k.toLowerCase()) return b.attributes[f].value.toString();
            return ""
        };
        b.extension = function(b) {
            if (!b || "rtmp" === b.substr(0, 4)) return "";
            var f;
            if (f = -1 < b.indexOf("(format\x3dm3u8-") ? "m3u8" : !1) return f;
            b = b.substring(b.lastIndexOf("/") + 1, b.length).split("?")[0].split("#")[0];
            if (-1 < b.lastIndexOf(".")) return b.substr(b.lastIndexOf(".") + 1, b.length).toLowerCase()
        };
        b.stringToColor = function(b) {
            b = b.replace(/(#|0x)?([0-9A-F]{3,6})$/gi, "$2");
            3 === b.length && (b = b.charAt(0) + b.charAt(0) + b.charAt(1) + b.charAt(1) + b.charAt(2) + b.charAt(2));
            return parseInt(b, 16)
        }
    }(jwplayer.utils), function(b) {
        b.touch =
            function(f) {
                function k(a) {
                    "touchstart" === a.type ? (d = !0, h = c(p.DRAG_START, a)) : "touchmove" === a.type ? d && (m || (g(p.DRAG_START, a, h), m = !0), g(p.DRAG, a)) : (d && (m ? g(p.DRAG_END, a) : (a.cancelBubble = !0, g(p.TAP, a))), d = m = !1, h = null)
                }

                function g(a, b, d) {
                    if (e[a] && (b.preventManipulation && b.preventManipulation(), b.preventDefault && b.preventDefault(), b = d ? d : c(a, b))) e[a](b)
                }

                function c(b, c) {
                    var d = null;
                    c.touches && c.touches.length ? d = c.touches[0] : c.changedTouches && c.changedTouches.length && (d = c.changedTouches[0]);
                    if (!d) return null;
                    c = a.getBoundingClientRect();
                    d = {
                        type: b,
                        target: a,
                        x: d.pageX - window.pageXOffset - c.left,
                        y: d.pageY,
                        deltaX: 0,
                        deltaY: 0
                    };
                    b !== p.TAP && h && (d.deltaX = d.x - h.x, d.deltaY = d.y - h.y);
                    return d
                }
                var a = f,
                    d = !1,
                    e = {},
                    h = null,
                    m = !1,
                    p = b.touchEvents;
                document.addEventListener("touchmove", k);
                document.addEventListener("touchend", function(a) {
                    d && m && g(p.DRAG_END, a);
                    d = m = !1;
                    h = null
                });
                document.addEventListener("touchcancel", k);
                f.addEventListener("touchstart", k);
                f.addEventListener("touchend", k);
                this.addEventListener = function(a, b) {
                    e[a] = b
                };
                this.removeEventListener =
                    function(a) {
                        delete e[a]
                    };
                return this
            }
    }(jwplayer.utils), function(b) {
        b.touchEvents = {
            DRAG: "jwplayerDrag",
            DRAG_START: "jwplayerDragStart",
            DRAG_END: "jwplayerDragEnd",
            TAP: "jwplayerTap"
        }
    }(jwplayer.utils), function(b) {
        b.key = function(f) {
            var k, g, c;
            this.edition = function() {
                return c && c.getTime() < (new Date).getTime() ? "invalid" : k
            };
            this.token = function() {
                return g
            };
            b.exists(f) || (f = "");
            try {
                f = b.tea.decrypt(f, "36QXq4W@GSBV^teR");
                var a = f.split("/");
                (k = a[0]) ? /^(free|pro|premium|enterprise|ads)$/i.test(k) ? (g = a[1], a[2] && 0 <
                    parseInt(a[2]) && (c = new Date, c.setTime(String(a[2])))) : k = "invalid": k = "free"
            } catch (d) {
                k = "invalid"
            }
        }
    }(jwplayer.utils), function(b) {
        var f = b.tea = {};
        f.encrypt = function(b, a) {
            if (0 == b.length) return "";
            b = f.strToLongs(g.encode(b));
            1 >= b.length && (b[1] = 0);
            a = f.strToLongs(g.encode(a).slice(0, 16));
            for (var c = b.length, e = b[c - 1], h, m, p = Math.floor(6 + 52 / c), q = 0; 0 < p--;) {
                q += 2654435769;
                m = q >>> 2 & 3;
                for (var l = 0; l < c; l++) h = b[(l + 1) % c], e = (e >>> 5 ^ h << 2) + (h >>> 3 ^ e << 4) ^ (q ^ h) + (a[l & 3 ^ m] ^ e), e = b[l] += e
            }
            b = f.longsToStr(b);
            return k.encode(b)
        };
        f.decrypt =
            function(b, a) {
                if (0 == b.length) return "";
                b = f.strToLongs(k.decode(b));
                a = f.strToLongs(g.encode(a).slice(0, 16));
                for (var c = b.length, e, h = b[0], m, p = 2654435769 * Math.floor(6 + 52 / c); 0 != p;) {
                    m = p >>> 2 & 3;
                    for (var q = c - 1; 0 <= q; q--) e = b[0 < q ? q - 1 : c - 1], e = (e >>> 5 ^ h << 2) + (h >>> 3 ^ e << 4) ^ (p ^ h) + (a[q & 3 ^ m] ^ e), h = b[q] -= e;
                    p -= 2654435769
                }
                b = f.longsToStr(b);
                b = b.replace(/\0+$/, "");
                return g.decode(b)
            };
        f.strToLongs = function(b) {
            for (var a = Array(Math.ceil(b.length / 4)), c = 0; c < a.length; c++) a[c] = b.charCodeAt(4 * c) + (b.charCodeAt(4 * c + 1) << 8) + (b.charCodeAt(4 *
                c + 2) << 16) + (b.charCodeAt(4 * c + 3) << 24);
            return a
        };
        f.longsToStr = function(b) {
            for (var a = Array(b.length), c = 0; c < b.length; c++) a[c] = String.fromCharCode(b[c] & 255, b[c] >>> 8 & 255, b[c] >>> 16 & 255, b[c] >>> 24 & 255);
            return a.join("")
        };
        var k = {
                code: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d",
                encode: function(b, a) {
                    var c = [],
                        e = "",
                        h = k.code;
                    var f = ("undefined" == typeof a ? 0 : a) ? g.encode(b) : b;
                    var p = f.length % 3;
                    if (0 < p)
                        for (; 3 > p++;) e += "\x3d", f += "\x00";
                    for (p = 0; p < f.length; p += 3) {
                        b = f.charCodeAt(p);
                        a = f.charCodeAt(p +
                            1);
                        var q = f.charCodeAt(p + 2);
                        var l = b << 16 | a << 8 | q;
                        b = l >> 18 & 63;
                        a = l >> 12 & 63;
                        q = l >> 6 & 63;
                        l &= 63;
                        c[p / 3] = h.charAt(b) + h.charAt(a) + h.charAt(q) + h.charAt(l)
                    }
                    c = c.join("");
                    return c.slice(0, c.length - e.length) + e
                },
                decode: function(b, a) {
                    a = "undefined" == typeof a ? !1 : a;
                    var c = [],
                        e = k.code;
                    var h = a ? g.decode(b) : b;
                    for (var f = 0; f < h.length; f += 4) {
                        b = e.indexOf(h.charAt(f));
                        var p = e.indexOf(h.charAt(f + 1));
                        var q = e.indexOf(h.charAt(f + 2));
                        var l = e.indexOf(h.charAt(f + 3));
                        var u = b << 18 | p << 12 | q << 6 | l;
                        b = u >>> 16 & 255;
                        p = u >>> 8 & 255;
                        u &= 255;
                        c[f / 4] = String.fromCharCode(b,
                            p, u);
                        64 == l && (c[f / 4] = String.fromCharCode(b, p));
                        64 == q && (c[f / 4] = String.fromCharCode(b))
                    }
                    q = c.join("");
                    return a ? g.decode(q) : q
                }
            },
            g = {
                encode: function(b) {
                    b = b.replace(/[\u0080-\u07ff]/g, function(a) {
                        a = a.charCodeAt(0);
                        return String.fromCharCode(192 | a >> 6, 128 | a & 63)
                    });
                    return b = b.replace(/[\u0800-\uffff]/g, function(a) {
                        a = a.charCodeAt(0);
                        return String.fromCharCode(224 | a >> 12, 128 | a >> 6 & 63, 128 | a & 63)
                    })
                },
                decode: function(b) {
                    b = b.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g, function(a) {
                        a = (a.charCodeAt(0) & 15) << 12 |
                            (a.charCodeAt(1) & 63) << 6 | a.charCodeAt(2) & 63;
                        return String.fromCharCode(a)
                    });
                    return b = b.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g, function(a) {
                        a = (a.charCodeAt(0) & 31) << 6 | a.charCodeAt(1) & 63;
                        return String.fromCharCode(a)
                    })
                }
            }
    }(jwplayer.utils), function(b) {
        b.events = {
            COMPLETE: "COMPLETE",
            ERROR: "ERROR",
            API_READY: "jwplayerAPIReady",
            JWPLAYER_READY: "jwplayerReady",
            JWPLAYER_FULLSCREEN: "jwplayerFullscreen",
            JWPLAYER_RESIZE: "jwplayerResize",
            JWPLAYER_ERROR: "jwplayerError",
            JWPLAYER_SETUP_ERROR: "jwplayerSetupError",
            JWPLAYER_MEDIA_BEFOREPLAY: "jwplayerMediaBeforePlay",
            JWPLAYER_MEDIA_BEFORECOMPLETE: "jwplayerMediaBeforeComplete",
            JWPLAYER_MEDIA_BUFFER: "jwplayerMediaBuffer",
            JWPLAYER_MEDIA_BUFFER_FULL: "jwplayerMediaBufferFull",
            JWPLAYER_MEDIA_ERROR: "jwplayerMediaError",
            JWPLAYER_MEDIA_LOADED: "jwplayerMediaLoaded",
            JWPLAYER_MEDIA_COMPLETE: "jwplayerMediaComplete",
            JWPLAYER_MEDIA_SEEK: "jwplayerMediaSeek",
            JWPLAYER_MEDIA_TIME: "jwplayerMediaTime",
            JWPLAYER_MEDIA_VOLUME: "jwplayerMediaVolume",
            JWPLAYER_MEDIA_META: "jwplayerMediaMeta",
            JWPLAYER_MEDIA_MUTE: "jwplayerMediaMute",
            JWPLAYER_AUDIO_TRACKS: "jwplayerAudioTracks",
            JWPLAYER_AUDIO_TRACK_CHANGED: "jwplayerAudioTrackChanged",
            JWPLAYER_MEDIA_LEVELS: "jwplayerMediaLevels",
            JWPLAYER_MEDIA_LEVEL_CHANGED: "jwplayerMediaLevelChanged",
            JWPLAYER_CAPTIONS_CHANGED: "jwplayerCaptionsChanged",
            JWPLAYER_CAPTIONS_LIST: "jwplayerCaptionsList",
            JWPLAYER_CAPTIONS_LOADED: "jwplayerCaptionsLoaded",
            JWPLAYER_PLAYER_STATE: "jwplayerPlayerState",
            state: {
                BUFFERING: "BUFFERING",
                IDLE: "IDLE",
                PAUSED: "PAUSED",
                PLAYING: "PLAYING"
            },
            JWPLAYER_PLAYLIST_LOADED: "jwplayerPlaylistLoaded",
            JWPLAYER_PLAYLIST_ITEM: "jwplayerPlaylistItem",
            JWPLAYER_PLAYLIST_COMPLETE: "jwplayerPlaylistComplete",
            JWPLAYER_DISPLAY_CLICK: "jwplayerViewClick",
            JWPLAYER_PROVIDER_CLICK: "jwplayerProviderClick",
            JWPLAYER_VIEW_TAB_FOCUS: "jwplayerViewTabFocus",
            JWPLAYER_CONTROLS: "jwplayerViewControls",
            JWPLAYER_USER_ACTION: "jwplayerUserAction",
            JWPLAYER_INSTREAM_CLICK: "jwplayerInstreamClicked",
            JWPLAYER_INSTREAM_DESTROYED: "jwplayerInstreamDestroyed",
            JWPLAYER_AD_TIME: "jwplayerAdTime",
            JWPLAYER_AD_ERROR: "jwplayerAdError",
            JWPLAYER_AD_CLICK: "jwplayerAdClicked",
            JWPLAYER_AD_COMPLETE: "jwplayerAdComplete",
            JWPLAYER_AD_IMPRESSION: "jwplayerAdImpression",
            JWPLAYER_AD_COMPANIONS: "jwplayerAdCompanions",
            JWPLAYER_AD_SKIPPED: "jwplayerAdSkipped",
            JWPLAYER_AD_PLAY: "jwplayerAdPlay",
            JWPLAYER_AD_PAUSE: "jwplayerAdPause",
            JWPLAYER_AD_META: "jwplayerAdMeta",
            JWPLAYER_CAST_AVAILABLE: "jwplayerCastAvailable",
            JWPLAYER_CAST_SESSION: "jwplayerCastSession",
            JWPLAYER_CAST_AD_CHANGED: "jwplayerCastAdChanged"
        }
    }(jwplayer), function(b) {
        var f = b.utils;
        b.events.eventdispatcher = function(k, g) {
            function c(a, b, c) {
                if (a)
                    for (var d = 0; d < a.length; d++) {
                        var e =
                            a[d];
                        if (e) {
                            null !== e.count && 0 === --e.count && delete a[d];
                            try {
                                e.listener(b)
                            } catch (l) {
                                f.log('Error handling "' + c + '" event listener [' + d + "]: " + l.toString(), e.listener, b)
                            }
                        }
                    }
            }
            var a, d;
            this.resetEventListeners = function() {
                a = {};
                d = []
            };
            this.resetEventListeners();
            this.addEventListener = function(b, c, d) {
                try {
                    f.exists(a[b]) || (a[b] = []), "string" === f.typeOf(c) && (c = (new Function("return " + c))()), a[b].push({
                        listener: c,
                        count: d || null
                    })
                } catch (p) {
                    f.log("error", p)
                }
                return !1
            };
            this.removeEventListener = function(b, c) {
                var d;
                if (a[b]) {
                    try {
                        if (void 0 ===
                            c) {
                            a[b] = [];
                            return
                        }
                        for (d = 0; d < a[b].length; d++)
                            if (a[b][d].listener.toString() === c.toString()) {
                                a[b].splice(d, 1);
                                break
                            }
                    } catch (p) {
                        f.log("error", p)
                    }
                    return !1
                }
            };
            this.addGlobalListener = function(a, b) {
                try {
                    "string" === f.typeOf(a) && (a = (new Function("return " + a))()), d.push({
                        listener: a,
                        count: b || null
                    })
                } catch (m) {
                    f.log("error", m)
                }
                return !1
            };
            this.removeGlobalListener = function(a) {
                if (a) {
                    try {
                        for (var b = d.length; b--;) d[b].listener.toString() === a.toString() && d.splice(b, 1)
                    } catch (m) {
                        f.log("error", m)
                    }
                    return !1
                }
            };
            this.sendEvent =
                function(e, h) {
                    f.exists(h) || (h = {});
                    f.extend(h, {
                        id: k,
                        version: b.version,
                        type: e
                    });
                    g && f.log(e, h);
                    c(a[e], h, e);
                    c(d, h, e)
                }
        }
    }(window.jwplayer), function(b) {
        var f = {},
            k = {};
        b.plugins = function() {};
        b.plugins.loadPlugins = function(g, c) {
            k[g] = new b.plugins.pluginloader(new b.plugins.model(f), c);
            return k[g]
        };
        b.plugins.registerPlugin = function(g, c, a, d) {
            var e = b.utils.getPluginName(g);
            f[e] || (f[e] = new b.plugins.plugin(g));
            f[e].registerPlugin(g, c, a, d)
        }
    }(jwplayer), function(b) {
        b.plugins.model = function(f) {
            this.addPlugin = function(k) {
                var g =
                    b.utils.getPluginName(k);
                f[g] || (f[g] = new b.plugins.plugin(k));
                return f[g]
            };
            this.getPlugins = function() {
                return f
            }
        }
    }(jwplayer), function(b) {
        var f = jwplayer.utils,
            k = jwplayer.events;
        b.pluginmodes = {
            FLASH: 0,
            JAVASCRIPT: 1,
            HYBRID: 2
        };
        b.plugin = function(g) {
            function c() {
                switch (f.getPluginPathType(g)) {
                    case f.pluginPathType.ABSOLUTE:
                        return g;
                    case f.pluginPathType.RELATIVE:
                        return f.getAbsolutePath(g, window.location.href)
                }
            }

            function a() {
                q = setTimeout(function() {
                    e = f.loaderstatus.COMPLETE;
                    l.sendEvent(k.COMPLETE)
                }, 1E3)
            }

            function d() {
                e =
                    f.loaderstatus.ERROR;
                l.sendEvent(k.ERROR, {
                    url: g
                })
            }
            var e = f.loaderstatus.NEW,
                h, m, p, q, l = new k.eventdispatcher;
            f.extend(this, l);
            this.load = function() {
                if (e === f.loaderstatus.NEW)
                    if (0 < g.lastIndexOf(".swf")) h = g, e = f.loaderstatus.COMPLETE, l.sendEvent(k.COMPLETE);
                    else if (f.getPluginPathType(g) === f.pluginPathType.CDN) e = f.loaderstatus.COMPLETE, l.sendEvent(k.COMPLETE);
                else {
                    e = f.loaderstatus.LOADING;
                    var b = new f.scriptloader(c());
                    b.addEventListener(k.COMPLETE, a);
                    b.addEventListener(k.ERROR, d);
                    b.load()
                }
            };
            this.registerPlugin =
                function(a, b, c, d) {
                    q && (clearTimeout(q), q = void 0);
                    p = b;
                    c && d ? (h = d, m = c) : "string" === typeof c ? h = c : "function" === typeof c ? m = c : !c && !d && (h = a);
                    e = f.loaderstatus.COMPLETE;
                    l.sendEvent(k.COMPLETE)
                };
            this.getStatus = function() {
                return e
            };
            this.getPluginName = function() {
                return f.getPluginName(g)
            };
            this.getFlashPath = function() {
                if (h) switch (f.getPluginPathType(h)) {
                    case f.pluginPathType.ABSOLUTE:
                        return h;
                    case f.pluginPathType.RELATIVE:
                        return 0 < g.lastIndexOf(".swf") ? f.getAbsolutePath(h, window.location.href) : f.getAbsolutePath(h,
                            c())
                }
                return null
            };
            this.getJS = function() {
                return m
            };
            this.getTarget = function() {
                return p
            };
            this.getPluginmode = function() {
                if ("undefined" !== typeof h && "undefined" !== typeof m) return b.pluginmodes.HYBRID;
                if ("undefined" !== typeof h) return b.pluginmodes.FLASH;
                if ("undefined" !== typeof m) return b.pluginmodes.JAVASCRIPT
            };
            this.getNewInstance = function(a, b, c) {
                return new m(a, b, c)
            };
            this.getURL = function() {
                return g
            }
        }
    }(jwplayer.plugins), function(b) {
        var f = b.utils,
            k = b.events,
            g = b._,
            c = f.foreach;
        b.plugins.pluginloader = function(a,
            b) {
            function d() {
                q || (q = !0, p = f.loaderstatus.COMPLETE, x.sendEvent(k.COMPLETE))
            }

            function h() {
                if (!r && ((!l || 0 === g.keys(l).length) && d(), !q)) {
                    var b = a.getPlugins();
                    w = g.after(u, d);
                    f.foreach(l, function(a) {
                        a = f.getPluginName(a);
                        var c = b[a];
                        a = c.getJS();
                        var d = c.getTarget();
                        c = c.getStatus();
                        c === f.loaderstatus.LOADING || c === f.loaderstatus.NEW || (a && !f.versionCheck(d) && x.sendEvent(k.ERROR, {
                            message: "Incompatible player version"
                        }), w())
                    })
                }
            }

            function m(a) {
                r || (x.sendEvent(k.ERROR, {
                    message: "File not found"
                }), a.url && f.log("File not found",
                    a.url), h())
            }
            var p = f.loaderstatus.NEW,
                q = !1,
                l = b,
                u = g.size(l),
                w, r = !1,
                x = new k.eventdispatcher;
            f.extend(this, x);
            this.setupPlugins = function(b, d, e) {
                var h = {
                        length: 0,
                        plugins: {}
                    },
                    g = 0,
                    l = {},
                    r = a.getPlugins();
                c(d.plugins, function(a, c) {
                    a = f.getPluginName(a);
                    var m = r[a],
                        k = m.getFlashPath(),
                        v = m.getJS(),
                        t = m.getURL();
                    k && (h.plugins[k] = f.extend({}, c), h.plugins[k].pluginmode = m.getPluginmode(), h.length++);
                    try {
                        if (v && d.plugins && d.plugins[t]) {
                            var x = document.createElement("div");
                            x.id = b.id + "_" + a;
                            x.style.position = "absolute";
                            x.style.top =
                                0;
                            x.style.zIndex = g + 10;
                            l[a] = m.getNewInstance(b, f.extend({}, d.plugins[t]), x);
                            g++;
                            b.onReady(e(l[a], x, !0));
                            b.onResize(e(l[a], x))
                        }
                    } catch (G) {
                        f.log("ERROR: Failed to load " + a + ".")
                    }
                });
                b.plugins = l;
                return h
            };
            this.load = function() {
                if (!f.exists(b) || "object" === f.typeOf(b)) {
                    p = f.loaderstatus.LOADING;
                    c(b, function(b) {
                        f.exists(b) && (b = a.addPlugin(b), b.addEventListener(k.COMPLETE, h), b.addEventListener(k.ERROR, m))
                    });
                    var d = a.getPlugins();
                    c(d, function(a, b) {
                        b.load()
                    })
                }
                h()
            };
            this.destroy = function() {
                r = !0;
                x && (x.resetEventListeners(),
                    x = null)
            };
            this.pluginFailed = m;
            this.getStatus = function() {
                return p
            }
        }
    }(jwplayer), function(b) {
        b.parsers = {
            localName: function(b) {
                return b ? b.localName ? b.localName : b.baseName ? b.baseName : "" : ""
            },
            textContent: function(f) {
                return f ? f.textContent ? b.utils.trim(f.textContent) : f.text ? b.utils.trim(f.text) : "" : ""
            },
            getChildNode: function(b, k) {
                return b.childNodes[k]
            },
            numChildren: function(b) {
                return b.childNodes ? b.childNodes.length : 0
            }
        }
    }(jwplayer), function(b) {
        var f = b.parsers;
        (f.jwparser = function() {}).parseEntry = function(k, g) {
            for (var c = [], a = [], d = b.utils.xmlAttribute, e = 0; e < k.childNodes.length; e++) {
                var h = k.childNodes[e];
                if ("jwplayer" === h.prefix) {
                    var m = f.localName(h);
                    "source" === m ? (delete g.sources, c.push({
                        file: d(h, "file"),
                        "default": d(h, "default"),
                        label: d(h, "label"),
                        type: d(h, "type")
                    })) : "track" === m ? (delete g.tracks, a.push({
                        file: d(h, "file"),
                        "default": d(h, "default"),
                        kind: d(h, "kind"),
                        label: d(h, "label")
                    })) : (g[m] = b.utils.serialize(f.textContent(h)), "file" === m && g.sources && delete g.sources)
                }
                g.file || (g.file = g.link)
            }
            if (c.length)
                for (g.sources = [], e = 0; e < c.length; e++) 0 < c[e].file.length && (c[e]["default"] = "true" === c[e]["default"] ? !0 : !1, c[e].label.length || delete c[e].label, g.sources.push(c[e]));
            if (a.length)
                for (g.tracks = [], e = 0; e < a.length; e++) 0 < a[e].file.length && (a[e]["default"] = "true" === a[e]["default"] ? !0 : !1, a[e].kind = a[e].kind.length ? a[e].kind : "captions", a[e].label.length || delete a[e].label, g.tracks.push(a[e]));
            return g
        }
    }(jwplayer), function(b) {
        var f = jwplayer.utils,
            k = f.xmlAttribute,
            g = b.localName,
            c = b.textContent,
            a = b.numChildren,
            d = b.mediaparser =
            function() {};
        d.parseGroup = function(b, h) {
            var e, p, q = [];
            for (p = 0; p < a(b); p++)
                if (e = b.childNodes[p], "media" === e.prefix && g(e)) switch (g(e).toLowerCase()) {
                    case "content":
                        k(e, "duration") && (h.duration = f.seconds(k(e, "duration")));
                        0 < a(e) && (h = d.parseGroup(e, h));
                        k(e, "url") && (h.sources || (h.sources = []), h.sources.push({
                            file: k(e, "url"),
                            type: k(e, "type"),
                            width: k(e, "width"),
                            label: k(e, "label")
                        }));
                        break;
                    case "title":
                        h.title = c(e);
                        break;
                    case "description":
                        h.description = c(e);
                        break;
                    case "guid":
                        h.mediaid = c(e);
                        break;
                    case "thumbnail":
                        h.image ||
                            (h.image = k(e, "url"));
                        break;
                    case "group":
                        d.parseGroup(e, h);
                        break;
                    case "subtitle":
                        var l = {};
                        l.file = k(e, "url");
                        l.kind = "captions";
                        if (0 < k(e, "lang").length) {
                            var u = l;
                            e = k(e, "lang");
                            var w = {
                                zh: "Chinese",
                                nl: "Dutch",
                                en: "English",
                                fr: "French",
                                de: "German",
                                it: "Italian",
                                ja: "Japanese",
                                pt: "Portuguese",
                                ru: "Russian",
                                es: "Spanish"
                            };
                            e = w[e] ? w[e] : e;
                            u.label = e
                        }
                        q.push(l)
                }
            h.hasOwnProperty("tracks") || (h.tracks = []);
            for (p = 0; p < q.length; p++) h.tracks.push(q[p]);
            return h
        }
    }(jwplayer.parsers), function(b) {
        function f(a) {
            for (var c = {}, e = 0; e <
                a.childNodes.length; e++) {
                var f = a.childNodes[e],
                    q = d(f);
                if (q) switch (q.toLowerCase()) {
                    case "enclosure":
                        c.file = k.xmlAttribute(f, "url");
                        break;
                    case "title":
                        c.title = g(f);
                        break;
                    case "guid":
                        c.mediaid = g(f);
                        break;
                    case "pubdate":
                        c.date = g(f);
                        break;
                    case "description":
                        c.description = g(f);
                        break;
                    case "link":
                        c.link = g(f);
                        break;
                    case "category":
                        c.tags = c.tags ? c.tags + g(f) : g(f)
                }
            }
            c = b.mediaparser.parseGroup(a, c);
            c = b.jwparser.parseEntry(a, c);
            return new jwplayer.playlist.item(c)
        }
        var k = jwplayer.utils,
            g = b.textContent,
            c = b.getChildNode,
            a = b.numChildren,
            d = b.localName;
        b.rssparser = {};
        b.rssparser.parse = function(b) {
            for (var e = [], g = 0; g < a(b); g++) {
                var k = c(b, g);
                if ("channel" === d(k).toLowerCase())
                    for (var q = 0; q < a(k); q++) {
                        var l = c(k, q);
                        "item" === d(l).toLowerCase() && e.push(f(l))
                    }
            }
            return e
        }
    }(jwplayer.parsers), function(b) {
        var f = b.utils,
            k = b._;
        b.playlist = function(c) {
            var a = [];
            c = k.isArray(c) ? c : [c];
            k.each(c, function(c) {
                a.push(new b.playlist.item(c))
            });
            return a
        };
        b.playlist.filterPlaylist = function(b, a) {
            var c = [];
            k.each(b, function(b) {
                b = f.extend({}, b);
                b.sources =
                    g(b.sources, !1, a);
                if (b.sources.length) {
                    for (var d = 0; d < b.sources.length; d++) b.sources[d].label = b.sources[d].label || d.toString();
                    c.push(b)
                }
            });
            return c
        };
        var g = b.playlist.filterSources = function(c, a, d) {
            var e, h = [],
                g = a ? b.embed.flashCanPlay : b.embed.html5CanPlay;
            if (c) return k.each(c, function(a) {
                if (a && a.file) {
                    var b = f.trim("" + a.file),
                        c = a.type;
                    c || (c = f.extension(b), c = f.extensionmap.extType(c));
                    a = f.extend({}, a, {
                        file: b,
                        type: c
                    })
                } else a = void 0;
                a && g(a.file, a.type, d) && (e = e || a.type, a.type === e && h.push(a))
            }), h
        }
    }(jwplayer),
    function(b) {
        var f = b.item = function(k) {
            var g = jwplayer.utils,
                c = g.extend({}, f.defaults, k),
                a;
            c.tracks = k && g.exists(k.tracks) ? k.tracks : [];
            0 === c.sources.length && (c.sources = [new b.source(c)]);
            for (a = 0; a < c.sources.length; a++) {
                var d = c.sources[a]["default"];
                c.sources[a]["default"] = d ? "true" === d.toString() : !1;
                c.sources[a] = new b.source(c.sources[a])
            }
            if (c.captions && !g.exists(k.tracks)) {
                for (k = 0; k < c.captions.length; k++) c.tracks.push(c.captions[k]);
                delete c.captions
            }
            for (a = 0; a < c.tracks.length; a++) c.tracks[a] = new b.track(c.tracks[a]);
            return c
        };
        f.defaults = {
            description: void 0,
            image: void 0,
            mediaid: void 0,
            title: void 0,
            sources: [],
            tracks: []
        }
    }(jwplayer.playlist),
    function(b) {
        var f = b.utils,
            k = b.events,
            g = b.parsers;
        b.playlist.loader = function() {
            function c(a) {
                try {
                    var c = a.responseXML.childNodes;
                    a = "";
                    for (var f = 0; f < c.length && (a = c[f], 8 === a.nodeType); f++);
                    "xml" === g.localName(a) && (a = a.nextSibling);
                    if ("rss" !== g.localName(a)) d("Not a valid RSS feed");
                    else {
                        var h = new b.playlist(g.rssparser.parse(a));
                        e.sendEvent(k.JWPLAYER_PLAYLIST_LOADED, {
                            playlist: h
                        })
                    }
                } catch (l) {
                    d()
                }
            }

            function a(a) {
                d(a.match(/invalid/i) ? "Not a valid RSS feed" : "")
            }

            function d(a) {
                e.sendEvent(k.JWPLAYER_ERROR, {
                    message: a ? a : "Error loading file"
                })
            }
            var e = new k.eventdispatcher;
            f.extend(this, e);
            this.load = function(b) {
                f.ajax(b, c, a)
            }
        }
    }(jwplayer),
    function(b) {
        var f = jwplayer.utils,
            k = {
                file: void 0,
                label: void 0,
                type: void 0,
                "default": void 0
            };
        b.source = function(b) {
            var c = f.extend({}, k);
            f.foreach(k, function(a) {
                f.exists(b[a]) && (c[a] = b[a], delete b[a])
            });
            c.type && 0 < c.type.indexOf("/") && (c.type = f.extensionmap.mimeType(c.type));
            "m3u8" === c.type && (c.type = "hls");
            "smil" === c.type && (c.type = "rtmp");
            return c
        }
    }(jwplayer.playlist),
    function(b) {
        var f = jwplayer.utils,
            k = {
                file: void 0,
                label: void 0,
                kind: "captions",
                "default": !1
            };
        b.track = function(b) {
            var c = f.extend({}, k);
            b || (b = {});
            f.foreach(k, function(a) {
                f.exists(b[a]) && (c[a] = b[a], delete b[a])
            });
            return c
        }
    }(jwplayer.playlist),
    function(b) {
        function f(a, b, c) {
            var d = a.style;
            d.backgroundColor = "#000";
            d.color = "#FFF";
            d.width = k.styleDimension(c.width);
            d.height = k.styleDimension(c.height);
            d.display = "table";
            d.opacity = 1;
            c = document.createElement("p");
            d = c.style;
            d.verticalAlign = "middle";
            d.textAlign = "center";
            d.display = "table-cell";
            d.font = "15px/20px Arial, Helvetica, sans-serif";
            c.innerHTML = b.replace(":", ":\x3cbr\x3e");
            a.innerHTML = "";
            a.appendChild(c)
        }
        var k = b.utils,
            g = b.events,
            c = b._,
            a = b.embed = function(d) {
                function e() {
                    if (!B) {
                        var f = u.playlist;
                        if (c.isArray(f)) {
                            if (0 === f.length) {
                                p();
                                return
                            }
                            if (!(1 !== f.length || f[0].sources && 0 !== f[0].sources.length && f[0].sources[0].file)) {
                                p();
                                return
                            }
                        }
                        if (!z)
                            if (c.isString(f)) A = new b.playlist.loader,
                                A.addEventListener(g.JWPLAYER_PLAYLIST_LOADED, function(a) {
                                    u.playlist = a.playlist;
                                    z = !1;
                                    e()
                                }), A.addEventListener(g.JWPLAYER_ERROR, function(a) {
                                    z = !1;
                                    p(a)
                                }), z = !0, A.load(u.playlist);
                            else if (t.getStatus() === k.loaderstatus.COMPLETE) {
                            for (f = 0; f < u.modes.length; f++) {
                                var l = u.modes[f],
                                    r = l.type;
                                if (r && a[r]) {
                                    var m = k.extend({}, u);
                                    E = new a[r](C, l, m, t, d);
                                    if (E.supportsConfig()) return E.addEventListener(g.ERROR, h), E.embed(), k.css("object.jwswf, .jwplayer:focus", {
                                            outline: "none"
                                        }), k.css(".jw-tab-focus:focus", {
                                            outline: "solid 2px #0B7EF4"
                                        }),
                                        d
                                }
                            }
                            u.fallback ? (f = "No suitable players found and fallback enabled", q(f, !0), k.log(f), new a.download(C, u, p)) : (f = "No suitable players found and fallback disabled", q(f, !1), k.log(f))
                        }
                    }
                }

                function h(a) {
                    l(x + a.message)
                }

                function m(a) {
                    d.dispatchEvent(g.JWPLAYER_ERROR, {
                        message: "Could not load plugin: " + a.message
                    })
                }

                function p(a) {
                    a && a.message ? l("Error loading playlist: " + a.message) : l(x + "No playable sources found")
                }

                function q(a, b) {
                    clearTimeout(y);
                    y = setTimeout(function() {
                        d.dispatchEvent(g.JWPLAYER_SETUP_ERROR, {
                            message: a,
                            fallback: b
                        })
                    }, 0)
                }

                function l(a) {
                    B || (v.parentNode.replaceChild(C, v), u.fallback ? (B = !0, f(C, a, u), q(a, !0)) : q(a, !1))
                }
                var u = new a.config(d.config),
                    w = u.width,
                    r = u.height,
                    x = "Error loading player: ",
                    v = document.getElementById(d.id),
                    t = b.plugins.loadPlugins(d.id, u.plugins),
                    A, z = !1,
                    B = !1,
                    E = null,
                    y = -1;
                u.id = d.id;
                u.aspectratio ? d.config.aspectratio = u.aspectratio : delete d.config.aspectratio;
                k.foreach(u.events, function(a, b) {
                    a = d[a];
                    "function" === typeof a && a.call(d, b)
                });
                var C = document.createElement("div");
                C.id = v.id;
                C.style.width =
                    0 < w.toString().indexOf("%") ? w : w + "px";
                C.style.height = 0 < r.toString().indexOf("%") ? r : r + "px";
                this.embed = function() {
                    B || (t.addEventListener(g.COMPLETE, e), t.addEventListener(g.ERROR, m), t.load())
                };
                this.destroy = function() {
                    E && (E.destroy(), E = null);
                    t && (t.destroy(), t = null);
                    A && (A.resetEventListeners(), A = null)
                };
                this.errorScreen = l;
                return this
            };
        b.embed.errorScreen = f
    }(jwplayer),
    function(b) {
        function f(a) {
            if (a.playlist)
                for (var b = 0; b < a.playlist.length; b++) a.playlist[b] = new c(a.playlist[b]);
            else {
                var e = {};
                g.foreach(c.defaults,
                    function(b) {
                        k(a, e, b)
                    });
                e.sources || (a.levels ? (e.sources = a.levels, delete a.levels) : (b = {}, k(a, b, "file"), k(a, b, "type"), e.sources = b.file ? [b] : []));
                a.playlist = [new c(e)]
            }
        }

        function k(a, b, c) {
            g.exists(a[c]) && (b[c] = a[c], delete a[c])
        }
        var g = b.utils,
            c = b.playlist.item;
        (b.embed.config = function(a) {
            var c = {
                fallback: !0,
                height: 270,
                primary: "html5",
                width: 480,
                base: a.base ? a.base : g.getScriptPath("jwplayer.js"),
                aspectratio: ""
            };
            a = g.extend({}, c, b.defaults, a);
            c = {
                type: "html5",
                src: a.base + "jwplayer.html5.js"
            };
            var e = {
                type: "flash",
                src: a.base + "jwplayer.flash.swf"
            };
            a.modes = "flash" === a.primary ? [e, c] : [c, e];
            a.listbar && (a.playlistsize = a.listbar.size, a.playlistposition = a.listbar.position, a.playlistlayout = a.listbar.layout);
            a.flashplayer && (e.src = a.flashplayer);
            a.html5player && (c.src = a.html5player);
            f(a);
            e = a.aspectratio;
            if ("string" === typeof e && g.exists(e)) {
                var h = e.indexOf(":"); - 1 === h ? c = 0 : (c = parseFloat(e.substr(0, h)), e = parseFloat(e.substr(h + 1)), c = 0 >= c || 0 >= e ? 0 : e / c * 100 + "%")
            } else c = 0; - 1 === a.width.toString().indexOf("%") ? delete a.aspectratio :
                c ? a.aspectratio = c : delete a.aspectratio;
            return a
        }).addConfig = function(a, b) {
            f(b);
            return g.extend(a, b)
        }
    }(jwplayer),
    function(b) {
        function f(b, c) {
            function a(a, b) {
                d[e].style[a] = b
            }
            for (var d = document.querySelectorAll(b), e = 0; e < d.length; e++) k.foreach(c, a)
        }
        var k = b.utils;
        b.embed.download = function(b, c, a) {
            function d(a, b, c) {
                a = document.createElement(a);
                b && (a.className = "jwdownload" + b);
                c && c.appendChild(a);
                return a
            }
            var e = k.extend({}, c),
                h, g = e.width ? e.width : 480,
                p = e.height ? e.height : 320,
                q;
            c = c.logo ? c.logo : {
                prefix: k.repo(),
                file: "logo.png",
                margin: 10
            };
            var l, u;
            var w = e.playlist;
            e = ["mp4", "aac", "mp3"];
            if (w && w.length) {
                var r = w[0];
                var x = r.sources;
                for (w = 0; w < x.length; w++) {
                    var v = x[w];
                    v.file && (u = v.type || k.extensionmap.extType(k.extension(v.file)), 0 <= k.indexOf(e, u) ? (h = v.file, q = r.image) : k.isYouTube(v.file, u) && (l = v.file))
                }
                h ? (a = h, b && (h = d("a", "display", b), d("div", "icon", h), d("div", "logo", h), a && h.setAttribute("href", k.getAbsolutePath(a))), a = "#" + b.id + " .jwdownload", b.style.width = "", b.style.height = "", f(a + "display", {
                        width: k.styleDimension(Math.max(320,
                            g)),
                        height: k.styleDimension(Math.max(180, p)),
                        background: "black center no-repeat " + (q ? "url(" + q + ")" : ""),
                        backgroundSize: "contain",
                        position: "relative",
                        border: "none",
                        display: "block"
                    }), f(a + "display div", {
                        position: "absolute",
                        width: "100%",
                        height: "100%"
                    }), f(a + "logo", {
                        top: c.margin + "px",
                        right: c.margin + "px",
                        background: "top right no-repeat url(" + c.prefix + c.file + ")"
                    }), f(a + "icon", {
                        background: "center no-repeat url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgNJREFUeNrs28lqwkAYB/CZqNVDDj2r6FN41QeIy8Fe+gj6BL275Q08u9FbT8ZdwVfotSBYEPUkxFOoks4EKiJdaDuTjMn3wWBO0V/+sySR8SNSqVRKIR8qaXHkzlqS9jCfzzWcTCYp9hF5o+59sVjsiRzcegSckFzcjT+ruN80TeSlAjCAAXzdJSGPFXRpAAMYwACGZQkSdhG4WCzehMNhqV6vG6vVSrirKVEw66YoSqDb7cqlUilE8JjHd/y1MQefVzqdDmiaJpfLZWHgXMHn8F6vJ1cqlVAkEsGuAn83J4gAd2RZymQygX6/L1erVQt+9ZPWb+CDwcCC2zXGJaewl/DhcHhK3DVj+KfKZrMWvFarcYNLomAv4aPRSFZVlTlcSPA5fDweW/BoNIqFnKV53JvncjkLns/n/cLdS+92O7RYLLgsKfv9/t8XlDn4eDyiw+HA9Jyz2eyt0+kY2+3WFC5hluej0Ha7zQQq9PPwdDq1Et1sNsx/nFBgCqWJ8oAK1aUptNVqcYWewE4nahfU0YQnk4ntUEfGMIU2m01HoLaCKbTRaDgKtaVLk9tBYaBcE/6Artdr4RZ5TB6/dC+9iIe/WgAMYADDpAUJAxjAAAYwgGFZgoS/AtNNTF7Z2bL0BYPBV3Jw5xFwwWcYxgtBP5OkE8i9G7aWGOOCruvauwADALMLMEbKf4SdAAAAAElFTkSuQmCC)"
                    })) :
                    l ? (c = l, b = d("iframe", "", b), b.src = "http://www.youtube.com/embed/" + k.youTubeID(c), b.width = g, b.height = p, b.style.border = "none") : a()
            }
        }
    }(jwplayer),
    function(b) {
        var f = b.utils,
            k = b.events,
            g = {};
        (b.embed.flash = function(a, d, e, h, m) {
            function p(a, b, c) {
                var d = document.createElement("param");
                d.setAttribute("name", b);
                d.setAttribute("value", c);
                a.appendChild(d)
            }

            function q(a, b, c) {
                return function() {
                    try {
                        c && document.getElementById(m.id + "_wrapper").appendChild(b);
                        var d = document.getElementById(m.id).getPluginConfig("display");
                        "function" === typeof a.resize && a.resize(d.width, d.height);
                        b.style.left = d.x;
                        b.style.top = d.h
                    } catch (A) {}
                }
            }

            function l(a) {
                if (!a) return {};
                var b = {},
                    c = [];
                f.foreach(a, function(a, d) {
                    var e = f.getPluginName(a);
                    c.push(a);
                    f.foreach(d, function(a, c) {
                        b[e + "." + a] = c
                    })
                });
                b.plugins = c.join(",");
                return b
            }
            var u = new b.events.eventdispatcher,
                w = f.flashVersion();
            f.extend(this, u);
            this.embed = function() {
                e.id = m.id;
                if (10 > w) return u.sendEvent(k.ERROR, {
                    message: "Flash version must be 10.0 or greater"
                }), !1;
                var b = a.id,
                    c = m.config.listbar,
                    v = f.extend({}, e);
                var t = document.getElementById(m.id);
                t.parentNode.replaceChild(a, t);
                if (b + "_wrapper" === a.parentNode.id) t = document.getElementById(b + "_wrapper");
                else {
                    t = document.createElement("div");
                    var A = document.createElement("div");
                    A.style.display = "none";
                    A.id = b + "_aspect";
                    t.id = b + "_wrapper";
                    t.style.position = "relative";
                    t.style.display = "block";
                    t.style.width = f.styleDimension(v.width);
                    t.style.height = f.styleDimension(v.height);
                    if (m.config.aspectratio) {
                        var z = parseFloat(m.config.aspectratio);
                        A.style.display =
                            "block";
                        A.style.marginTop = m.config.aspectratio;
                        t.style.height = "auto";
                        t.style.display = "inline-block";
                        c && ("bottom" === c.position ? A.style.paddingBottom = c.size + "px" : "right" === c.position && (A.style.marginBottom = z / 100 * c.size * -1 + "px"))
                    }
                    a.parentNode.replaceChild(t, a);
                    t.appendChild(a);
                    t.appendChild(A)
                }
                c = h.setupPlugins(m, v, q);
                0 < c.length ? f.extend(v, l(c.plugins)) : delete v.plugins;
                "undefined" !== typeof v["dock.position"] && "false" === v["dock.position"].toString().toLowerCase() && (v.dock = v["dock.position"], delete v["dock.position"]);
                c = v.wmode || (v.height && 40 >= v.height ? "transparent" : "opaque");
                A = "height width modes events primary base fallback volume".split(" ");
                for (z = 0; z < A.length; z++) delete v[A[z]];
                A = f.getCookies();
                f.foreach(A, function(a, b) {
                    "undefined" === typeof v[a] && (v[a] = b)
                });
                A = window.location.href.split("/");
                A.splice(A.length - 1, 1);
                A = A.join("/");
                v.base = A + "/";
                g[b] = v;
                f.isMSIE() ? (a.outerHTML = '\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"100%" height\x3d"100%" id\x3d"' + b + '" name\x3d"' + b + '" tabindex\x3d"0"\x3e\x3cparam name\x3d"movie" value\x3d"' +
                    d.src + '"\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"true"\x3e\x3cparam name\x3d"allowscriptaccess" value\x3d"always"\x3e\x3cparam name\x3d"seamlesstabbing" value\x3d"true"\x3e\x3cparam name\x3d"wmode" value\x3d"' + c + '"\x3e\x3cparam name\x3d"bgcolor" value\x3d"#000000"\x3e\x3c/object\x3e', t = t.getElementsByTagName("object")[0], t.style.outline = "none") : (t = document.createElement("object"), t.setAttribute("type", "application/x-shockwave-flash"), t.setAttribute("data", d.src), t.setAttribute("width", "100%"),
                    t.setAttribute("height", "100%"), t.setAttribute("bgcolor", "#000000"), t.setAttribute("id", b), t.setAttribute("name", b), t.className = "jwswf", p(t, "allowfullscreen", "true"), p(t, "allowscriptaccess", "always"), p(t, "seamlesstabbing", "true"), p(t, "wmode", c), a.parentNode.replaceChild(t, a));
                m.config.aspectratio && (t.style.position = "absolute", t.style.left = "0");
                m.container = t;
                m.setPlayer(t, "flash")
            };
            this.supportsConfig = function() {
                if (w)
                    if (e) {
                        if ("string" === f.typeOf(e.playlist)) return !0;
                        try {
                            var a = e.playlist[0].sources;
                            if ("undefined" === typeof a) return !0;
                            for (var b = 0; b < a.length; b++)
                                if (a[b].file && c(a[b].file, a[b].type)) return !0
                        } catch (v) {}
                    } else return !0;
                return !1
            };
            this.destroy = function() {}
        }).getVars = function(a) {
            return g[a]
        };
        var c = b.embed.flashCanPlay = function(a, b) {
            return f.isYouTube(a, b) || f.isRtmp(a, b) || "hls" === b ? !0 : (a = f.extensionmap[b ? b : f.extension(a)]) ? !!a.flash : !1
        }
    }(jwplayer),
    function(b) {
        var f = b.utils,
            k = f.extensionmap,
            g = b.events,
            c;
        b.embed.html5 = function(a, d, e, h, m) {
            function k(b, c, d) {
                return function() {
                    try {
                        var e = document.querySelector("#" +
                            a.id + " .jwmain");
                        d && e.appendChild(c);
                        "function" === typeof b.resize && (b.resize(e.clientWidth, e.clientHeight), setTimeout(function() {
                            b.resize(e.clientWidth, e.clientHeight)
                        }, 400));
                        c.left = e.style.left;
                        c.top = e.style.top
                    } catch (x) {}
                }
            }
            var q = new g.eventdispatcher;
            f.extend(this, q);
            this.embed = function() {
                if (b.html5) {
                    h.setupPlugins(m, e, k);
                    f.emptyElement(a);
                    var c = b.utils.extend({}, e);
                    delete c.volume;
                    c = new b.html5.player(c);
                    m.setPlayer(c, "html5")
                } else this.loadEmbedder()
            };
            this.loadEmbedder = function() {
                c = c || new f.scriptloader(d.src);
                c.addEventListener(g.ERROR, this.loadError);
                c.addEventListener(g.COMPLETE, this.embed);
                c.load()
            };
            this.loadError = function(a) {
                this.sendEvent(a.type, {
                    message: "HTML5 player not found"
                })
            };
            this.supportsConfig = function() {
                if (b.vid.canPlayType) try {
                    if ("string" === f.typeOf(e.playlist)) return !0;
                    for (var a = e.playlist[0].sources, c = 0; c < a.length; c++)
                        if (b.embed.html5CanPlay(a[c].file, a[c].type, e.androidhls)) return !0
                } catch (w) {}
                return !1
            };
            this.destroy = function() {
                c && (c.resetEventListeners(), c = null)
            }
        };
        b.embed.html5CanPlay =
            function(a, c, e) {
                if (null !== navigator.userAgent.match(/BlackBerry/i) || f.isIE(9)) return !1;
                if (f.isYouTube(a, c)) return !0;
                var d = f.extension(a);
                c = c || k.extType(d);
                if ("hls" === c)
                    if (e) {
                        e = f.isAndroidNative;
                        if (e(2) || e(3) || e("4.0")) return !1;
                        if (f.isAndroid()) return !0
                    } else if (f.isAndroid()) return !1;
                if (f.isRtmp(a, c)) return !1;
                a = k[c] || k[d];
                if (!a || a.flash && !a.html5) return !1;
                a: if (a = a.html5) {
                    try {
                        var g = !!b.vid.canPlayType(a);
                        break a
                    } catch (p) {}
                    g = !1
                } else g = !0;
                return g
            }
    }(jwplayer),
    function(b) {
        var f = b.embed,
            k = b.embed.html5CanPlay,
            g = b.utils,
            c = b._,
            a = /\.(js|swf)$/;
        b.cast = b.cast || {};
        b.embed = g.extend(function(c) {
            function d() {
                A = "Adobe SiteCatalyst Error: Could not find Media Module"
            }
            var h = g.repo(),
                m = g.extend({}, b.defaults),
                k = g.extend({}, m, c.config),
                q = c.config,
                l = k.plugins,
                u = k.analytics,
                w = h + "jwpsrv.js",
                r = h + "sharing.js",
                x = h + "related.js",
                v = h + "gapro.js";
            m = b.key ? b.key : m.key;
            var t = (new b.utils.key(m)).edition(),
                A;
            l = l ? l : {};
            "ads" == t && k.advertising && (a.test(k.advertising.client) ? l[k.advertising.client] = k.advertising : l[h + k.advertising.client +
                ".js"] = k.advertising);
            delete q.advertising;
            q.key = m;
            k.analytics && a.test(k.analytics.client) && (w = k.analytics.client);
            delete q.analytics;
            u && "ads" !== t && "enterprise" !== t && delete u.enabled;
            "free" != t && u && !1 === u.enabled || (l[w] = u ? u : {});
            delete l.sharing;
            delete l.related;
            switch (t) {
                case "ads":
                case "enterprise":
                    if (q.sitecatalyst) try {
                        window.s && window.s.hasOwnProperty("Media") ? new b.embed.sitecatalyst(c) : d()
                    } catch (z) {
                        d()
                    }
                    case "premium": k.related && (a.test(k.related.client) && (x = k.related.client), l[x] = k.related), k.ga &&
                        (a.test(k.ga.client) && (v = k.ga.client), l[v] = k.ga);
                case "pro":
                    k.sharing && (a.test(k.sharing.client) && (r = k.sharing.client), l[r] = k.sharing), k.skin && (q.skin = k.skin.replace(/^(beelden|bekle|five|glow|modieus|roundster|stormtrooper|vapor)$/i, g.repo() + "skins/$1.xml"))
            }
            q.plugins = l;
            c.config = q;
            c = new f(c);
            A && c.errorScreen(A);
            return c
        }, b.embed);
        b.embed.html5CanPlay = function(a, e) {
            var d = {
                file: a,
                type: e
            };
            return (b.html5 && b.html5.chooseProvider ? b.html5.chooseProvider(d) !== b.html5.VideoProvider : c.any(b.unregisteredProviders,
                function(a) {
                    return a.supports(d)
                })) ? !0 : k.apply(this, arguments)
        }
    }(jwplayer),
    function(b) {
        var f = jwplayer.utils;
        b.sitecatalyst = function(b) {
            function g(a) {
                h.debug && f.log(a)
            }

            function c(a) {
                a = a.split("/");
                a = a[a.length - 1];
                a = a.split("?");
                return a[0]
            }

            function a() {
                if (!u) {
                    u = !0;
                    var a = e.getPosition();
                    g("stop: " + p + " : " + a);
                    s.Media.stop(p, a)
                }
            }

            function d() {
                w || (a(), w = !0, g("close: " + p), s.Media.close(p), r = !0, l = 0)
            }
            var e = b,
                h = f.extend({}, e.config.sitecatalyst),
                k = {
                    onPlay: function() {
                        if (!r) {
                            var a = e.getPosition();
                            u = !1;
                            g("play: " +
                                p + " : " + a);
                            s.Media.play(p, a)
                        }
                    },
                    onPause: a,
                    onBuffer: a,
                    onIdle: d,
                    onPlaylistItem: function(a) {
                        try {
                            r = !0;
                            d();
                            l = 0;
                            if (h.mediaName) var b = h.mediaName;
                            else {
                                var g = e.getPlaylistItem(a.index);
                                b = g.title ? g.title : g.file ? c(g.file) : g.sources && g.sources.length ? c(g.sources[0].file) : ""
                            }
                            p = b;
                            q = h.playerName ? h.playerName : e.id
                        } catch (A) {
                            f.log(A)
                        }
                    },
                    onTime: function() {
                        if (r) {
                            var a = e.getDuration();
                            if (-1 == a) return;
                            w = u = r = !1;
                            g("open: " + p + " : " + a + " : " + q);
                            s.Media.open(p, a, q);
                            g("play: " + p + " : 0");
                            s.Media.play(p, 0)
                        }
                        a = e.getPosition();
                        if (3 <=
                            Math.abs(a - l)) {
                            var b = l;
                            g("seek: " + b + " to " + a);
                            g("stop: " + p + " : " + b);
                            s.Media.stop(p, b);
                            g("play: " + p + " : " + a);
                            s.Media.play(p, a)
                        }
                        l = a
                    },
                    onComplete: d
                },
                p, q, l, u = !0,
                w = !0,
                r;
            f.foreach(k, function(a) {
                e[a](k[a])
            })
        }
    }(jwplayer.embed),
    function(b) {
        function f(a, b) {
            a[b] && (a[b] = k.getAbsolutePath(a[b]))
        }
        var k = b.utils,
            g = b._,
            c = window.location.href;
        b.cast.setupCastConfig = function(a, d) {
            var e = k.extend({}, a.config);
            e.cast = k.extend({
                pageUrl: c
            }, d);
            d = "base autostart controls fallback fullscreen width height mobilecontrols modes playlistlayout playlistposition playlistsize primary stretching sharing related ga skin logo listbar events".split(" ");
            for (var h = d.length; h--;) delete e[d[h]];
            d = e.plugins;
            delete e.plugins;
            for (var g in d)
                if (d.hasOwnProperty(g)) {
                    var p = d[g];
                    if (p.client && (/[\.\/]/.test(p.client) && f(p, "client"), -1 < p.client.indexOf("vast"))) {
                        h = e;
                        p = k.extend({}, p);
                        p.client = "vast";
                        delete p.companiondiv;
                        if (p.schedule) {
                            var q = void 0;
                            for (q in p.schedule) p.schedule.hasOwnProperty(q) && f(p.schedule[q].ad || p.schedule[q], "tag")
                        }
                        f(p, "tag");
                        h.advertising = p
                    }
                } a.position && (e.position = a.position);
            0 < a.item && (e.item = a.item);
            e.captionLabel = k.getCookies().captionLabel;
            e.playerVersion = b.version;
            return e
        };
        b.cast.setupFlashCastConfig = function(a) {
            var c = a.config;
            c.playlist = a.getPlaylist();
            var e;
            (e = g.find(c.plugins, function(a, b) {
                return 0 < b.indexOf("vast.js")
            })) ? (e.client = "vast", e = {
                advertising: e
            }) : e = {};
            c = g.pick(c, "id captionLabel cast key playlist repeat".split(" "));
            c.cast.pageUrl = window.location.href;
            k.extend(c, {
                    playerVersion: b.version,
                    captionLabel: k.getCookies().captionLabel,
                    volume: a.getVolume(),
                    mute: a.getMute(),
                    id: a.id,
                    position: a.getPosition(),
                    item: a.getPlaylistIndex()
                },
                e);
            return c
        }
    }(window.jwplayer),
    function(b, f) {
        function k(a, b) {
            a[b] && (a[b] = c.getAbsolutePath(a[b]))
        }
        var g = f.cast,
            c = f.utils,
            a = f.events,
            d = a.state,
            e = {};
        g.NS = "urn:x-cast:com.longtailvideo.jwplayer";
        g.debug = !1;
        g.availability = null;
        g.available = function(a) {
            a = a || g.availability;
            var c = b.chrome,
                d = "available";
            c.cast && c.cast.ReceiverAvailability && (d = c.cast.ReceiverAvailability.AVAILABLE);
            return a === d
        };
        g.controller = function(h, m) {
            function p(a, b) {
                g.log("send command", a, b);
                a = {
                    command: a
                };
                void 0 !== b && (a.args = b);
                G.sendMessage(g.NS,
                    a, Q,
                    function(a) {
                        g.log("error message", a);
                        "Invalid namespace" === a.description && t()
                    })
            }

            function q(b) {
                b = !!g.available(b.availability);
                J.available !== b && (J.available = b, r(a.JWPLAYER_CAST_AVAILABLE))
            }

            function l(a) {
                g.log("existing session", a);
                G || Y || (Y = a.session, Y.addMessageListener(g.NS, u))
            }

            function u(b, c) {
                b = JSON.parse(c);
                if (!b) throw "Message not proper JSON";
                if (b.reconcile) {
                    Y.removeMessageListener(g.NS, u);
                    c = b.diff;
                    var d = Y;
                    c.id && b.appid && b.pageUrl || (c.id = f().id, b.appid = ea.appid, b.pageUrl = M, Y = G = null);
                    c.id ===
                        h.id && b.appid === ea.appid && b.pageUrl === M && (G || (h.jwInstreamState() && h.jwInstreamDestroy(!0), z(d), m.sendEvent(a.JWPLAYER_PLAYER_STATE, {
                            oldstate: c.oldstate,
                            newstate: c.newstate
                        })), O(b));
                    Y = null
                }
            }

            function w(b) {
                J.active = !!b;
                b = J;
                b.deviceName = G && G.receiver ? G.receiver.friendlyName : "";
                r(a.JWPLAYER_CAST_SESSION, {})
            }

            function r(a) {
                var b = c.extend({}, J);
                m.sendEvent(a, b)
            }

            function x(a) {
                var c = b.chrome;
                a.code !== c.cast.ErrorCode.CANCEL && (g.log("Cast Session Error:", a, G), a.code === c.cast.ErrorCode.SESSION_ERROR && t())
            }

            function v(a) {
                var c =
                    b.chrome;
                a.code !== c.cast.ErrorCode.CANCEL && (g.log("Cast Session Error:", a, G), a.code === c.cast.ErrorCode.SESSION_ERROR && t())
            }

            function t() {
                G ? (y(), G.stop(E, A), I({
                    item: 0
                }), O({
                    type: "state",
                    diff: {
                        buffer: 0,
                        position: 0,
                        duration: 0
                    }
                })) : E()
            }

            function A(a) {
                g.error("Cast Session Stop error:", a, G);
                E()
            }

            function z(e) {
                g.log("Session started:", e);
                if (G) t(), ca = e;
                else {
                    G = e;
                    G.addMessageListener(g.NS, C);
                    G.addUpdateListener(B);
                    h.jwPause(!0);
                    h.jwSetFullscreen(!1);
                    T = m.getVideo();
                    U = m.volume;
                    ba = m.mute;
                    R = new g.provider(p);
                    R.init();
                    m.setVideoProvider(R);
                    h.jwPlay = function(a) {
                        !1 === a ? R.pause() : R.play()
                    };
                    h.jwPause = function(a) {
                        h.jwPlay(!!a)
                    };
                    h.jwLoad = function(a) {
                        "number" === c.typeOf(a) && m.setItem(a);
                        R.load(a)
                    };
                    h.jwPlaylistItem = function(a) {
                        "number" === c.typeOf(a) && m.setItem(a);
                        R.playlistItem(a)
                    };
                    h.jwPlaylistNext = function() {
                        h.jwPlaylistItem(m.item + 1)
                    };
                    h.jwPlaylistPrev = function() {
                        h.jwPlaylistItem(m.item - 1)
                    };
                    h.jwSetVolume = function(a) {
                        c.exists(a) && (a = Math.min(Math.max(0, a), 100) | 0, N(a) && (a = Math.max(0, Math.min(a / 100, 1)), G.setReceiverVolumeLevel(a,
                            F,
                            function(a) {
                                g.error("set volume error", a);
                                F()
                            })))
                    };
                    h.jwSetMute = function(a) {
                        c.exists(a) || (a = !V.mute);
                        K(a) && G.setReceiverMuted(!!a, F, function(a) {
                            g.error("set muted error", a);
                            F()
                        })
                    };
                    h.jwGetVolume = function() {
                        return V.volume | 0
                    };
                    h.jwGetMute = function() {
                        return !!V.mute
                    };
                    h.jwIsBeforePlay = function() {
                        return !1
                    };
                    var l = h.jwSetCurrentCaptions;
                    h.jwSetCurrentCaptions = function(a) {
                        l(a);
                        R.sendCommand("caption", a)
                    };
                    h.jwSkipAd = function(b) {
                        H && (H.skipAd(b), b = H.getAdModel(), b.complete = !0, m.sendEvent(a.JWPLAYER_CAST_AD_CHANGED,
                            b))
                    };
                    h.jwClickAd = function(c) {
                        if (H && 300 < H.timeSinceClick() && (H.clickAd(c), m.state !== d.PAUSED)) {
                            var e = {
                                tag: c.tag
                            };
                            c.sequence && (e.sequence = c.sequence);
                            c.podcount && (e.podcount = c.podcount);
                            f(h.id).dispatchEvent(a.JWPLAYER_AD_CLICK, e);
                            b.open(c.clickthrough)
                        }
                    };
                    h.jwPlayAd = h.jwPauseAd = h.jwSetControls = h.jwForceState = h.jwReleaseState = h.jwSetFullscreen = h.jwDetachMedia = h.jwAttachMedia = Q;
                    var r = f(h.id).plugins;
                    r.vast && r.vast.jwPauseAd !== Q && (aa = {
                            jwPlayAd: r.vast.jwPlayAd,
                            jwPauseAd: r.vast.jwPauseAd
                        }, r.vast.jwPlayAd =
                        r.vast.jwPauseAd = Q);
                    F();
                    w(!0);
                    e !== Y && (R.setup(f.cast.setupCastConfig(m, ea), m), f.cast.loader.sendDummyMedia(e))
                }
            }

            function B(b) {
                g.log("Cast Session status", b);
                b ? F() : (R.sendEvent(a.JWPLAYER_PLAYER_STATE, {
                    oldstate: m.state,
                    newstate: d.BUFFERING
                }), E())
            }

            function E() {
                g.log("_sessionStopped");
                G && (y(), G = null);
                if (T) {
                    delete h.jwSkipAd;
                    delete h.jwClickAd;
                    h.initializeAPI();
                    var b = f(h.id).plugins;
                    b.vast && c.extend(b.vast, aa);
                    m.volume = U;
                    m.mute = ba;
                    m.setVideoProvider(T);
                    m.duration = 0;
                    R && (R.destroy(), R = null);
                    H && (H.destroy(),
                        H = null);
                    m.state !== d.IDLE ? c.isIPad() || c.isIPod() ? (h.jwStop(!0), T.sendEvent(a.JWPLAYER_PLAYER_STATE, {
                        oldstate: d.BUFFERING,
                        newstate: d.IDLE
                    })) : (m.state = d.IDLE, h.jwPlay(!0), h.jwSeek(m.position)) : T.sendEvent(a.JWPLAYER_PLAYER_STATE, {
                        oldstate: d.BUFFERING,
                        newstate: d.IDLE
                    });
                    T = null
                }
                w(!1);
                null !== ca && (z(ca), ca = null)
            }

            function y() {
                G.removeUpdateListener(B);
                G.removeMessageListener(g.NS, C)
            }

            function C(a, b) {
                a = JSON.parse(b);
                if (!a) throw "Message not proper JSON";
                O(a)
            }

            function O(b) {
                if ("state" === b.type) H && (b.diff.newstate ||
                    b.diff.position) && (H.destroy(), H = null, m.setVideoProvider(R), m.sendEvent(a.JWPLAYER_CAST_AD_CHANGED, {
                    done: !0
                })), R.updateModel(b.diff, b.type), I(b.diff);
                else if ("ad" === b.type) {
                    null === H && (H = new g.adprovider(g.NS, G), H.init(), m.setVideoProvider(H));
                    H.updateModel(b.diff, b.type);
                    var c = H.getAdModel();
                    b.diff.clickthrough && (c.onClick = h.jwClickAd);
                    b.diff.skipoffset && (c.onSkipAd = h.jwSkipAd);
                    m.sendEvent(a.JWPLAYER_CAST_AD_CHANGED, c);
                    b.diff.complete && H.resetAdModel()
                } else "connection" === b.type ? !0 === b.closed && t() :
                    g.error("received unhandled message", b.type, b)
            }

            function I(b) {
                void 0 !== b.item && m.item !== b.item && (m.item = b.item, m.sendEvent(a.JWPLAYER_PLAYLIST_ITEM, {
                    index: m.item
                }))
            }

            function F() {
                if (G && G.receiver) {
                    var a = G.receiver.volume;
                    if (a) {
                        var b = 100 * a.level | 0;
                        K(!!a.muted);
                        N(b)
                    }
                }
            }

            function N(b) {
                var c = V.volume !== b;
                c && (V.volume = b, R.sendEvent(a.JWPLAYER_MEDIA_VOLUME, {
                    volume: b
                }));
                return c
            }

            function K(b) {
                var c = V.mute !== b;
                c && (V.mute = b, R.sendEvent(a.JWPLAYER_MEDIA_MUTE, {
                    mute: b
                }));
                return c
            }

            function Q() {}
            var G = null,
                J = {
                    available: !1,
                    active: !1,
                    deviceName: ""
                },
                V = {
                    volume: null,
                    mute: null
                },
                M = c.getAbsolutePath(b.location.href),
                R = null,
                H = null,
                T = null;
            var U = m.volume;
            var ba = m.mute;
            var Y = null,
                ca = null,
                aa = null;
            var ea = c.extend({}, e, m.cast);
            k(ea, "loadscreen");
            k(ea, "endscreen");
            k(ea, "logo");
            !ea.appid || b.cast && b.cast.receiver || (g.loader.addEventListener("availability", q), g.loader.addEventListener("session", l), g.loader.initialize(ea.appid));
            this.startCasting = function() {
                G || h.jwInstreamState() || b.chrome.cast.requestSession(z, x)
            };
            this.stopCasting = t;
            this.openExtension = function() {
                h.jwInstreamState() || b.chrome.cast.requestSession(z, v)
            }
        };
        g.log = function() {
            if (g.debug) {
                var a = Array.prototype.slice.call(arguments, 0);
                console.log.apply(console, a)
            }
        };
        g.error = function() {
            var a = Array.prototype.slice.call(arguments, 0);
            console.error.apply(console, a)
        }
    }(window, jwplayer),
    function(b) {
        function f(a) {
            l.log("existing session", a);
            y || z || (z = a.session, z.addMessageListener(l.NS, k))
        }

        function k(a, c) {
            a = JSON.parse(c);
            c = z;
            if (!a) throw "Message not proper JSON";
            a.reconcile && (z.removeMessageListener(l.NS,
                k), a.receiverFriendlyName = z.receiver.friendlyName, a.pageUrl && a.diff.id && a.appid || (a.pageUrl = E, a.diff.id = b().id, a.appid = A, z = y = null), v[a.diff.id] && A === a.appid && a.pageUrl === E && (x = a.diff.id, A = a.appid, p(x, "jwInstreamDestroy"), d(c), p(x, t.message, a), z = null))
        }

        function g() {
            y && (y.removeUpdateListener(m), y.removeMessageListener(l.NS, e), y.stop(c.bind(this), h.bind(this)), y = null);
            p(x, t.cleanup)
        }

        function c() {
            "undefined" !== typeof B && null !== B && (d(B), B = null)
        }

        function a(a, b) {
            y.sendMessage(l.NS, {
                    command: a,
                    args: b
                }, u.noop,
                function(a) {
                    l.error("message send error", a)
                })
        }

        function d(c) {
            var d = b(x);
            y ? (g(), B = c) : (y = c, y.addMessageListener(l.NS, e), y.addUpdateListener(m), d = b.cast.setupFlashCastConfig(d), z !== y && (a("setup", d), b.cast.loader.sendDummyMedia(y)), p(x, t.connected, {
                receiverFriendlyName: c.receiver.friendlyName
            }))
        }

        function e(a, b) {
            if (b) {
                a = JSON.parse(b);
                if (!a) throw "Message not proper JSON";
                p(x, t.message, a)
            }
        }

        function h(a) {
            p(x, t.error, a || {})
        }

        function m(a) {
            a ? q() : g()
        }

        function p(a, c, d) {
            d ? b(a).callInternal(c, d) : b(a).callInternal(c)
        }

        function q() {
            if (y && y.receiver) {
                var a = y.receiver.volume;
                if (a) {
                    var c = 100 * a.level | 0;
                    a = !!a.muted;
                    b(x).setVolume(c).setMute(a)
                }
            }
        }
        var l = b.cast,
            u = b.utils,
            w = b._,
            r = window.chrome || {},
            x, v = {},
            t = {},
            A, z, B, E = u.getAbsolutePath(window.location.href),
            y;
        l.NS = "urn:x-cast:com.longtailvideo.jwplayer";
        l.flash = {
            checkAvailability: function(a, b, c) {
                t = c;
                A = b;
                v[a] = !0;
                l.loader.addEventListener("availability", function(b) {
                    "available" === b.availability && p(a, t.available, b)
                });
                l.loader.addEventListener("session", f);
                l.loader.initialize(b)
            },
            startCasting: function(a) {
                x = a;
                r.cast.requestSession(d.bind(this), h.bind(this))
            },
            stopCasting: g,
            openExtension: function(a) {
                x = a;
                r.cast.requestSession(d.bind(this), h.bind(this))
            },
            mute: function(a) {
                y.setReceiverMuted(a, q, function(a) {
                    l.error("set muted error", a)
                })
            },
            volume: function(a) {
                a = Math.max(0, Math.min(a / 100, 1));
                y.setReceiverVolumeLevel(a, q, function(a) {
                    l.error("set volume error", a)
                })
            },
            messageReceiver: a,
            canCastItem: function(a) {
                return w.any(a.levels, function(a) {
                    return b.embed.html5CanPlay(a.file, a.type) ||
                        "hls" === a.type
                })
            }
        }
    }(window.jwplayer),
    function(b, f) {
        function k(a) {
            var b = new f.cast.media.MediaInfo("");
            b.contentType = "video/mp4";
            b = new f.cast.media.LoadRequest(b);
            b.autoplay = !1;
            a.loadMedia(b)
        }

        function g() {
            f && f.cast && f.cast.isAvailable && !m.apiConfig ? (m.apiConfig = new f.cast.ApiConfig(new f.cast.SessionRequest(w), e, h, f.cast.AutoJoinPolicy.ORIGIN_SCOPED), f.cast.initialize(m.apiConfig, d, a)) : 15 > u++ && setTimeout(g, 1E3)
        }

        function c() {
            l && (l.resetEventListeners(), l = null)
        }

        function a() {
            m.apiConfig = null
        }

        function d() {}

        function e(a) {
            r.sendEvent("session", {
                session: a
            });
            a.sendMessage(m.NS, {
                whoami: 1
            });
            0 === a.media.length && k(a)
        }

        function h(a) {
            m.availability = a;
            r.sendEvent("availability", {
                availability: a
            })
        }
        window.chrome = f;
        var m = b.cast,
            p = b.utils,
            q = b.events,
            l, u = 0,
            w = null,
            r = p.extend({
                initialize: function(a) {
                    w = a;
                    null !== m.availability ? r.sendEvent("availability", {
                        availability: m.availability
                    }) : f && f.cast ? g() : l || (l = new p.scriptloader("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"), l.addEventListener(q.ERROR, c), l.addEventListener(q.COMPLETE,
                        g), l.load())
                }
            }, new q.eventdispatcher("cast.loader"));
        b.cast.loader = r;
        b.cast.loader.sendDummyMedia = k
    }(window.jwplayer, window.chrome || {}),
    function(b, f) {
        var k = [],
            g = b.utils,
            c = b.events,
            a = b._,
            d = 0,
            e = c.state,
            h = "getBuffer getCaptionsList getControls getCurrentCaptions getCurrentQuality getCurrentAudioTrack getDuration getFullscreen getHeight getLockState getMute getPlaylistIndex getSafeRegion getPosition getQualityLevels getState getVolume getWidth isBeforeComplete isBeforePlay releaseState".split(" "),
            m =
            "playlistNext stop forceState playlistPrev seek setCurrentCaptions setControls setCurrentQuality setVolume setCurrentAudioTrack".split(" "),
            p = {
                onBufferChange: c.JWPLAYER_MEDIA_BUFFER,
                onBufferFull: c.JWPLAYER_MEDIA_BUFFER_FULL,
                onError: c.JWPLAYER_ERROR,
                onSetupError: c.JWPLAYER_SETUP_ERROR,
                onFullscreen: c.JWPLAYER_FULLSCREEN,
                onMeta: c.JWPLAYER_MEDIA_META,
                onMute: c.JWPLAYER_MEDIA_MUTE,
                onPlaylist: c.JWPLAYER_PLAYLIST_LOADED,
                onPlaylistItem: c.JWPLAYER_PLAYLIST_ITEM,
                onPlaylistComplete: c.JWPLAYER_PLAYLIST_COMPLETE,
                onReady: c.API_READY,
                onResize: c.JWPLAYER_RESIZE,
                onComplete: c.JWPLAYER_MEDIA_COMPLETE,
                onSeek: c.JWPLAYER_MEDIA_SEEK,
                onTime: c.JWPLAYER_MEDIA_TIME,
                onVolume: c.JWPLAYER_MEDIA_VOLUME,
                onBeforePlay: c.JWPLAYER_MEDIA_BEFOREPLAY,
                onBeforeComplete: c.JWPLAYER_MEDIA_BEFORECOMPLETE,
                onDisplayClick: c.JWPLAYER_DISPLAY_CLICK,
                onControls: c.JWPLAYER_CONTROLS,
                onQualityLevels: c.JWPLAYER_MEDIA_LEVELS,
                onQualityChange: c.JWPLAYER_MEDIA_LEVEL_CHANGED,
                onCaptionsList: c.JWPLAYER_CAPTIONS_LIST,
                onCaptionsChange: c.JWPLAYER_CAPTIONS_CHANGED,
                onAdError: c.JWPLAYER_AD_ERROR,
                onAdClick: c.JWPLAYER_AD_CLICK,
                onAdImpression: c.JWPLAYER_AD_IMPRESSION,
                onAdTime: c.JWPLAYER_AD_TIME,
                onAdComplete: c.JWPLAYER_AD_COMPLETE,
                onAdCompanions: c.JWPLAYER_AD_COMPANIONS,
                onAdSkipped: c.JWPLAYER_AD_SKIPPED,
                onAdPlay: c.JWPLAYER_AD_PLAY,
                onAdPause: c.JWPLAYER_AD_PAUSE,
                onAdMeta: c.JWPLAYER_AD_META,
                onCast: c.JWPLAYER_CAST_SESSION,
                onAudioTrackChange: c.JWPLAYER_AUDIO_TRACK_CHANGED,
                onAudioTracks: c.JWPLAYER_AUDIO_TRACKS
            },
            q = {
                onBuffer: e.BUFFERING,
                onPause: e.PAUSED,
                onPlay: e.PLAYING,
                onIdle: e.IDLE
            };
        b.api = function(d) {
            function l(a, b) {
                g.foreach(a, function(a, c) {
                    t[a] = function(a) {
                        return b(c, a)
                    }
                })
            }

            function w(a, b) {
                var c = "jw" + b.charAt(0).toUpperCase() + b.slice(1);
                t[b] = function() {
                    var b = v.apply(this, [c].concat(Array.prototype.slice.call(arguments, 0)));
                    return a ? t : b
                }
            }

            function r(a, b) {
                try {
                    a.jwAddEventListener(b, 'function(dat) { jwplayer("' + t.id + '").dispatchEvent("' + b + '", dat); }')
                } catch (K) {
                    "flash" === t.renderingMode && (a = document.createElement("a"), a.href = B.data, a.protocol !== location.protocol &&
                        g.log("Warning: Your site [" + location.protocol + "] and JWPlayer [" + a.protocol + "] are hosted using different protocols")), g.log("Could not add internal listener")
                }
            }

            function x(a, b) {
                A[a] || (A[a] = [], B && E && r(B, a));
                A[a].push(b);
                return t
            }

            function v() {
                if (E) {
                    if (B) {
                        var a = Array.prototype.slice.call(arguments, 0),
                            b = a.shift();
                        if ("function" === typeof B[b]) {
                            switch (a.length) {
                                case 6:
                                    return B[b](a[0], a[1], a[2], a[3], a[4], a[5]);
                                case 5:
                                    return B[b](a[0], a[1], a[2], a[3], a[4]);
                                case 4:
                                    return B[b](a[0], a[1], a[2], a[3]);
                                case 3:
                                    return B[b](a[0],
                                        a[1], a[2]);
                                case 2:
                                    return B[b](a[0], a[1]);
                                case 1:
                                    return B[b](a[0])
                            }
                            return B[b]()
                        }
                    }
                    return null
                }
                y.push(arguments)
            }
            var t = this,
                A = {},
                z = {},
                B, E = !1,
                y = [],
                C, O = {},
                I = {};
            t.container = d;
            t.id = d.id;
            t.setup = function(a) {
                if (b.embed) {
                    b.api.destroyPlayer(t.id);
                    var c = new b.api(t.container);
                    b.api.addPlayer(c);
                    c.config = a;
                    c._embedder = new b.embed(c);
                    c._embedder.embed();
                    return c
                }
                return t
            };
            t.getContainer = function() {
                return t.container
            };
            t.addButton = function(a, b, c, d) {
                try {
                    I[d] = c, v("jwDockAddButton", a, b, 'jwplayer("' + t.id + '").callback("' +
                        d + '")', d)
                } catch (G) {
                    g.log("Could not add dock button" + G.message)
                }
            };
            t.removeButton = function(a) {
                v("jwDockRemoveButton", a)
            };
            t.callback = function(a) {
                if (I[a]) I[a]()
            };
            t.getMeta = function() {
                return t.getItemMeta()
            };
            t.getPlaylist = function() {
                var a = v("jwGetPlaylist");
                "flash" === t.renderingMode && g.deepReplaceKeyName(a, ["__dot__", "__spc__", "__dsh__", "__default__"], [".", " ", "-", "default"]);
                return a
            };
            t.getPlaylistItem = function(a) {
                g.exists(a) || (a = t.getPlaylistIndex());
                return t.getPlaylist()[a]
            };
            t.getRenderingMode = function() {
                return t.renderingMode
            };
            t.setFullscreen = function(a) {
                g.exists(a) ? v("jwSetFullscreen", a) : v("jwSetFullscreen", !v("jwGetFullscreen"));
                return t
            };
            t.setMute = function(a) {
                g.exists(a) ? v("jwSetMute", a) : v("jwSetMute", !v("jwGetMute"));
                return t
            };
            t.lock = function() {
                return t
            };
            t.unlock = function() {
                return t
            };
            t.load = function(a) {
                v("jwInstreamDestroy");
                b(t.id).plugins.googima && v("jwDestroyGoogima");
                v("jwLoad", a);
                return t
            };
            t.playlistItem = function(a) {
                v("jwPlaylistItem", parseInt(a, 10));
                return t
            };
            t.resize = function(a, b) {
                if ("flash" !== t.renderingMode) v("jwResize",
                    a, b);
                else {
                    var c = document.getElementById(t.id + "_wrapper"),
                        d = document.getElementById(t.id + "_aspect");
                    d && (d.style.display = "none");
                    c && (c.style.display = "block", c.style.width = g.styleDimension(a), c.style.height = g.styleDimension(b))
                }
                return t
            };
            t.play = function(a) {
                if (a !== f) return v("jwPlay", a), t;
                a = t.getState();
                var b = C && C.getState();
                b && (b === e.IDLE || b === e.PLAYING || b === e.BUFFERING ? v("jwInstreamPause") : v("jwInstreamPlay"));
                a === e.PLAYING || a === e.BUFFERING ? v("jwPause") : v("jwPlay");
                return t
            };
            t.pause = function(a) {
                a ===
                    f ? (a = t.getState(), a === e.PLAYING || a === e.BUFFERING ? v("jwPause") : v("jwPlay")) : v("jwPause", a);
                return t
            };
            t.createInstream = function() {
                return new b.api.instream(this, B)
            };
            t.setInstream = function(a) {
                return C = a
            };
            t.loadInstream = function(a, b) {
                C = t.setInstream(t.createInstream()).init(b);
                C.loadItem(a);
                return C
            };
            t.destroyPlayer = function() {
                E = !0;
                v("jwPlayerDestroy")
            };
            t.playAd = function(a) {
                var c = b(t.id).plugins;
                c.vast ? c.vast.jwPlayAd(a) : v("jwPlayAd", a)
            };
            t.pauseAd = function() {
                var a = b(t.id).plugins;
                a.vast ? a.vast.jwPauseAd() :
                    v("jwPauseAd")
            };
            l(q, function(a, b) {
                z[a] || (z[a] = [], x(c.JWPLAYER_PLAYER_STATE, function(b) {
                    var c = b.newstate;
                    b = b.oldstate;
                    if (c === a) {
                        var d = z[c];
                        if (d)
                            for (var e = 0; e < d.length; e++) {
                                var f = d[e];
                                "function" === typeof f && f.call(this, {
                                    oldstate: b,
                                    newstate: c
                                })
                            }
                    }
                }));
                z[a].push(b);
                return t
            });
            l(p, x);
            g.foreach(h, function(a, b) {
                w(!1, b)
            });
            g.foreach(m, function(a, b) {
                w(!0, b)
            });
            t.remove = function() {
                this._embedder && this._embedder.destroy && this._embedder.destroy();
                y = [];
                var b = 1 < a.size(a.where(k, {
                    id: t.id
                }));
                b || g.clearCss("#" + t.id);
                var c = document.getElementById(t.id + ("flash" === t.renderingMode ? "_wrapper" : ""));
                if (c) {
                    if ("html5" === t.renderingMode) t.destroyPlayer();
                    else if (g.isMSIE(8)) {
                        var d = document.getElementById(t.id);
                        if (d && d.parentNode) {
                            d.style.display = "none";
                            for (var e in d) "function" === typeof d[e] && (d[e] = null);
                            d.parentNode.removeChild(d)
                        }
                    }
                    b || (b = document.createElement("div"), b.id = t.id, c.parentNode.replaceChild(b, c))
                }
                k = a.filter(k, function(a) {
                    return a.uniqueId !== t.uniqueId
                })
            };
            t.registerPlugin = function(a, c, d, e) {
                b.plugins.registerPlugin(a,
                    c, d, e)
            };
            t.setPlayer = function(a, b) {
                B = a;
                t.renderingMode = b
            };
            t.detachMedia = function() {
                if ("html5" === t.renderingMode) return v("jwDetachMedia")
            };
            t.attachMedia = function(a) {
                if ("html5" === t.renderingMode) return v("jwAttachMedia", a)
            };
            t.getAudioTracks = function() {
                return v("jwGetAudioTracks")
            };
            t.removeEventListener = function(a, b) {
                if (a = A[a])
                    for (var c = a.length; c--;) a[c] === b && a.splice(c, 1)
            };
            t.dispatchEvent = function(a, b) {
                var d = A[a];
                if (d) {
                    d = d.slice(0);
                    b = g.translateEventResponse(a, b);
                    for (var e = 0; e < d.length; e++) {
                        var f =
                            d[e];
                        if ("function" === typeof f) try {
                            a === c.JWPLAYER_PLAYLIST_LOADED && g.deepReplaceKeyName(b.playlist, ["__dot__", "__spc__", "__dsh__", "__default__"], [".", " ", "-", "default"]), f.call(this, b)
                        } catch (J) {
                            g.log("There was an error calling back an event handler", J)
                        }
                    }
                }
            };
            t.dispatchInstreamEvent = function(a) {
                C && C.dispatchEvent(a, arguments)
            };
            t.callInternal = v;
            t.playerReady = function(a) {
                E = !0;
                B || t.setPlayer(document.getElementById(a.id));
                t.container = document.getElementById(t.id);
                g.foreach(A, function(a) {
                    r(B, a)
                });
                x(c.JWPLAYER_PLAYLIST_ITEM,
                    function() {
                        O = {}
                    });
                x(c.JWPLAYER_MEDIA_META, function(a) {
                    g.extend(O, a.metadata)
                });
                x(c.JWPLAYER_VIEW_TAB_FOCUS, function(a) {
                    var b = t.getContainer();
                    !0 === a.hasFocus ? g.addClass(b, "jw-tab-focus") : g.removeClass(b, "jw-tab-focus")
                });
                for (t.dispatchEvent(c.API_READY); 0 < y.length;) v.apply(t, y.shift())
            };
            t.getItemMeta = function() {
                return O
            };
            return t
        };
        b.playerReady = function(a) {
            var c = b.api.playerById(a.id);
            c || (c = b.api.selectPlayer(a.id));
            c.playerReady(a)
        };
        b.api.selectPlayer = function(a) {
            var c;
            g.exists(a) || (a = 0);
            a.nodeType ?
                c = a : "string" === typeof a && (c = document.getElementById(a));
            return c ? (a = b.api.playerById(c.id)) ? a : new b.api(c) : "number" === typeof a ? k[a] : null
        };
        b.api.playerById = function(a) {
            for (var b = 0; b < k.length; b++)
                if (k[b].id === a) return k[b];
            return null
        };
        b.api.addPlayer = function(a) {
            for (var b = 0; b < k.length; b++)
                if (k[b] === a) return a;
            d++;
            a.uniqueId = d;
            k.push(a);
            return a
        };
        b.api.destroyPlayer = function(b) {
            b = a.where(k, {
                id: b
            });
            a.each(b, a.partial(a.result, a, "remove"))
        }
    }(window.jwplayer),
    function(b) {
        var f = b.events,
            k = b.utils,
            g = f.state;
        b.api.instream = function(b, a) {
            function c(c, d) {
                p[c] || (p[c] = [], a.jwInstreamAddEventListener(c, 'function(dat) { jwplayer("' + b.id + '").dispatchInstreamEvent("' + c + '", dat); }'));
                p[c].push(d);
                return this
            }

            function e(a, b) {
                q[a] || (q[a] = [], c(f.JWPLAYER_PLAYER_STATE, function(b) {
                    var c = b.newstate,
                        d = b.oldstate;
                    if (c === a) {
                        var e = q[c];
                        if (e)
                            for (var f = 0; f < e.length; f++) {
                                var h = e[f];
                                "function" === typeof h && h.call(this, {
                                    oldstate: d,
                                    newstate: c,
                                    type: b.type
                                })
                            }
                    }
                }));
                q[a].push(b);
                return this
            }
            var h, m, p = {},
                q = {},
                l = this;
            l.type = "instream";
            l.init = function() {
                b.callInternal("jwInitInstream");
                return l
            };
            l.loadItem = function(a, c) {
                h = a;
                m = c || {};
                "array" === k.typeOf(a) ? b.callInternal("jwLoadArrayInstream", h, m) : b.callInternal("jwLoadItemInstream", h, m)
            };
            l.removeEvents = function() {
                p = q = {}
            };
            l.removeEventListener = function(a, b) {
                if (a = p[a])
                    for (var c = a.length; c--;) a[c] === b && a.splice(c, 1)
            };
            l.dispatchEvent = function(a, b) {
                var c = p[a];
                if (c)
                    for (c = c.slice(0), a = k.translateEventResponse(a, b[1]), b = 0; b < c.length; b++) {
                        var d = c[b];
                        "function" === typeof d && d.call(this, a)
                    }
            };
            l.onError = function(a) {
                return c(f.JWPLAYER_ERROR, a)
            };
            l.onMediaError = function(a) {
                return c(f.JWPLAYER_MEDIA_ERROR, a)
            };
            l.onFullscreen = function(a) {
                return c(f.JWPLAYER_FULLSCREEN, a)
            };
            l.onMeta = function(a) {
                return c(f.JWPLAYER_MEDIA_META, a)
            };
            l.onMute = function(a) {
                return c(f.JWPLAYER_MEDIA_MUTE, a)
            };
            l.onComplete = function(a) {
                return c(f.JWPLAYER_MEDIA_COMPLETE, a)
            };
            l.onPlaylistComplete = function(a) {
                return c(f.JWPLAYER_PLAYLIST_COMPLETE, a)
            };
            l.onPlaylistItem = function(a) {
                return c(f.JWPLAYER_PLAYLIST_ITEM, a)
            };
            l.onTime =
                function(a) {
                    return c(f.JWPLAYER_MEDIA_TIME, a)
                };
            l.onBuffer = function(a) {
                return e(g.BUFFERING, a)
            };
            l.onPause = function(a) {
                return e(g.PAUSED, a)
            };
            l.onPlay = function(a) {
                return e(g.PLAYING, a)
            };
            l.onIdle = function(a) {
                return e(g.IDLE, a)
            };
            l.onClick = function(a) {
                return c(f.JWPLAYER_INSTREAM_CLICK, a)
            };
            l.onInstreamDestroyed = function(a) {
                return c(f.JWPLAYER_INSTREAM_DESTROYED, a)
            };
            l.onAdSkipped = function(a) {
                return c(f.JWPLAYER_AD_SKIPPED, a)
            };
            l.play = function(b) {
                a.jwInstreamPlay(b)
            };
            l.pause = function(b) {
                a.jwInstreamPause(b)
            };
            l.hide = function() {
                b.callInternal("jwInstreamHide")
            };
            l.destroy = function() {
                l.removeEvents();
                b.callInternal("jwInstreamDestroy")
            };
            l.setText = function(b) {
                a.jwInstreamSetText(b ? b : "")
            };
            l.getState = function() {
                return a.jwInstreamState()
            };
            l.setClick = function(b) {
                a.jwInstreamClick && a.jwInstreamClick(b)
            }
        }
    }(jwplayer),
    function(b) {
        var f = b.api,
            k = f.selectPlayer,
            g = b._;
        f.selectPlayer = function(c) {
            var a = k.apply(this, arguments);
            return a ? a : {
                registerPlugin: function(a, c, f) {
                    "jwpsrv" !== a && b.plugins.registerPlugin(a, c, f)
                }
            }
        };
        b.unregisteredProviders = [];
        f.registerProvider = function(c) {
            b && b.html5 && g.isFunction(b.html5.registerProvider) ? b.html5.registerProvider(c) : b.unregisteredProviders.push(c)
        }
    }(jwplayer));
define("core/Wishlist", ["jquery", "core/Messagebus", "core/CookieAdapter", "core/wishlist/FeatureItem", "core/wishlist/Tracking"], function(b, f, k, g, c) {
    var a = {
        isAllowed: k.isUsageAllowed.bind(k, "Momentinteraction"),
        get: k.getCookie.bind(k, "cc_digital_wishlist##persistentData"),
        set: k.setCookie.bind(k, "cc_digital_wishlist##persistentData")
    };
    f = {
        _PROCESSING_KEY: "Momentinteraction",
        _state: {
            storageAllowed: !1,
            storage: {}
        },
        messagebus: f.channel("md:wishlist"),
        events: {
            UPDATE: "update"
        },
        actions: {
            ADD: "add",
            REMOVE: "remove"
        },
        prefixes: {
            SA: "SACODE##",
            SZ: "SZCODE##"
        },
        _init: function() {
            this.hasStoragePermission() && (this._state.storage = JSON.parse(a.get()) || {}, b.isEmptyObject(c) || this._registerTracking())
        },
        _registerTracking: function() {
            c.initProductTracking(this);
            c.registerSubscription(this.messagebus, this.events.UPDATE);
            c.registerHandler(this.actions.ADD, c.updateProductTracking.bind(c, this));
            c.registerHandler(this.actions.REMOVE, c.updateProductTracking.bind(c, this));
            c.registerHandler(this.actions.ADD, c.onWishlistAdd);
            c.registerHandler(this.actions.REMOVE,
                c.onWishlistRemove)
        },
        _syncWithLocalStorage: function() {
            this._state.storageAllowed && a.set(JSON.stringify(this._state.storage))
        },
        _publishUpdate: function(a) {
            this.messagebus.publish(this.events.UPDATE, b.extend(a, {
                count: this.getItemCount()
            }))
        },
        hasStoragePermission: function() {
            this._state.storageAllowed = a.isAllowed();
            return this._state.storageAllowed
        },
        getItemCount: function() {
            return Object.keys(this._state.storage).length
        },
        getFeatureItemCount: function() {
            return Object.keys(this._state.storage).filter(function(a) {
                return -1 !==
                    a.indexOf(this.prefixes.SA)
            }.bind(this)).length
        },
        hasFeatureItem: function(a) {
            return this._state.storage.hasOwnProperty(this.prefixes.SA + a)
        },
        getFeatureItem: function(a) {
            return this.hasFeatureItem(a) ? this._state.storage[this.prefixes.SA + a] : {}
        },
        setFeatureItem: function(a, c) {
            if (0 !== a.code.length && a instanceof g) {
                var d = this.prefixes.SA + a.code;
                this.hasFeatureItem(a.code) ? b.extend(!0, this._state.storage[d], a) : this._state.storage[d] = a;
                this._syncWithLocalStorage();
                this._publishUpdate({
                    action: this.actions.ADD,
                    item: this.getFeatureItem(a.code),
                    event: c
                })
            }
        },
        removeFeatureItem: function(a, b) {
            var c = this.getFeatureItem(a);
            this.hasFeatureItem(a) && delete this._state.storage[this.prefixes.SA + a];
            this._syncWithLocalStorage();
            this._publishUpdate({
                action: this.actions.REMOVE,
                codes: a,
                item: c,
                event: b
            })
        },
        getAllFeatureItems: function() {
            return Object.keys(this._state.storage).map(function(a) {
                return this._state.storage[a]
            }, this)
        },
        removeAllFeatureItems: function(a) {
            var b = this.getAllFeatureItems(),
                c = b.map(function(a) {
                    return a.code
                });
            this._state.storage = {};
            this._syncWithLocalStorage();
            this._publishUpdate({
                action: this.actions.REMOVE,
                codes: c,
                items: b,
                event: a,
                all: !0
            })
        }
    };
    f._init();
    return f
});
define("core/wishlist/FeatureItem", ["jquery"], function(b) {
    var f = function(b) {
            var c = "string" === typeof b;
            return "undefined" !== typeof b ? {
                src: b.src || c && b || "",
                isCosy: b.isCosy || c && -1 !== b.indexOf("srcset:") || !1,
                isSrcset: b.isScrset || c && null !== b.match(/ \d{3,4}w/) || !1
            } : {}
        },
        k = function(b) {
            Object.defineProperties(this, {
                bodyType: {
                    value: b.bodyType || "",
                    enumerable: !0
                },
                modelCode: {
                    value: b.modelCode || "",
                    enumerable: !0
                },
                code: {
                    value: b.code || "",
                    enumerable: !0
                },
                name: {
                    value: b.name || "",
                    enumerable: !0
                },
                description: {
                    value: b.description ||
                        "",
                    enumerable: !0
                },
                price: {
                    value: b.price || "",
                    enumerable: !0
                },
                image: {
                    value: f(b.image),
                    enumerable: !0
                }
            })
        };
    k.prototype = {
        hasCode: function() {
            return "" !== this.code
        },
        toArray: function() {
            return Object.getOwnPropertyNames(this).reduce(function(f, c) {
                return b.isEmptyObject(this[c]) ? f : f.concat(this[c])
            }.bind(this), [])
        }
    };
    return k
});
define("core/wishlist/Tracking", ["jquery", "lodash", "core/TrackingAdapter", "core/wishlist/tracking/DefaultData"], function(b, f, k, g) {
    var c = k.getInstance();
    if (null == c || c.isTrackingDisabled()) return {};
    k = {
        _isInitialized: !1,
        _isProductTrackingInitialized: !1,
        products: {},
        subscriptions: [],
        handler: {},
        _init: function() {
            this._isInitialized || (this._initComponentTracking(), this._isInitialized = !0)
        },
        _initComponentTracking: function() {
            c.initComponentTracking(g.component)
        },
        _getWishlistModelCodes: function(a) {
            return f.uniq(a.map(function(a) {
                return a.modelCode
            }).filter(Boolean))
        },
        _handleEvent: function(a) {
            this.handler[a.action].forEach(function(b) {
                b.call(this, a)
            }, this)
        },
        _findParentComponentNames: function(a) {
            return b(a).parents("[data-component-name]").toArray().reverse().map(function(a) {
                return a.dataset.componentName
            }).join("\x3e")
        },
        _getEventView: function(a) {
            return "feature-details-sidebar" === a ? "detail" : "list"
        },
        _formatArray: function(a) {
            return Array.prototype.concat(a).join("::")
        },
        _trackEvent: function(a) {
            a = b.extend(!0, {}, g.event, a, {
                eventInfo: {
                    timeStamp: Date.now().toString()
                }
            });
            try {
                c.addEventTracking(g.tracking, a, 0)
            } catch (d) {
                console.error(d)
            }
        },
        initProductTracking: function(a) {
            var c = a.getAllFeatureItems();
            a = 0 !== b('[data-component-name\x3d"acw-wishlist"]').length;
            var e = b(document.body).is(".md-page-product");
            if (a || e) {
                a = this._getWishlistModelCodes(c);
                var h = c.map(function(a) {
                    return a.modelCode
                });
                a.length && a.filter(function(a) {
                    return -1 !== h.indexOf(a)
                }).forEach(function(a) {
                    var b = c.filter(function(b) {
                            return b.modelCode === a
                        }),
                        d = f.uniq(b.map(function(a) {
                            return a.bodyType
                        }).filter(Boolean)).toString();
                    b = b.map(function(a) {
                        return a.code
                    });
                    this.addProductTracking(a, d, b)
                }, this)
            }
        },
        updateProductTracking: function(a, b) {
            var d = a.getAllFeatureItems();
            (b.all ? b.items.map(function(a) {
                return a.modelCode
            }) : [b.item.modelCode]).forEach(function(a) {
                var b = d.filter(function(b) {
                        return b.modelCode === a
                    }),
                    e = f.uniq(b.map(function(a) {
                        return a.bodyType
                    }).filter(Boolean)).toString();
                b = b.map(function(a) {
                    return a.code
                });
                this.products.hasOwnProperty(a) ? c.updateProductTracking(this.products[a].productIndex, {
                        attributes: {
                            saCodeList: this._formatArray(b)
                        }
                    },
                    0) : this.addProductTracking(a, e, b)
            }, this)
        },
        addProductTracking: function(a, d, e) {
            this.products[a] = c.initProductTracking(b.extend(!0, {}, g.product, {
                attributes: {
                    bodyType: d,
                    modelCode: a,
                    saCodeList: this._formatArray(e)
                }
            }), 0)
        },
        registerSubscription: function(a, b) {
            this.subscriptions.push(a.subscribe(b, this._handleEvent.bind(this)))
        },
        registerHandler: function(a, b) {
            this.handler.hasOwnProperty(a) ? this.handler[a].push(b) : this.handler[a] = [b]
        },
        onWishlistAdd: function(a) {
            var b = this._findParentComponentNames(a.event.currentTarget);
            a = {
                eventInfo: {
                    eventName: "add to wishlist",
                    effect: this._getEventView(b)
                },
                category: {
                    subCategory01: "added item"
                },
                attributes: {
                    SAcode: this._formatArray(a.item.code),
                    senderBreadcrumb: b
                }
            };
            this._trackEvent(a)
        },
        onWishlistRemove: function(a) {
            var b = this._findParentComponentNames(a.event.currentTarget);
            b = {
                eventInfo: {
                    eventName: a.all ? "remove all from wishlist" : "remove from wishlist",
                    effect: a.all ? "removed all items from wishlist" : this._getEventView(b)
                },
                category: {
                    subCategory01: a.all ? "removed all item" : "removed item"
                },
                attributes: {
                    senderBreadcrumb: b
                }
            };
            Array.isArray(a.codes) ? b.attributes.saCodeList = this._formatArray(a.codes) : b.attributes.SAcode = this._formatArray(a.codes);
            this._trackEvent(b)
        },
        onUndo: function(a) {
            var b = {
                eventInfo: {
                    eventName: "undo remove",
                    effect: "dialog"
                },
                category: {
                    subCategory01: "undo remove"
                },
                attributes: {
                    senderBreadcrumb: this._findParentComponentNames(a.event.currentTarget)
                }
            };
            Array.isArray(a.codes) ? b.attributes.saCodeList = this._formatArray(a.codes) : b.attributes.SAcode = this._formatArray(a.codes);
            this._trackEvent(b)
        }
    };
    k._init();
    return k
});
define("core/wishlist/tracking/DefaultData", [], function() {
    var b = {
        component: {
            componentInfo: {
                componentId: "Y29yZS93aXNobGlzdC9UcmFja2luZwo\x3d",
                componentName: "wishlist"
            },
            category: {
                primaryCategory: "wishlist",
                subCategory01: "overview"
            },
            attributes: {
                contentHeadline: "na"
            }
        }
    };
    b.product = {
        productInfo: {
            description: "",
            manufacturer: "MINI",
            productID: "na",
            productName: "na"
        },
        category: {
            primaryCategory: "new car",
            subCategory01: "na"
        },
        attributes: {
            bodyName: "na",
            bodyType: "na",
            modelName: "",
            modelCode: "na",
            relatedComponentID: b.component.componentInfo.componentId,
            relatedComponentName: b.component.componentInfo.componentName,
            relatedComponentPrimaryCategory: b.component.category.primaryCategory
        }
    };
    b.tracking = {
        eventInfo: {},
        category: {
            primaryCategory: b.component.category.primaryCategory,
            subCategory01: ""
        },
        attributes: {
            senderBreadcrumb: "",
            relatedComponentID: b.component.componentInfo.componentId,
            relatedComponentName: b.component.componentInfo.componentName,
            relatedComponentPrimaryCategory: b.component.category.primaryCategory
        }
    };
    b.event = {
        eventInfo: {
            eventName: "",
            eventAction: "click",
            eventPoints: "",
            cause: "default",
            effect: ""
        },
        category: {},
        attributes: {}
    };
    return b
});
define("core/utils/scrollspy", ["jquery", "lodash", "core/Messagebus"], function(b, f, k) {
    var g = g || [],
        c = function(a, c) {
            function d() {
                l || (l = !0, "x" === c ? u ? requestAnimationFrame(h) : h() : u ? requestAnimationFrame(g) : g())
            }

            function h() {
                var b = p.scrollLeft();
                if (x.posX != b) {
                    var c = 0 > x.posX ? 0 : Math.min(1, Math.max(-1, b - x.posX));
                    x.direction != c && (r = b, x.direction = c);
                    x.directionDelta = b - r;
                    x.posX = b;
                    for (b = 0; b < q.length; b++) q[b](x);
                    k.publish({
                        channel: v.channel,
                        topic: v.events.SCROLL,
                        data: {
                            scrollData: x,
                            target: a
                        }
                    })
                }
                l = !1
            }

            function g() {
                var b =
                    p.scrollTop();
                if (x.posY != b) {
                    var c = 0 > x.posY ? 0 : Math.min(1, Math.max(-1, b - x.posY));
                    x.direction != c && (w = b, x.direction = c);
                    x.directionDelta = b - w;
                    x.posY = b;
                    for (b = 0; b < q.length; b++) q[b](x);
                    k.publish({
                        channel: v.channel,
                        topic: v.events.SCROLL,
                        data: {
                            scrollData: x,
                            target: a
                        }
                    })
                }
                l = !1
            }
            a = a || window;
            var p = b(a);
            c = c || "y";
            var q = [],
                l = !1,
                u = !0,
                w = 0,
                r = 0,
                x = {
                    posY: -1,
                    posX: -1,
                    direction: .1,
                    directionDelta: 0
                },
                v = {
                    channel: "md:scrollspy",
                    events: {
                        SCROLL: "scroll"
                    }
                };
            p.bind("scroll", d);
            u = f.isFunction(Modernizr.prefixed("requestAnimationFrame",
                window));
            d();
            return {
                register: function(a) {
                    return -1 == q.indexOf(a) ? (q.push(a), a) : !1
                },
                unregister: function(a) {
                    a = q.indexOf(a); - 1 != a && q.splice(a, 1)
                },
                elementIsScrolledIntoView: function(a, c) {
                    var d = a.getBoundingClientRect();
                    c = c ? d.height * c : 0;
                    var e = document.documentElement;
                    return d.top >= 0 - c && d.bottom - c <= (window.innerHeight || e.clientHeight) && b(a).is(":visible")
                },
                scrollData: x,
                messages: v
            }
        };
    return {
        windowScrollSpy: new c,
        init: function(a, b) {
            a = a || window;
            return g[a] = g[a] || new c(a, b)
        }
    }
});
define("core/utils/url", ["jquery", "lodash"], function(b, f) {
    return {
        retrieveGetParams: function() {
            var b = location.search.substring(1);
            if (0 == b.length) return {};
            try {
                return JSON.parse('{"' + decodeURI(b).replace(/"/g, '\\"').replace(/&/g, '","').replace(/=/g, '":"') + '"}')
            } catch (g) {
                return {}
            }
        },
        updateGetParams: function(k, g, c, a) {
            var d = this.retrieveGetParams(),
                e = !1;
            f.isObject(k) && (b.extend(d, k), e = !0);
            f.isObject(g) && Object.keys(g).forEach(function(a) {
                d[a] && (delete d[a], e = !0)
            });
            c && (d = {}, e = !0);
            1 == e && (k = Object.keys(d).length ?
                "?" + b.param(d) : "", a ? window.history.replaceState("", "", window.location.pathname + k + window.location.hash) : window.history.pushState("", "", window.location.pathname + k + window.location.hash))
        },
        getHash: function() {
            var b = window.location.hash;
            if (0 !== b.length) {
                var f = b.lastIndexOf("#");
                return -1 !== f ? b.substring(f + 1) : b.substring(1)
            }
            return ""
        },
        updateHash: function(b, f) {
            -1 === b.indexOf("#") && (b = "#" + b);
            f ? window.history.replaceState("", "", window.location.pathname + location.search + b) : window.history.pushState("", "", window.location.pathname +
                location.search + b)
        },
        serializeParams: function(b) {
            return b.map(function(b) {
                return b.parameterName + "\x3d" + b.parameterValue
            }).join("\x26")
        }
    }
});
define("core/utils/viewportspy", ["jquery", "bowser", "core/Messagebus"], function(b, f, k) {
    return function() {
        function g() {
            p = m = !1;
            c.pixelRatio = window.devicePixelRatio || 1;
            var d = !1;
            c.width !== window.innerWidth && (c.width = window.innerWidth, c.mode = c.width < a.tabletPortrait ? 0 : c.width < a.desktop ? 1 : c.width < a.desktopLarge ? 2 : 3, b.map(a, function(a, b) {
                c.minwidth[b] = c.width >= a
            }), d = !0);
            c.height != e.height() && (c.height = e.height(), d = !0);
            if (d)
                for (d = 0; d < q.length; d++) q[d](c)
        }
        var c = {
                pixelRatio: 1,
                screenRotated: !1,
                width: -1,
                height: -1,
                mode: -1,
                minwidth: {}
            },
            a = {
                mobile: 320,
                mobileLarge: 480,
                tabletPortrait: 768,
                tabletLandscape: 1024,
                desktop: 1280,
                desktopLarge: 1920
            },
            d = {
                channel: "md:viewport",
                events: {
                    RESIZE: "resize",
                    BREAKPOINT_CHANGE: "breakpointChange",
                    ORIENTATION_CHANGE: "orientationChange"
                }
            },
            e = b(window),
            h = !1,
            m = !1,
            p = !1,
            q = [];
        h = f.mobile || f.tablet;
        e.on("orientationchange", function() {
            c.screenRotated = 90 == window.orientation || -90 == window.orientation;
            p ? (g(), k.publish({
                channel: d.channel,
                topic: d.events.ORIENTATION_CHANGE,
                data: c
            })) : (m = !0, setTimeout(function() {
                m = !1
            }, 500))
        });
        e.on("resize", function() {
            !h || m ? (g(), k.publish({
                channel: d.channel,
                topic: d.events.RESIZE,
                data: c
            })) : (p = !0, setTimeout(function() {
                p = !1
            }, 500))
        });
        g();
        return {
            register: function(a) {
                return -1 === q.indexOf(a) ? (q.push(a), a) : !1
            },
            unregister: function(a) {
                a = q.indexOf(a); - 1 !== a && q.splice(a, 1)
            },
            elementIsScrolledIntoView: function(a, c) {
                var d = a.getBoundingClientRect();
                c = c ? d.height * c : 0;
                var e = document.documentElement;
                return d.top >= 0 - c && d.bottom - c <= (window.innerHeight || e.clientHeight) && b(a).is(":visible")
            },
            viewportData: c,
            breakpoints: a,
            messages: d
        }
    }()
});
define("core/utils/lazyImageSpy", ["jquery", "lodash", "core/Messagebus"], function(b, f, k) {
    return function() {
        function g(b) {
            if (a) {
                b = b || {};
                var e = b.delay ? b.delay : 1,
                    f = b.timeoutId ? b.timeoutId : 1 >= e ? "immediate" : "undef";
                "undef" !== f && clearTimeout(d[f]);
                d[f] = setTimeout(function() {
                    c.debug && console.log("LazyImageSpy.update now", e);
                    lazySizes.autoSizer.checkElems()
                }, e);
                c.debug && console.log("LazyImageSpy.update", b, f, e)
            }
        }
        var c = {
                debug: !1
            },
            a = !1,
            d = {
                immediate: -1,
                later: -1
            },
            e = {
                channel: "md:image",
                events: {
                    UPDATE: "update"
                }
            };
        window.lazySizes ? (c.debug && console.log("lazyImageSpy.init"), a = !0, f.isFunction(b.subscribe) && b.subscribe(e.channel + ":" + e.events.UPDATE, g), k.subscribe({
            channel: e.channel,
            topic: e.events.UPDATE,
            callback: g
        })) : c.debug && console.log("LazyImageSpy ERROR: lazysizes plugin not found");
        return {
            update: g,
            messages: e
        }
    }()
});
define("core/utils/DirectionRTL", ["jquery", "lodash", "core/Messagebus", "core/Debugger"], function(b, f, k, g) {
    return function() {
        function c() {
            return e || d
        }

        function a() {
            console.log("process RTL");
            for (var a = document.querySelectorAll(".md-ss-range-price,.md-price-finance,.md-prodinfo-price,.md-cs-from-price,.md-hmclight-model-price,.md-hmcresults-range-price,.md-ml-price-tag"), b = /(\u20ac|$|\u00a5|\u00a2|\u00a3|\u20bd|\u20a8|\u20a9|\u0e3f|\u20ba|\u20ae|\u20b1|\u20ad|\u20b4|\u20a6|\u09f2|\u09f3|\u0af1|\u0bf9|\ufdfc|\u20b9|\u20b2|\u20aa|\u20a1|\u20ab|\u17db|\u20b5|\u20b8|\u20a5)\s?([0-9,\.]+)/gi,
                    c = a.length - 1; 0 <= c; c--) {
                var d = a[c];
                d.innerHTML = d.innerHTML.replace(b, "\x26lrm;$1 $2")
            }
        }
        var d = b("body").hasClass("md-direction-rtl"),
            e = g.isDebugEnabled("rtl");
        e && b("body").addClass("md-direction-rtl");
        c() && a();
        var f = {
            isEnabled: c,
            processRTL: a
        };
        "undefined" !== typeof mini && (mini.digital.util = mini.digital.util || {}, mini.digital.util.directionRTL = f);
        return f
    }()
});
define("core/utils/Environment", ["jquery"], function(b) {
    b = b("body");
    return {
        isWcmmodeEdit: b.hasClass("wcmmode-edit") || b.hasClass("md-wcmmode-edit") || b.data("mdWcmmode")
    }
});
define("core/utils/networkspy", ["jquery", "core/Messagebus"], function(b, f) {
    return function() {
        function b() {
            g();
            f.publish({
                channel: h.channel,
                topic: h.events.CHANGE,
                data: e
            });
            for (var a = 0; a < c.length; a++) c[a](e)
        }

        function g() {
            e.online = d ? "none" !== a.type : navigator.onLine;
            e.type = d ? a.type : navigator.onLine ? "unknown" : "none";
            e.stable = d ? -1 < ["ethernet", "wifi"].indexOf(e.type) : e.online
        }
        var c = [],
            a = navigator.connection || navigator.mozConnection || navigator.webkitConnection,
            d = "undefined" !== typeof a,
            e = {
                online: !1,
                stable: !1,
                type: "unknown"
            },
            h = {
                channel: "md:network",
                events: {
                    CHANGE: "change"
                }
            };
        g();
        d ? a.addEventListener("typechange", b) : (window.addEventListener("online", b), window.addEventListener("offline", b));
        return {
            register: function(a) {
                return -1 === c.indexOf(a) ? (c.push(a), a) : !1
            },
            unregister: function(a) {
                a = c.indexOf(a); - 1 !== a && c.splice(a, 1)
            },
            hasNetworkApi: d,
            messages: h,
            state: e
        }
    }()
});
define("core/utils/BackHeader", ["jquery"], function(b) {
    var f = function(f) {
        return b(f).closest("[data-md-tracking-region-id]").attr("data-md-tracking-region-id")
    };
    return {
        getBackUrl: function(b) {
            return -1 !== window.location.href.indexOf(".back.") ? b.href : b.href.split(".html")[0] + ".back.html?backId\x3d" + f(b) + "\x26backPath\x3d" + window.location.pathname.split(".html")[0]
        },
        updateStateOnClick: function(k) {
            b(k).on("click", function() {
                history.replaceState(null, null, window.location.href.split(".html")[0] + ".html?rid\x3d" +
                    f(k))
            })
        }
    }
});
define("core/utils/Deeplinker", "jquery lodash bluebird velocity core/Debugger core/Messagebus core/utils/url core/componentInitializer".split(" "), function(b, f, k, g, c, a, d, e) {
    return function() {
        function a() {
            var a = w.parents("[data-loader]").toArray().reverse(),
                c = k.resolve();
            a.forEach(function(a) {
                var d = b(a);
                "" === d.attr("data-loader") ? c = c.then(g.bind(null, d.data("controller"))) : "amdLoader" === d.attr("data-loader") && (c = c.then(function() {
                    return e.initElement(d).then(g)
                }))
            });
            c.delay(r).then(p)
        }

        function g(a) {
            if ("function" ===
                typeof a.deeplinkCustomAction) return a.deeplinkCustomAction(w[0])
        }

        function p() {
            var a = b(".md-product-inpage-navigation").first(),
                c = 0,
                d = b(".md-moment-interaction-toolbox"),
                e = Math.round(d.outerHeight());
            a.length && (c -= Math.round(a.outerHeight()));
            d.length && (c -= e);
            w.is(":hidden") && (w = w.filter(":visible"));
            if (w.length) {
                var f = w.offset();
                w.velocity("scroll", {
                    duration: x,
                    offset: c,
                    queue: !1,
                    complete: function() {
                        u.debug && console.log("Scrolled to target!", w);
                        var a = w.offset().top;
                        f.top < a && w.velocity("scroll", {
                            duration: x,
                            offset: c
                        })
                    }
                })
            }
        }

        function q() {
            var a = JSON.parse('{"deeplink-slug":"", "rid":""}');
            d.updateGetParams(null, a, !1, !0)
        }

        function l(c) {
            if (c) {
                if (c.delay && f.isNumber(c.delay) && 0 < c.delay) {
                    setTimeout(function() {
                        c.delay = 0;
                        l(c)
                    }, c.delay);
                    return
                }
                c.scrollDelay && f.isNumber(c.scrollDelay) && (r = c.scrollDelay);
                c.scrollDuration && f.isNumber(c.scrollDuration) && (x = c.scrollDuration)
            }
            var e = d.retrieveGetParams(),
                h = d.getHash(),
                g = e["deeplink-slug"];
            e = e.rid;
            try {
                if (0 !== b("#" + h).length || 0 !== b('[data-md-anchor-name\x3d"' + h + '"]').length) {
                    q();
                    (0 !== b("#" + h).length ? b("#" + h)[0] : b('[data-md-anchor-name\x3d"' + h + '"]')[0]).scrollIntoView();
                    return
                }
            } catch (B) {
                console.log(B)
            }
            "undefined" === typeof g && "undefined" !== typeof h && (g = h);
            w = g ? b('[data-deeplink-slug\x3d"' + g + '"]').first() : e ? b('[data-md-tracking-region-id\x3d"' + e + '"]').first() : null;
            q();
            w && w.length && a()
        }
        var u = {
                debug: c.isDebugEnabled("deeplinker")
            },
            w, r = 600,
            x = 1500;
        return {
            update: l
        }
    }()
});
define("core/utils/cosyImage", ["jquery", "cosyEncoder", "bowser", "cosyDecoder", "core/utils/webp"], function(b, f, k, g, c) {
    return function() {
        function a(a) {
            return l.map(function(b) {
                return {
                    width: b,
                    height: Math.round(a / 100 * b)
                }
            })
        }

        function d(a) {
            return -1 !== a.indexOf("cosy-int") ? "int" : -1 !== a.indexOf("h5vcom") ? "h5vco" : ""
        }

        function e(a) {
            if (!b.isPlainObject(a)) throw new TypeError("Provided parameters are not of type Object!");
            a = b.extend({}, q, a);
            return f.encode(f.serialize(a))
        }

        function h(a, b) {
            if (-1 === ["toLowerCase",
                    "toUpperCase"
                ].indexOf(b)) throw Error("Transform method not allowed!");
            return Object.keys(a).reduce(function(c, d) {
                c[String.prototype[b].apply(d)] = a[d];
                return c
            }, {})
        }

        function m(a, c) {
            a = g.unserialize(a);
            c = b.extend({}, a, c);
            "undefined" !== typeof c.VAR_PLATE && (c.VAR_PLATE = '"' + c.VAR_PLATE.replace(/\u0020/g, "\\x20") + '"');
            return f.serialize(c)
        }

        function p(a) {
            return a.split(",").map(function(a) {
                a = a.trim().split(" ");
                return {
                    url: a[0],
                    breakpoint: a[1]
                }
            })
        }
        var q = {
                client: "NVCO",
                brand: "WBMI",
                lang: 2,
                pov: "WALKAROUND",
                resp: "PNG",
                quality: 100,
                sharp: 100,
                angle: 0,
                cut: 0,
                w: 1E4,
                h: 1E4,
                align: "CENTER",
                var_plate: ""
            },
            l = [320, 440, 560, 620, 680, 740, 800, 960, 1120, 1280],
            u = [{
                width: 320,
                height: 180
            }, {
                width: 440,
                height: 248
            }, {
                width: 560,
                height: 315
            }, {
                width: 620,
                height: 349
            }, {
                width: 680,
                height: 383
            }, {
                width: 740,
                height: 416
            }, {
                width: 800,
                height: 450
            }, {
                width: 960,
                height: 540
            }, {
                width: 1120,
                height: 630
            }, {
                width: 1280,
                height: 720
            }];
        c.messagebus.channel.subscribe({
            topic: c.messagebus.TOPIC,
            callback: function() {
                q.resp = c.isSupported ? "WEBP" : "PNG"
            }
        }).enlistPreserved();
        return {
            generateURL: e,
            generateSrcset: function(c, d) {
                var f = [];
                (d ? a(d) : u).forEach(function(a) {
                    var d = b.extend({}, c, a);
                    a = a.width.toString() + "w";
                    if (d = e(d)) d = [d, a].join(" "), f.push(d)
                });
                return f.join(",")
            },
            replaceParameters: function(a, b) {
                if ("undefined" === typeof a || !(a instanceof HTMLImageElement)) throw new TypeError("Provided element is undefined or not of type HTMLImageElement!");
                ["srcset", "data-cosy-srcset"].forEach(function(b) {
                    a.hasAttribute(b) && -1 === a.getAttribute(b).indexOf("cosy") && console.warn("Provided element is not a CoSy image!",
                        a)
                });
                b = h(b, "toUpperCase");
                var c = a.hasAttribute("srcset") || a.hasAttribute("data-srcset"),
                    e = c ? a.getAttribute("srcset") || a.dataset.srcset : a.dataset.cosySrcset.replace("srcset:", "");
                e = p(e);
                if (!c) {
                    var l = e.shift(),
                        r = l.url,
                        z = g.decode(l.url),
                        B = m(z, b);
                    l.url = f.encode(B, d(r))
                }
                e.map(function(a) {
                    var e = c ? a.url : r + a.url,
                        h = g.decode(e);
                    c ? h = m(h, b) : (h = h.match(/&WIDTH=\d+&HEIGHT=\d+/), h = B + h);
                    e = f.encode(h, d(e));
                    c || (e = e.substr(l.url.length));
                    a.url = e
                });
                c || e.unshift(l);
                z = e.map(function(a) {
                    return [a.url, a.breakpoint].join(" ")
                }).join(",");
                c ? a.srcset = z : a.dataset.cosySrcset = "srcset:" + z;
                if (c && k.msie && 11 == k.version) {
                    var q = (a.getAttribute("sizes") || "1280px").replace("px", "");
                    1 === e.length ? e = e[0] : (e = e.filter(function(a) {
                        a = a.breakpoint.replace("w", "");
                        return parseInt(a) <= parseInt(q) + 60
                    }), e = e[e.length - 1]);
                    a.src = e.url
                }
            }
        }
    }()
});
define("core/utils/CurrencyFormatter", ["lodash", "core/utils/CurrencyDecimalFormat"], function(b, f) {
    var k = [",", ".", "'"],
        g = function(b) {
            b = this.parsePattern(b);
            this.Formatter = new f(b.pattern);
            this.Formatter.setDecimalSeparator(b.decimalSeparator);
            this.Formatter.setGroupingSeparator(b.groupingSeparator)
        };
    g.prototype = {
        parsePattern: function(c) {
            if (b.includes(c, "|") && 4 === c.split("|").length - 1) {
                var a = this.calculateSeparatorIndex(c, c.length);
                var d = this.calculateSeparatorIndex(c, a - 2)
            } else a = this.findSeparator(c,
                c.length - 1), d = this.findSeparator(c, a - 1);
            if (-1 !== d) {
                var e = c.charAt(d);
                c = this.replaceChar(c, d, ",")
            }
            if (-1 !== a) {
                var f = c.charAt(a);
                c = this.replaceChar(c, a, ".")
            }
            c = c.replace(/\|/g, ""); - 1 !== a && -1 !== d && f === e && console.error("bad currency pattern '" + c + "', decimal- and grouping-separators are the same");
            return {
                pattern: c,
                decimalSeparator: f,
                groupingSeparator: e
            }
        },
        format: function(b) {
            var a = b;
            "string" === typeof b && (a = parseFloat(b));
            try {
                var c = this.Formatter.format(a)
            } catch (e) {
                console.error("Exception during formatting currency for pattern" +
                    pattern + " and value " + a, e), c = b
            }
            return c
        },
        calculateSeparatorIndex: function(b, a) {
            var c = -1;
            a = b.lastIndexOf("|", a);
            b = b.lastIndexOf("|", a - 1);
            2 === a - b && (c = a - 1);
            return c
        },
        findSeparator: function(c, a) {
            var d = -1;
            if (0 > a) return d;
            b.each(k, function(b) {
                b = c.substring(0, a).lastIndexOf(b); - 1 === b || b > a || !(-1 === d || b > d) || (d = b)
            });
            return d
        },
        replaceChar: function(b, a, d) {
            return b.substring(0, a) + d + b.substring(a + 1)
        }
    };
    return g
});
define("core/utils/CurrencyDecimalFormat", [], function() {
    function b(b) {
        this.suffix = this.prefix = "";
        this.comma = 0;
        this.minInt = 1;
        for (var f = this.maxFrac = this.minFrac = 0; f < b.length; f++)
            if ("#" == b.charAt(f) || "0" == b.charAt(f)) {
                this.prefix = b.substring(0, f);
                b = b.substring(f);
                break
            } this.suffix = b.replace(/[#]|[0]|[,]|[.]/g, "");
        var g = b.replace(/[^0#,.]/g, "");
        b = "";
        var c = g.indexOf("."); - 1 != c ? (f = g.substring(0, c), b = g.substring(c + 1)) : f = g;
        g = f.lastIndexOf(","); - 1 != g && (this.comma = f.length - 1 - g);
        f = f.replace(/[,]/g, "");
        b = b.replace(/[,]|[.]+/g,
            "");
        this.maxFrac = b.length;
        f = f.replace(/[^0]/g, "");
        f.length > this.minInt && (this.minInt = f.length);
        f = b.replace(/[^0]/g, "");
        this.minFrac = f.length
    }
    b.prototype.setDecimalSeparator = function(b) {
        this.decimalSeparator = b
    };
    b.prototype.setGroupingSeparator = function(b) {
        this.groupingSeparator = b
    };
    b.prototype.format = function(b) {
        var f = this.formatBack(b).toLowerCase();
        if (isNaN(f) || 0 == f.length) return b;
        b = !1;
        "-" == f.charAt(0) ? (b = !0, f = f.substring(1)) : "+" == f.charAt(0) && (f = f.substring(1));
        var g = f.indexOf("."),
            c = "";
        if (-1 !=
            g) {
            var a = f.substring(0, g);
            c = f.substring(g + 1)
        } else a = f;
        c = c.replace(/[.]/, "");
        f = this.suffix && "%" === this.suffix.charAt(0);
        g = this.minInt;
        var d = this.minFrac;
        var e = this.maxFrac;
        f && (g -= 2, d += 2, e += 2);
        if (c.length > e) {
            var h = Number("0." + c);
            h = 0 == e ? Math.round(h) : h.toFixed(e);
            c = h.toString(10).substr(2);
            h = 1 <= h ? 1 : 0;
            for (e = a.length - 1; h;)
                if (-1 == e) {
                    a = "1" + a;
                    break
                } else {
                    var m = a.charAt(e);
                    9 == m ? (m = "0", h = 1) : (m = ++m + "", h = 0);
                    a = a.substring(0, e) + m + a.substring(e + 1, a.length);
                    e--
                }
        } else c.length > d && c.length < e && (d = e);
        for (e = c.length; e <
            d; e++) c += "0";
        for (; c.length > d && "0" == c.charAt(c.length - 1);) c = c.substring(0, c.length - 1);
        for (e = a.length; e < g; e++) a = "0" + a;
        for (; a.length > g && "0" == a.charAt(0);) a = a.substring(1);
        f && (a += c.substring(0, 2), c = c.substring(2));
        f = 0;
        for (e = a.length; 0 < e; e--) 0 != f && 0 == f % this.comma && (a = a.substring(0, e) + this.groupingSeparator + a.substring(e), f = 0), f++;
        a = 0 < c.length ? this.prefix + a + this.decimalSeparator + c + this.suffix : this.prefix + a + this.suffix;
        b && (a = "-" + a);
        return a
    };
    b.prototype.formatBack = function(b) {
        b += "";
        if (!b) return "";
        var f = !1;
        "-" == b.charAt(0) && (b = b.substr(1), f = !0);
        var g = b.indexOf(this.prefix),
            c = "" == this.suffix ? b.length : b.indexOf(this.suffix, this.prefix.length + 1);
        0 == g && 0 < c && (b = b.substr(0, c), b = b.substr(this.prefix.length), b = b.replace(/,/g, ""), f && (b = "-" + b));
        return b
    };
    return b
});
define("core/utils/HTMLHelper", ["jquery"], function(b) {
    return function() {
        return {
            getHeightDifferences: function(f) {
                f = b.map(f, function(f) {
                    return b(f).innerHeight()
                });
                var k = f.reduce(function(b, c) {
                    return c > b ? c : b
                }, 0);
                return f.map(function(b) {
                    return k - b
                })
            },
            equalizeHeight: function(f, k, g) {
                f = f.find(k);
                b.map(f, function(a, b) {
                    a.style && "" != a.style[g] && (a.style[g] = "")
                });
                var c = this.getHeightDifferences(f);
                b.map(f, function(a, d) {
                    var e = parseInt(b(a).css(g));
                    b(a).css(g, e + c[d] + "px")
                })
            }
        }
    }()
});
define("core/utils/ModelDataService", ["jquery", "core/Messagebus"], function(b, f) {
    return function() {
        function k(a) {
            throw Error(a.statusText);
        }

        function g(b) {
            a = ("object" !== typeof b ? JSON.parse(b) : b) || [];
            c.channel.publish({
                topic: c.events.LOADED,
                data: a
            })
        }
        var c = {
                channel: f.channel("md:modeldataservice"),
                events: {
                    LOADED: "loaded"
                }
            },
            a;
        (function() {
            var a = b(".md-product-selector"),
                c = window.location.pathname.replace(".html", "/_jcr_content.modelfeatures.json");
            0 < a.length && (a = b(a).data("modelfeaturesProductSelectorPath")) &&
                0 < a.length && (c = a);
            b.getJSON(c).fail(k).success(g)
        })();
        return c
    }()
});
define("core/utils/webp", ["bluebird", "core/Messagebus"], function(b, f) {
    function k() {
        var e = Object.keys(d).map(function(b) {
            return g(b).then(function(c) {
                a.supports[b] = c
            }).error(function(c) {
                console.warn(c);
                a.supports[b] = !1
            })
        });
        b.all(e).then(function() {
            a.isSupported = [a.supports.lossy, a.supports.lossless, a.supports.alpha, a.supports.animation].some(Boolean);
            a.messagebus.channel.publish({
                topic: a.messagebus.TOPIC,
                data: a,
                headers: {
                    preserve: !0
                }
            });
            c = !0
        })
    }

    function g(a) {
        return new b(function(b) {
            var c = new Image;
            c.onload =
                function() {
                    b(0 < c.width && 0 < c.height)
                };
            c.onerror = function() {
                b(!1)
            };
            c.src = "data:image/webp;base64," + d[a]
        })
    }
    var c = !1,
        a = {
            messagebus: {
                TOPIC: "webp",
                channel: f.channel("md:support")
            },
            LOSSY: "lossy",
            LOSSLESS: "lossless",
            ALPHA: "alpha",
            ANIMATION: "animation",
            isSupported: !1,
            supports: {
                lossy: !1,
                lossless: !1,
                alpha: !1,
                animation: !1
            }
        },
        d = {
            lossy: "UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",
            lossless: "UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA\x3d\x3d",
            alpha: "UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA\x3d\x3d",
            animation: "UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"
        };
    c || k();
    return a
});
define("core/CookieAdapter", ["jquery", "lodash"], function(b, f) {
    var k = 0,
        g = "undefined" !== typeof window.consentcontroller ? window.consentcontroller : {};
    return {
        api: g.api || {},
        isEnabled: !!g.api,
        checkPresentAndInit: function(c) {
            var a = !1,
                d = c || b.Deferred(),
                e = this;
            g.api && g.api.isInitialized && (a = g.api.isInitialized());
            a ? d.resolve(!0) : 10 <= k ? (k = 0, d.reject(!1)) : (window.setTimeout(function() {
                e.checkPresentAndInit(d)
            }, 300), k++);
            if (!c) return d.promise()
        },
        acceptCookies: function() {
            this.setRegulationAccepted()
        },
        rejectCookies: function() {
            this.setRegulationRejected()
        },
        getCookiesAllowed: function() {
            var b = !1;
            this.api && this.api.getPersistence && this.api.setPersistence && this.api.deletePersistence ? (this.api.setPersistence("cc_digital_testCookie", "true"), "true" === this.api.getPersistence("cc_digital_testCookie") && (this.api.deletePersistence("cc_digital_testCookie"), b = !0)) : b = !1;
            return b
        },
        registerOnConsentChange: function(b) {
            return this.api.registerOnConsentChange ? this.api.registerOnConsentChange(b) : null
        },
        registerOnUserConsentChange: function(b) {
            return this.api.registerOnUserConsentChange ?
                this.api.registerOnUserConsentChange(b) : null
        },
        registerOnInitialized: function(b) {
            return this.api.registerOnInitialized ? this.api.registerOnInitialized(b) : null
        },
        getRegulationType: function() {
            return this.api.getRegulationType ? this.api.getRegulationType() : null
        },
        getCookie: function(b) {
            return this.api.getPersistence ? this.api.getPersistence(b) : null
        },
        setCookie: function(b, a) {
            return this.api.setPersistence ? this.api.setPersistence(b, a) : null
        },
        deleteCookie: function(b) {
            return this.api.deletePersistence ? this.api.deletePersistence(b) :
                null
        },
        isRegulationAccepted: function() {
            return this.api.isRegulationAccepted ? this.api.isRegulationAccepted() : null
        },
        setRegulationAccepted: function() {
            return this.api.setRegulationAccepted ? this.api.setRegulationAccepted() : null
        },
        setRegulationRejected: function() {
            return this.api.setRegulationRejected ? this.api.setRegulationRejected() : null
        },
        isUsageAllowed: function(b) {
            return this.api.isUsageAllowed ? this.api.isUsageAllowed(b) : null
        },
        isInitialized: function() {
            return this.api.isInitialized ? this.api.isInitialized() :
                null
        },
        getUserConsent: function(b) {
            return this.api.getUserConsent ? this.api.getUserConsent(b) : null
        },
        setUserConsent: function(b, a) {
            return this.api.setUserConsent ? this.api.setUserConsent(b, a) : null
        },
        getUserConsentEnums: function() {
            return this.api ? this.api.ENUM_USER_CONSENT : null
        },
        getConsentMetadata: function(b, a, d) {
            return this.api.getConsentMetadata ? this.api.getConsentMetadata(b, a, d) : null
        },
        showDisclaimer: function() {
            return this.api.showDisclaimer ? this.api.showDisclaimer() : !1
        }
    }
});
define("core/trackingAdapter/Tracking", ["jquery", "core/CookieAdapter", "core/Debugger"], function(b, f, k) {
    var g = {
            CODE1: {
                type: "error",
                errorCode: "1",
                errorMessage: "The pageId passed to the function does not exist"
            },
            CODE2: {
                type: "error",
                errorCode: "2",
                errorMessage: "The pageId is a required parameter on this function"
            },
            CODE3: {
                type: "error",
                errorCode: "3",
                errorMessage: "The component element passed to the function does not exist"
            },
            CODE4: {
                type: "error",
                errorCode: "4",
                errorMessage: "The component element passed to the function does not have the required data attribute"
            },
            CODE5: {
                type: "error",
                errorCode: "5",
                errorMessage: "The format or type of the data passed to the function is not correct"
            }
        },
        c = function(a) {
            this.trackingObj = {};
            this.trackingDisabled = void 0 !== navigator ? "1" === navigator.doNotTrack : !1;
            this.options = {
                debug: k.isDebugEnabled("tracking"),
                isDevMode: !1,
                cookiesAllowed: !1
            };
            this.components = b.extend(!0, {}, Array.isArray(a.pages) && 0 < a.pages.length && void 0 !== a.pages[0].component ? a.pages[0].component : {});
            this.pageTrackingArr = {};
            this.mainPageTrackingObj = {};
            f.isEnabled ? f.registerOnInitialized(this.init.bind(this,
                a)) : this.init(a)
        };
    c.prototype = {
        init: function(a) {
            this.substituteDocumentWrite(this.options.debug);
            this.options.debug && console.log("Tracking.init");
            this.trackingObj = b.extend(!0, {}, a);
            this.trackingObj.pages && (this.pageTrackingArr = this.trackingObj.pages, this.mainPageTrackingObj = this.trackingObj.pages[0], this.options.isDevMode = "prod" !== this.mainPageTrackingObj.page.pageInfo.devEnv);
            f.registerOnUserConsentChange(this.initOnUserConsentChange.bind(this));
            this.initOnUserConsentChange(f.isUsageAllowed("analytics") ?
                "GIVEN" : "REJECTED", "analytics")
        },
        initOnUserConsentChange: function(a, c) {
            this.options.debug && console.log("Tracking.initOnConsentChange. consentId\x3d", c, " to ", a);
            if ("analytics" === c && this.lastConsentState !== a) {
                if ("GIVEN" !== a) {
                    try {
                        this.trackingObj.pages[0].events = []
                    } catch (h) {
                        console.log("Tracking.initOnConsentChange. cannot remove events.")
                    }
                    if (void 0 !== this.lastConsentState) return
                }
                this.lastConsentState = a;
                var d = this;
                this.components = b.extend(!0, {}, this.trackingObj.pages[0].component);
                f.checkPresentAndInit().then(function() {
                    d.options.cookiesAllowed =
                        f.isUsageAllowed("cc_digital_userCookie");
                    d.options.debug && console.log("Tracking.init cookiesAllowed", d.options.cookiesAllowed)
                }).always(function() {
                    d.initValues(d.mainPageTrackingObj.page.pageInfo, d.mainPageTrackingObj.page.attributes);
                    d.initUser();
                    d.initListeners()
                })
            }
        },
        initValues: function(a, c, e, h, g) {
            this.options.debug && console.log("Tracking.initValues() ", a, c);
            e = e || document.location.href;
            h = h || document.referrer;
            g = JSON.parse(f.isEnabled && !g ? f.getCookie("cc_digital_eventAttributes") : "{}");
            b.extend(a, {
                destinationUrl: e,
                referringUrl: h,
                pageInstanceId: this.buildPageInstanceId(a.pageInstanceId),
                destinationQuery: e.split("?")[1] || e.split("#")[1] || ""
            });
            b.extend(c, g, {
                pageResponsiveType: 768 < b(window).width() ? "wide" : "narrow"
            })
        },
        initUser: function() {
            this.options.debug && console.log("Tracking.initUser()");
            var a = this.mainPageTrackingObj.user[0].profileInfo || {},
                b = this.getSessionCookie(),
                c = this.getUserCookie(),
                h = f.isEnabled ? f.getCookie("cc_digital_profileCookie") : !1,
                g = "" !== c.sessionID && b !== c.sessionID,
                k = f.isEnabled ?
                parseInt(c.sessionIDx || 1, 10) : null;
            a.sessionIDx = k + "";
            this.options.cookiesAllowed && (g ? (a.sessionIDx = (k + 1).toString(), a.returningStatus = "true") : a.returningStatus = "false", a.visitorID = c.visitorID ? c.visitorID : b);
            a.sessionID = b;
            this.storeUserCookie(a);
            h && this.updateUser(h)
        },
        initListeners: function() {
            this.options.debug && console.log("Tracking.initListeners()")
        },
        initComponentTracking: function(a, c) {
            this.options.debug && console.log("Tracking.initComponentTracking", a, c);
            var d = this.isJQueryObject(a),
                f = !1,
                g = 0,
                k = {},
                q = 0;
            try {
                if (d && this.handleErrors(!a.length, 3), g = d ? a.data("tracking-index") : void 0, k = d ? a.data("tracking-component") : a, q = d ? 0 : this.getLastActiveVirtualPageId(), d ? this.handleErrors(!k, 4) : this.handleErrors(null === k || "object" !== typeof k, 5), "undefined" !== typeof g) this.updateComponentTracking(a, k, c);
                else {
                    c && (f = this.getVirtualPage(c));
                    this.handleErrors(c && !f, 1);
                    f && (q = c);
                    this.pageTrackingArr[q].component = this.pageTrackingArr[q].component || [];
                    var l = b.extend(!0, {}, k);
                    this.pageTrackingArr[q].component.push(l);
                    g = this.pageTrackingArr[q].component.length - 1;
                    d && (this.storeComponentIndex(a, g), this.storePageIndex(a, q));
                    this.triggerEvent("initComponentTracking", [q, this.getPageObject(q)]);
                    return {
                        pageId: q,
                        componentIndex: g
                    }
                }
            } catch (u) {
                return u
            }
        },
        initProductTracking: function(a, c) {
            this.options.debug && console.log("Tracking.initProductTracking", a, c);
            var d = !1,
                f = {},
                g = !1,
                k = 0,
                q = {},
                l = 0,
                u = "undefined" !== typeof c ? c : this.getLastActiveVirtualPageId();
            try {
                if (d = a instanceof b) f = a, handleErrors(!f.length, 3);
                k = d ? f.data("tracking-product-index") :
                    void 0;
                q = d ? f.data("tracking-product") : a;
                d ? this.handleErrors(!q, 4) : this.handleErrors(null === q || "object" !== typeof q, 5);
                if ("undefined" !== typeof k) this.updateProductTracking(f, q, c);
                else {
                    g = this.getVirtualPage(u);
                    this.handleErrors(!g, 1);
                    g && (l = u);
                    var w = b.extend(!0, {}, q);
                    this.pageTrackingArr[l].product.push(w);
                    k = this.pageTrackingArr[l].product.length - 1;
                    d && this.storeProductIndex(f, k);
                    this.triggerEvent("initProductTracking", [l, this.getPageObject(l)]);
                    return {
                        pageId: l,
                        productIndex: k
                    }
                }
            } catch (r) {
                return r
            }
        },
        initCartTracking: function(a) {
            this.options.debug &&
                console.log("Tracking.initCartTracking", a);
            "undefined" === typeof this.mainPageTrackingObj.cart && (this.mainPageTrackingObj.cart = {});
            try {
                var c = JSON.stringify(this.mainPageTrackingObj.cart);
                !b.isEmptyObject(a) && b.isPlainObject(a) && (this.mainPageTrackingObj.cart = a);
                this.triggerEvent("initCartTracking", [0, this.mainPageTrackingObj]);
                return JSON.stringify(this.mainPageTrackingObj.cart) !== c
            } catch (e) {
                return e
            }
        },
        initTransactionTracking: function(a) {
            this.options.debug && console.log("Tracking.initTransactionTracking",
                a);
            "undefined" === typeof this.mainPageTrackingObj.transaction && (this.mainPageTrackingObj.transaction = {});
            try {
                var c = JSON.stringify(this.mainPageTrackingObj.transaction);
                !b.isEmptyObject(a) && b.isPlainObject(a) && (this.mainPageTrackingObj.transaction = a);
                this.triggerEvent("initTransactionTracking", [0, this.mainPageTrackingObj]);
                return JSON.stringify(this.mainPageTrackingObj.transaction) !== c
            } catch (e) {
                return e
            }
        },
        getCookie: function(a) {
            if (!this.options.cookiesAllowed) return a.cookiesDisallowed;
            f.getCookie(a.cookieId) ||
                f.setCookie(a.cookieId, a.cookieValue);
            return f.getCookie(a.cookieId)
        },
        getSessionCookie: function() {
            return this.getCookie({
                cookiesDisallowed: "",
                cookieId: "cc_digital_sessionCookie",
                cookieValue: parseInt(Date.now() * Math.random(), 10) + ""
            })
        },
        getUserCookie: function() {
            var a = this.getCookie({
                cookiesDisallowed: "{}",
                cookieId: "cc_digital_userCookie",
                cookieValue: JSON.stringify({
                    visitorID: "",
                    returningStatus: "false",
                    sessionID: "",
                    sessionIDx: "1"
                })
            });
            this.options.debug && console.log("Tracking.getUserCookie", JSON.parse(a));
            return JSON.parse(a)
        },
        getAllPages: function() {
            this.options.debug && console.log("Tracking.getAllPages");
            return this.options.cookiesAllowed ? this.convertToAdobeDTMProps(this.pageTrackingArr) : []
        },
        getPageObject: function(a) {
            this.options.debug && console.log("Tracking.getPageObject", a);
            try {
                this.handleErrors(void 0 === a, 2);
                var b = this.getVirtualPage(a);
                this.handleErrors(!b, 1);
                return this.options.cookiesAllowed ? this.convertToAdobeDTMProps(this.pageTrackingArr[a]) : {}
            } catch (e) {
                return e
            }
        },
        getCurrentPageIndex: function() {
            return this.trackingObj.activePageIndex
        },
        getVirtualPage: function(a) {
            this.options.debug && console.log("Tracking.getVirtualPage", a);
            return void 0 !== a && this.pageTrackingArr[a] && "true" !== this.pageTrackingArr[a].pageClosed ? this.pageTrackingArr[a] : !1
        },
        getLastActiveVirtualPageId: function() {
            for (var a = this.pageTrackingArr.length; a--;)
                if ("true" !== this.pageTrackingArr[a].pageClosed) return a
        },
        getEventAttributes: function(a) {
            this.options.debug && console.log("Tracking.getEventAttributes", a);
            var c = b(a.target),
                e = c.closest(".md-component"),
                f = c.data("event-attribute-object");
            a = {
                navigationLevel: f && f.navigationLevel ? f.navigationLevel + "" : "5",
                navigationItemType: a.target.nodeName,
                navigationComponentId: e.attr("id") || "noId",
                navigationComponentName: e.data("component-name") || "noName",
                navigationSource: this.getPageObject(this.getCurrentPageIndex()).page.pageInfo.pageName,
                navigationItemWording: c.text(),
                navigationStickyType: f && f.navigationStickyType ? f.navigationStickyType : "",
                navigationStickyUse: f && f.navigationStickyUse ? f.navigationStickyUse : ""
            };
            return a = b.extend(!0, a, f)
        },
        updateUser: function(a,
            c, e) {
            this.options.debug && console.log("Tracking.updateUser", a, c, e);
            try {
                c && "" !== a && (a = this.hashValue(a)), e && this.options.cookiesAllowed && f.setCookie("cc_digital_profileCookie", a), b.each(this.pageTrackingArr, function(b, c) {
                    c.user[0].profileInfo.profileId = a
                })
            } catch (h) {
                return h
            }
        },
        updateComponentTracking: function(a, c, e) {
            this.options.debug && console.log("Tracking.updateComponentTracking", a, c, e);
            var d = this.isJQueryObject(a),
                f = a,
                g = [],
                k = !1;
            try {
                return this.handleErrors(void 0 === e, 2), this.handleErrors(!d && "number" !==
                    typeof f, 5), this.handleErrors(null === c || "object" !== typeof c, 5), d && (f = a.data("tracking-index"), this.handleErrors(void 0 === f, 4)), k = this.getVirtualPage(e), this.handleErrors(!k, 1), g = this.pageTrackingArr[e].component, b.extend(!0, g[f], c), this.triggerEvent("updateComponentTracking", [e, this.getPageObject(e)]), {
                    pageId: e,
                    componentIndex: f
                }
            } catch (l) {
                return l
            }
        },
        updateProductTracking: function(a, c, e) {
            this.options.debug && console.log("Tracking.updateProductTracking", a, c, e);
            var d = this.isJQueryObject(a),
                f = a,
                g = [],
                k = !1;
            try {
                return this.handleErrors(void 0 === e, 2), this.handleErrors(!d && "number" !== typeof f, 5), this.handleErrors(null === c || "object" !== typeof c, 5), d && (f = a.data("tracking-product-index"), this.handleErrors(void 0 === f, 4)), k = this.getVirtualPage(e), this.handleErrors(!k, 1), g = this.pageTrackingArr[e].product, b.extend(!0, g[f], c), this.triggerEvent("updateProductTracking", [e, this.getPageObject(e)]), {
                    pageId: e,
                    productIndex: f
                }
            } catch (l) {
                return l
            }
        },
        updateCartTracking: function(a) {
            this.options.debug && console.log("Tracking.updateCartTracking",
                a);
            "undefined" === typeof this.mainPageTrackingObj.cart && (this.mainPageTrackingObj.cart = {});
            try {
                var c = JSON.stringify(this.mainPageTrackingObj.cart);
                !b.isEmptyObject(a) && b.isPlainObject(a) && b.extend(!0, this.mainPageTrackingObj.cart, a);
                this.triggerEvent("updateCartTracking", [0, this.mainPageTrackingObj]);
                return JSON.stringify(this.mainPageTrackingObj.cart) !== c
            } catch (e) {
                return e
            }
        },
        updateTransactionTracking: function(a) {
            this.options.debug && console.log("Tracking.updateTransactionTracking", a);
            "undefined" ===
            typeof this.mainPageTrackingObj.transaction && (this.mainPageTrackingObj.transaction = {});
            try {
                var c = JSON.stringify(this.mainPageTrackingObj.transaction);
                !b.isEmptyObject(a) && b.isPlainObject(a) && b.extend(!0, this.mainPageTrackingObj.transaction, a);
                this.triggerEvent("updateTransactionTracking", [0, this.mainPageTrackingObj]);
                return JSON.stringify(this.mainPageTrackingObj.transaction) !== c
            } catch (e) {
                return e
            }
        },
        removeProductTracking: function(a, c) {
            this.options.debug && console.log("Tracking.removeProductTracking",
                a, c);
            var d = this.isJQueryObject(a),
                f = a,
                g = null,
                k = !1;
            try {
                return this.handleErrors(void 0 === c, 2), this.handleErrors(!d && "number" !== typeof f, 5), d && (f = a.data("tracking-product-index"), this.handleErrors(void 0 === f, 4)), k = this.getVirtualPage(c), this.handleErrors(!k, 1), 0 <= f && "undefined" !== typeof k.product[f] && (g = k.product.splice(f, 1)), this.triggerEvent("removeProductTracking", [c, this.getPageObject(c)]), !b.isEmptyObject(g)
            } catch (q) {
                return q
            }
        },
        removeCartTracking: function() {
            this.options.debug && console.log("Tracking.removeCartTracking");
            try {
                return this.mainPageTrackingObj.cart = {}, this.triggerEvent("removeCartTracking", [0, this.mainPageTrackingObj]), !0
            } catch (a) {
                return a
            }
        },
        removeTransactionTracking: function() {
            this.options.debug && console.log("Tracking.removeTransactionTracking");
            try {
                return this.mainPageTrackingObj.transaction = {}, this.triggerEvent("removeTransactionTracking", [0, this.mainPageTrackingObj]), !0
            } catch (a) {
                return a
            }
        },
        storeComponentIndex: function(a, b) {
            this.options.debug && console.log("Tracking.storeComponentIndex");
            a.attr("data-tracking-index",
                b)
        },
        storePageIndex: function(a, b) {
            this.options.debug && console.log("Tracking.storePageIndex", b);
            a.attr("data-tracking-page-index", b)
        },
        storeProductIndex: function(a, b) {
            this.options.debug && console.log("Tracking.storeProductIndex", a, b);
            a.attr("data-tracking-product-index", b)
        },
        storeUserCookie: function(a) {
            this.options.debug && console.log("Tracking.storeUserCookie (persistence)", a);
            return f.setCookie("cc_digital_userCookie", JSON.stringify({
                visitorID: a.visitorID,
                returningStatus: a.returningStatus,
                sessionID: a.sessionID,
                sessionIDx: a.sessionIDx || "1"
            }))
        },
        addVirtualPage: function(a, c, e) {
            this.options.debug && console.log("Tracking.addVirtualPage", a, c, e);
            var d = {};
            b.extend(!0, d, a);
            this.pageTrackingArr.push(d);
            this.initValues(d.page.pageInfo, d.page.attributes, c, e, !0);
            this.trackingObj.activePageIndex = this.pageTrackingArr.length - 1;
            this.duplicatePageDetails(this.trackingObj.activePageIndex);
            a = this.getPageObject(this.trackingObj.activePageIndex) || {};
            this.triggerEvent("addVirtualPage", [this.trackingObj.activePageIndex, a]);
            return {
                pageId: this.trackingObj.activePageIndex,
                pageObj: a
            }
        },
        addEventTracking: function(a, c, e) {
            this.options.debug && console.log("Tracking.addEventTracking", a, c, e);
            var d = {},
                f = 0;
            try {
                var g = this.pageTrackingArr[e];
                this.handleErrors(void 0 === e, 2);
                this.handleErrors("object" !== typeof a, 5);
                f = this.getVirtualPage(e);
                this.handleErrors(!f, 1);
                b.extend(!0, d, a, c);
                g.event = this.pageTrackingArr[e].event || [];
                this.options.isDevMode ? g.event.push(d) : g.event[0] = d;
                this.triggerEvent("addEventTracking", [e, this.getPageObject(e)]);
                return {
                    pageId: e,
                    pageObj: g
                }
            } catch (q) {
                return q
            }
        },
        closeVirtualPage: function(a) {
            this.options.debug && console.log("Tracking.closeVirtualPage", a);
            var b = this.getVirtualPage(a),
                c = 0,
                f = {};
            try {
                return this.handleErrors(void 0 !== a && !b || 0 === this.getLastActiveVirtualPageId(), 1), b ? (this.options.isDevMode || (this.pageTrackingArr[a] = {}), this.pageTrackingArr[a].pageClosed = "true") : (c = this.getLastActiveVirtualPageId(), this.options.isDevMode || (this.pageTrackingArr[c] = {}), this.pageTrackingArr[c].pageClosed = "true"), this.trackingObj.activePageIndex = this.getLastActiveVirtualPageId(),
                    f = this.getPageObject(this.trackingObj.activePageIndex), this.triggerEvent("closeVirtualPage", [this.trackingObj.activePageIndex, f]), {
                        pageId: this.trackingObj.activePageIndex,
                        pageObj: f
                    }
            } catch (m) {
                return m
            }
        },
        closeAllVirtualPages: function(a) {
            this.options.debug && console.log("Tracking.closeAllVirtualPages", a);
            a = a && a.closeAllAfterIdx || 0;
            if (this.trackingObj && this.trackingObj.pages)
                for (var b = this.trackingObj.pages.length; b > a; b--) this.getVirtualPage(b) && this.closeVirtualPage(b)
        },
        trackClickEvents: function(a) {
            this.options.debug &&
                console.log("Tracking.trackClickEvents", a);
            var c = b(a.target),
                e = {},
                h = {},
                g = {
                    eventInfo: {
                        eventName: a.currentTarget.innerText,
                        eventAction: a.type,
                        timeStamp: Date.now()
                    }
                };
            c.hasClass("md-js-tracking-event") && (e = c.closest(".md-js-tracking-event-parent").data("event-children"), h = c.data("event"));
            h = b.extend(!0, g, h);
            this.addEventTracking(e, h, this.getLastActiveVirtualPageId());
            this.options.cookiesAllowed && f.setCookie("cc_digital_eventAttributes", JSON.stringify(this.getEventAttributes(a)));
            return !0
        },
        duplicatePageDetails: function(a) {
            var c = {
                user: [{
                    profileInfo: this.mainPageTrackingObj.user[0].profileInfo
                }]
            };
            this.trackingObj && this.trackingObj.pages && b.extend(this.trackingObj.pages[a], c)
        },
        buildPageInstanceId: function(a) {
            this.options.debug && console.log("Tracking.buildPageInstanceId()", a);
            return a ? a.replace(/\s+/g, "-").toLowerCase() : a
        },
        convertToAdobeDTMProps: function(a) {
            this.options.debug && console.log("Tracking.convertToAdobeDTMProps", a);
            var c = ["array", "function", "object"];
            (function m(a) {
                for (var d in a)
                    if (a.hasOwnProperty(d)) {
                        var f = a[d],
                            h = b.type(f); - 1 === b.inArray(h, c) ? a[d] = f + "" : ("object" === h || "array" === h) && m(a[d])
                    }
            })(a);
            return a
        },
        hashValue: function(a) {
            var b = b || function(a, b) {
                var c = {},
                    d = c.lib = {},
                    e = function() {},
                    f = d.Base = {
                        extend: function(a) {
                            e.prototype = this;
                            var b = new e;
                            a && b.mixIn(a);
                            b.hasOwnProperty("init") || (b.init = function() {
                                b.$super.init.apply(this, arguments)
                            });
                            b.init.prototype = b;
                            b.$super = this;
                            return b
                        },
                        create: function() {
                            var a = this.extend();
                            a.init.apply(a, arguments);
                            return a
                        },
                        init: function() {},
                        mixIn: function(a) {
                            for (var b in a) a.hasOwnProperty(b) &&
                                (this[b] = a[b]);
                            a.hasOwnProperty("toString") && (this.toString = a.toString)
                        },
                        clone: function() {
                            return this.init.prototype.extend(this)
                        }
                    },
                    h = d.WordArray = f.extend({
                        init: function(a, c) {
                            a = this.words = a || [];
                            this.sigBytes = c != b ? c : 4 * a.length
                        },
                        toString: function(a) {
                            return (a || r).stringify(this)
                        },
                        concat: function(a) {
                            var b = this.words,
                                c = a.words,
                                d = this.sigBytes;
                            a = a.sigBytes;
                            this.clamp();
                            if (d % 4)
                                for (var e = 0; e < a; e++) b[d + e >>> 2] |= (c[e >>> 2] >>> 24 - e % 4 * 8 & 255) << 24 - (d + e) % 4 * 8;
                            else if (65535 < c.length)
                                for (e = 0; e < a; e += 4) b[d + e >>> 2] = c[e >>>
                                    2];
                            else b.push.apply(b, c);
                            this.sigBytes += a;
                            return this
                        },
                        clamp: function() {
                            var b = this.words,
                                c = this.sigBytes;
                            b[c >>> 2] &= 4294967295 << 32 - c % 4 * 8;
                            b.length = a.ceil(c / 4)
                        },
                        clone: function() {
                            var a = f.clone.call(this);
                            a.words = this.words.slice(0);
                            return a
                        },
                        random: function(b) {
                            for (var c = [], d = 0; d < b; d += 4) c.push(4294967296 * a.random() | 0);
                            return new h.init(c, b)
                        }
                    }),
                    g = c.enc = {},
                    r = g.Hex = {
                        stringify: function(a) {
                            var b = a.words;
                            a = a.sigBytes;
                            for (var c = [], d = 0; d < a; d++) {
                                var e = b[d >>> 2] >>> 24 - d % 4 * 8 & 255;
                                c.push((e >>> 4).toString(16));
                                c.push((e &
                                    15).toString(16))
                            }
                            return c.join("")
                        },
                        parse: function(a) {
                            for (var b = a.length, c = [], d = 0; d < b; d += 2) c[d >>> 3] |= parseInt(a.substr(d, 2), 16) << 24 - d % 8 * 4;
                            return new h.init(c, b / 2)
                        }
                    },
                    k = g.Latin1 = {
                        stringify: function(a) {
                            var b = a.words;
                            a = a.sigBytes;
                            for (var c = [], d = 0; d < a; d++) c.push(String.fromCharCode(b[d >>> 2] >>> 24 - d % 4 * 8 & 255));
                            return c.join("")
                        },
                        parse: function(a) {
                            for (var b = a.length, c = [], d = 0; d < b; d++) c[d >>> 2] |= (a.charCodeAt(d) & 255) << 24 - d % 4 * 8;
                            return new h.init(c, b)
                        }
                    },
                    v = g.Utf8 = {
                        stringify: function(a) {
                            try {
                                return decodeURIComponent(escape(k.stringify(a)))
                            } catch (B) {
                                throw Error("Malformed UTF-8 data");
                            }
                        },
                        parse: function(a) {
                            return k.parse(unescape(encodeURIComponent(a)))
                        }
                    },
                    t = d.BufferedBlockAlgorithm = f.extend({
                        reset: function() {
                            this._data = new h.init;
                            this._nDataBytes = 0
                        },
                        _append: function(a) {
                            "string" == typeof a && (a = v.parse(a));
                            this._data.concat(a);
                            this._nDataBytes += a.sigBytes
                        },
                        _process: function(b) {
                            var c = this._data,
                                d = c.words,
                                e = c.sigBytes,
                                f = this.blockSize,
                                g = e / (4 * f);
                            g = b ? a.ceil(g) : a.max((g | 0) - this._minBufferSize, 0);
                            b = g * f;
                            e = a.min(4 * b, e);
                            if (b) {
                                for (var l = 0; l < b; l += f) this._doProcessBlock(d, l);
                                l = d.splice(0, b);
                                c.sigBytes -=
                                    e
                            }
                            return new h.init(l, e)
                        },
                        clone: function() {
                            var a = f.clone.call(this);
                            a._data = this._data.clone();
                            return a
                        },
                        _minBufferSize: 0
                    });
                d.Hasher = t.extend({
                    cfg: f.extend(),
                    init: function(a) {
                        this.cfg = this.cfg.extend(a);
                        this.reset()
                    },
                    reset: function() {
                        t.reset.call(this);
                        this._doReset()
                    },
                    update: function(a) {
                        this._append(a);
                        this._process();
                        return this
                    },
                    finalize: function(a) {
                        a && this._append(a);
                        return this._doFinalize()
                    },
                    blockSize: 16,
                    _createHelper: function(a) {
                        return function(b, c) {
                            return (new a.init(c)).finalize(b)
                        }
                    },
                    _createHmacHelper: function(a) {
                        return function(b,
                            c) {
                            return (new A.HMAC.init(a, c)).finalize(b)
                        }
                    }
                });
                var A = c.algo = {};
                return c
            }(Math);
            (function(a) {
                var c = b,
                    d = c.lib,
                    e = d.WordArray,
                    f = d.Hasher;
                d = c.algo;
                for (var g = [], k = [], w = function(a) {
                        return 4294967296 * (a - (a | 0)) | 0
                    }, r = 2, x = 0; 64 > x;) {
                    a: {
                        var v = r;
                        for (var t = a.sqrt(v), A = 2; A <= t; A++)
                            if (!(v % A)) {
                                v = !1;
                                break a
                            } v = !0
                    }
                    v && (8 > x && (g[x] = w(a.pow(r, .5))), k[x] = w(a.pow(r, 1 / 3)), x++);r++
                }
                var z = [];
                d = d.SHA256 = f.extend({
                    _doReset: function() {
                        this._hash = new e.init(g.slice(0))
                    },
                    _doProcessBlock: function(a, b) {
                        for (var c = this._hash.words, d = c[0],
                                e = c[1], f = c[2], h = c[3], g = c[4], l = c[5], r = c[6], m = c[7], v = 0; 64 > v; v++) {
                            if (16 > v) z[v] = a[b + v] | 0;
                            else {
                                var t = z[v - 15],
                                    x = z[v - 2];
                                z[v] = ((t << 25 | t >>> 7) ^ (t << 14 | t >>> 18) ^ t >>> 3) + z[v - 7] + ((x << 15 | x >>> 17) ^ (x << 13 | x >>> 19) ^ x >>> 10) + z[v - 16]
                            }
                            t = m + ((g << 26 | g >>> 6) ^ (g << 21 | g >>> 11) ^ (g << 7 | g >>> 25)) + (g & l ^ ~g & r) + k[v] + z[v];
                            x = ((d << 30 | d >>> 2) ^ (d << 19 | d >>> 13) ^ (d << 10 | d >>> 22)) + (d & e ^ d & f ^ e & f);
                            m = r;
                            r = l;
                            l = g;
                            g = h + t | 0;
                            h = f;
                            f = e;
                            e = d;
                            d = t + x | 0
                        }
                        c[0] = c[0] + d | 0;
                        c[1] = c[1] + e | 0;
                        c[2] = c[2] + f | 0;
                        c[3] = c[3] + h | 0;
                        c[4] = c[4] + g | 0;
                        c[5] = c[5] + l | 0;
                        c[6] = c[6] + r | 0;
                        c[7] = c[7] + m | 0
                    },
                    _doFinalize: function() {
                        var b =
                            this._data,
                            c = b.words,
                            d = 8 * this._nDataBytes,
                            e = 8 * b.sigBytes;
                        c[e >>> 5] |= 128 << 24 - e % 32;
                        c[(e + 64 >>> 9 << 4) + 14] = a.floor(d / 4294967296);
                        c[(e + 64 >>> 9 << 4) + 15] = d;
                        b.sigBytes = 4 * c.length;
                        this._process();
                        return this._hash
                    },
                    clone: function() {
                        var a = f.clone.call(this);
                        a._hash = this._hash.clone();
                        return a
                    }
                });
                c.SHA256 = f._createHelper(d);
                c.HmacSHA256 = f._createHmacHelper(d)
            })(Math);
            return b.SHA256(b.enc.Utf8.parse(a)).toString(b.enc.Hex)
        },
        triggerEvent: function(a, c) {
            this.options.debug && console.log("Tracking.triggerEvent", "digital:tracking:" +
                a);
            this.options.cookiesAllowed && b(window).trigger("digital:tracking:" + a, c)
        },
        handleErrors: function(a, b) {
            if (a) throw a = g["CODE" + b], this.options.isDevMode && console && console.error && console.error.apply(console, a), a;
        },
        isJQueryObject: function(a) {
            return a instanceof b
        },
        isTrackingDisabled: function() {
            return !this.options.cookiesAllowed
        },
        substituteDocumentWrite: function(a) {
            document.write = function(b) {
                a && console.error("Tracking.substituteDocumentWrite - called document.write with:", b);
                document.body.insertAdjacentHTML("beforeend",
                    b)
            }
        }
    };
    return c
});
define("core/trackingAdapter/TrackingMessages", function() {
    return {
        channel: "md:trackingadapter",
        events: {
            UNREGISTER: "unregister",
            TRIGGER_EVENT: "trigger:event"
        }
    }
});
define("core/TrackingAdapter", ["jquery", "core/CookieAdapter", "core/trackingAdapter/Tracking", "core/trackingAdapter/TrackingMessages", "core/TrackingAdapter/TrackingTarget"], function(b, f, k, g, c) {
    var a = null;
    return {
        targetSubscriptions: [],
        init: function(b) {
            if ("undefined" === typeof b || b === {}) return console.error("TrackingAdapter.init : dataLayer is not available"), !1;
            a = a || new k(b);
            f.isInitialized() ? requestAnimationFrame(function() {
                document.dispatchEvent(new CustomEvent("digital:tracking:ApiLoaded"))
            }) : f.checkPresentAndInit().then(function() {
                document.dispatchEvent(new CustomEvent("digital:tracking:ApiLoaded"))
            })
        },
        getInstance: function() {
            return a
        },
        getMessages: function() {
            return g
        },
        register: function(a, b, f) {
            this.targetSubscriptions.push(new c(this, a, b, f));
            return this
        }
    }
});
define("core/TrackingAdapter/TrackingTarget", ["jquery", "core/trackingAdapter/TrackingMessages", "core/Messagebus", "core/Debugger", "core/utils/scrollspy"], function(b, f, k, g, c) {
    var a = function(a, e, f, k) {
        this.$element = b(e);
        this.callbackFn = k;
        this.staticDataObj = f || {};
        this.targetSubscriptions = a.targetSubscriptions;
        this.trackingInstance = a.getInstance();
        this.scrollSpy = c.init();
        this.pageIndex = "undefined" !== typeof this.$element.attr("data-loader") ? this.$element.data("tracking-page-index") : this.$element.parents("[data-loader]").data("tracking-page-index");
        this.debugMode = g.isDebugEnabled("tracking");
        this.timer = null;
        this.init()
    };
    a.prototype = {
        init: function() {
            this.initEvents()
        },
        getProperty: function(a) {
            if (this.staticDataObj.hasOwnProperty(a)) return this.staticDataObj[a];
            try {
                return this.callbackFn()[a]
            } catch (e) {
                return console.error(e), null
            }
        },
        initEvents: function() {
            k.subscribe({
                channel: f.channel,
                topic: f.events.UNREGISTER,
                callback: this.unregister.bind(this)
            });
            this.scrollSubscription = k.subscribe({
                channel: this.scrollSpy.messages.channel,
                topic: this.scrollSpy.messages.events.SCROLL,
                callback: this.onScroll.bind(this)
            });
            k.subscribe({
                channel: f.channel,
                topic: f.events.TRIGGER_EVENT,
                callback: this.triggerEvent.bind(this)
            })
        },
        unregister: function(a) {
            a === this.$element[0] && (a = this.targetSubscriptions.indexOf(this), -1 < a && (this.targetSubscriptions.splice(a, 1), k.unsubscribe(this.scrollSubscription)))
        },
        isVisible: function() {
            if (this.$element.is(":hidden")) return !1;
            var a = document.querySelector("main").getBoundingClientRect(),
                b = this.$element[0].getBoundingClientRect(),
                c = b.height * (this.isViewed ?
                    1 : .2),
                f = window.innerHeight || document.documentElement.clientHeight,
                g = 0 >= b.top && b.bottom >= f;
            c = b.top >= 0 - c && b.bottom - c <= f;
            return b.left >= a.left && b.right <= a.right && (g || c)
        },
        onScroll: function(a) {
            if (window !== a.target) return !1;
            a = this.isVisible();
            this.debugMode && this.$element.toggleClass("md-debug-tracking-inview", a);
            a && !this.isViewed ? (this.isViewed = !0, this.timer = window.setTimeout(this.trackEvent.bind(this, this.callbackFn()), 500)) : !a && this.isViewed && (this.isViewed = !1, window.clearTimeout(this.timer))
        },
        triggerEvent: function(a) {
            if (a.element ===
                this.$element[0]) {
                this.debugMode && this.$element.addClass("md-debug-tracking-inview");
                this.isViewed = !0;
                try {
                    this.trackEvent(a.callbackFn())
                } catch (e) {
                    console.error(e)
                }
            }
        },
        trackEvent: function(a) {
            a = b.extend(!0, {}, this.getProperty("defaultEventObj"), a, {
                eventInfo: {
                    timeStamp: Date.now().toString()
                }
            });
            "undefined" !== typeof a.category && "component impression" === a.category.primaryCategory && this.unregister(this.$element[0]);
            try {
                this.trackingInstance.addEventTracking(this.getProperty("defaultObj"), a, this.pageIndex)
            } catch (e) {
                console.error(e)
            }
        }
    };
    return a
});
define("core/TrackingAdapter/TrackingImpression", ["core/TrackingAdapter", "core/IntersectionObserverAdapter", "core/TrackingAdapter/utils/Dispatcher", "core/TrackingAdapter/utils/Helper"], function(b, f, k, g) {
    var c = b.getInstance();
    b = function(a, b, c) {
        this._event = a || function() {
            return {}
        };
        this._defaultEventData = b || {};
        this._options = c || {};
        this._observer = f.register(this._onIntersection.bind(this), {
            threshold: [.1, .2, .3, .4, .5, .6, .7, .8, .9, 1]
        })
    };
    b.prototype = {
        TARGET_UID_KEY: "trackingUid",
        DEFAULT_DELAY: [500, 3E3],
        DEFAULT_THRESHOLD: .8,
        _viewportHeight: window.innerHeight || document.documentElement.clientHeight,
        _defaultEventData: {},
        _dispatchers: {},
        _onIntersection: function(a) {
            a.forEach(this._debounceEventExecution, this)
        },
        _debounceEventExecution: function(a) {
            var b = this._getTargetUid(a.target),
                c = Math.round(10 * a.intersectionRatio) / 10,
                f = a.boundingClientRect.height >= this._viewportHeight ? this._calculateFillingViewportThreshold(a) : this._options.threshold || this.DEFAULT_THRESHOLD;
            c = c >= f;
            "undefined" === typeof this._dispatchers[b] ? (c = Array.prototype.concat(this._options.delay ||
                this.DEFAULT_DELAY), this._dispatchers[b] = c.map(function(c) {
                return new k(c, this._trackImpression.bind(this, a, b, c))
            }, this)) : c ? this._dispatchers[b].forEach(function(a) {
                a.execute()
            }) : this._dispatchers[b].forEach(function(a) {
                a.cancel()
            })
        },
        _getTargetUid: function(a) {
            return "undefined" !== typeof a.dataset[this.TARGET_UID_KEY] ? a.dataset[this.TARGET_UID_KEY] : a.dataset[this.TARGET_UID_KEY] = g.generateUid()
        },
        _calculateFillingViewportThreshold: function(a) {
            return Math.min(Math.floor(a.rootBounds.height / a.boundingClientRect.height *
                10) / 10, this._options.threshold || this.DEFAULT_THRESHOLD)
        },
        _trackImpression: function(a, b, e) {
            !this._options.repeat && this._dispatchers[b].every(k.isResolved) && this._observer.unobserve(a.target);
            try {
                c.addEventTracking(this._defaultEventData, g.deepExtend({}, this._event(a.target), {
                    eventInfo: {
                        eventPoints: (e / 1E3).toString(),
                        timeStamp: Date.now().toString()
                    }
                }), 0)
            } catch (h) {
                console.error(h)
            }
        },
        addTarget: function(a) {
            f.observe.call(this._observer, a);
            return this
        }
    };
    return b
});
define("core/TrackingAdapter/utils/Dispatcher", [], function() {
    var b = function(b, k) {
        this._delay = b;
        this._callback = k;
        this.resolved = !1
    };
    b.isResolved = function(b) {
        return b.resolved
    };
    b.prototype = {
        execute: function() {
            "undefined" !== typeof this._timer || this.resolved || (this._timer = setTimeout(this._trigger.bind(this), this._delay))
        },
        _trigger: function() {
            this._callback();
            this.resolved = !0
        },
        cancel: function() {
            "undefined" !== typeof this._timer && (clearTimeout(this._timer), this._timer = void 0)
        }
    };
    return b
});
define("core/TrackingAdapter/utils/Helper", [], function() {
    function b(f) {
        f = f || {};
        for (var k = 1; k < arguments.length; k++) {
            var g = arguments[k];
            if (g)
                for (var c in g) g.hasOwnProperty(c) && (f[c] = "object" === typeof g[c] ? b(f[c], g[c]) : g[c])
        }
        return f
    }
    return {
        generateUid: function() {
            return Math.round(0x41c21cb8e1000000 * Math.random()).toString(36)
        },
        deepExtend: b
    }
});
require(["jquery", "lodash"], function(b, f) {
    var k = consentcontroller.api,
        g = function() {
            this.defaults = {
                dragConsentThreshold: 5,
                throttleAmount: 25,
                debug: !1
            };
            this.dragSwipeSelectors = ".slick-list.draggable, .visualizer-wrapper-swipe.js-swipe";
            this.consentInteractionTargets = "btn icn slick-arrow js-accordion-item-header js-arrow js-consent scroll-bar md-nav-item-link button mci-teaser-item mci-teaser-list-tag md-pf-feature-group-tab md-contentexpander-toggle link md-icnpre-mini-logo md-ss-range-item md-pms-select js-mit-toggle md-ppni-item-inner model-name__product-selector-link js-is-consent-interaction".split(" ");
            this.consentInteractionExceptions = ["md-footer-link", "js-consent-none", "js-disclaimer-btn-pdh-not-available"];
            this.consentInteractionExceptionOverwrites = ["js-is-consent-interaction"];
            this.consentInteractionParentExceptions = ".md-split-consent-stage, .md-split-consent-faq, .md-split-consent-fallback-teaser";
            "SOFT_OPT_IN" === k.getRegulationType() && k.showDisclaimer() && this.init()
        };
    g.prototype = {
        init: function() {
            this.settings = b.extend({}, this.defaults);
            this.initEventListener();
            var c = this;
            k.registerOnUserConsentChange(function() {
                c.exitEventListener()
            })
        },
        initEventListener: function() {
            this.initClickEventListener();
            setTimeout(function() {
                this.initDragSwipeEventListener()
            }.bind(this), 100)
        },
        exitEventListener: function() {
            this.$body.off("click.soft-opt-in");
            this.$dragSwipe.off(".soft-opt-in")
        },
        initClickEventListener: function() {
            this.$body = b(document.body);
            this.$body.on("click.soft-opt-in", function(b) {
                !this.isConsentDrawerInteraction(b) && this.isConsentInteraction(b) ? this.settings.debug ? console.log("Is consent") : this.acceptCookies() : this.settings.debug && (console.log("No consent"),
                    b.preventDefault(), b.stopPropagation())
            }.bind(this))
        },
        isConsentDrawerInteraction: function(b) {
            return b.target && "epaas-consent-drawer-shell" === (b.target.tagName || "").toLowerCase()
        },
        initDragSwipeEventListener: function() {
            this.$dragSwipe = b(document).find(this.dragSwipeSelectors);
            var c = !1,
                a = !1,
                d = 0;
            this.$dragSwipe.on("mousedown.soft-opt-in", function() {
                c = !1;
                a = !0;
                d = 0
            }).on("mousemove.soft-opt-in", f.throttle(function() {
                c = !0;
                a && c && (d++, d > this.settings.dragConsentThreshold && (this.settings.debug ? console.log("Is consent") :
                    this.acceptCookies()))
            }.bind(this), this.settings.throttleAmount)).on("mouseup.soft-opt-in", function() {
                a = !1
            }).on("mouseleave.soft-opt-in", function() {
                a = !1
            })
        },
        isConsentInteraction: function(c) {
            c = b(c.target);
            var a = c.attr("class"),
                d = new RegExp(this.consentInteractionExceptions.join("|"), "g"),
                e = new RegExp(this.consentInteractionExceptionOverwrites.join("|"), "g"),
                f = new RegExp(this.consentInteractionTargets.join("|"), "g"),
                g = c.is("select"),
                k = c.is("input") || c.is("textarea"),
                q = 0 !== c.closest("a").length;
            f = a ? null !==
                a.match(f) : !1;
            d = a ? null !== a.match(d) : !1;
            a = a ? null !== a.match(e) : !1;
            return (d |= 0 !== c.closest(this.consentInteractionParentExceptions).length) ? a : g || k || q || f
        },
        acceptCookies: function() {
            this.exitEventListener();
            k.consentdrawer.then(function(b) {
                b.acceptSoftOptIn()
            })
        }
    };
    return new g
});
define("core/SnucService", ["jquery", "lodash", "core/Debugger", "core/utils/Environment"], function(b, f, k, g) {
    return function() {
        function c(b) {
            return b.replace(a, "")
        }
        var a = /\.sl[A-Z|a-z|0-9|=|\+|\-|_|\$]+/;
        return {
            removeExistingSnucSelector: c,
            getEncodedQuery2: function(a, e, g) {
                var d = g.lat,
                    h = g.lon,
                    k = g.dist,
                    l = g.buno,
                    u = g.pricemin,
                    w = g.pricemax,
                    r = g.hpmin,
                    x = g.hpmax,
                    v = g.paginationpage,
                    t = g.detailsearchmirrorcaps,
                    A = g.detailBonnetStripes,
                    z = g.detailUpholstery;
                g = g.detailEquipmentSelectionInputs;
                var B = function(a) {
                        return "number" ===
                            typeof a ? Number(Math.round(a)).toString(36) : "X"
                    },
                    E = function(a, b) {
                        a = f.get(a.match(/[0-9|\.|,]+/), "[0]", b);
                        b = a.lastIndexOf(",");
                        var c = a.lastIndexOf(".");
                        if (-1 == b) {
                            var d = a.substring(c).replace(/\./g, "");
                            (d = /^0*$/.test(d)) ? (d = a.replace(/\./g, ""), a = "") : (d = a.substring(0, c), a = a.substring(c))
                        } else -1 == c ? (d = a.substring(b).replace(/,/g, ""), (d = /^0*$/.test(d)) ? (d = a.replace(/,/g, ""), a = "") : (d = a.substring(0, b), a = a.substring(b))) : b > c ? (d = a.substring(0, b), a = a.substring(b), d = d.replace(/\./g, ""), d = d.replace(/,/g, "")) :
                            (d = a.substring(0, c), a = a.substring(c), d = d.replace(/,/g, ""), d = d.replace(/\./g, ""));
                        a = a.replace(/,/g, ".");
                        return parseFloat(d + a)
                    },
                    y = function(a) {
                        if ("string" === typeof a) {
                            var b = 1;
                            a && a.includes("PS") && O && (b = 1 / 1.36);
                            a && a.includes("KW") && !O && (b = 1.36);
                            return Math.floor(E(a, "0") * b)
                        }
                        return "number" == typeof a ? a : "X"
                    },
                    C = function(a, c) {
                        var d = [];
                        c = c && 0 < c.length && 0 < c.trim().length ? c.trim() : "bitindex";
                        a.each(function(a, e) {
                            a = b(e).data(c);
                            "undefined" == typeof d[a] && (d[a] = "0");
                            if (e.selected || e.checked) d[a] = "1"
                        });
                        for (a = 0; a <
                            d.length; a++) "0" != d[a] && "1" != d[a] && (d[a] = "0");
                        a = d.join("");
                        return Number(parseInt(a, 2)).toString(36)
                    };
                var O = "KW" == b("[data-snuc-initialpowerunit]").data("snuc-initialpowerunit");
                if ("object" === typeof v && 2 == v.length) {
                    0 == v ? 0 : v;
                    var I = 0 >= v[0] ? 0 : v[0];
                    var F = 0 >= v[1] ? 0 : v[1];
                    I = y(I);
                    F = y(F)
                }
                d = y(1E4 * d);
                h = y(1E4 * h);
                k = y(k);
                if ("object" === typeof l && null !== l) {
                    v = "";
                    if (l.hasOwnProperty("bunos") && null !== l.bunos && l.bunos && 0 < l.bunos.length) {
                        var N = l.bunos.map(function(a) {
                            return B(y(a))
                        });
                        v += N.join("-")
                    }
                    l.hasOwnProperty("cityArray") &&
                        null !== l.cityArray && l.cityArray && 0 < l.cityArray.length && (N = l.cityArray.map(function(a) {
                            return "c_" + btoa(encodeURI(a))
                        }), v += v.length ? "-" + N.join("-") : N.join("-"));
                    l.hasOwnProperty("multiDealerArray") && null !== l.multiDealerArray && l.multiDealerArray && 0 < l.multiDealerArray.length && (l = l.multiDealerArray.map(function(a) {
                        return "m_" + B(y(a))
                    }), v += v.length ? "-" + l.join("-") : l.join("-"));
                    l = v.length ? v : B(y(null))
                }
                r = y(r);
                x = y(x);
                r > x && (0 != x ? (v = x, x = r, r = v) : x = 2147483647);
                u > w && (0 != w ? (v = w, w = u, u = v) : w = 2147483647);
                u = 0 != u ? u : 0;
                w =
                    0 != w ? w : 2147483647;
                e = C(e) + "$" + B(d) + "$" + B(h) + "$" + B(k) + "$" + l + "$" + B(u) + "$" + B(w) + "$" + B(r) + "$" + B(x) + "$" + B(I) + "$" + B(F) + "$" + function(a) {
                    var c = "";
                    a.each(function(a, d) {
                        a = b(d).val();
                        if (d.selected || d.checked) c += a + "E"
                    });
                    return c
                }(g) + "$" + C(t, "bitindex-roofandmirrorcaps") + "$" + C(A, "bitindex-bonnetstripes") + "$" + C(z, "bitindex-upholstery");
                a = c(a);
                a = a.replace(".html", ".sl" + e.replace(/\$/g, "#") + ".html").replace(/#/g, "$");
                return {
                    targetUrl: a,
                    snucSelector: e
                }
            },
            getUrlSafeBase64Encoding: function(a) {
                return btoa(a).replace(/\+/g,
                    "-").replace(/\//g, "_").replace(/=+$/, "")
            }
        }
    }()
});
define("core/Slider", "jquery lodash slick core/Messagebus core/utils/viewportspy core/componentInitializer core/utils/DirectionRTL".split(" "), function(b, f, k, g, c, a, d) {
    k = function(a, c) {
        if (c) return this.settings = b.extend({
            rtl: d.isEnabled()
        }, c), this.$element = b(a), this.isSlickInitialized = !1, this.messages = {
            channel: "md:slider",
            events: {
                SLIDE_OUT: "slide:out"
            }
        }, this.init(), {
            init: this.init.bind(this),
            destroy: this.destroy.bind(this),
            refresh: this.refresh.bind(this),
            isSlickInitialized: this.isSlickInitialized,
            slick: this.$element.slick("getSlick"),
            pause: this.pauseAutoslide.bind(this),
            play: this.playAutoslide.bind(this)
        }
    };
    k.prototype = {
        init: function() {
            this.initEvents();
            this.isSlickInitialized || (this.$element.on("init", this.onSlickInit.bind(this)), this.$element.on("unslick", this.onSlickDestroy.bind(this)), this.$element.on("beforeChange", this.onSlickBeforeChange.bind(this)), this.$element.slick(this.settings));
            this.updateVideos()
        },
        initEvents: function() {
            null !== this.settings && 1 == this.settings.autoplay && g.subscribe({
                channel: "md:video",
                topic: "state:change",
                callback: this.onPlayerStateChange.bind(this)
            });
            this.$element.find(".md-video-player").on("touchmove.slick mousemove.slick", function(a) {
                a.stopPropagation()
            })
        },
        destroy: function() {
            this.isSlickInitialized && this.$element.slick("unslick")
        },
        refresh: function() {
            this.destroy();
            this.init()
        },
        onSlickInit: function() {
            this.isSlickInitialized = !0
        },
        onSlickDestroy: function() {
            this.isSlickInitialized = !1
        },
        onSlickBeforeChange: function(c, d, k, p) {
            var e = b(c.currentTarget).find(".slick-cloned");
            e.length || (e = b(c.currentTarget).find(".slick-slide"));
            c = e.find("[data-loader]").not(".md-component--initialized");
            0 < c.length && b(c).each(function(c, d) {
                a.initElement(b(d))
            });
            k != p && (d = b(d.$slides[k]), f.isFunction(b.publish) && b.publish("md:carousel:slide:out", [d]), g.publish({
                channel: this.messages.channel,
                topic: this.messages.events.SLIDE_OUT,
                data: {
                    container: d
                }
            }), a.init(d))
        },
        onPlayerStateChange: function(a) {
            b.contains(this.$element[0], a.player.a || a.player.container) && ("1" != a.state && "3" != a.state || this.pauseAutoslide(), "0" != a.state && "2" != a.state || this.playAutoslide())
        },
        pauseAutoslide: function() {
            this.isSlickInitialized && this.$element.slick("slickPause")
        },
        playAutoslide: function() {
            this.isSlickInitialized && this.$element.slick("slickPlay")
        },
        updateVideos: function() {
            this.$element.find(".slick-cloned .md-video-player").each(function(a, d) {
                a = b(d).find(".md-video-item");
                "undefined" !== typeof a && (b("\x3cimg /\x3e", {
                    "class": "slick-cover",
                    src: c.viewportData.minwidth.tabletPortrait ? a.data("imageWidePath") : a.data("imageNarrowPath")
                }).insertAfter(d), b(d).remove())
            });
            this.$element.find(".slick-cloned .md-youtubeplayer").each(function(a,
                c) {
                a = b(c);
                var d = a.data("yt-id");
                b('\x3cdiv class\x3d"slick-cover slick-cover-yt"\x3e\x3cimg src\x3d"https://img.youtube.com/vi/' + d + '/mqdefault.jpg" /\x3e\x3c/div\x3e').insertAfter(c);
                a.remove()
            })
        }
    };
    return k
});
define("core/CosySlider/CosyView", [], function() {
    return function(b, f, k) {
        var g = "WALKAROUND" === k.pov;
        this.vehicle = b || "";
        this.PAINT = f.paint || "";
        this.fabric = f.fabric || "";
        this.SA = f.sa || [];
        this.align = f.align || "CENTER";
        this.cut = f.cut || 0;
        this.height = f.height || "";
        this.width = f.width || "";
        this.bkgnd = f.bkgnd;
        this.w = g ? 4900 : f.w;
        this.h = g ? 4900 : f.h;
        this.x = g ? 2700 : f.x;
        this.y = g ? 2600 : f.y;
        this.var_plate = f.var_plate || "";
        this.pov = k.pov || "WALKAROUND";
        this.angle = k.angle || 0
    }
});
define("core/CosySlider", ["jquery", "core/CosySlider/CosyView", "core/Slider", "core/utils/cosyImage", "bowser"], function(b, f, k, g, c) {
    var a = [{
            pov: "WALKAROUND",
            angle: 330
        }, {
            pov: "FRONT",
            angle: 0
        }, {
            pov: "HEROSIDE",
            angle: 0
        }, {
            pov: "REARLEFT",
            angle: 0
        }, {
            pov: "REAR",
            angle: 0
        }],
        d = function(a, c, d, f, g) {
            this.$el = b(a);
            this.modelCode = c;
            this.images = this.prepareImages(d, f);
            this.thumbnailsImages = this.prepareImages(d, f);
            this.SLIDER_CLASS = {
                SLIDER: "cosy-slider",
                THUMBNAILS: "cosy-slider__thumbnails"
            };
            (this.isSliderWithThumbnails =
                g && 1280 <= b(window).width()) ? (this.container = this.prepareContainer(), this.thumbnailsContainer = this.prepareThumbnailsContainer(), this.slider = new k(this.container, this.getSettings()), this.thumbnailsSlider = new k(this.thumbnailsContainer, this.getThumbnailsSettings())) : (this.container = this.prepareContainer(), this.slider = new k(this.container, this.getSettings()), this.pagination = this.createPagination(), this.container.on("afterChange", function() {
                this.currentCount.text(this.slider.slick.currentSlide + 1)
            }.bind(this)));
            b(window).on("resize", function() {
                1280 > b(window).width() ? this.thumbnailsSlider && (this.thumbnailsImages = null, this.thumbnailsSlider.destroy(), this.thumbnailsSlider = null, this.thumbnailsContainer.remove(), this.thumbnailsContainer = null, this.pagination = this.createPagination(), this.container.on("afterChange", function() {
                    this.currentCount.text(this.slider.slick.currentSlide + 1)
                }.bind(this))) : this.thumbnailsSlider ? this.thumbnailsSlider.slick.refresh() : !this.thumbnailsSlider && g && (this.container.off("afterChange",
                    function() {}.bind(this)), this.pagination.remove(), this.pagination = null, this.container.remove(), this.container = null, this.thumbnailsImages = this.prepareImages(d, f), this.container = this.prepareContainer(), this.thumbnailsContainer = this.prepareThumbnailsContainer(), this.slider = new k(this.container, this.getSettings()), this.thumbnailsSlider = new k(this.thumbnailsContainer, this.getThumbnailsSettings()))
            }.bind(this))
        };
    d.prototype.prepareGeneral = function(a, b) {
        return {
            paint: b,
            fabric: "",
            sa: a || [],
            h: 7E3,
            w: 7E3,
            x: 1700,
            y: 1700,
            bkgnd: "TRANSPARENT"
        }
    };
    d.prototype.getSettings = function() {
        return {
            adaptiveHeight: !1,
            variableWidth: !1,
            autoplay: !1,
            draggable: !0,
            infinite: !0,
            arrows: !0,
            asNavFor: this.isSliderWithThumbnails ? b("." + this.SLIDER_CLASS.THUMBNAILS, this.$el) : null,
            prevArrow: this.$el.find(".js-prev"),
            nextArrow: this.$el.find(".js-next")
        }
    };
    d.prototype.getThumbnailsSettings = function() {
        return {
            slidesToShow: this.thumbnailsImages.length,
            asNavFor: b("." + this.SLIDER_CLASS.SLIDER, this.$el),
            dots: !1,
            centerMode: !1,
            focusOnSelect: !0
        }
    };
    d.prototype.prepareContainer =
        function() {
            var a = b("\x3cdiv\x3e").addClass(this.SLIDER_CLASS.SLIDER);
            a.append(this.images);
            this.$el.append(a);
            return a
        };
    d.prototype.prepareThumbnailsContainer = function() {
        var a = b("\x3cdiv\x3e").addClass(this.SLIDER_CLASS.THUMBNAILS);
        a.append(this.thumbnailsImages);
        this.$el.append(a);
        return a
    };
    d.prototype.prepareImages = function(b, c) {
        var d = this.prepareGeneral(b, c),
            e = this.modelCode;
        return a.map(function(a) {
            return this.getSingleSetting(g.generateSrcset(new f(e, d, a)))
        }.bind(this)).map(function(a) {
            return this.getImage(a.src,
                a.srcset)
        }.bind(this))
    };
    d.prototype.getSingleSetting = function(a) {
        return c.msie && 11 === c.version ? {
            src: a.split(",")[a.split(" ").length - 2],
            srcset: a.split(",")[a.split(" ").length - 2]
        } : {
            src: a.split(",")[a.split(" ").length - 2],
            srcset: a
        }
    };
    d.prototype.getImage = function(a, c) {
        a = b("\x3cimg\x3e", {
            src: a,
            "data-srcset": c,
            "data-sizes": "auto",
            alt: "Preview Image"
        });
        return b('\x3cdiv style\x3d"width: 100%; height: 100%; display: flex; align-items: center; justify-content: center"\x3e').append(a)
    };
    d.prototype.destroy =
        function() {
            this.slider.destroy();
            this.container.remove();
            this.isSliderWithThumbnails ? (this.thumbnailsSlider && this.thumbnailsSlider.destroy(), this.thumbnailsContainer && this.thumbnailsContainer.remove()) : this.pagination.remove()
        };
    d.prototype.createPagination = function() {
        if (!this.currentCount) {
            this.currentCount = b('\x3cspan class\x3d"cosy-slider__current"\x3e1\x3c/div\x3e');
            var a = b('\x3cdiv class\x3d"cosy-slider__container"\x3e').append(this.currentCount).append(b('\x3cspan class\x3d"cosy-slider__divider"\x3e/\x3c/span\x3e')).append(b('\x3cspan class\x3d"cosy-slider__count"\x3e' +
                this.images.length + "\x3c/span\x3e"));
            this.$el.append(a);
            return a
        }
        return this.pagination
    };
    return d
});
define("core/Messagebus", ["postal", "postal.preserve"], function(b) {
    return b
});
define("core/IntersectionObserverAdapter", ["require", "core/utils/url", "core/IntersectionObserverAdapter/Polyfill"], function(b, f, k) {
    b = "IntersectionObserver" in window && "IntersectionObserverEntry" in window && "intersectionRatio" in window.IntersectionObserverEntry.prototype;
    !b || "isIntersecting" in window.IntersectionObserverEntry.prototype || Object.defineProperty(window.IntersectionObserverEntry.prototype, "isIntersecting", {
        get: function() {
            return 0 < this.intersectionRatio
        }
    });
    var g = b ? IntersectionObserver : k;
    return {
        _registry: [],
        register: function(b, a) {
            this._registry.push(b = new g(b, a));
            return b
        },
        observe: function(b) {
            Array.prototype.concat(b).forEach(this.observe, this);
            return this
        },
        unobserve: function(b) {
            Array.prototype.concat(b).forEach(this.unobserve, this);
            return this
        }
    }
});
define("core/IntersectionObserverAdapter/Polyfill", ["jquery"], function(b) {
    function f(a) {
        this.time = a.time;
        this.target = a.target;
        this.rootBounds = a.rootBounds;
        this.boundingClientRect = a.boundingClientRect;
        this.intersectionRect = a.intersectionRect || e();
        this.isIntersecting = !!a.intersectionRect;
        a = this.boundingClientRect;
        a = a.width * a.height;
        var b = this.intersectionRect;
        b = b.width * b.height;
        this.intersectionRatio = a ? Number((b / a).toFixed(4)) : this.isIntersecting ? 1 : 0
    }

    function k(a, b) {
        b = b || {};
        if ("function" !== typeof a) throw Error("callback must be a function");
        if (b.root && 1 !== b.root.nodeType) throw Error("root must be an Element");
        this._checkForIntersections = g(this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);
        this._callback = a;
        this._observationTargets = [];
        this._queuedEntries = [];
        this._rootMarginValues = this._parseRootMargin(b.rootMargin);
        this.thresholds = this._initThresholds(b.threshold);
        this.root = b.root || null;
        this.rootMargin = this._rootMarginValues.map(function(a) {
            return a.value + a.unit
        }).join(" ")
    }

    function g(a, b) {
        var c = null;
        return function() {
            c || (c =
                setTimeout(function() {
                    a();
                    c = null
                }, b))
        }
    }

    function c(a, b, c, d) {
        "function" === typeof a.addEventListener ? a.addEventListener(b, c, d || !1) : "function" === typeof a.attachEvent && a.attachEvent("on" + b, c)
    }

    function a(a, b, c, d) {
        "function" === typeof a.removeEventListener ? a.removeEventListener(b, c, d || !1) : "function" === typeof a.detatchEvent && a.detatchEvent("on" + b, c)
    }

    function d(a) {
        try {
            var b = a.getBoundingClientRect()
        } catch (u) {}
        if (!b) return e();
        b.width && b.height || (b = {
            top: b.top,
            right: b.right,
            bottom: b.bottom,
            left: b.left,
            width: b.right -
                b.left,
            height: b.bottom - b.top
        });
        return b
    }

    function e() {
        return {
            top: 0,
            bottom: 0,
            left: 0,
            right: 0,
            width: 0,
            height: 0
        }
    }

    function h(a, b) {
        for (; b;) {
            if (b === a) return !0;
            b = m(b)
        }
        return !1
    }

    function m(a) {
        return (a = a.parentNode) && 11 === a.nodeType && a.host ? a.host : a && a.assignedSlot ? a.assignedSlot.parentNode : a
    }
    var p = [];
    k.prototype.THROTTLE_TIMEOUT = 100;
    k.prototype.POLL_INTERVAL = null;
    k.prototype.USE_MUTATION_OBSERVER = !0;
    k.prototype.observe = function(a) {
        if (!this._observationTargets.some(function(b) {
                return b.element === a
            })) {
            if (!a ||
                1 !== a.nodeType) throw Error("target must be an Element");
            this._registerInstance();
            this._observationTargets.push({
                element: a,
                entry: null
            });
            this._monitorIntersections();
            this._checkForIntersections()
        }
    };
    k.prototype.unobserve = function(a) {
        this._observationTargets = this._observationTargets.filter(function(b) {
            return b.element !== a
        });
        this._observationTargets.length || (this._unmonitorIntersections(), this._unregisterInstance())
    };
    k.prototype.disconnect = function() {
        this._observationTargets = [];
        this._unmonitorIntersections();
        this._unregisterInstance()
    };
    k.prototype.takeRecords = function() {
        var a = this._queuedEntries.slice();
        this._queuedEntries = [];
        return a
    };
    k.prototype._initThresholds = function(a) {
        a = a || [0];
        Array.isArray(a) || (a = [a]);
        return a.sort().filter(function(a, b, c) {
            if ("number" !== typeof a || isNaN(a) || 0 > a || 1 < a) throw Error("threshold must be a number between 0 and 1 inclusively");
            return a !== c[b - 1]
        })
    };
    k.prototype._parseRootMargin = function(a) {
        a = (a || "0px").split(/\s+/).map(function(a) {
            a = /^(-?\d*\.?\d+)(px|%)$/.exec(a);
            if (!a) throw Error("rootMargin must be specified in pixels or percent");
            return {
                value: parseFloat(a[1]),
                unit: a[2]
            }
        });
        a[1] = a[1] || a[0];
        a[2] = a[2] || a[0];
        a[3] = a[3] || a[1];
        return a
    };
    k.prototype._monitorIntersections = function() {
        this._monitoringIntersections || (this._monitoringIntersections = !0, this.POLL_INTERVAL ? this._monitoringInterval = setInterval(this._checkForIntersections, this.POLL_INTERVAL) : (c(window, "resize", this._checkForIntersections, !0), c(document, "scroll", this._checkForIntersections, !0), this.USE_MUTATION_OBSERVER && "MutationObserver" in window && (this._domObserver = new MutationObserver(this._checkForIntersections),
            this._domObserver.observe(document, {
                attributes: !0,
                childList: !0,
                characterData: !0,
                subtree: !0
            }))))
    };
    k.prototype._unmonitorIntersections = function() {
        this._monitoringIntersections && (this._monitoringIntersections = !1, clearInterval(this._monitoringInterval), this._monitoringInterval = null, a(window, "resize", this._checkForIntersections, !0), a(document, "scroll", this._checkForIntersections, !0), this._domObserver && (this._domObserver.disconnect(), this._domObserver = null))
    };
    k.prototype._checkForIntersections = function() {
        var a =
            this._rootIsInDom(),
            b = a ? this._getRootRect() : e();
        this._observationTargets.forEach(function(c) {
            var e = c.element,
                g = d(e),
                h = this._rootContainsTarget(e),
                l = c.entry,
                k = a && h && this._computeTargetAndRootIntersection(e, b);
            c = c.entry = new f({
                time: window.performance && performance.now && performance.now(),
                target: e,
                boundingClientRect: g,
                rootBounds: b,
                intersectionRect: k
            });
            l ? a && h ? this._hasCrossedThreshold(l, c) && this._queuedEntries.push(c) : l && l.isIntersecting && this._queuedEntries.push(c) : this._queuedEntries.push(c)
        }, this);
        this._queuedEntries.length &&
            this._callback(this.takeRecords(), this)
    };
    k.prototype._computeTargetAndRootIntersection = function(a, b) {
        if ("none" !== window.getComputedStyle(a).display) {
            var c = d(a);
            a = m(a);
            for (var e = !1; !e;) {
                var f = null,
                    g = 1 === a.nodeType ? window.getComputedStyle(a) : {};
                if ("none" === g.display) return;
                a === this.root || a === document ? (e = !0, f = b) : a !== document.body && a !== document.documentElement && "visible" !== g.overflow && (f = d(a));
                if (f) {
                    g = Math.max(f.top, c.top);
                    var h = Math.min(f.bottom, c.bottom),
                        l = Math.max(f.left, c.left);
                    c = Math.min(f.right,
                        c.right);
                    f = c - l;
                    var k = h - g;
                    c = 0 <= f && 0 <= k && {
                        top: g,
                        bottom: h,
                        left: l,
                        right: c,
                        width: f,
                        height: k
                    };
                    if (!c) break
                }
                a = m(a)
            }
            return c
        }
    };
    k.prototype._getRootRect = function() {
        if (this.root) var a = d(this.root);
        else {
            a = document.documentElement;
            var b = document.body;
            a = {
                top: 0,
                left: 0,
                right: a.clientWidth || b.clientWidth,
                width: a.clientWidth || b.clientWidth,
                bottom: a.clientHeight || b.clientHeight,
                height: a.clientHeight || b.clientHeight
            }
        }
        return this._expandRectByRootMargin(a)
    };
    k.prototype._expandRectByRootMargin = function(a) {
        var b = this._rootMarginValues.map(function(b,
            c) {
            return "px" === b.unit ? b.value : b.value * (c % 2 ? a.width : a.height) / 100
        });
        b = {
            top: a.top - b[0],
            right: a.right + b[1],
            bottom: a.bottom + b[2],
            left: a.left - b[3]
        };
        b.width = b.right - b.left;
        b.height = b.bottom - b.top;
        return b
    };
    k.prototype._hasCrossedThreshold = function(a, b) {
        a = a && a.isIntersecting ? a.intersectionRatio || 0 : -1;
        b = b.isIntersecting ? b.intersectionRatio || 0 : -1;
        if (a !== b)
            for (var c = 0; c < this.thresholds.length; c++) {
                var d = this.thresholds[c];
                if (d === a || d === b || d < a !== d < b) return !0
            }
    };
    k.prototype._rootIsInDom = function() {
        return !this.root ||
            h(document, this.root)
    };
    k.prototype._rootContainsTarget = function(a) {
        return h(this.root || document, a)
    };
    k.prototype._registerInstance = function() {
        0 > p.indexOf(this) && p.push(this)
    };
    k.prototype._unregisterInstance = function() {
        var a = p.indexOf(this); - 1 !== a && p.splice(a, 1)
    };
    return k
});
define("core/Individualization", ["jquery", "core/Messagebus", "core/CookieAdapter"], function(b, f, k) {
    var g = {
        isAllowed: k.isUsageAllowed.bind(k, "cc_digital_individualization"),
        get: k.getCookie.bind(k, "cc_digital_individualization##persistentData"),
        set: k.setCookie.bind(k, "cc_digital_individualization##persistentData")
    };
    f = {
        _state: {
            initialized: !1,
            individualizationAllowed: !0,
            storageAllowed: !0,
            lastIndividualizedBodyType: "",
            storage: {}
        },
        messagebus: f.channel("md:individualization"),
        events: {
            UPDATE: "update"
        },
        _init: function() {
            this.hasStoragePermission() &&
                this._state.individualizationAllowed && b.extend(this._state, {
                    initialized: !0
                }, JSON.parse(g.get()) || {})
        },
        _syncWithLocalStorage: function() {
            this._state.storageAllowed && this._state.individualizationAllowed && g.set(JSON.stringify({
                storage: this._state.storage,
                lastIndividualizedBodyType: this._state.lastIndividualizedBodyType
            }))
        },
        _publishUpdate: function() {
            this.messagebus.publish(this.events.UPDATE)
        },
        hasStoragePermission: function() {
            this._state.storageAllowed = g.isAllowed();
            return this._state.storageAllowed
        },
        configure: function(b) {
            this._state.storageAllowed =
                this.hasStoragePermission();
            this._state.individualizationAllowed = b.individualizationAllowed
        },
        has: function(b) {
            return this._state.individualizationAllowed ? this._state.storage.hasOwnProperty(b) : !1
        },
        get: function(b) {
            return this._state.individualizationAllowed ? ("undefined" !== typeof b ? this._state.storage.hasOwnProperty(b) ? this._state.storage[b] : {} : this._state.storage[this.getLastIndividualizedBodyType()]) || {} : {}
        },
        set: function(c, a) {
            if (this._state.individualizationAllowed || "undefined" !== typeof a) this._state.storage.hasOwnProperty(c) ?
                b.extend(!0, this._state.storage[c], a) : this._state.storage[c] = b.extend(!0, {}, a), this._state.lastIndividualizedBodyType = c, this._syncWithLocalStorage(), this._publishUpdate()
        },
        remove: function(b) {
            this._state.individualizationAllowed && (this._state.storage.hasOwnProperty(b) && delete this._state.storage[b], this._syncWithLocalStorage(), this._publishUpdate())
        },
        getLastIndividualizedBodyType: function() {
            return this._state.lastIndividualizedBodyType || Object.keys(this._state.storage)[0] || ""
        }
    };
    f._init();
    return f
});
define("core/Debugger", ["jquery", "core/utils/url"], function(b, f) {
    var k = {
        EXPIRE_PAST: (new Date(0)).toUTCString(),
        EXPIRE_SESSION: 0,
        set: function(b, c) {
            var a = c ? k.EXPIRE_SESSION : k.EXPIRE_PAST;
            document.cookie = b + "\x3d" + escape(c) + "; path\x3d/; expires\x3d" + a
        },
        exists: function(b) {
            return -1 < document.cookie.indexOf(b + "\x3dtrue")
        }
    };
    return function() {
        var b = f.retrieveGetParams(),
            c;
        for (c in b)
            if (c.startsWith("debug-")) {
                var a = "debug-all" == c ? "mini_debug_settings" : "mini_debug_" + c.substring(6);
                "true" == b[c] ? k.set(a, !0) :
                    "false" == b[c] && k.set(a, !1)
            } return {
            isDebugEnabled: function(a) {
                return k.exists("mini_debug_settings") || k.exists("mini_debug_" + a)
            }
        }
    }()
});
define("core/DealerService", ["jquery", "bluebird", "Contentful", "core/Debugger"], function(b, f, k, g) {
    return function() {
        function c() {
            return new f(function(a, b) {
                m.getEntries({
                    "sys.id": h.dealerId,
                    include: "10"
                }).then(function(b) {
                    0 < b.items.length ? a(b.items[0]) : console.warn("no data found for entry id ", h.dealerId)
                })
            })
        }

        function a() {
            return e.hasOwnProperty(h.dealerId) ? new f(function(a, b) {
                a(e[h.dealerId].fields)
            }) : c().then(function(a) {
                p && console.log(a);
                e[h.dealerId] = a;
                return new f(function(a, b) {
                    a(e[h.dealerId].fields)
                })
            })
        }

        function d(b) {
            return a().then(function(a) {
                return new f(function(c, d) {
                    Array.isArray(a[b]) ? (d = a[b].filter(function(a, b, c) {
                        return "undefined" !== typeof a.fields
                    }), c(d)) : c(a[b])
                })
            })
        }
        var e = {},
            h = b("#contentful-config").data(),
            m = k.createClient({
                accessToken: h.accessToken,
                space: h.space,
                host: h.isPreview ? "preview.contentful.com" : "cdn.contentful.com"
            }),
            p = g.isDebugEnabled("dealer-service"),
            q = function() {
                var a = {
                    renderMark: {},
                    renderNode: {}
                };
                a.renderNode[contentfulRichText.exports.BLOCKS.PARAGRAPH] = function(a, b) {
                    return "\x3cp\x3e" +
                        b(a.content) + "\x3c/p\x3e"
                };
                return a
            }(),
            l = function() {
                var a = {
                        renderMark: {},
                        renderNode: {}
                    },
                    b = function(a) {
                        return a
                    },
                    c = function(a, b) {
                        return "" + b(a.content)
                    };
                a.renderMark[contentfulRichText.exports.MARKS.BOLD] = b;
                a.renderMark[contentfulRichText.exports.MARKS.CODE] = b;
                a.renderMark[contentfulRichText.exports.MARKS.ITALIC] = b;
                a.renderMark[contentfulRichText.exports.MARKS.UNDERLINE] = b;
                a.renderNode[contentfulRichText.exports.BLOCKS.PARAGRAPH] = c;
                a.renderNode[contentfulRichText.exports.BLOCKS.EMBEDDED_ASSET] = c;
                a.renderNode[contentfulRichText.exports.BLOCKS.EMBEDDED_ENTRY] =
                    c;
                a.renderNode[contentfulRichText.exports.BLOCKS.HEADING_1] = c;
                a.renderNode[contentfulRichText.exports.BLOCKS.HEADING_2] = c;
                a.renderNode[contentfulRichText.exports.BLOCKS.HEADING_3] = c;
                a.renderNode[contentfulRichText.exports.BLOCKS.HEADING_4] = c;
                a.renderNode[contentfulRichText.exports.BLOCKS.HEADING_5] = c;
                a.renderNode[contentfulRichText.exports.BLOCKS.HEADING_6] = c;
                a.renderNode[contentfulRichText.exports.BLOCKS.HR] = c;
                a.renderNode[contentfulRichText.exports.BLOCKS.LIST_ITEM] = c;
                a.renderNode[contentfulRichText.exports.BLOCKS.OL_LIST] =
                    c;
                a.renderNode[contentfulRichText.exports.BLOCKS.PARAGRAPH] = c;
                a.renderNode[contentfulRichText.exports.BLOCKS.QUOTE] = c;
                a.renderNode[contentfulRichText.exports.BLOCKS.UL_LIST] = c;
                return a
            }();
        return {
            getDealergroupLocations: function() {
                return d("dealergroupLocations")
            },
            getNews: function() {
                return d("dealerNews")
            },
            getNewOffers: function() {
                return d("dealerOfferTiles")
            },
            getTeam: function() {
                return d("dealerTeam")
            },
            getDealerOfferFilterPriceRanges: function() {
                return d("dealerOfferFilterPriceRanges")
            },
            getDealerOfferFilterPowerRanges: function() {
                return d("dealerOfferFilterPowerRanges")
            },
            getDealerConfiguration: function() {
                return d("dealerConfiguration")
            },
            getServiceOffers: function() {
                return d("dealerServiceOffers")
            },
            getAccessoriesOffers: function() {
                return d("dealerAccessoryOffers")
            },
            getActionOffers: function() {
                return d("dealerActionOffers")
            },
            getDealer: a,
            renderRichText: function(a) {
                return "undefined" !== typeof a && "" !== a ? contentfulRichText.documentToHtmlString(a, q) : ""
            },
            renderFlatRichText: function(a) {
                return "undefined" !== typeof a && "" !== a ? contentfulRichText.documentToHtmlString(a, l) : ""
            },
            checkExists: function(a,
                b) {
                for (b = b.split("."); b.length;)
                    if (a = a[b.shift()], "undefined" === typeof a) return !1;
                return !0
            },
            checkExists2: function(a, b) {
                for (b = b.split("."); b.length;)
                    if (a = a[b.shift()], "undefined" == typeof a) return "";
                return a
            }
        }
    }()
});
define("core/CSRFToken", ["jquery"], function(b) {
    return function() {
        return {
            get: function() {
                return new Promise(function(f, k) {
                    b.ajax({
                        method: "GET",
                        url: "/libs/granite/csrf/token.json",
                        success: function(b) {
                            f(b)
                        },
                        error: function(b) {
                            k(Error("Get token request failed"))
                        }
                    })
                })
            }
        }
    }()
});
define("core/components/DumbComponent", ["jquery", "lodash"], function(b, f) {
    function k(b, a, d, e) {
        this.$el = b;
        b = this.$el.html();
        this.data = Object.assign({}, a, this.$el.data(), d);
        !this.data.content && b.length && (this.data.content = b);
        e || this.render()
    }
    var g = !1;
    k.prototype.render = function() {
        g || (g = this.getTemplates());
        var c = g[this.data.component];
        c && (c = b(c(this.data)), this.data.replace ? (this.$el.replaceWith(c), this.$el = c) : this.$el.html(c))
    };
    k.prototype.setData = function(b, a) {
        this.data = a ? b : Object.assign({}, this.data,
            b);
        this.render()
    };
    k.prototype.getTemplates = function() {
        return b('script[type\x3d"data/template"]').toArray().reduce(function(c, a) {
            a = b(a);
            var d = a.data("name");
            c[d] = f.template(a.html());
            return c
        }, {})
    };
    return k
});
define("core/components/HTMLComponentInitializer", ["jquery", "core/components/DumbComponent"], function(b, f) {
    return function(k, g) {
        this.components = b("[data-component]", k).toArray().reduce(function(c, a) {
            var d = b(a);
            if (d) {
                var e = d.data("component");
                a = d.data("name");
                e && (d = new(g.hasOwnProperty(e) ? g[e] : f)(d), a && (c[a] = d));
                return c
            }
        }, {})
    }
});
define("core/components/InheritedComponent", ["core/components/DumbComponent"], function(b) {
    var f = function(f, g) {
        f && (this.component = new b(f, g), this.$el = this.component.$el, this.renderElements(), this.attachEvents())
    };
    f.prototype.attachEvents = function() {};
    f.prototype.getElements = function() {
        return {}
    };
    f.prototype.createComponents = function() {
        return {}
    };
    f.prototype.renderElements = function() {
        this.components = this.createComponents();
        this.$elements = this.getElements()
    };
    f.prototype.setData = function(b, f) {
        this.component.setData(b,
            f);
        this.renderElements();
        this.attachEvents()
    };
    return f
});
define("core/componentInitializer", ["jquery", "bluebird"], function(b, f) {
    function k() {
        null == a && g();
        return a
    }

    function g() {
        var f = b("[data-loader]");
        d += f.length;
        b(document).trigger("componentInitialized", [d, e]);
        f.each(function(a, d) {
            a = b(d);
            "direct" === a.attr("data-loader") && (c(a), a.attr("data-loader", ""))
        });
        a = f.lazy(h)
    }

    function c(a) {
        return new f(function(c) {
            var f = a[0],
                g = a.attr("data-component-path");
            "true" !== a.attr("data-component-initialized") ? (e++, m && "function" == typeof m.isTrackingDisabled && a.data("trackingComponent") &&
                !m.isTrackingDisabled() && m.initComponentTracking(a), require([g], function(g) {
                    var h = null;
                    "function" === typeof g ? (h = new g(f), a.data("controller", h)) : "object" === typeof g && "function" === typeof g.init ? (h = g.init.call(f, a), a.data("controller", h)) : "object" === typeof g && !0 === g.__esModule && "function" === typeof g.default && (h = new g.default(f), a.data("controller", h));
                    a.attr("data-component-initialized", "true");
                    a.addClass("md-component--initialized");
                    b(document).trigger("componentInitialized", [d, e]);
                    c(h)
                })) : (g = a.data("controller"),
                c(g))
        })
    }
    var a = null,
        d = 0,
        e = 0,
        h = {
            threshold: 0,
            bind: "event",
            chainable: !1,
            amdLoader: function(a) {
                a = b(a);
                c(a)
            },
            direct: function(a) {
                a = b(a);
                c(a)
            }
        },
        m = {};
    return {
        init: function(a) {
            m = digital.tracking.getInstance(window.dataLayer);
            k();
            void 0 !== a && (a = b(a).find("[data-loader]"), d += a.length, b(document).trigger("componentInitialized", [d, e]), k().addItems(a), k().update())
        },
        initElement: c,
        getController: function(a, d) {
            console.log("getController");
            a = b(a);
            if (!a.hasAttr("data-component-path")) return f.reject(Error("Given base element has no attribute 'data-component-path'"));
            if (d) return c(a);
            a = a.data("controller");
            return f.resolve(a)
        },
        initAll: function(a) {
            var d = b("*[data-component-path]");
            null != a && void 0 != a && (d = b("*[data-component-path]", a));
            var e = [];
            d.each(function(a, d) {
                a = b(d);
                e.push(c(a))
            });
            return f.all(e)
        },
        numberOfComponents: d,
        numberOfLoadedComponents: e
    }
});
var config = {
        baseUrl: "/etc.clientlibs",
        paths: {
            "apps/minidigital/components/accordion/clientlib": "minidigital/components/accordion/clientlib.min.20210212230223",
            "apps/minidigital/components/accordion-item/clientlib": "minidigital/components/accordion-item/clientlib.min.20210212230223",
            "apps/minidigital/components/acw-wishlist/clientlib": "minidigital/components/acw-wishlist/clientlib.min.20210212230223",
            "apps/minidigital/components/atoms/animatedimage/clientlib": "minidigital/components/atoms/animatedimage/clientlib.min.20210212230223",
            "apps/minidigital/components/atoms/button/clientlib": "minidigital/components/atoms/button/clientlib.min.20210212230223",
            "apps/minidigital/components/atoms/motion/clientlib": "minidigital/components/atoms/motion/clientlib.min.20210212230223",
            "apps/minidigital/components/atoms/richtext/clientlib": "minidigital/components/atoms/richtext/clientlib.min.20210212230223",
            "apps/minidigital/components/atoms/youtube/clientlib": "minidigital/components/atoms/youtube/clientlib.min.20210212230223",
            "apps/minidigital/components/backbutton/clientlib": "minidigital/components/backbutton/clientlib.min.20210212230223",
            "apps/minidigital/components/campaigncountryselector/clientlib": "minidigital/components/campaigncountryselector/clientlib.min.20210212230223",
            "apps/minidigital/components/carousel/clientlib": "minidigital/components/carousel/clientlib.min.20210212230223",
            "apps/minidigital/components/configurator-con/clientlib/ConfiguratorCon": "minidigital/components/configurator-con/clientlib.min.20210212230223",
            "apps/minidigital/components/content-stage/clientlib": "minidigital/components/content-stage/clientlib.min.20210212230223",
            "apps/minidigital/components/contentcontainer/clientlib": "minidigital/components/contentcontainer/clientlib.min.20210212230223",
            "apps/minidigital/components/cookies-consent/clientlib": "minidigital/components/cookies-consent/clientlib.min.20210212230223",
            "apps/minidigital/components/dealerlocator/clientlib": "minidigital/components/dealerlocator/clientlib.min.20210212230223",
            "apps/minidigital/components/dealerslider/clientlib": "minidigital/components/dealerslider/clientlib.min.20210212230223",
            "apps/minidigital/components/electric-calculator/clientlib": "minidigital/components/electric-calculator/clientlib.min.20210212230223",
            "apps/minidigital/components/emission-and-consumption/clientlib": "minidigital/components/emission-and-consumption-container/emission-and-consumption/clientlib.min.20210212230223",
            "apps/minidigital/components/fast-facts/clientlib": "minidigital/components/fast-facts/clientlib.min.20210212230223",
            "apps/minidigital/components/fast-facts/content/clientlib": "minidigital/components/fast-facts/content/clientlib.min.20210212230223",
            "apps/minidigital/components/featuregroup/clientlib": "minidigital/components/featuregroup/clientlib.min.20210212230223",
            "apps/minidigital/components/glossaryentry/clientlib": "minidigital/components/glossaryentry/clientlib.min.20210212230223",
            "apps/minidigital/components/glossaryindex/clientlib": "minidigital/components/glossaryindex/clientlib.min.20210212230223",
            "apps/minidigital/components/glossarytooltip/clientlib": "minidigital/components/glossarytooltip/clientlib.min.20210212230223",
            "apps/minidigital/components/header-toolbar/clientlib": "minidigital/components/header-toolbar/clientlib.min.20210212230223",
            "apps/minidigital/components/home-dealerlocator/clientlib": "minidigital/components/home-dealerlocator/clientlib.min.20210212230223",
            "apps/minidigital/components/home-returning-visitor-teaser/clientlib": "minidigital/components/home-returning-visitor-teaser/clientlib.min.20210212230223",
            "apps/minidigital/components/home-product-strip/clientlib": "minidigital/components/home-product-strip/clientlib.min.20210212230223",
            "apps/minidigital/components/home-teaser-gallery/clientlib": "minidigital/components/home-teaser-gallery/clientlib.min.20210212230223",
            "apps/minidigital/components/homestage/clientlib": "minidigital/components/homestage/clientlib.min.20210212230223",
            "apps/minidigital/components/introslider/clientlib": "minidigital/components/introslider/clientlib.min.20210212230223",
            "apps/minidigital/components/legacy-browser-popup/clientlib": "minidigital/components/legacy-browser-popup/clientlib.min.20210212230223",
            "apps/minidigital/components/mastercomponent/clientlib": "minidigital/components/mastercomponent/clientlib.min.20210212230223",
            "apps/minidigital/components/mci-teaser-gallery/clientlib": "minidigital/components/mci-teaser-gallery/clientlib.min.20210212230223",
            "apps/minidigital/components/mci-teaser-item/clientlib": "minidigital/components/mci-teaser-item/clientlib.min.20210212230223",
            "apps/minidigital/components/mci-teaser-list/clientlib": "minidigital/components/mci-teaser-list/clientlib.min.20210212230223",
            "apps/minidigital/components/modellineup/clientlib": "minidigital/components/modellineup/clientlib.min.20210212230223",
            "apps/minidigital/components/moment-interaction-ctas/clientlib": "minidigital/components/moment-interaction-ctas/clientlib.min.20210212230223",
            "apps/minidigital/components/moment-interaction-services/clientlib": "minidigital/components/moment-interaction-services/clientlib.min.20210212230223",
            "apps/minidigital/components/moment-interaction-toolbox/clientlib": "minidigital/components/moment-interaction-toolbox/clientlib.min.20210212230223",
            "apps/minidigital/components/offer-section/clientlib": "minidigital/components/offer-section/clientlib.min.20210212230223",
            "apps/minidigital/components/offer-section-teaser/clientlib": "minidigital/components/offer-section-teaser/clientlib.min.20210212230223",
            "apps/minidigital/components/offer-tile/clientlib": "minidigital/components/offer-tile/clientlib.min.20210212230223",
            "apps/minidigital/components/offer-page/clientlib": "minidigital/components/offer-page/clientlib.min.20210212230223",
            "apps/minidigital/components/page-back-button/clientlib": "minidigital/components/page-back-button/clientlib.min.20210212230223",
            "apps/minidigital/components/panoramaview/clientlib": "minidigital/components/panoramaview/clientlib.min.20210212230223",
            "apps/minidigital/components/preconfigure/clientlib": "minidigital/components/preconfigure/clientlib.min.20210212230223",
            "apps/minidigital/components/privacydata/clientlib": "minidigital/components/privacydata/clientlib.min.20210212230223",
            "apps/minidigital/components/product-editorial/clientlib": "minidigital/components/product-editorial/clientlib.min.20210212230223",
            "apps/minidigital/components/product-editorial/toggle-container/clientlib": "minidigital/components/product-editorial/toggle-container/clientlib.min.20210212230223",
            "apps/minidigital/components/product-estimator/clientlib": "minidigital/components/product-estimator/clientlib.min.20210212230223",
            "apps/minidigital/components/product-fast-facts/clientlib": "minidigital/components/product-fast-facts/clientlib.min.20210212230223",
            "apps/minidigital/components/product-feature-item/clientlib": "minidigital/components/product-feature-item/clientlib.min.20210212230223",
            "apps/minidigital/components/product-features/clientlib": "minidigital/components/product-features/clientlib.min.20210212230223",
            "apps/minidigital/components/product-gallery/clientlib": "minidigital/components/product-gallery/clientlib.min.20210212230223",
            "apps/minidigital/components/product-inpage-navigation/clientlib": "minidigital/components/product-inpage-navigation/clientlib.min.20210212230223",
            "apps/minidigital/components/product-model-summary/clientlib": "minidigital/components/product-model-summary/clientlib.min.20210212230223",
            "apps/minidigital/components/product-page-navigation/clientlib": "minidigital/components/product-page-navigation/clientlib.min.20210212230223",
            "apps/minidigital/components/product-pricing-communication/clientlib": "minidigital/components/product-pricing-communication/clientlib.min.20210212230223",
            "apps/minidigital/components/product-selector/clientlib": "minidigital/components/product-selector/clientlib.min.20210212230223",
            "apps/minidigital/components/product-selector/teaser/clientlib": "minidigital/components/product-selector/teaser/clientlib.min.20210212230223",
            "apps/minidigital/components/product-stage/clientlib": "minidigital/components/product-stage/clientlib.min.20210212230223",
            "apps/minidigital/components/progress-bar/clientlib": "minidigital/components/progress-bar/clientlib.min.20210212230223",
            "apps/minidigital/components/quick-entries/clientlib": "minidigital/components/quick-entries/clientlib.min.20210212230223",
            "apps/minidigital/components/range-overview/clientlib": "minidigital/components/range-overview/clientlib.min.20210212230223",
            "apps/minidigital/components/remotecontentelement/clientlib": "minidigital/components/remotecontentelement/clientlib.min.20210212230223",
            "apps/minidigital/components/smallmarketsdealer/clientlib": "minidigital/components/smallmarketsdealer/clientlib.min.20210212230223",
            "apps/minidigital/components/snuc-carselection/clientlib": "minidigital/components/snuc-carselection/clientlib.min.20210212230223",
            "apps/minidigital/components/snuc-detail/clientlib": "minidigital/components/snuc-detail/clientlib.min.20210212230223",
            "apps/minidigital/components/snuc-filtersearch/clientlib": "minidigital/components/snuc-filtersearch/clientlib.min.20210212230223",
            "apps/minidigital/components/snuc-similarcarsteaser/clientlib": "minidigital/components/snuc-similarcarsteaser/clientlib.min.20210212230223",
            "apps/minidigital/components/split-consent-fallback-teaser/clientlib": "minidigital/components/split-consent-fallback-teaser/clientlib.min.20210212230223",
            "apps/minidigital/components/split-consent-faq/item/clientlib": "minidigital/components/split-consent-faq/item/clientlib.min.20210212230223",
            "apps/minidigital/components/split-consent-stage/clientlib": "minidigital/components/split-consent-stage/clientlib.min.20210212230223",
            "apps/minidigital/components/tab-content/clientlib": "minidigital/components/tab-content/clientlib.min.20210212230223",
            "apps/minidigital/components/tab-content/tab/clientlib": "minidigital/components/tab-content/tab/clientlib.min.20210212230223",
            "apps/minidigital/components/tab-content/tabs/clientlib": "minidigital/components/tab-content/tabs/clientlib.min.20210212230223",
            "apps/minidigital/components/tab-navigation-electric/clientlib": "minidigital/components/tab-navigation-electric/clientlib.min.20210212230223",
            "apps/minidigital/components/table-item/clientlib": "minidigital/components/table-item/clientlib.min.20210212230223",
            "apps/minidigital/components/accessories/clientlib": "minidigital/components/accessories/clientlib.min.20210212230223",
            "apps/minidigital/components/teaser/clientlib": "minidigital/components/teaser/clientlib.min.20210212230223",
            "apps/minidigital/components/videoplayer/clientlib": "minidigital/components/videoplayer/clientlib.min.20210212230223",
            "apps/minidigital/components/visualizer/clientlib": "minidigital/components/visualizer/clientlib.min.20210212230223",
            "apps/minidigital/components/visualizer-plus-electric/clientlib": "minidigital/components/visualizer-plus-electric/clientlib.min.20210212230223",
            "apps/minidigital/components/youtubeplayer/clientlib": "minidigital/components/youtubeplayer/clientlib.min.20210212230223",
            "apps/minidigital/components/_example/clientlib": "minidigital/components/_example/clientlib.min.20210212230223",
            "apps/minidigital/components/snuc-carselection-productpage/clientlib": "minidigital/components/snuc-carselection-productpage/clientlib.min.20210212230223",
            "apps/minidigital/components/special-equipment-visualisation/clientlib": "minidigital/components/special-equipment-visualisation/clientlib.min.20210212230223",
            "apps/minidigital/components/pepo/clientlib": "minidigital/components/pepo/clientlib.min.20210212230223",
            "apps/minidigital/components/micro-feedback/clientlib": "minidigital/components/micro-feedback/clientlib.min.20210212230223",
            "apps/minidigital/components/rfo-local/clientlib": "minidigital/components/rfo-local/clientlib.min.20210212230223",
            "apps/minidigital/components/new-modelshelf-container/clientlib": "minidigital/components/new-modelshelf-container/clientlib.min.20210212230223",
            "apps/minidigital/components/pricing/clientlib": "minidigital/components/pricing/clientlib.min.20210212230223",
            "apps/minidigital/components/feature-detail-view/clientlib": "apps/minidigital/components/feature-detail-view/clientlib.min.20210212230223",
            "minidigital/components/cardatafaq/clientlib": "minidigital/components/cardatafaq/clientlib.min.20210212230223",
            "apps/minidigital/components/product-compare/clientlib": "minidigital/components/product-compare/clientlib.min.20210212230223",
            "apps/minidigital/minicom/components/doubleimage/clientlib": "minidigital/minicom/components/doubleimage/clientlib.min.20210212230223",
            "apps/minidigital/components/electric-charge-animated/clientlib": "minidigital/components/electric-charge-animated/clientlib.min.20210212230223",
            "apps/minidigital/components/genericlist/clientlib": "minidigital/components/genericlist/clientlib.min.20210212230223",
            "apps/minidigital/components/lci/cgi-component/clientlib": "minidigital/components/lci/cgi-component/clientlib.min.20210212230223",
            "apps/minidigital/components/lci/mosaic-gallery/clientlib": "minidigital/components/lci/mosaic-gallery/clientlib.min.20210212230223",
            "apps/minidigital/components/lci-package-overview/clientlib": "minidigital/components/lci/lci-package-overview/clientlib.min.20210212230223",
            "apps/minidigital/components/lci-visualizer/clientlib": "minidigital/components/lci/lci-visualizer/clientlib.min.20210212230223",
            "apps/minidigital/components/lci-trim-overview/clientlib": "minidigital/components/lci/lci-trim-overview/clientlib.min.20210212230223",
            "apps/minidigital/components/lci-model-table/clientlib": "minidigital/components/lci/lci-model-table/clientlib.min.20210212230223",
            "apps/minidigital/components/lci/stream-navigation/clientlib": "minidigital/components/lci/stream-navigation/clientlib.min.20210212230223",
            "apps/minidigital/components/lci/mit-2.0/clientlib": "minidigital/components/lci/mit-2.0/clientlib.min.20210212230223",
            "apps/minidigital/components/lci/spacer/clientlib": "minidigital/components/lci/spacer/clientlib.min.20210212230223",
            "apps/minidigital/components/lci/stage/clientlib": "minidigital/components/lci/stage/clientlib.min.20210212230223",
            "apps/minidigital/components/lci-model-selection/clientlib": "minidigital/components/lci/lci-model-selection/clientlib.min.20210212230223",
            "business.forms.aemform.connector": "business/forms/custom/aemform/clientlibs/connector.min.20210212230223",
            "business.forms.aemform.postal": "business/forms/custom/aemform/clientlibs/settings.min.20210212230223",
            "mini-close-button": "minidigital/components/formsclosebutton/clientlibs.min.20210212230223",
            "mini-forms-payload": "minidigital/pages/formssuccesspage/payload/clientlibs.min.20210212230223",
            "core/minidigital/Tracking": "settings/wcm/designs/minidigital-white/libs-js/core/trackingAdapter.min.20210212230223",
            "core/minidigital/Utils": "settings/wcm/designs/minidigital-white/libs-js/core/utils.min.20210212230223",
            angular: "settings/wcm/designs/minidigital-white/libs-js.legacy/vendor/external/resources/angular.min",
            animate: "settings/wcm/designs/minidigital-white/libs-js.legacy/vendor/external/resources/angular-animate.min",
            uiRouter: "settings/wcm/designs/minidigital-white/libs-js.legacy/vendor/external/resources/angular-ui-router.min",
            slick: "settings/wcm/designs/minidigital-white/libs-js/vendor/slick.min",
            velocity: "settings/wcm/designs/minidigital-white/libs-js/vendor/velocity.min",
            bluebird: "settings/wcm/designs/minidigital-white/libs-js/vendor/bluebird.min",
            bodymovin: "settings/wcm/designs/minidigital-white/libs-js/vendor/bodymovin.min",
            bowser: "settings/wcm/designs/minidigital-white/libs-js/vendor/bowser.min",
            conduitjs: "settings/wcm/designs/minidigital-white/libs-js/vendor/conduitjs.min",
            Contentful: "settings/wcm/designs/minidigital-white/libs-js/vendor/contentful.min",
            contentfulRichText: "settings/wcm/designs/minidigital-white/libs-js/vendor/contentfulRichtextrenderer.min",
            Fuse: "settings/wcm/designs/minidigital-white/libs-js/vendor/fusejs.min",
            hammer: "settings/wcm/designs/minidigital-white/libs-js/vendor/hammer.min",
            handlebars: "settings/wcm/designs/minidigital-white/libs-js/vendor/handlebars.min",
            iscroll: "settings/wcm/designs/minidigital-white/libs-js/vendor/iscroll.min",
            "jquery.mousewheel": "settings/wcm/designs/minidigital-white/libs-js/vendor/jquery-mousewheel.min",
            "jquery.mCustomScrollbar": "settings/wcm/designs/minidigital-white/libs-js/vendor/jquery-mCustomScrollbar.min",
            "jquery.scrollbar": "settings/wcm/designs/minidigital-white/libs-js/vendor/jquery-scrollbar.min",
            touchswipe: "settings/wcm/designs/minidigital-white/libs-js/vendor/jquery-touchswipe.min",
            "jquery-bridget": "settings/wcm/designs/minidigital-white/libs-js/vendor/jquery-bridget.min",
            "jquery-ui": "settings/wcm/designs/minidigital-white/libs-js/vendor/jquery-ui.min",
            lodash: "settings/wcm/designs/minidigital-white/libs-js/vendor/lodash.min",
            lottie: "settings/wcm/designs/minidigital-white/libs-js/vendor/lottie.min",
            "lodash-3.10.1": "/etc/clientlibs/frontend-foundation/messagebus/3rdParty/lodash-3.10.1-legacy.min",
            masonry: "settings/wcm/designs/minidigital-white/libs-js/vendor/masonry.min",
            mustache: "settings/wcm/designs/minidigital-white/libs-js/vendor/mustache.min",
            odometer: "settings/wcm/designs/minidigital-white/libs-js/vendor/odometer.min",
            spritespin: "settings/wcm/designs/minidigital-white/libs-js/vendor/spritespin.min",
            tooltipster: "settings/wcm/designs/minidigital-white/libs-js/vendor/tooltipster.min",
            postal: "settings/wcm/designs/minidigital-white/libs-js/vendor/postal.min",
            "postal.aem-form": "business/forms/custom/aemform/clientlibs/settings.min.20210212230223",
            "postal.preserve": "settings/wcm/designs/minidigital-white/libs-js/vendor/postal-MODIFIED.min",
            "postal.settings": "/etc/clientlibs/frontend-foundation/messagebus/postal-settings.min.20200709205447",
            "postal.uuid": "/etc/clientlibs/frontend-foundation/messagebus/postal-uuid.min.20200709205447",
            "postal.reqres": "/etc/clientlibs/frontend-foundation/messagebus/3rdParty/postal.request-response-0.3.1-MODIFIED.min.20200709205447",
            "postal.federation": "/etc/clientlibs/frontend-foundation/messagebus/3rdParty/postal.federation-0.5.5.min.20200709205447",
            "postal.xframe": "/etc/clientlibs/frontend-foundation/messagebus/3rdParty/postal.xframe-0.5.1.min.20200709205447",
            "regenerator-runtime": "/etc/clientlibs/frontend-foundation/messagebus/3rdParty/regenerator-runtime-0.13.7.js",
            "business/commons/components/emissions-label": "business/commons/components/emissions-label/clientlib.min.20210212230223"
        },
        bundles: {
            "apps/minidigital/components/progress-bar/clientlib": ["apps/minidigital/components/progress-bar/clientlib",
                "apps/minidigital/components/progress-bar/clientlib/scripts/utils/Messages"
            ],
            "apps/minidigital/components/accordion/clientlib": ["apps/minidigital/components/accordion/clientlib", "apps/minidigital/components/accordion/item/clientlib"],
            "apps/minidigital/components/product-selector/clientlib": "apps/minidigital/components/product-selector/clientlib apps/minidigital/components/product-selector/clientlib/scripts/data/Data apps/minidigital/components/product-selector/clientlib/scripts/data/ModelFeatures apps/minidigital/components/product-selector/clientlib/scripts/utils/Messages apps/minidigital/components/product-selector/clientlib/scripts/utils/Tracking apps/minidigital/components/product-selector/clientlib/scripts/utils/ModelFeaturesCheck apps/minidigital/components/product-selector/clientlib/scripts/views/WizardView apps/minidigital/components/product-selector/clientlib/scripts/views/WizardLayer apps/minidigital/components/product-selector/clientlib/scripts/views/ui/ResetButton apps/minidigital/components/product-selector/model-group-summary/clientlib apps/minidigital/components/product-selector/model-group-summary/clientlib/scripts/components/LabelSelectGroupComponent apps/minidigital/components/product-selector/model-group-summary/clientlib/scripts/components/LabelSelectComponent apps/minidigital/components/product-selector/model-group-summary/clientlib/scripts/components/initializer apps/minidigital/components/product-selector/model-group-summary/clientlib/scripts/components/AccordionListComponent apps/minidigital/components/product-compare/clientlib/scripts/views/Overlay".split(" "),
            "apps/minidigital/components/product-selector/teaser/clientlib": ["apps/minidigital/components/product-selector/teaser/clientlib", "apps/minidigital/components/product-selector/clientlib/scripts/utils/Messages"],
            "apps/minidigital/components/homestage/clientlib": ["apps/minidigital/components/homestage/clientlib", "apps/minidigital/components/homestagehelper/clientlib"],
            "apps/minidigital/components/product-feature-item/clientlib": ["apps/minidigital/components/product-feature-item/clientlib", "apps/minidigital/components/product-feature-item/details-sidebar/clientlib"],
            "apps/minidigital/components/moment-interaction-ctas/clientlib": ["apps/minidigital/components/moment-interaction-ctas/clientlib", "apps/minidigital/components/moment-interaction-ctas/mit-whishlist-cta/clientlib"],
            "apps/minidigital/components/acw-wishlist/clientlib": ["apps/minidigital/components/acw-wishlist/clientlib", "apps/minidigital/components/acw-wishlist/clientlib/utils/UndoManager", "apps/minidigital/components/acw-wishlist/acw-wishlist-features/clientlib"],
            "apps/minidigital/components/product-editorial/toggle-container/clientlib": ["apps/minidigital/components/product-editorial/toggle-container/clientlib",
                "apps/minidigital/components/product-editorial/toggle-container/clientlib/scripts/utils/Messages"
            ],
            "apps/minidigital/components/visualizer/clientlib": "apps/minidigital/components/visualizer/clientlib apps/minidigital/components/visualizer/clientlib/scripts/data/ConfigData apps/minidigital/components/visualizer/clientlib/scripts/data/Features apps/minidigital/components/visualizer/clientlib/scripts/utils/Helpers apps/minidigital/components/visualizer/clientlib/scripts/utils/Messages apps/minidigital/components/visualizer/clientlib/scripts/utils/Tracking apps/minidigital/components/visualizer/clientlib/scripts/views/ui/Accordion apps/minidigital/components/visualizer/clientlib/scripts/views/ui/AccordionItem apps/minidigital/components/visualizer/clientlib/scripts/views/ui/AccordionSubitem apps/minidigital/components/visualizer/clientlib/scripts/views/ui/CarImage apps/minidigital/components/visualizer/clientlib/scripts/views/ui/ConfigButton apps/minidigital/components/visualizer/clientlib/scripts/views/ui/PaginationItem apps/minidigital/components/visualizer/clientlib/scripts/views/ui/ResultBackground apps/minidigital/components/visualizer/clientlib/scripts/views/ui/ResultCar apps/minidigital/components/visualizer/clientlib/scripts/views/ui/ResultItem apps/minidigital/components/visualizer/clientlib/scripts/views/ConfigView apps/minidigital/components/visualizer/clientlib/scripts/views/FooterView apps/minidigital/components/visualizer/clientlib/scripts/views/PaginationView apps/minidigital/components/visualizer/clientlib/scripts/views/ResultView apps/minidigital/components/visualizer/clientlib/scripts/views/SwipeView".split(" "),
            "jquery-ui": ["jquery.ui.touch-punch", "jquery.ui"],
            "apps/minidigital/components/_example/clientlib": ["apps/minidigital/components/_example/clientlib", "apps/minidigital/components/_example/clientlib/scripts/utils/helpers"],
            "apps/minidigital/components/visualizer-plus-electric/clientlib": "apps/minidigital/components/visualizer-plus-electric/clientlib apps/minidigital/components/visualizer-plus-electric/clientlib/data/Color apps/minidigital/components/visualizer-plus-electric/clientlib/data/Config apps/minidigital/components/visualizer-plus-electric/clientlib/data/CosyView apps/minidigital/components/visualizer-plus-electric/clientlib/data/Messages apps/minidigital/components/visualizer-plus-electric/clientlib/data/Selection apps/minidigital/components/visualizer-plus-electric/clientlib/data/Wheel apps/minidigital/components/visualizer-plus-electric/clientlib/data/Accordion apps/minidigital/components/visualizer-plus-electric/clientlib/utils/Renderer apps/minidigital/components/visualizer-plus-electric/clientlib/utils/Tracking apps/minidigital/components/visualizer-plus-electric/clientlib/views/OptionsPanel apps/minidigital/components/visualizer-plus-electric/clientlib/views/Overlay apps/minidigital/components/visualizer-plus-electric/clientlib/views/Preview apps/minidigital/components/visualizer-plus-electric/clientlib/views/PreviewImage apps/minidigital/components/visualizer-plus-electric/clientlib/views/RFO apps/minidigital/components/visualizer-plus-electric/trimteaser/clientlib apps/minidigital/components/visualizer-plus-electric/trimteaser/clientlib/utils/Tracking apps/minidigital/components/visualizer-plus-electric/trimteaser/carousel/clientlib apps/minidigital/components/visualizer-plus-electric/technicaldataaccordion/clientlib apps/minidigital/components/visualizer-plus-electric/interior360DegreeZoomView/clientlib".split(" "),
            "apps/minidigital/components/snuc-filtersearch/clientlib": "apps/minidigital/components/snuc-filtersearch/clientlib apps/minidigital/components/snuc-filtersearch/clientlib/scripts/data/State apps/minidigital/components/snuc-filtersearch/clientlib/scripts/data/FilterGroup apps/minidigital/components/snuc-filtersearch/clientlib/scripts/data/Filter apps/minidigital/components/snuc-filtersearch/clientlib/scripts/utils/Tracking apps/minidigital/components/snuc-filtersearch/clientlib/scripts/utils/SelectDropdown apps/minidigital/components/snuc-filtersearch/clientlib/scripts/utils/SearchInput".split(" "),
            "apps/minidigital/components/snuc-detail/clientlib": "apps/minidigital/components/snuc-detail/clientlib apps/minidigital/components/snuc-detail/clientlib/scripts/data/ImageData apps/minidigital/components/snuc-detail/clientlib/scripts/utils/Messages apps/minidigital/components/snuc-detail/clientlib/scripts/utils/Tracking apps/minidigital/components/snuc-detail/clientlib/scripts/views/Slideshow apps/minidigital/components/snuc-detail/clientlib/scripts/views/Lightbox apps/minidigital/components/snuc-detail/clientlib/scripts/views/ui/CloseButton apps/minidigital/components/snuc-detail/clientlib/scripts/views/ui/ImageListener".split(" "),
            "apps/minidigital/components/offer-page/clientlib": "apps/minidigital/components/offer-page/clientlib/Checkbox apps/minidigital/components/offer-page/clientlib/CheckboxList apps/minidigital/components/offer-page/clientlib/OfferPageStore apps/minidigital/components/offer-page/clientlib/OfferStartModelCard apps/minidigital/components/offer-page/clientlib/OfferStartPage apps/minidigital/components/offer-page/clientlib/RadioButtonList apps/minidigital/components/offer-page/clientlib/RadioButton apps/minidigital/components/offer-page/clientlib/Accordion apps/minidigital/components/offer-page/clientlib/AccordionOffer apps/minidigital/components/offer-page/clientlib/BackButton apps/minidigital/components/offer-page/clientlib/BaseButton apps/minidigital/components/offer-page/clientlib/OfferModelCard apps/minidigital/components/offer-page/clientlib/OfferPageSearch apps/minidigital/components/offer-page/clientlib/OfferDetailsPage apps/minidigital/components/offer-page/clientlib/Filters apps/minidigital/components/offer-page/clientlib/BaseChip apps/minidigital/components/offer-page/clientlib/SkeletonCardLoader apps/minidigital/components/offer-page/clientlib/OfferFilterSidebar apps/minidigital/components/offer-page/clientlib/Select apps/minidigital/components/offer-page/clientlib/CalculatorBox apps/minidigital/components/offer-page/clientlib/OfferPageCalculationSidebar apps/minidigital/components/offer-page/clientlib/Helpers apps/minidigital/components/offer-page/clientlib/RepresantiveExampleAccordion apps/minidigital/components/offer-page/clientlib/BaseModal apps/minidigital/components/offer-page/clientlib/MobileFilter apps/minidigital/components/offer-page/clientlib/ContactRetailerButton apps/minidigital/components/offer-page/clientlib/InfoIcon apps/minidigital/components/offer-page/clientlib/TextInput apps/minidigital/components/offer-page/clientlib/Pagination".split(" "),
            "apps/minidigital/components/lci-model-selection/clientlib": "apps/minidigital/components/lci-model-selection/clientlib/BaseConfigureTile apps/minidigital/components/lci-model-selection/clientlib/ConfigureBar apps/minidigital/components/lci-model-selection/clientlib/ConfigureTileList apps/minidigital/components/lci-model-selection/clientlib/EngineConfigureTile apps/minidigital/components/lci-model-selection/clientlib/PaintConfigureTile apps/minidigital/components/lci-model-selection/clientlib/ScrollGallery apps/minidigital/components/lci-model-selection/clientlib/StageLabels apps/minidigital/components/lci-model-selection/clientlib/SummaryTiles apps/minidigital/components/lci-model-selection/clientlib/ConfiguratorHeader apps/minidigital/components/lci-model-selection/clientlib/EngineTileList apps/minidigital/components/lci-model-selection/clientlib/EmissionAndConsumptionBox".split(" "),
            "apps/minidigital/components/lci-visualizer/clientlib": ["apps/minidigital/components/lci-visualizer/clientlib/lci-360-degree-car-view"],
            "apps/minidigital/components/product-compare/clientlib": ["apps/minidigital/components/product-compare/clientlib", "apps/minidigital/components/product-compare/clientlib/scripts/views/Overlay", "apps/minidigital/components/product-compare/clientlib/scripts/views/LciCompareOverlay"],
            "apps/minidigital/components/fast-facts/clientlib": ["apps/minidigital/components/fast-facts/clientlib",
                "apps/minidigital/components/fast-facts/clientlib/views/Animation"
            ],
            "apps/minidigital/components/tab-content/tab/clientlib": ["apps/minidigital/components/tab-content/tab/clientlib", "apps/minidigital/components/tab-content/tabs/clientlib/scripts/utils/Messagebus"],
            "apps/minidigital/components/tab-content/tabs/clientlib": ["apps/minidigital/components/tab-content/tabs/clientlib", "apps/minidigital/components/tab-content/tabs/clientlib/scripts/utils/Messagebus"],
            "apps/minidigital/components/pepo/clientlib": "apps/minidigital/components/pepo/clientlib apps/minidigital/components/pepo/clientlib/pepoApp mdPepoService mdPepoCarDetailsController mdPepoMyCarsController mdPepoNoLoginController pepoDirectives".split(" "),
            "core/minidigital/Tracking": "core/trackingAdapter/Tracking core/TrackingAdapter core/TrackingAdapter/TrackingImpression core/trackingAdapter/TrackingMessages core/TrackingAdapter/TrackingTarget core/TrackingAdapter/utils/Dispatcher core/TrackingAdapter/utils/Helper".split(" "),
            "core/minidigital/Utils": "core/utils/BackHeader core/utils/cosyImage core/utils/CurrencyDecimalFormat core/utils/Deeplinker core/utils/DirectionRTL core/utils/Environment core/utils/HTMLHelper core/utils/lazyImageSpy core/utils/ModelDataService core/utils/networkspy core/utils/scrollspy core/utils/url core/utils/viewportspy core/utils/webp".split(" ")
        },
        map: {
            "*": {
                css: "require-css",
                "postal.provider": "core/Messagebus"
            }
        },
        waitSeconds: 15,
        skipDataMain: !0,
        shim: {
            angular: {
                deps: ["jquery"],
                exports: "angular"
            },
            animate: {
                deps: ["angular"],
                exports: "animate"
            },
            uiRouter: {
                deps: ["angular"]
            },
            "jquery.lazy": {
                deps: ["jquery"],
                exports: "jQuery"
            },
            "jquery.ui": {
                deps: ["jquery"],
                exports: "jQuery"
            },
            "jquery.scrollbar": {
                deps: ["jquery"],
                exports: "jQuery"
            },
            odometer: {
                deps: ["jquery"],
                exports: "odometer"
            },
            slick: {
                deps: ["jquery"],
                exports: "jQuery"
            },
            spritespin: {
                deps: ["jquery"],
                exports: "spritespin"
            },
            velocity: {
                deps: ["jquery"]
            },
            "velocity.ui": {
                deps: ["velocity"]
            },
            Contentful: {
                deps: ["contentfulRichText"],
                exports: "Contentful"
            },
            "postal.xframe": {
                deps: ["postal.federation", "regenerator-runtime"],
                exports: "postal"
            }
        }
    },
    context;
try {
    context = global
} catch (b) {
    context = window
}
void 0 !== context.requirejs && (requirejs.config(config), require.onError = function(b) {
    console.log(b.requireType);
    console.log("[" + b.requireType + "] modules: " + b.requireModules, b)
});
context.global && (module.exports = config);
require("jquery lodash core/componentInitializer core/utils/webp core/utils/scrollspy core/TrackingAdapter core/utils/lazyImageSpy core/utils/Deeplinker".split(" "), function(b, f, k, g, c, a, d, e) {
    digital.tracking = a;
    a.init(window.dataLayer);
    c.init(window);
    k.init();
    requestAnimationFrame(function() {
        setTimeout(function() {
            f.isFunction(mini.digital.initLegacyApp) && mini.digital.initLegacyApp()
        }, 2E3);
        f.isFunction(b.subscribe) && b.subscribe("md:componentInitializer:init", k.init);
        e.update({
            delay: 500,
            scrollDelay: 750
        });
        d.update({
            delay: 3E3,
            timeoutId: "startup"
        })
    })
});
define("business/commons/TrackingAdapter", function() {
    function b(b) {
        function a() {
            var a = b.getPageObject(b.getCurrentPageIndex());
            return {
                eventInfo: {
                    cause: "",
                    effect: "",
                    element: "",
                    eventAction: "",
                    eventName: "",
                    eventPoints: "",
                    target: "",
                    timeStamp: Date.now().toString()
                },
                category: {
                    primaryCategory: "",
                    mmdr: a.category && a.category.mmdr ? a.category.mmdr : "",
                    eventType: "triggered"
                },
                attributes: {
                    relatedPageName: a.pageName || "",
                    relatedPageCategory: a.category || {},
                    relatedComponent: {
                        componentInfo: {},
                        category: {},
                        attributes: {}
                    }
                }
            }
        }
        return {
            apply: function() {
                return {
                    delayed: function(a) {
                        a.category.eventType = TC.DELAYED;
                        return this
                    },
                    relatedComponent: function(a, b) {
                        a.attributes.relatedComponent = b;
                        return this
                    },
                    relatedPageName: function(a, b) {
                        a.attributes.relatedPageName = b;
                        return this
                    },
                    relatedPageCategory: function(a, b) {
                        a.attributes.relatedPageCategory = b;
                        return this
                    }
                }
            },
            newEvent: function(b) {
                var c = a();
                b && (c = k(!0, {}, c, b));
                return {
                    build: function() {
                        return c
                    },
                    relatedComponentID: function(a) {
                        c.attributes.relatedComponentID = a;
                        return this
                    },
                    eventAction: function(a) {
                        c.eventInfo.eventAction =
                            a;
                        return this
                    },
                    eventName: function(a) {
                        c.eventInfo.eventName = a;
                        return this
                    },
                    eventPoints: function(a) {
                        c.eventInfo.eventPoints = a.toString();
                        return this
                    },
                    primaryCategory: function(a) {
                        c.category.primaryCategory = a;
                        return this
                    },
                    subCategory01: function(a) {
                        c.category.subCategory01 = a;
                        return this
                    },
                    target: function(a) {
                        c.eventInfo.target = a;
                        return this
                    },
                    effect: function(a) {
                        c.eventInfo.effect = a;
                        return this
                    },
                    cause: function(a) {
                        c.eventInfo.cause = a;
                        return this
                    }
                }
            }
        }
    }

    function f() {
        return {
            options: function() {
                var b = !0,
                    a = "",
                    d = !0,
                    e = "click",
                    f = !1;
                return {
                    active: function(a) {
                        b = a;
                        return this
                    },
                    build: function() {
                        return {
                            active: b,
                            name: a,
                            timing: d,
                            type: e,
                            useTimer: f
                        }
                    },
                    name: function(b) {
                        a = (b || "").toLowerCase().replace(/\s+/g, "_");
                        return this
                    },
                    timing: function(a) {
                        d = a;
                        return this
                    },
                    type: function(a) {
                        e = a;
                        return this
                    },
                    useTimer: function(a) {
                        f = a;
                        return this
                    }
                }
            }
        }
    }

    function k() {
        var b = {},
            a = !1,
            d = 0;
        "[object Boolean]" === Object.prototype.toString.call(arguments[0]) && (a = arguments[0], d++);
        for (; d < arguments.length; d++) {
            var e = void 0,
                f = arguments[d];
            for (e in f) Object.prototype.hasOwnProperty.call(f,
                e) && (a && "[object Object]" === Object.prototype.toString.call(f[e]) ? b[e] = k(!0, b[e], f[e]) : b[e] = f[e])
        }
        return b
    }
    var g = function() {
        this.pageObject = this.optionsBuilder = this.eventBuilder = this.api = null;
        this.isEventCookieSaveCapable = !1;
        this.initTracking()
    };
    g.prototype = {
        initTracking: function() {
            if (window.digital && window.digital.tracking && "function" === typeof window.digital.tracking.getInstance) {
                var c = window.digital.tracking.getInstance(window.dataLayer);
                c.isMinimalInterface || (this.api = c, this.isEventCookieSaveCapable = !1)
            } else this.api = window.digital && window.digital.tracking && window.digital.tracking.lib, this.isEventCookieSaveCapable = !0;
            if (this.api) {
                if (c = this.api.getCurrentPageIndex()) this.pageObject = this.api.getPageObject(c);
                this.eventBuilder = b(this.api)
            }
            this.initMinimalTrackingInterface()
        },
        getOptionsBuilder: function() {
            null === this.optionsBuilder && (this.optionsBuilder = new f);
            return this.optionsBuilder
        },
        getPageObject: function() {
            if (!this.isInitialized()) return {};
            this.pageObject && this.pageObject.page || (this.pageObject =
                this.api.getPageObject(this.api.getCurrentPageIndex()));
            return this.pageObject
        },
        getEventBuilder: function() {
            if (this.eventBuilder) return this.eventBuilder;
            window.digitals2 && window.digitals2.tracking && window.digitals2.tracking.api && (this.eventBuilder = window.digitals2.tracking.eventBuilder);
            return this.eventBuilder
        },
        trackEvent: function(b, a, d) {
            if (this.isInitialized()) {
                var c = k(!0, {}, b, {
                    eventInfo: {
                        timeStamp: Date.now().toString()
                    }
                });
                try {
                    _.has(c, "category.eventType") && "delayed" === c.category.eventType && this.isEventCookieSaveCapable ?
                        this.api.eventCookieSave(c) : (this.api.addEventTracking(a, c, this.api.getCurrentPageIndex()), this.triggerSatelliteEvent(d))
                } catch (h) {
                    console.error("caught exception while tracking event", b, ", exception was", h)
                }
            }
        },
        satelliteTrack: function(b) {
            if (window._satellite && window._satellite.track) {
                var a = this.api.getCurrentPageIndex(),
                    c = k(!0, {}, getPageObject(a));
                window._satellite.track(b, [a, c])
            } else console.log("_satellite not defined")
        },
        triggerSatelliteEvent: function(b) {
            document.dispatchEvent(new CustomEvent("digital:tracking:addEventSatellite", {
                detail: {
                    eventName: "digital:tracking:addEventSatellite",
                    eventOptions: b
                },
                bubbles: !1,
                cancelable: !1
            }))
        },
        initComponentTracking: function(b, a) {
            if (this.isInitialized()) return this.api.initComponentTracking(b, this.api.getCurrentPageIndex(), a)
        },
        getTrackingDefaults: function(b) {
            return {
                eventInfo: {
                    eventName: "",
                    eventAction: "click",
                    eventPoints: "",
                    cause: "default",
                    effect: ""
                },
                category: {
                    primaryCategory: b.category.primaryCatergory,
                    subCategory01: b.category.subCategory01
                },
                attributes: {
                    relatedComponentID: b.componentInfo.componentID,
                    relatedComponentName: b.componentInfo.componentName,
                    relatedComponentPrimaryCategory: b.category.primaryCatergory
                }
            }
        },
        isApiValid: function() {
            return null !== this.api && void 0 !== this.api
        },
        isInitialized: function() {
            this.isApiValid() || this.initTracking();
            return this.isApiValid()
        },
        getComponent: function(b) {
            if (!this.isInitialized()) return null;
            var a = this.api.getPageObject(this.api.getCurrentPageIndex());
            return a.component ? a.component[b] : null
        },
        newEvent: function(b) {
            return this.getEventBuilder().newEvent(b)
        },
        applyEventComponentProperties: function(b,
            a, d) {
            this.eventBuilder.apply().relatedComponent(b, a);
            d && (a = this.getPageObject()) && (this.eventBuilder.apply().relatedPageCategory(b, a.page.category), this.eventBuilder.apply().relatedPageName(b, a.page.pageInfo.pageName))
        },
        updateComponentTracking: function(b, a) {
            this.isInitialized() && this.api.updateComponentTracking(b, a, this.api.getCurrentPageIndex())
        },
        buildOptions: function(b) {
            var a = this.getOptionsBuilder();
            return a ? (a = a.options(), a.name(b), a.build()) : null
        },
        initMinimalTrackingInterface: function() {
            window.digital =
                window.digital || {};
            window.digital.tracking = window.digital.tracking || {};
            if (!window.digital.tracking.getInstance) {
                var b = this;
                window.digital.tracking.getInstance = function() {
                    return b.getMinimalInterfaceObject()
                }
            }
        },
        getMinimalInterfaceObject: function() {
            var b = this;
            return {
                getPageObject: function(a) {
                    return b.isInitialized() ? b.api.getPageObject(a) : {}
                },
                getCurrentPageIndex: function() {
                    return b.isInitialized() ? b.api.getCurrentPageIndex() : 0
                },
                addEventTracking: function(a, c, e) {
                    if (b.isInitialized()) return b.api.addEventTracking(a,
                        c, e)
                },
                initComponentTracking: function(a, c) {
                    if (b.isInitialized()) return b.api.initComponentTracking(a, c)
                },
                isMinimalInterface: function() {
                    return !0
                }
            }
        }
    };
    return new g
});
require(["business/commons/TrackingAdapter"], function(b) {});
var UCPDataService = function(b, f) {
    function k() {
        var a = g();
        if (!selfUcpService.configurationSettings.pdhUrl || !selfUcpService.configurationSettings.mandator) return console.log("Missing PDH url and the mandator to get the UCP settings"), a;
        if (selfUcpService.configurationSettings && selfUcpService.configurationSettings.ucpV3BaseUrl && -1 < selfUcpService.configurationSettings.ucpV3BaseUrl.indexOf("%")) {
            for (var b = decodeURIComponent(selfUcpService.configurationSettings.ucpV3BaseUrl), c = 0; - 1 < b.indexOf("%") && 10 > c;) b =
                decodeURIComponent(b), c += 1, console.log("Decoded url: ", b);
            selfUcpService.configurationSettings.ucpV3BaseUrl = b
        }
        ba(selfUcpService.configurationSettings.pdhUrl + selfUcpService.configurationSettings.PDH_SETTING_ENDPOINT + "/" + selfUcpService.configurationSettings.mandator, "GET", null, null).then(function(b) {
            if (b) {
                selfUcpService.configurationSettings.ucpservices.configs = b;
                selfUcpService.configurationSettings.ucpservices.configs.context.brand = b.context.brands[0];
                if (b && (selfUcpService.configurationSettings.ucpV3BaseUrl ||
                        (selfUcpService.configurationSettings.ucpV3BaseUrl = b.endpoint), !selfUcpService.configurationSettings.apiKey)) {
                    var c = selfUcpService.configurationSettings;
                    a: {
                        if (b.apikeys) {
                            b = b.apikeys;
                            for (var d = 0; d < b.length; d++) {
                                var e = b[d];
                                if (e.endpoint === selfUcpService.configurationSettings.ucpV3BaseUrl) {
                                    b = e.apikey;
                                    break a
                                }
                            }
                        } else if (b.apikey) {
                            b = b.apikey;
                            break a
                        }
                        b = void 0
                    }
                    c.apiKey = b
                }
                selfUcpService.isInitialized = !0
            }
            a.resolve(selfUcpService.configurationSettings)
        }, function(b) {
            a.reject(b)
        });
        return a
    }

    function g() {
        return b.Deferred()
    }

    function c() {
        return {
            "x-api-key": selfUcpService.configurationSettings.apiKey,
            "Content-type": "application/json"
        }
    }

    function a(a) {
        a = selfUcpService.configurationSettings.ucpservices.GET_SAVED_VEHICLE_BY_CONFIGURL.replace(selfUcpService.CONST.CONFIGURL_PARAM, a);
        return selfUcpService.configurationSettings.ucpV3BaseUrl + a
    }

    function d() {
        var a = r(),
            b = selfUcpService.configurationSettings.ucpservices.configs.context;
        a = selfUcpService.configurationSettings.ucpservices.GET_SERIES_NAME.replace(selfUcpService.CONST.SOURCE_PARAM,
            b.source).replace(selfUcpService.CONST.BRAND_PARAM, b.brand).replace(selfUcpService.CONST.COUNTRY_PARAM, b.country).replace(selfUcpService.CONST.EFFECT_DATE_PARAM, a).replace(selfUcpService.CONST.APPLICATION_PARAM, b.application).replace(selfUcpService.CONST.LANGUAGE_PARAM, b.language).replace(selfUcpService.CONST.CLUSTER_PARAM, b.cluster).replace(selfUcpService.CONST.GFSPOLICY_PARAM, b.gfsPolicy);
        return selfUcpService.configurationSettings.ucpV3BaseUrl + a
    }

    function e(a) {
        var b = g(),
            c = d();
        T(c).then(function(c) {
            c[a] &&
                c[a].phrases && c[a].phrases.longDescription && (selfUcpService.vehicle.seriesName = c[a].phrases.longDescription);
            b.resolve(c)
        }, function(a) {
            b.resolve(a)
        });
        return b
    }

    function h(a, b) {
        var c = selfUcpService.configurationSettings.ucpservices.configs.context;
        a = selfUcpService.configurationSettings.ucpservices.GET_COSY_IMAGES.replace(selfUcpService.CONST.APPLICATION_PARAM, c.application).replace(selfUcpService.CONST.APPSHORT_PARAM, c.appShort ? c.appShort : "h5-bmw").replace(selfUcpService.CONST.BRAND_PARAM, c.brand).replace(selfUcpService.CONST.MODEL_CODE_PARAM,
            a).replace(selfUcpService.CONST.OPTIONS_PARAM, b);
        return selfUcpService.configurationSettings.ucpV3BaseUrl + a
    }

    function m(a) {
        var b = g(),
            c = h(a.modelCode, a.options.join(","));
        a.cosyImageUrls = {};
        a.cosyImageUrls[selfUcpService.CONST.FRONTSIDE_VIEW] = "";
        a.cosyImageUrls[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW] = "";
        T(c).then(function(c) {
            var d = c[selfUcpService.CONST.VEHICLE];
            d && (d && d[selfUcpService.CONST.FRONTSIDE_VIEW] && (a.cosyImageUrls[selfUcpService.CONST.FRONTSIDE_VIEW] = d[selfUcpService.CONST.FRONTSIDE_VIEW].imageUrl),
                d && d[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW] && (a.cosyImageUrls[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW] = d[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW].imageUrl));
            b.resolve(c)
        }, function(a) {
            b.resolve(a)
        });
        return b
    }

    function p(a, b) {
        var c = selfUcpService.configurationSettings.ucpservices.configs.context;
        a = selfUcpService.configurationSettings.ucpservices.GET_COSY_GARAGE_IMAGES.replace(selfUcpService.CONST.APPLICATION_PARAM, c.application).replace(selfUcpService.CONST.APPSHORT_PARAM, c.appShort ? c.appShort :
            "h5-bmw").replace(selfUcpService.CONST.BRAND_PARAM, c.brand).replace(selfUcpService.CONST.MODEL_CODE_PARAM, a).replace(selfUcpService.CONST.OPTIONS_PARAM, b);
        return selfUcpService.configurationSettings.ucpV3BaseUrl + a
    }

    function q(a) {
        var b = g(),
            c = p(a.modelCode, a.options.join(","));
        a.cosyImageUrls = {};
        a.cosyImageUrls[selfUcpService.CONST.FRONTSIDE_VIEW] = "";
        a.cosyImageUrls[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW] = "";
        T(c).then(function(c) {
            if (c) {
                var d = c[selfUcpService.CONST.GARAGE];
                d && (d && d[selfUcpService.CONST.DT_GARGE] &&
                    (a.cosyImageUrls[selfUcpService.CONST.FRONTSIDE_VIEW] = d[selfUcpService.CONST.DT_GARGE].imageUrl), d && d[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW] && (a.cosyImageUrls[selfUcpService.CONST.SMALL_VEHICLE_34_VIEW] = d[selfUcpService.CONST.P_GARGE].imageUrl))
            }
            b.resolve(c)
        }, function(a) {
            b.resolve(a)
        });
        return b
    }

    function l(b) {
        if (b) {
            var c = g();
            b = a(b);
            T(b).then(function(a) {
                if (a) {
                    selfUcpService.vehicle.modelCode = a.configuration.modelCode;
                    selfUcpService.vehicle.modelBaseCode = a.configuration.modelCode;
                    selfUcpService.vehicle.configId =
                        a.configId;
                    selfUcpService.vehicle.options = a.configuration.options.sort();
                    selfUcpService.vehicle.configUrl = selfUcpService.configurationSettings.conBaseUrl + selfUcpService.configurationSettings.CON_OPEN_CONFIGURATION_ENDPOINT.replace(selfUcpService.CONST.CONFIGURL_PARAM, a.configId);
                    selfUcpService.vehicle.optionalEquipments = [];
                    for (var b = 0; b < selfUcpService.vehicle.options.length; b++) selfUcpService.vehicle.optionalEquipments.push({
                        code: selfUcpService.vehicle.options[b],
                        name: "",
                        netPrice: "",
                        grossPrice: "",
                        displayFlag: !0,
                        standard: ""
                    })
                }
                a.mandator && a.mandator.brand && (selfUcpService.configurationSettings.ucpservices.configs.context.brand = a.mandator.brand);
                selfUcpService.vehicle && selfUcpService.vehicle.modelCode ? F(selfUcpService.vehicle.modelCode).then(function() {
                    c.resolve(a)
                }, function() {
                    c.resolve(a)
                }) : c.resolve(a)
            }, function(a) {
                c.reject(a)
            });
            return c
        }
    }

    function u(a, b) {
        selfUcpService.vehicle.modelCode = a;
        selfUcpService.vehicle.modelBaseCode = a;
        selfUcpService.vehicle.options = b.sort();
        selfUcpService.vehicle.optionalEquipments = [];
        for (a = 0; a < selfUcpService.vehicle.options.length; a++) selfUcpService.vehicle.optionalEquipments.push({
            code: selfUcpService.vehicle.options[a],
            name: "",
            netPrice: "",
            grossPrice: "",
            displayFlag: !0,
            standard: ""
        })
    }

    function w(a, b) {
        if (null != a) {
            if (a && a.category === b) return a;
            if ((a = a.subNodes) && 0 < a.length) {
                var c = a.length - 1,
                    d = w(a[c], b);
                if (null != d) return d;
                for (; null == d && -1 < c;)
                    if (--c, d = w(a[c], b), null != d) return d
            }
        }
        return null
    }

    function r(a) {
        var b = new Date,
            c = x(b);
        if (a && selfUcpService.configurationDates[a]) {
            var d = Date.parse(selfUcpService.configurationDates[a].earliestEffectDate);
            d > b && (c = selfUcpService.configurationDates[a].earliestEffectDate)
        }
        return c
    }

    function x(a) {
        var b = new Date,
            c = b.getUTCFullYear(),
            d = b.getMonth() + 1,
            e = b.getDate();
        a && (c = a.getUTCFullYear(), d = b.getMonth() + 1, e = b.getDate());
        return "" + c + "-" + (10 > d ? "0" + d : d) + "-" + (10 > e ? "0" + e : e)
    }

    function v(a) {
        var b = g(),
            c = r(a.modelCode),
            d = selfUcpService.configurationSettings.ucpservices.configs;
        c = {
            settings: {
                priceTree: d.priceTree ? d.priceTree : "DEFAULT",
                ignoreInvalidOptionCodes: !0,
                ignoreInvalidOaIds: !0
            },
            validityDates: {
                effectDate: c,
                taxDate: x()
            },
            vehicleDatasource: {
                source: d.context.source,
                brand: d.context.brand,
                gfsPolicy: d.context.gfsPolicy,
                cluster: d.context.cluster
            },
            configuration: {
                model: a.modelCode,
                selectedOptions: a.options
            }
        };
        d = selfUcpService.configurationSettings.ucpV3BaseUrl + selfUcpService.configurationSettings.ucpservices.POST_PRICE_CALCULATION.replace(selfUcpService.CONST.COUNTRY_PARAM, selfUcpService.configurationSettings.ucpservices.configs.context.country);
        H(d, JSON.stringify(c)).then(function(c) {
                if (c) {
                    var d = w(c.priceTreeNode, selfUcpService.CONST.MODEL_AND_OPTION_TOTAL),
                        e = w(c.priceTreeNode, selfUcpService.CONST.MODEL_TOTAL);
                    c = w(c.priceTreeNode, selfUcpService.CONST.OPTION_TOTAL);
                    d && d.effectivePrice && (d = d.effectivePrice, a.totalNetPrice = "" + d.netPrice, a.totalGrossPrice = "" + d.grossPrice, a.grossPrice = "" + d.grossPrice);
                    e && e.effectivePrice && (e = e.effectivePrice, a.modelNetPrice = "" + e.netPrice, a.modelGrossPrice = "" + e.grossPrice);
                    if (c) {
                        if (e = c.effectivePrice) a.equipmentNetPrice = "" + e.netPrice, a.equipmentGrossPrice = "" + e.grossPrice;
                        e = c.subNodes;
                        a.optionalEquipments && t(e, a.optionalEquipments)
                    }
                    b.resolve(a)
                }
            },
            function(a) {
                b.resolve(a)
            });
        return b
    }

    function t(a, b) {
        if (b && 0 < a.length)
            for (var c = 0; c < a.length; c++) {
                var d = a[c];
                "OPTION" != d.category && 0 < d.subNodes.length && t(d.subNodes, b);
                if ("OPTION" == d.category)
                    for (var e = 0; e < b.length; e++) {
                        var f = b[e];
                        if (f.code == d.key && d.effectivePrice) {
                            f.netPrice = "" + d.effectivePrice.netPrice;
                            f.grossPrice = "" + d.effectivePrice.grossPrice;
                            break
                        }
                    }
            }
    }

    function A(a, b) {
        var c = selfUcpService.configurationSettings.ucpservices.GET_OPTIONS_INFORMATIONS,
            d = selfUcpService.configurationSettings.ucpservices.configs.context,
            e = r(a);
        b = b.sort().join(",");
        c = c.replace(selfUcpService.CONST.BRAND_PARAM, d.brand).replace(selfUcpService.CONST.SOURCE_PARAM, d.source).replace(selfUcpService.CONST.COUNTRY_PARAM, d.country).replace(selfUcpService.CONST.EFFECT_DATE_PARAM, e).replace(selfUcpService.CONST.ORDER_DATE_PARAM, e).replace(selfUcpService.CONST.APPLICATION_PARAM, d.application).replace(selfUcpService.CONST.MODEL_CODE_PARAM, a).replace(selfUcpService.CONST.LANGUAGE_PARAM, d.language).replace(selfUcpService.CONST.OPTIONS_PARAM, b);
        return selfUcpService.configurationSettings.ucpV3BaseUrl +
            c
    }

    function z(a) {
        var b = A(a.modelCode, a.options),
            c = g();
        T(b).then(function(b) {
            for (var d = 0; d < a.optionalEquipments.length; d++) {
                var e = a.optionalEquipments[d],
                    f = b[e.code];
                f && (f.phrases && (e.name = f.phrases.longDescription), e.displayFlag = 1 == f.displayTypeId, e.standard = "" + f.std, e.type = f.type, e.isPaint = "paint" == f.optionType, e.isFabric = "fabric" == f.optionType);
                e.isPaint && (a.paint = e);
                e.isFabric && (a.fabric = e)
            }
            c.resolve(b)
        }, function(a) {
            c.resolve(a)
        });
        return c
    }

    function B(a) {
        var b = r(a),
            c = selfUcpService.configurationSettings.ucpservices.configs.context;
        a = selfUcpService.configurationSettings.ucpservices.GET_RANGE_CODE.replace(selfUcpService.CONST.SOURCE_PARAM, c.source).replace(selfUcpService.CONST.BRAND_PARAM, c.brand).replace(selfUcpService.CONST.COUNTRY_PARAM, c.country).replace(selfUcpService.CONST.EFFECT_DATE_PARAM, b).replace(selfUcpService.CONST.ORDER_DATE_PARAM, b).replace(selfUcpService.CONST.MODEL_CODE_PARAM, a);
        return selfUcpService.configurationSettings.ucpV3BaseUrl + a
    }

    function E(a) {
        var b = B(a.modelCode),
            c = g();
        T(b).then(function(b) {
            a.modelRange =
                b.modelRange;
            a.agModelCode = b.agModelCode;
            a.series = b.series;
            a.bodyStyle = b.bodyStyle;
            a.baseModelCode = b.agModelCode;
            e(b.series).then(function(a) {
                c.resolve(a)
            }, function(a) {
                c.resolve(a)
            })
        }, function(a) {
            c.resolve(a)
        });
        return c
    }

    function y(a) {
        var b = r(a),
            c = selfUcpService.configurationSettings.ucpservices.configs.context;
        a = selfUcpService.configurationSettings.ucpservices.GET_MODEL_NAME.replace(selfUcpService.CONST.SOURCE_PARAM, c.source).replace(selfUcpService.CONST.BRAND_PARAM, c.brand).replace(selfUcpService.CONST.COUNTRY_PARAM,
            c.country).replace(selfUcpService.CONST.EFFECT_DATE_PARAM, b).replace(selfUcpService.CONST.APPLICATION_PARAM, c.application).replace(selfUcpService.CONST.LANGUAGE_PARAM, c.language).replace(selfUcpService.CONST.MODEL_CODE_PARAM, a);
        return selfUcpService.configurationSettings.ucpV3BaseUrl + a
    }

    function C(a, c) {
        a = y(a);
        var d = g();
        T(a).then(function(a) {
            b.extend(selfUcpService.modelsNames, a);
            c && c(a);
            d.resolve(a)
        }, function(a) {
            d.resolve(a)
        });
        return d
    }

    function O(a, b) {
        b = g();
        for (var c = [], d = 0; d < a.length; d++) {
            var e = a[d];
            var f = new Date(selfUcpService.configurationSettings.ucpservices.configs.context.effectDate);
            var h = new Date(selfUcpService.configurationDates[e.modelCode].latestEffectDate);
            f = f instanceof Date && !isNaN(f) && h instanceof Date && !isNaN(h) && f > h ? !1 : !0;
            f && c.push(e)
        }
        b.resolve(c);
        return b
    }

    function I(a) {
        var b = selfUcpService.configurationSettings.ucpservices.configs.context;
        a = selfUcpService.configurationSettings.ucpservices.MODELS.replace(selfUcpService.CONST.SOURCE_PARAM, b.source).replace(selfUcpService.CONST.BRAND_PARAM,
            b.brand).replace(selfUcpService.CONST.COUNTRY_PARAM, b.country).replace(selfUcpService.CONST.MODEL_CODE_PARAM, a);
        a = selfUcpService.configurationSettings.ucpV3BaseUrl + a;
        var c = g();
        T(a).then(function(a) {
            c.resolve(a)
        }, function(a) {
            c.reject(a)
        });
        return c
    }

    function F(a) {
        var c = g();
        I(a).then(function(a) {
            b.each(a, function(a, b) {
                !selfUcpService.configurationDates[a] && b && (selfUcpService.configurationDates[a] = b.configurationDates)
            });
            c.resolve(a)
        }, function(a) {
            c.resolve(a)
        });
        return c
    }

    function N(a) {
        var b = selfUcpService.configurationSettings.ucpservices.configs.context;
        a = selfUcpService.configurationSettings.ucpservices.GCDM_OWNER_CONFIGURATIONS.replace(selfUcpService.CONST.APPLICATION_PARAM, b.application).replace(selfUcpService.CONST.BRAND_PARAM, b.brand).replace(selfUcpService.CONST.COUNTRY_PARAM, b.country).replace(selfUcpService.CONST.GCDM_TOKEN, a);
        selfUcpService.configurationSettings.gcdmBackendUrl && 0 < selfUcpService.configurationSettings.gcdmBackendUrl.length && (a = a + "?gcdm-environment\x3d" + selfUcpService.configurationSettings.gcdmBackendUrl);
        return selfUcpService.configurationSettings.ucpV3BaseUrl +
            a
    }

    function K(a) {
        a = N(a);
        var b = g(),
            c = [];
        T(a).then(function(a) {
            if (a) {
                var d = [],
                    e = "",
                    f;
                for (f in a) {
                    var g = a[f].configuration.modelCode;
                    garageEntry = {
                        configUrl: a[f].configId,
                        modelCode: g,
                        created: a[f].metadata.creationDate,
                        lastUpdate: a[f].metadata.lastModified,
                        note: a[f].note1 || a[f].note2,
                        options: a[f].configuration.options.sort(),
                        optionalEquipments: []
                    };
                    for (var h = 0; h < garageEntry.options.length; h++) garageEntry.optionalEquipments.push({
                        code: garageEntry.options[h]
                    }); - 1 == d.indexOf(g) && d.push(a[f].configuration.modelCode);
                    c.push(garageEntry)
                }
                0 < d.length && (e = d.sort().join(","));
                F(d).then(function() {
                    O(c).then(function(a) {
                        c = a;
                        C(e).then(function() {
                            Q(c).then(function() {
                                b.resolve(c)
                            }, function() {
                                b.resolve(c)
                            })
                        }, function() {
                            Q(c).then(function() {
                                b.resolve(c)
                            }, function() {
                                b.resolve(c)
                            })
                        })
                    })
                }, function() {
                    Q(c).then(function() {
                        b.resolve(c)
                    }, function() {
                        b.resolve(c)
                    })
                })
            }
        });
        return b
    }

    function Q(a) {
        for (var c = [], d = g(), e = 0; e < a.length; e++) {
            var f = a[e];
            c.push(v(f).promise());
            c.push(E(f).promise());
            c.push(q(f).promise());
            c.push(z(f).promise())
        }
        b.when.apply(b,
            c).done(function() {
            for (var b = 0; b < a.length; b++) {
                var c = a[b].modelCode;
                selfUcpService.modelsNames && selfUcpService.modelsNames[c] && selfUcpService.modelsNames[c].phrases && (a[b].vehicleName = selfUcpService.modelsNames[c].phrases.longDescription, a[b].note || (a[b].note = selfUcpService.modelsNames[c].phrases.longDescription))
            }
            d.resolve()
        }, function() {
            d.resolve()
        });
        return d
    }

    function G(a, b) {
        var c = selfUcpService.configurationSettings.ucpservices.configs.context;
        b || (b = c.brand);
        a = selfUcpService.configurationSettings.ucpservices.GCDM_OWNER_CONFIGURATIONS.replace(selfUcpService.CONST.APPLICATION_PARAM,
            c.application).replace(selfUcpService.CONST.BRAND_PARAM, b).replace(selfUcpService.CONST.COUNTRY_PARAM, c.country).replace(selfUcpService.CONST.GCDM_TOKEN, a);
        return selfUcpService.configurationSettings.ucpV3BaseUrl + a
    }

    function J(a, b) {
        a = G(a, b.brand);
        var c = g();
        H(a, JSON.stringify({
            configuration: {
                modelCode: b.modelCode,
                options: b.selectedFeatures
            },
            note1: b.note
        })).then(function(a) {
            a && c.resolve({
                baseConfigUrl: a.configId
            })
        }, function(a) {
            c.reject(a)
        });
        return c
    }

    function V(a, b) {
        var c = selfUcpService.configurationSettings.ucpservices.configs.context;
        a = selfUcpService.configurationSettings.ucpservices.UPDATE_GARAGE_VEHICLE.replace(selfUcpService.CONST.APPLICATION_PARAM, c.application).replace(selfUcpService.CONST.BRAND_PARAM, c.brand).replace(selfUcpService.CONST.COUNTRY_PARAM, c.country).replace(selfUcpService.CONST.GCDM_TOKEN, a).replace(selfUcpService.CONST.CONFIG_ID, b);
        return selfUcpService.configurationSettings.ucpV3BaseUrl + a
    }

    function M(a, b) {
        var d = g();
        a = V(a, b);
        ba(a, selfUcpService.CONST.DELETE, null, c()).then(function() {
                d.resolve({
                    status: "OK"
                })
            },
            function() {
                d.reject()
            });
        return d
    }

    function R(a, b) {
        var c = g(),
            d = V(a, b.configUrl),
            e = {
                configuration: {
                    modelCode: b.modelCode.value,
                    options: b.options
                },
                note1: b.note
            };
        T(d).then(function(a) {
            a && !e.note1 && (e.note1 = a.note1);
            U(d, JSON.stringify(e)).then(function(a) {
                c.resolve({
                    configUrl: b.configUrl,
                    modelCode: b.modelCode.value,
                    options: b.options,
                    note: e.note1,
                    created: a.creationDate,
                    lastUpdate: a.lastUpdate
                })
            }, function(a) {
                c.reject(a)
            })
        }, function(a) {
            c.reject(a)
        });
        return c
    }

    function H(a, b) {
        return ba(a, selfUcpService.CONST.POST,
            b, c())
    }

    function T(a) {
        return ba(a, selfUcpService.CONST.GET, null, c())
    }

    function U(a, b) {
        return ba(a, selfUcpService.CONST.PUT, b, c())
    }

    function ba(a, c, d, e) {
        var f = g(),
            h = "json"; - 1 < selfUcpService.CONST.DELETE.indexOf(c) && (h = "text");
        b.ajax({
            url: a,
            type: c,
            data: d,
            dataType: h,
            headers: e
        }).done(function(a) {
            f.resolve(a)
        }).fail(function(a, b, c) {
            console.log("call failed", b);
            f.reject(b)
        });
        return f
    }

    function Y() {
        var a = g(),
            c = [];
        c.push(v(selfUcpService.vehicle).promise());
        c.push(z(selfUcpService.vehicle).promise());
        c.push(E(selfUcpService.vehicle).promise());
        c.push(C(selfUcpService.vehicle.modelCode, null).promise());
        c.push(m(selfUcpService.vehicle).promise());
        b.when.apply(b, c).done(function() {
            selfUcpService.modelsNames[selfUcpService.vehicle.modelCode] && selfUcpService.modelsNames[selfUcpService.vehicle.modelCode].phrases && (selfUcpService.vehicle.modelName = selfUcpService.modelsNames[selfUcpService.vehicle.modelCode].phrases.longDescription);
            a.resolve(selfUcpService.vehicle)
        }, function() {
            a.resolve(selfUcpService.vehicle)
        });
        return a
    }

    function ca() {
        var a = selfUcpService.configurationSettings.ucpservices.configs.context;
        a = selfUcpService.configurationSettings.ucpservices.GARAGE_SAVE_ANONYMOUS.replace(selfUcpService.CONST.APPLICATION_PARAM, a.application).replace(selfUcpService.CONST.BRAND_PARAM, a.brand).replace(selfUcpService.CONST.COUNTRY_PARAM, a.country);
        return selfUcpService.configurationSettings.ucpV3BaseUrl + a
    }
    this.configurationSettings = {
        ucpservices: {
            GET_SAVED_VEHICLE_BY_CONFIGURL: "/garage/public-configurations/{configUrl}",
            GET_OPTIONS_INFORMATIONS: "/localisations/overridden-vehicle-data/sources/{source}/brands/{brand}/countries/{country}/effect-dates/{effectDate}/order-dates/{orderDate}/applications/{application}/models/{modelCode}/options/languages/{language}?option-list\x3d{options}",
            GET_MODEL_NAME: "/localisations/merged-phrases/sources/{source}/brands/{brand}/countries/{country}/effect-dates/{effectDate}/applications/{application}/models/languages/{language}?model-list\x3d{modelCode}",
            GET_RANGE_CODE: "/vehicles/sources/{source}/brands/{brand}/countries/{country}/effect-dates/{effectDate}/order-dates/{orderDate}/models/{modelCode}",
            POST_PRICE_CALCULATION: "/pricing/calculation/public-calculation/countries/{country}",
            GET_SERIES_NAME: "/localisations/merged-phrases/sources/{source}/brands/{brand}/countries/{country}/effect-dates/{effectDate}/applications/{application}/series/languages/{language}?cluster\x3d{cluster}\x26gfs-policy\x3d{gfsPolicy}",
            GET_COSY_IMAGES: "/image-urls/applications/{application}/collections/VEHICLE/app-short/{appShort}/brands/{brand}/dynamic-images/models/{modelCode}?included-options\x3d{options}",
            GCDM_OWNER_CONFIGURATIONS: "/garage/applications/{application}/brands/{brand}/countries/{country}/gcdm-owners/{gcdmToken}/configurations",
            UPDATE_GARAGE_VEHICLE: "/garage/applications/{application}/brands/{brand}/countries/{country}/gcdm-owners/{gcdmToken}/configurations/{configId}",
            GET_COSY_GARAGE_IMAGES: "/image-urls/applications/{application}/collections/GARAGE/app-short/{appShort}/brands/{brand}/dynamic-images/models/{modelCode}?included-options\x3d{options}",
            GARAGE_SAVE_ANONYMOUS: "/garage/applications/{application}/brands/{brand}/countries/{country}/anon-configurations",
            MODELS: "/vehicles/sources/{source}/brands/{brand}/countries/{country}/models?vg-model-codes\x3d{modelCode}"
        },
        ucpV3BaseUrl: void 0,
        CON_OPEN_CONFIGURATION_ENDPOINT: "/configid/{configUrl}",
        PDH_SETTING_ENDPOINT: "/pdh/settings/v1.0/ucpv3"
    };
    b.extend(this.configurationSettings, f);
    this.CONST = {
        CONFIGURL_PARAM: "{configUrl}",
        BRAND_PARAM: "{brand}",
        COUNTRY_PARAM: "{country}",
        EFFECT_DATE_PARAM: "{effectDate}",
        ORDER_DATE_PARAM: "{orderDate}",
        APPLICATION_PARAM: "{application}",
        MODEL_CODE_PARAM: "{modelCode}",
        LANGUAGE_PARAM: "{language}",
        LOCALE_PARAM: "{locale}",
        OPTIONS_PARAM: "{options}",
        SOURCE_PARAM: "{source}",
        CLUSTER_PARAM: "{cluster}",
        GFSPOLICY_PARAM: "{gfsPolicy}",
        APPSHORT_PARAM: "{appShort}",
        GCDM_TOKEN: "{gcdmToken}",
        CONFIG_ID: "{configId}",
        GET: "GET",
        POST: "POST",
        PUT: "PUT",
        DELETE: "DELETE",
        MODEL_AND_OPTION_TOTAL: "MODEL_AND_OPTION_TOTAL",
        MODEL_TOTAL: "MODEL_TOTAL",
        OPTION_TOTAL: "OPTION_TOTAL",
        SMALL_VEHICLE_34_VIEW: "SMALL_VEHICLE_34_VIEW",
        FRONTSIDE_VIEW: "FRONTSIDE_VIEW",
        VEHICLE: "VEHICLE",
        GARAGE: "GARAGE",
        DT_GARGE: "DT_GARAGE",
        P_GARGE: "P_GARAGE"
    };
    this.vehicle = {};
    this.modelsNames = {};
    this.configurationDates = {};
    selfUcpService = this;
    this.getVehicleByModelCodeAndOptions = function(a, b) {
        var c = g(),
            d;
        if (a && b && 0 != b.length) return this.configurationSettings.ucpservices.configs || (d = k()), d ? d.then(function() {
            u(a, b);
            Y(a, b).then(function(a) {
                c.resolve(a)
            })
        }) : (u(a, b), Y(a, b).then(function(a) {
            c.resolve(a)
        })), c
    };
    this.getVehicle = function(a) {
        var b = g(),
            c;
        this.configurationSettings.ucpservices.configs ||
            (c = k());
        c ? c.then(function() {
            l(a).then(function() {
                Y().then(function(a) {
                    b.resolve(a)
                })
            })
        }) : l(a).then(function() {
            Y().then(function(a) {
                b.resolve(a)
            })
        });
        return b
    };
    this.listVehicles = function(a) {
        var b = g(),
            c;
        this.configurationSettings.ucpservices.configs || (c = k());
        c ? c.then(function() {
            K(a).then(function(a) {
                b.resolve(a)
            })
        }) : K(a).then(function(a) {
            b.resolve(a)
        });
        return b
    };
    this.createVehicle = function(a, b) {
        var c = g(),
            d;
        this.configurationSettings.ucpservices.configs || (d = k());
        d ? d.then(function() {
            J(a, b).then(function(a) {
                    c.resolve(a)
                },
                function(a) {
                    c.reject(a)
                })
        }) : J(a, b).then(function(a) {
            c.resolve(a)
        }, function(a) {
            c.reject(a)
        });
        return c
    };
    this.updateVehicle = function(a, b) {
        var c = g(),
            d;
        this.configurationSettings.ucpservices.configs || (d = k());
        d ? d.then(function() {
            R(a, b).then(function(a) {
                c.resolve(a)
            }, function(a) {
                c.reject(a)
            })
        }) : R(a, b).then(function(a) {
            c.resolve(a)
        }, function(a) {
            c.reject(a)
        });
        return c
    };
    this.deleteVehicle = function(a, b) {
        var c = g(),
            d;
        this.configurationSettings.ucpservices.configs || (d = k());
        d ? d.then(function() {
            M(a, b).then(function(a) {
                    c.resolve(a)
                },
                function(a) {
                    c.reject(a)
                })
        }) : M(a, b).then(function(a) {
            c.resolve(a)
        }, function(a) {
            c.reject(a)
        });
        return c
    };
    this.getModelNameForModelCode = function(a) {
        var b = g(),
            c;
        this.configurationSettings.ucpservices.configs || (c = k());
        c && c.then(function() {
            C(a, function(c) {
                c[a] && c[a].phrases && b.resolve(c[a].phrases.longDescription)
            })
        });
        return b
    };
    this.saveAnonymousConfig = function(a, b) {
        var c = g();
        this.initialize().then(function() {
            var d = ca();
            H(d, JSON.stringify({
                configuration: {
                    modelCode: a,
                    options: b
                }
            })).then(function(a) {
                    a && c.resolve({
                        configId: a.configId
                    })
                },
                function(a) {
                    c.reject(a)
                })
        });
        return c
    };
    this.isModelAvailable = function(a) {
        var b = g();
        this.initialize().then(function() {
            I(a).then(function(c) {
                c ? b.resolve(!!c[a]) : b.resolve(!1)
            }, function(a) {
                b.reject(a)
            })
        });
        return b
    };
    this.initialize = function() {
        var a = g();
        this.configurationSettings.ucpservices.configs ? a.resolve() : k().then(function() {
            a.resolve()
        });
        return a
    }
};
(function() {})();
"use strict";
String.prototype.startsWith || (String.prototype.startsWith = function(b) {
    return 0 === this.indexOf(b)
});
(function(b) {
    b.location.origin || (b.location.origin = b.location.protocol + "//" + b.location.hostname + (b.location.port ? ":" + b.location.port : ""))
})(window);
window.matchMedia || (window.matchMedia = function() {
    var b = window.styleMedia || window.media;
    if (!b) {
        var f = document.createElement("style"),
            k = document.getElementsByTagName("script")[0],
            g = null;
        f.type = "text/css";
        f.id = "matchmediajs-test";
        k.parentNode.insertBefore(f, k);
        g = "getComputedStyle" in window && window.getComputedStyle(f, null) || f.currentStyle;
        b = {
            matchMedium: function(b) {
                b = "@media " + b + "{ #matchmediajs-test { width: 1px; } }";
                f.styleSheet ? f.styleSheet.cssText = b : f.textContent = b;
                return "1px" === g.width
            }
        }
    }
    return function(c) {
        return {
            matches: b.matchMedium(c ||
                "all"),
            media: c || "all"
        }
    }
}());
(function() {
    if (window.matchMedia && window.matchMedia("all").addListener) return !1;
    var b = window.matchMedia,
        f = b("only all").matches,
        k = !1,
        g = 0,
        c = [],
        a = function(a) {
            clearTimeout(g);
            g = setTimeout(function() {
                for (var a = 0, d = c.length; a < d; a++) {
                    var f = c[a].mql,
                        g = c[a].listeners || [],
                        k = b(f.media).matches;
                    if (k !== f.matches) {
                        f.matches = k;
                        k = 0;
                        for (var l = g.length; k < l; k++) g[k].call(window, f)
                    }
                }
            }, 30)
        };
    window.matchMedia = function(d) {
        var e = b(d),
            g = [],
            m = 0;
        e.addListener = function(b) {
            f && (k || (k = !0, window.addEventListener("resize", a, !0)),
                0 === m && (m = c.push({
                    mql: e,
                    listeners: g
                })), g.push(b))
        };
        e.removeListener = function(a) {
            for (var b = 0, c = g.length; b < c; b++) g[b] === a && g.splice(b, 1)
        };
        return e
    }
})();
var dateFormat = function() {
    var b = /d{1,4}|M{1,4}|yy(?:yy)?|([HhmsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,
        f = /\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,
        k = /[^-+\dA-Z]/g,
        g = function(b, a) {
            b = String(b);
            for (a = a || 2; b.length < a;) b = "0" + b;
            return b
        };
    return function(c, a, d) {
        var e = dateFormat;
        1 != arguments.length || "[object String]" != Object.prototype.toString.call(c) || /\d/.test(c) || (a = c, c = void 0);
        c = c ? new Date(c) : new Date;
        if (isNaN(c)) throw SyntaxError("invalid date");
        a = String(e.masks[a] || a || e.masks["default"]);
        "UTC:" == a.slice(0, 4) && (a = a.slice(4), d = !0);
        var h = d ? "getUTC" : "get",
            m = c[h + "Date"](),
            p = c[h + "Day"](),
            q = c[h + "Month"](),
            l = c[h + "FullYear"](),
            u = c[h + "Hours"](),
            w = c[h + "Minutes"](),
            r = c[h + "Seconds"]();
        h = c[h + "Milliseconds"]();
        var x = d ? 0 : c.getTimezoneOffset(),
            v = {
                d: m,
                dd: g(m),
                ddd: e.i18n.dayNames[p],
                dddd: e.i18n.dayNames[p + 7],
                M: q + 1,
                MM: g(q + 1),
                MMM: e.i18n.monthNames[q],
                MMMM: e.i18n.monthNames[q + 12],
                yy: String(l).slice(2),
                yyyy: l,
                h: u % 12 || 12,
                hh: g(u % 12 || 12),
                H: u,
                HH: g(u),
                m: w,
                mm: g(w),
                s: r,
                ss: g(r),
                l: g(h, 3),
                L: g(99 < h ? Math.round(h / 10) : h),
                t: 12 > u ? "a" : "p",
                tt: 12 > u ? "am" : "pm",
                T: 12 > u ? "A" : "P",
                TT: 12 > u ? "AM" : "PM",
                Z: d ? "UTC" : (String(c).match(f) || [""]).pop().replace(k, ""),
                o: (0 < x ? "-" : "+") + g(100 * Math.floor(Math.abs(x) / 60) + Math.abs(x) % 60, 4),
                S: ["th", "st", "nd", "rd"][3 < m % 10 ? 0 : (10 != m % 100 - m % 10) * m % 10]
            };
        return a.replace(b, function(a) {
            return a in v ? v[a] : a.slice(1, a.length - 1)
        })
    }
}();
dateFormat.masks = {
    "default": "ddd mmm dd yyyy HH:MM:ss",
    shortDate: "m/d/yy",
    mediumDate: "mmm d, yyyy",
    longDate: "mmmm d, yyyy",
    fullDate: "dddd, mmmm d, yyyy",
    shortTime: "h:MM TT",
    mediumTime: "h:MM:ss TT",
    longTime: "h:MM:ss TT Z",
    isoDate: "yyyy-mm-dd",
    isoTime: "HH:MM:ss",
    isoDateTime: "yyyy-mm-dd'T'HH:MM:ss",
    isoUtcDateTime: "UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"
};
dateFormat.i18n = {
    dayNames: "Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
    monthNames: "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")
};
Date.prototype.format = function(b, f) {
    return dateFormat(this, b, f)
};
(function(b) {
    function f(a, b) {
        var c;
        b = b || 101;
        var d = [];
        for (c = 0; c < b + 1; c++) d[c] = a.call(null, c / b);
        return function(a) {
            if (1 === a) return d[b];
            a *= b;
            var c = Math.floor(a),
                e = d[c];
            return e + (d[c + 1] - e) * (a - c)
        }
    }

    function k(a, b, c, f, g, k) {
        function d(a, b) {
            var c;
            var d = a;
            for (c = 0; 8 > c; c++) {
                var f = ((e * d + h) * d + m) * d - a;
                if ((0 <= f ? f : 0 - f) < b) return d;
                var g = (3 * e * d + 2 * h) * d + m;
                if (1E-6 > (0 <= g ? g : 0 - g)) break;
                d -= f / g
            }
            g = 0;
            c = 1;
            d = a;
            if (d < g) return g;
            if (d > c) return c;
            for (; g < c;) {
                f = ((e * d + h) * d + m) * d;
                var l = f - a;
                if ((0 <= l ? l : 0 - l) < b) break;
                a > f ? g = d : c = d;
                d = .5 * (c - g) + g
            }
            return d
        }
        var e = 0,
            h = 0,
            m = 0,
            r = 0,
            x = 0,
            v = 0;
        m = 3 * b;
        h = 3 * (f - b) - m;
        e = 1 - m - h;
        v = 3 * c;
        x = 3 * (g - c) - v;
        r = 1 - v - x;
        return function(a, b) {
            a = d(a, b);
            return ((r * a + x) * a + v) * a
        }(a, 1 / (200 * k))
    }
    var g = "Quad Cubic Quart Quint Sine Expo Circ".split(" ");
    b.easie = function(a, c, e, g, m, p) {
        m = m || ["easie", a, c, e, g].join("-");
        if (!b.easing[m] || p) {
            var d = f(function(b) {
                return k(b, a, c, e, g, 5)
            });
            b.easing[m] = function(a, b, c, e) {
                return d.call(null, a)
            };
            b.easing[m].params = [a, c, e, g]
        }
        return m
    };
    var c = b.easie;
    c(0, 0, 1, 1, "easieLinear");
    c(.25, .1, .25, 1, "easieEase");
    c(.42, 0, 1, 1,
        "easieEaseIn");
    c(0, 0, .58, 1, "easieEaseOut");
    c(.42, 0, .58, 1, "easieEaseInOut");
    c(.55, .085, .68, .53, "easieEaseIn" + g[0]);
    c(.55, .055, .675, .19, "easieEaseIn" + g[1]);
    c(.895, .03, .685, .22, "easieEaseIn" + g[2]);
    c(.755, .05, .855, .06, "easieEaseIn" + g[3]);
    c(.47, 0, .745, .715, "easieEaseIn" + g[4]);
    c(.95, .05, .795, .035, "easieEaseIn" + g[5]);
    c(.6, .04, .98, .335, "easieEaseIn" + g[6]);
    c(.25, .46, .45, .94, "easieEaseOut" + g[0]);
    c(.215, .61, .355, 1, "easieEaseOut" + g[1]);
    c(.165, .84, .44, 1, "easieEaseOut" + g[2]);
    c(.23, 1, .32, 1, "easieEaseOut" + g[3]);
    c(.39, .575, .565, 1, "easieEaseOut" + g[4]);
    c(.19, 1, .22, 1, "easieEaseOut" + g[5]);
    c(.075, .82, .165, 1, "easieEaseOut" + g[6]);
    c(.455, .03, .515, .955, "easieEaseInOut" + g[0]);
    c(.645, .045, .355, 1, "easieEaseInOut" + g[1]);
    c(.77, 0, .175, 1, "easieEaseInOut" + g[2]);
    c(.86, 0, .07, 1, "easieEaseInOut" + g[3]);
    c(.445, .05, .55, .95, "easieEaseInOut" + g[4]);
    c(1, 0, 0, 1, "easieEaseInOut" + g[5]);
    c(.785, .135, .15, .86, "easieEaseInOut" + g[6])
})(jQuery);
! function(b) {
    function f(a) {
        return "number" == typeof a && !isNaN(a) && isFinite(a)
    }

    function k(a, b, c) {
        a.addClass(b);
        setTimeout(function() {
            a.removeClass(b)
        }, c)
    }

    function g(a) {
        return b.isArray(a) ? a : [a]
    }

    function c(a, b) {
        return 100 * b / (a[1] - a[0])
    }

    function a(a, b) {
        for (var c = 1; a >= b[c];) c += 1;
        return c
    }

    function d(a, b, c) {
        var d;
        if ("number" == typeof b && (b = [b]), "[object Array]" !== Object.prototype.toString.call(b)) throw Error("noUiSlider: 'range' contains invalid value.");
        if (d = "min" === a ? 0 : "max" === a ? 100 : parseFloat(a), !f(d) ||
            !f(b[0])) throw Error("noUiSlider: 'range' value isn't numeric.");
        c.xPct.push(d);
        c.xVal.push(b[0]);
        d ? c.xSteps.push(isNaN(b[1]) ? !1 : b[1]) : isNaN(b[1]) || (c.xSteps[0] = b[1])
    }

    function e(a, b, d) {
        return b ? void(d.xSteps[a] = c([d.xVal[a], d.xVal[a + 1]], b) / (100 / (d.xPct[a + 1] - d.xPct[a]))) : !0
    }

    function h(a, b, c, f) {
        this.xPct = [];
        this.xVal = [];
        this.xSteps = [f || !1];
        this.xNumSteps = [!1];
        this.snap = b;
        this.direction = c;
        var g;
        b = [];
        for (g in a) a.hasOwnProperty(g) && b.push([a[g], g]);
        b.sort(function(a, b) {
            return a[0] - b[0]
        });
        for (g = 0; g < b.length; g++) d(b[g][1],
            b[g][0], this);
        this.xNumSteps = this.xSteps.slice(0);
        for (g = 0; g < this.xNumSteps.length; g++) e(g, this.xNumSteps[g], this)
    }

    function m(a, b) {
        if (!f(b)) throw Error("noUiSlider: 'step' is not numeric.");
        a.singleStep = b
    }

    function p(a, c) {
        if ("object" != typeof c || b.isArray(c)) throw Error("noUiSlider: 'range' is not an object.");
        if (void 0 === c.min || void 0 === c.max) throw Error("noUiSlider: Missing 'min' or 'max' in 'range'.");
        a.spectrum = new h(c, a.snap, a.dir, a.singleStep)
    }

    function q(a, c) {
        if (c = g(c), !b.isArray(c) || !c.length ||
            2 < c.length) throw Error("noUiSlider: 'start' option is incorrect.");
        a.handles = c.length;
        a.start = c
    }

    function l(a, b) {
        if (a.snap = b, "boolean" != typeof b) throw Error("noUiSlider: 'snap' option must be a boolean.");
    }

    function u(a, b) {
        if (a.animate = b, "boolean" != typeof b) throw Error("noUiSlider: 'animate' option must be a boolean.");
    }

    function w(a, b) {
        if ("lower" === b && 1 === a.handles) a.connect = 1;
        else if ("upper" === b && 1 === a.handles) a.connect = 2;
        else if (!0 === b && 2 === a.handles) a.connect = 3;
        else {
            if (!1 !== b) throw Error("noUiSlider: 'connect' option doesn't match handle count.");
            a.connect = 0
        }
    }

    function r(a, b) {
        switch (b) {
            case "horizontal":
                a.ort = 0;
                break;
            case "vertical":
                a.ort = 1;
                break;
            default:
                throw Error("noUiSlider: 'orientation' option is invalid.");
        }
    }

    function x(a, b) {
        if (!f(b)) throw Error("noUiSlider: 'margin' option must be numeric.");
        if (a.margin = a.spectrum.getMargin(b), !a.margin) throw Error("noUiSlider: 'margin' option is only supported on linear sliders.");
    }

    function v(a, b) {
        if (!f(b)) throw Error("noUiSlider: 'limit' option must be numeric.");
        if (a.limit = a.spectrum.getMargin(b),
            !a.limit) throw Error("noUiSlider: 'limit' option is only supported on linear sliders.");
    }

    function t(a, b) {
        switch (b) {
            case "ltr":
                a.dir = 0;
                break;
            case "rtl":
                a.dir = 1;
                a.connect = [0, 2, 1, 3][a.connect];
                break;
            default:
                throw Error("noUiSlider: 'direction' option was not recognized.");
        }
    }

    function A(a, b) {
        if ("string" != typeof b) throw Error("noUiSlider: 'behaviour' must be a string containing options.");
        var c = 0 <= b.indexOf("tap"),
            d = 0 <= b.indexOf("drag"),
            e = 0 <= b.indexOf("fixed");
        b = 0 <= b.indexOf("snap");
        a.events = {
            tap: c || b,
            drag: d,
            fixed: e,
            snap: b
        }
    }

    function z(a, b) {
        if (a.format = b, "function" == typeof b.to && "function" == typeof b.from) return !0;
        throw Error("noUiSlider: 'format' requires 'to' and 'from' methods.");
    }

    function B(a) {
        var c, d = {
            margin: 0,
            limit: 0,
            animate: !0,
            format: R
        };
        return c = {
            step: {
                r: !1,
                t: m
            },
            start: {
                r: !0,
                t: q
            },
            connect: {
                r: !0,
                t: w
            },
            direction: {
                r: !0,
                t: t
            },
            snap: {
                r: !1,
                t: l
            },
            animate: {
                r: !1,
                t: u
            },
            range: {
                r: !0,
                t: p
            },
            orientation: {
                r: !1,
                t: r
            },
            margin: {
                r: !1,
                t: x
            },
            limit: {
                r: !1,
                t: v
            },
            behaviour: {
                r: !0,
                t: A
            },
            format: {
                r: !1,
                t: z
            }
        }, a = b.extend({
            connect: !1,
            direction: "ltr",
            behaviour: "tap",
            orientation: "horizontal"
        }, a), b.each(c, function(b, c) {
            if (void 0 === a[b]) {
                if (c.r) throw Error("noUiSlider: '" + b + "' is required.");
                return !0
            }
            c.t(d, a[b])
        }), d.style = d.ort ? "top" : "left", d
    }

    function E(a, c) {
        var d = b("\x3cdiv\x3e\x3cdiv/\x3e\x3c/div\x3e").addClass(M[2]),
            e = ["-lower", "-upper"];
        return a && e.reverse(), d.children().addClass(M[3] + " " + M[3] + e[c]), d
    }

    function y(a, b, c) {
        switch (a) {
            case 1:
                b.addClass(M[7]);
                c[0].addClass(M[6]);
                break;
            case 3:
                c[1].addClass(M[6]);
            case 2:
                c[0].addClass(M[7]);
            case 0:
                b.addClass(M[6])
        }
    }

    function C(a, b, c) {
        var d, e = [];
        for (d = 0; a > d; d += 1) e.push(E(b, d).appendTo(c));
        return e
    }

    function O(a, c, d) {
        return d.addClass([M[0], M[8 + a], M[4 + c]].join(" ")), b("\x3cdiv/\x3e").appendTo(d).addClass(M[1])
    }

    function I(a, c, d) {
        function e() {
            return w[["width", "height"][c.ort]]()
        }

        function f(a) {
            var b, c = [z.val()];
            for (b = 0; b < a.length; b += 1) z.trigger(a[b], c)
        }

        function h(a) {
            return 1 === a.length ? a[0] : c.dir ? a.reverse() : a
        }

        function l(a) {
            return function(b, c) {
                z.val([a ? null : c, a ? c : null], !0)
            }
        }

        function r(a) {
            var c =
                b.inArray(a, E);
            z[0].linkAPI && z[0].linkAPI[a] && z[0].linkAPI[a].change(u[c], F[c].children(), z)
        }

        function m(a, b, d, e) {
            return a = a.replace(/\s/g, J + " ") + J, b.on(a, function(a) {
                if (z.attr("disabled")) a = !1;
                else {
                    if (z.hasClass(M[14])) var b = !1;
                    else {
                        var f = a;
                        f.preventDefault();
                        var g, h;
                        b = 0 === f.type.indexOf("touch");
                        var l = 0 === f.type.indexOf("mouse"),
                            r = 0 === f.type.indexOf("pointer"),
                            k = f;
                        b = (a = (0 === f.type.indexOf("MSPointer") && (r = !0), f.originalEvent && (f = f.originalEvent), b && (g = f.changedTouches[0].pageX, h = f.changedTouches[0].pageY),
                            (l || r) && (r || void 0 !== window.pageXOffset || (window.pageXOffset = document.documentElement.scrollLeft, window.pageYOffset = document.documentElement.scrollTop), g = f.clientX + window.pageXOffset, h = f.clientY + window.pageYOffset), k.points = [g, h], k.cursor = l, k), a.calcPoint = a.points[c.ort], void d(a, e))
                    }
                    a = b
                }
                return a
            })
        }

        function v(a, b) {
            var c = b.handles || F,
                d = 100 * (a.calcPoint - b.start) / e();
            a = c[0][0] !== F[0][0] ? 1 : 0;
            var g = b.positions;
            b = d + g[0];
            g = d + g[1];
            d = 1 < c.length ? (0 > b && (g += Math.abs(b)), 100 < g && (b -= g - 100), [Math.max(Math.min(b,
                100), 0), Math.max(Math.min(g, 100), 0)]) : [b, g];
            b = p(c[0], d[a], 1 === c.length);
            1 < c.length && (b = p(c[1], d[a ? 0 : 1], !1) || b);
            b && f(["slide"])
        }

        function x(a) {
            b("." + M[15]).removeClass(M[15]);
            a.cursor && b("body").css("cursor", "").off(J);
            Q.off(J);
            z.removeClass(M[12]);
            f(["set", "change"])
        }

        function t(a, c) {
            1 === c.handles.length && c.handles[0].children().addClass(M[15]);
            a.stopPropagation();
            m(V.move, Q, v, {
                start: a.calcPoint,
                handles: c.handles,
                positions: [q[0], q[F.length - 1]]
            });
            m(V.end, Q, x, null);
            a.cursor && (b("body").css("cursor", b(a.target).css("cursor")),
                1 < F.length && z.addClass(M[12]), b("body").on("selectstart" + J, !1))
        }

        function B(a) {
            var d = a.calcPoint;
            var g = 0;
            a.stopPropagation();
            b.each(F, function() {
                g += this.offset()[c.style]
            });
            g = g / 2 > d || 1 === F.length ? 0 : 1;
            d -= w.offset()[c.style];
            d = 100 * d / e();
            c.events.snap || k(z, M[14], 300);
            p(F[g], d);
            f(["slide", "set", "change"]);
            c.events.snap && t(a, {
                handles: [F[g]]
            })
        }

        function p(a, b, d) {
            var e = a[0] !== F[0][0] ? 1 : 0,
                f = q[0] + c.margin,
                g = q[1] - c.margin,
                h = q[0] + c.limit,
                l = q[1] - c.limit;
            return 1 < F.length && (b = e ? Math.max(b, f) : Math.min(b, g)), !1 !==
                d && c.limit && 1 < F.length && (b = e ? Math.min(b, h) : Math.max(b, l)), b = A.getStep(b), b = Math.max(Math.min(parseFloat(b.toFixed(7)), 100), 0), b === q[e] ? !1 : (a.css(c.style, b + "%"), a.is(":first-child") && a.toggleClass(M[17], 50 < b), q[e] = b, u[e] = A.fromStepping(b), r(E[e]), !0)
        }
        var z = b(a),
            q = [-1, -1],
            A = c.spectrum,
            u = [],
            E = ["lower", "upper"].slice(0, c.handles);
        if (c.dir && E.reverse(), a.LinkUpdate = r, a.LinkConfirm = function(a, d) {
                a = b.inArray(a, E);
                return d && d.appendTo(F[a].children()), c.dir && 1 < c.handles && (a = 1 === a ? 0 : 1), l(a)
            }, a.LinkDefaultFormatter =
            c.format, a.LinkDefaultFlag = "lower", a.reappend = function() {
                var a, b;
                for (a = 0; a < E.length; a += 1) this.linkAPI && this.linkAPI[b = E[a]] && this.linkAPI[b].reconfirm(b)
            }, z.hasClass(M[0])) throw Error("Slider was already initialized.");
        var w = O(c.dir, c.ort, z);
        var F = C(c.handles, c.dir, w);
        y(c.connect, z, F);
        (function(a) {
            var b, c;
            if (!a.fixed)
                for (b = 0; b < F.length; b += 1) m(V.start, F[b].children(), t, {
                    handles: [F[b]]
                });
            a.tap && m(V.start, w, B, {
                handles: F
            });
            a.drag && (c = w.find("." + M[7]).addClass(M[10]), a.fixed && (c = c.add(w.children().not(c).children())),
                m(V.start, c, t, {
                    handles: F
                }))
        })(c.events);
        a.vSet = function(a) {
            if (z[0].LinkIsEmitting) return this;
            a = g(a);
            c.dir && 1 < c.handles && a.reverse();
            c.animate && -1 !== q[0] && k(z, M[14], 300);
            var b = 1 < F.length ? 3 : 1;
            1 === a.length && (b = 1);
            var d;
            c.limit && (b += 1);
            for (d = 0; b > d; d += 1) {
                var e = d % 2;
                var h = a[e];
                null !== h && !1 !== h && ("number" == typeof h && (h = String(h)), h = c.format.from(h), (!1 === h || isNaN(h) || !1 === p(F[e], A.toStepping(h), d === 3 - c.dir)) && r(E[e]))
            }
            return f(["set"]), this
        };
        a.vGet = function() {
            var a, b = [];
            for (a = 0; a < c.handles; a += 1) b[a] = c.format.to(u[a]);
            return h(b)
        };
        a.destroy = function() {
            return b(this).off(J).removeClass(M.join(" ")).empty(), delete this.LinkUpdate, delete this.LinkConfirm, delete this.LinkDefaultFormatter, delete this.LinkDefaultFlag, delete this.reappend, delete this.vGet, delete this.vSet, delete this.getCurrentStep, delete this.getInfo, delete this.destroy, d
        };
        a.getCurrentStep = function() {
            var a = b.map(q, function(a, b) {
                var c = A.getApplicableStep(a),
                    d = String(c[2]).split("."),
                    e = 100 === a ? null : c[2];
                b = Number((u[b] - c[2]).toFixed(1 < d.length ? d[1].length :
                    0));
                return [
                    [0 === a ? null : b >= c[1] ? c[2] : c[0] || !1, e]
                ]
            });
            return h(a)
        };
        a.getOriginalOptions = function() {
            return d
        };
        a.getInfo = function() {
            return [A, c.style, c.ort]
        };
        z.val(c.start)
    }

    function F(a) {
        var b = B(a, this);
        return this.each(function() {
            I(this, b, a)
        })
    }

    function N(a) {
        return this.each(function() {
            if (!this.destroy) return void b(this).noUiSlider(a);
            var c = b(this).val(),
                d = this.destroy(),
                e = b.extend({}, d, a);
            b(this).noUiSlider(e);
            this.reappend();
            d.start === e.start && b(this).val(c)
        })
    }

    function K() {
        return this[0][arguments.length ?
            "vSet" : "vGet"
        ].apply(this[0], arguments)
    }
    var Q = b(document),
        G = b.fn.val,
        J = ".nui",
        V = window.navigator.pointerEnabled ? {
            start: "pointerdown",
            move: "pointermove",
            end: "pointerup"
        } : window.navigator.msPointerEnabled ? {
            start: "MSPointerDown",
            move: "MSPointerMove",
            end: "MSPointerUp"
        } : {
            start: "mousedown touchstart",
            move: "mousemove touchmove",
            end: "mouseup touchend"
        },
        M = "noUi-target noUi-base noUi-origin noUi-handle noUi-horizontal noUi-vertical noUi-background noUi-connect noUi-ltr noUi-rtl noUi-dragable  noUi-state-drag  noUi-state-tap noUi-active  noUi-stacking".split(" ");
    h.prototype.getMargin = function(a) {
        return 2 === this.xPct.length ? c(this.xVal, a) : !1
    };
    h.prototype.toStepping = function(b) {
        var d = this.xVal,
            e = this.xPct;
        var f = b;
        if (f >= d.slice(-1)[0]) f = 100;
        else {
            var g = a(f, d);
            var h = d[g - 1];
            var l = d[g];
            d = e[g - 1];
            e = e[g];
            h = [h, l];
            f = c(h, 0 > h[0] ? f + Math.abs(h[0]) : f - h[0]);
            f = d + f / (100 / (e - d))
        }
        return b = f, this.direction && (b = 100 - b), b
    };
    h.prototype.fromStepping = function(b) {
        this.direction && (b = 100 - b);
        var c = this.xVal;
        var d = this.xPct;
        if (100 <= b) d = c.slice(-1)[0];
        else {
            var e = a(b, d);
            var f = c[e - 1];
            var g = c[e];
            c = d[e - 1];
            f = [f, g];
            d = 100 / (d[e] - c) * (b - c) * (f[1] - f[0]) / 100 + f[0]
        }
        b = Math.pow(10, 7);
        return Number((Math.round(d * b) / b).toFixed(7))
    };
    h.prototype.getStep = function(b) {
        this.direction && (b = 100 - b);
        var c = this.xPct;
        var d = this.xSteps,
            e = this.snap,
            f = b;
        if (100 === f) c = f;
        else {
            var g, h, l = a(f, c);
            e ? c = (g = c[l - 1], h = c[l], f - g > (h - g) / 2 ? h : g) : d[l - 1] ? (g = d[l - 1], c = c[l - 1] + Math.round((f - c[l - 1]) / g) * g) : c = f
        }
        return b = c, this.direction && (b = 100 - b), b
    };
    h.prototype.getApplicableStep = function(b) {
        var c = a(b, this.xPct);
        b = 100 === b ? 2 : 1;
        return [this.xNumSteps[c -
            2], this.xVal[c - b], this.xNumSteps[c - b]]
    };
    h.prototype.convert = function(a) {
        return this.getStep(this.toStepping(a))
    };
    var R = {
        to: function(a) {
            return a.toFixed(2)
        },
        from: Number
    };
    b.fn.val = function(a) {
        if (!arguments.length) {
            var c = b(this[0]);
            return (c.hasClass(M[0]) ? K : G).call(c)
        }
        var d = b.isFunction(a);
        return this.each(function(c) {
            var e = a,
                f = b(this);
            d && (e = a.call(this, c, f.val()));
            (f.hasClass(M[0]) ? K : G).call(f, e)
        })
    };
    b.fn.noUiSlider = function(a, b) {
        switch (a) {
            case "step":
                return this[0].getCurrentStep();
            case "options":
                return this[0].getOriginalOptions()
        }
        return (b ?
            N : F).call(this, a)
    }
}(window.jQuery || window.Zepto);
(function(b) {
    var f = b.event,
        k;
    var g = f.special.debouncedresize = {
        setup: function() {
            b(this).on("resize", g.handler)
        },
        teardown: function() {
            b(this).off("resize", g.handler)
        },
        handler: function(b, a) {
            var c = this,
                e = arguments,
                h = function() {
                    b.type = "debouncedresize";
                    f.dispatch.apply(c, e)
                };
            k && clearTimeout(k);
            a ? h() : k = setTimeout(h, g.threshold)
        },
        threshold: 150
    }
})(jQuery);
(function(b, f) {
    var k = b.console || f,
        g = b.document,
        c = b.navigator,
        a = !1,
        d = b.setTimeout,
        e = b.clearTimeout,
        h = b.setInterval,
        m = b.clearInterval,
        p = b.JSON,
        q = b.alert,
        l = b.History = b.History || {},
        u = b.history;
    try {
        a = b.sessionStorage, a.setItem("TEST", "1"), a.removeItem("TEST")
    } catch (w) {
        a = !1
    }
    p.stringify = p.stringify || p.encode;
    p.parse = p.parse || p.decode;
    "undefined" === typeof l.init && (l.init = function(a) {
        if ("undefined" === typeof l.Adapter) return !1;
        "undefined" !== typeof l.initCore && l.initCore();
        "undefined" !== typeof l.initHtml4 &&
            l.initHtml4();
        return !0
    }, l.initCore = function(w) {
        if ("undefined" !== typeof l.initCore.initialized) return !1;
        l.initCore.initialized = !0;
        l.options = l.options || {};
        l.options.hashChangeInterval = l.options.hashChangeInterval || 100;
        l.options.safariPollInterval = l.options.safariPollInterval || 500;
        l.options.doubleCheckInterval = l.options.doubleCheckInterval || 500;
        l.options.disableSuid = l.options.disableSuid || !1;
        l.options.storeInterval = l.options.storeInterval || 1E3;
        l.options.busyDelay = l.options.busyDelay || 250;
        l.options.debug =
            l.options.debug || !1;
        l.options.initialTitle = l.options.initialTitle || g.title;
        l.options.html4Mode = l.options.html4Mode || !1;
        l.options.delayInit = l.options.delayInit || !1;
        l.intervalList = [];
        l.clearAllIntervals = function() {
            var a, b = l.intervalList;
            if ("undefined" !== typeof b && null !== b) {
                for (a = 0; a < b.length; a++) m(b[a]);
                l.intervalList = null
            }
        };
        l.debug = function() {
            l.options.debug && l.log.apply(l, arguments)
        };
        l.log = function() {
            var a = !("undefined" === typeof k || "undefined" === typeof k.log || "undefined" === typeof k.log.apply),
                b = g.getElementById("log"),
                c;
            if (a) {
                var d = Array.prototype.slice.call(arguments);
                var e = d.shift();
                "undefined" !== typeof k.debug ? k.debug.apply(k, [e, d]) : k.log.apply(k, [e, d])
            } else e = "\n" + arguments[0] + "\n";
            d = 1;
            for (c = arguments.length; d < c; ++d) {
                var f = arguments[d];
                if ("object" === typeof f && "undefined" !== typeof p) try {
                    f = p.stringify(f)
                } catch (B) {}
                e += "\n" + f + "\n"
            }
            b ? (b.value += e + "\n-----\n", b.scrollTop = b.scrollHeight - b.clientHeight) : a || q(e);
            return !0
        };
        l.getInternetExplorerMajorVersion = function() {
            var a = l.getInternetExplorerMajorVersion;
            if ("undefined" !==
                typeof l.getInternetExplorerMajorVersion.cached) var b = l.getInternetExplorerMajorVersion.cached;
            else {
                b = 3;
                for (var c = g.createElement("div"), d = c.getElementsByTagName("i");
                    (c.innerHTML = "\x3c!--[if gt IE " + ++b + "]\x3e\x3ci\x3e\x3c/i\x3e\x3c![endif]--\x3e") && d[0];);
                b = 4 < b ? b : !1
            }
            return a.cached = b
        };
        l.isInternetExplorer = function() {
            return l.isInternetExplorer.cached = "undefined" !== typeof l.isInternetExplorer.cached ? l.isInternetExplorer.cached : !!l.getInternetExplorerMajorVersion()
        };
        l.emulated = l.options.html4Mode ? {
            pushState: !0,
            hashChange: !0
        } : {
            pushState: !(b.history && b.history.pushState && b.history.replaceState && !/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(c.userAgent) && !/AppleWebKit\/5([0-2]|3[0-2])/i.test(c.userAgent)),
            hashChange: !(("onhashchange" in b || "onhashchange" in g) && !(l.isInternetExplorer() && 8 > l.getInternetExplorerMajorVersion()))
        };
        l.enabled = !l.emulated.pushState;
        l.bugs = {
            setHash: !(l.emulated.pushState || "Apple Computer, Inc." !== c.vendor || !/AppleWebKit\/5([0-2]|3[0-3])/.test(c.userAgent)),
            safariPoll: !(l.emulated.pushState ||
                "Apple Computer, Inc." !== c.vendor || !/AppleWebKit\/5([0-2]|3[0-3])/.test(c.userAgent)),
            ieDoubleCheck: !!(l.isInternetExplorer() && 8 > l.getInternetExplorerMajorVersion()),
            hashEscape: !!(l.isInternetExplorer() && 7 > l.getInternetExplorerMajorVersion())
        };
        l.isEmptyObject = function(a) {
            for (var b in a)
                if (a.hasOwnProperty(b)) return !1;
            return !0
        };
        l.cloneObject = function(a) {
            a ? (a = p.stringify(a), a = p.parse(a)) : a = {};
            return a
        };
        l.getRootUrl = function() {
            var a = g.location.protocol + "//" + (g.location.hostname || g.location.host);
            g.location.port &&
                (a += ":" + g.location.port);
            return a + "/"
        };
        l.getBaseHref = function() {
            var a = g.getElementsByTagName("base"),
                b = "";
            1 === a.length && (a = a[0], b = a.href.replace(/[^\/]+$/, ""));
            (b = b.replace(/\/+$/, "")) && (b += "/");
            return b
        };
        l.getBaseUrl = function() {
            return l.getBaseHref() || l.getBasePageUrl() || l.getRootUrl()
        };
        l.getPageUrl = function() {
            return ((l.getState(!1, !1) || {}).url || l.getLocationHref()).replace(/\/+$/, "").replace(/[^\/]+$/, function(a, b, c) {
                return /\./.test(a) ? a : a + "/"
            })
        };
        l.getBasePageUrl = function() {
            return l.getLocationHref().replace(/[#\?].*/,
                "").replace(/[^\/]+$/, function(a, b, c) {
                return /[^\/]$/.test(a) ? "" : a
            }).replace(/\/+$/, "") + "/"
        };
        l.getFullUrl = function(a, b) {
            var c = a,
                d = a.substring(0, 1);
            b = "undefined" === typeof b ? !0 : b;
            /[a-z]+:\/\//.test(a) || (c = "/" === d ? l.getRootUrl() + a.replace(/^\/+/, "") : "#" === d ? l.getPageUrl().replace(/#.*/, "") + a : "?" === d ? l.getPageUrl().replace(/[\?#].*/, "") + a : b ? l.getBaseUrl() + a.replace(/^(\.\/)+/, "") : l.getBasePageUrl() + a.replace(/^(\.\/)+/, ""));
            return c.replace(/#$/, "")
        };
        l.getShortUrl = function(a) {
            var b = l.getBaseUrl(),
                c = l.getRootUrl();
            l.emulated.pushState && (a = a.replace(b, ""));
            a = a.replace(c, "/");
            l.isTraditionalAnchor(a) && (a = "./" + a);
            return a = a.replace(/^(\.\/)+/g, "./").replace(/#$/, "")
        };
        l.getLocationHref = function(a) {
            a = a || g;
            return a.URL === a.location.href ? a.location.href : a.location.href === decodeURIComponent(a.URL) ? a.URL : a.location.hash && decodeURIComponent(a.location.href.replace(/^[^#]+/, "")) === a.location.hash || -1 == a.URL.indexOf("#") && -1 != a.location.href.indexOf("#") ? a.location.href : a.URL || a.location.href
        };
        l.store = {};
        l.idToState = l.idToState || {};
        l.stateToId = l.stateToId || {};
        l.urlToId = l.urlToId || {};
        l.storedStates = l.storedStates || [];
        l.savedStates = l.savedStates || [];
        l.normalizeStore = function() {
            l.store.idToState = l.store.idToState || {};
            l.store.urlToId = l.store.urlToId || {};
            l.store.stateToId = l.store.stateToId || {}
        };
        l.getState = function(a, b) {
            "undefined" === typeof a && (a = !0);
            "undefined" === typeof b && (b = !0);
            var c = l.getLastSavedState();
            !c && b && (c = l.createStateObject());
            a && (c = l.cloneObject(c), c.url = c.cleanUrl || c.url);
            return c
        };
        l.getIdByState = function(a) {
            var b =
                l.extractId(a.url);
            if (!b) {
                var c = l.getStateString(a);
                if ("undefined" !== typeof l.stateToId[c]) b = l.stateToId[c];
                else if ("undefined" !== typeof l.store.stateToId[c]) b = l.store.stateToId[c];
                else {
                    for (; b = (new Date).getTime() + String(Math.random()).replace(/\D/g, ""), "undefined" !== typeof l.idToState[b] || "undefined" !== typeof l.store.idToState[b];);
                    l.stateToId[c] = b;
                    l.idToState[b] = a
                }
            }
            return b
        };
        l.normalizeState = function(a) {
            a && "object" === typeof a || (a = {});
            if ("undefined" !== typeof a.normalized) return a;
            a.data && "object" ===
                typeof a.data || (a.data = {});
            var b = {
                normalized: !0
            };
            b.title = a.title || "";
            b.url = l.getFullUrl(a.url ? a.url : l.getLocationHref());
            b.hash = l.getShortUrl(b.url);
            b.data = l.cloneObject(a.data);
            b.id = l.getIdByState(b);
            b.cleanUrl = b.url.replace(/\??&_suid.*/, "");
            b.url = b.cleanUrl;
            a = !l.isEmptyObject(b.data);
            (b.title || a) && !0 !== l.options.disableSuid && (b.hash = l.getShortUrl(b.url).replace(/\??&_suid.*/, ""), /\?/.test(b.hash) || (b.hash += "?"), b.hash += "\x26_suid\x3d" + b.id);
            b.hashedUrl = l.getFullUrl(b.hash);
            (l.emulated.pushState ||
                l.bugs.safariPoll) && l.hasUrlDuplicate(b) && (b.url = b.hashedUrl);
            return b
        };
        l.createStateObject = function(a, b, c) {
            a = {
                data: a,
                title: b,
                url: c
            };
            return a = l.normalizeState(a)
        };
        l.getStateById = function(a) {
            a = String(a);
            return l.idToState[a] || l.store.idToState[a] || f
        };
        l.getStateString = function(a) {
            a = {
                data: l.normalizeState(a).data,
                title: a.title,
                url: a.url
            };
            return p.stringify(a)
        };
        l.getStateId = function(a) {
            return l.normalizeState(a).id
        };
        l.getHashByState = function(a) {
            return l.normalizeState(a).hash
        };
        l.extractId = function(a) {
            a = -1 != a.indexOf("#") ? a.split("#")[0] : a;
            return ((a = /(.*)&_suid=([0-9]+)$/.exec(a)) ? String(a[2] || "") : "") || !1
        };
        l.isTraditionalAnchor = function(a) {
            return !/[\/\?\.]/.test(a)
        };
        l.extractState = function(a, b) {
            var c = null,
                d;
            b = b || !1;
            (d = l.extractId(a)) && (c = l.getStateById(d));
            if (!c) {
                var e = l.getFullUrl(a);
                (d = l.getIdByUrl(e) || !1) && (c = l.getStateById(d));
                c || !b || l.isTraditionalAnchor(a) || (c = l.createStateObject(null, null, e))
            }
            return c
        };
        l.getIdByUrl = function(a) {
            return l.urlToId[a] || l.store.urlToId[a] || f
        };
        l.getLastSavedState =
            function() {
                return l.savedStates[l.savedStates.length - 1] || f
            };
        l.getLastStoredState = function() {
            return l.storedStates[l.storedStates.length - 1] || f
        };
        l.hasUrlDuplicate = function(a) {
            var b;
            return (b = l.extractState(a.url)) && b.id !== a.id
        };
        l.storeState = function(a) {
            l.urlToId[a.url] = a.id;
            l.storedStates.push(l.cloneObject(a));
            return a
        };
        l.isLastSavedState = function(a) {
            var b = !1;
            l.savedStates.length && (a = a.id, b = l.getLastSavedState(), b = b.id, b = a === b);
            return b
        };
        l.saveState = function(a) {
            if (l.isLastSavedState(a)) return !1;
            l.savedStates.push(l.cloneObject(a));
            return !0
        };
        l.getStateByIndex = function(a) {
            return "undefined" === typeof a ? l.savedStates[l.savedStates.length - 1] : 0 > a ? l.savedStates[l.savedStates.length + a] : l.savedStates[a]
        };
        l.getCurrentIndex = function() {
            return 1 > l.savedStates.length ? 0 : l.savedStates.length - 1
        };
        l.getHash = function(a) {
            a = l.getLocationHref(a);
            return l.getHashByUrl(a)
        };
        l.unescapeHash = function(a) {
            a = l.normalizeHash(a);
            return a = decodeURIComponent(a)
        };
        l.normalizeHash = function(a) {
            return a.replace(/[^#]*#/, "").replace(/#.*/, "")
        };
        l.setHash = function(a,
            b) {
            var c;
            if (!1 !== b && l.busy()) return l.pushQueue({
                scope: l,
                callback: l.setHash,
                args: arguments,
                queue: b
            }), !1;
            l.busy(!0);
            (c = l.extractState(a, !0)) && !l.emulated.pushState ? l.pushState(c.data, c.title, c.url, !1) : l.getHash() !== a && (l.bugs.setHash ? (c = l.getPageUrl(), l.pushState(null, null, c + "#" + a, !1)) : g.location.hash = a);
            return l
        };
        l.escapeHash = function(a) {
            a = l.normalizeHash(a);
            a = b.encodeURIComponent(a);
            l.bugs.hashEscape || (a = a.replace(/%21/g, "!").replace(/%26/g, "\x26").replace(/%3D/g, "\x3d").replace(/%3F/g, "?"));
            return a
        };
        l.getHashByUrl = function(a) {
            a = String(a).replace(/([^#]*)#?([^#]*)#?(.*)/, "$2");
            return a = l.unescapeHash(a)
        };
        l.setTitle = function(a) {
            var b = a.title,
                c;
            b || (c = l.getStateByIndex(0)) && c.url === a.url && (b = c.title || l.options.initialTitle);
            try {
                g.getElementsByTagName("title")[0].innerHTML = b.replace("\x3c", "\x26lt;").replace("\x3e", "\x26gt;").replace(" \x26 ", " \x26amp; ")
            } catch (t) {}
            g.title = b;
            return l
        };
        l.queues = [];
        l.busy = function(a) {
            "undefined" !== typeof a ? l.busy.flag = a : "undefined" === typeof l.busy.flag && (l.busy.flag = !1);
            if (!l.busy.flag) {
                e(l.busy.timeout);
                var b = function() {
                    var a;
                    if (!l.busy.flag)
                        for (a = l.queues.length - 1; 0 <= a; --a) {
                            var c = l.queues[a];
                            0 !== c.length && (c = c.shift(), l.fireQueueItem(c), l.busy.timeout = d(b, l.options.busyDelay))
                        }
                };
                l.busy.timeout = d(b, l.options.busyDelay)
            }
            return l.busy.flag
        };
        l.busy.flag = !1;
        l.fireQueueItem = function(a) {
            return a.callback.apply(a.scope || l, a.args || [])
        };
        l.pushQueue = function(a) {
            l.queues[a.queue || 0] = l.queues[a.queue || 0] || [];
            l.queues[a.queue || 0].push(a);
            return l
        };
        l.queue = function(a, b) {
            "function" ===
            typeof a && (a = {
                callback: a
            });
            "undefined" !== typeof b && (a.queue = b);
            l.busy() ? l.pushQueue(a) : l.fireQueueItem(a);
            return l
        };
        l.clearQueue = function() {
            l.busy.flag = !1;
            l.queues = [];
            return l
        };
        l.stateChanged = !1;
        l.doubleChecker = !1;
        l.doubleCheckComplete = function() {
            l.stateChanged = !0;
            l.doubleCheckClear();
            return l
        };
        l.doubleCheckClear = function() {
            l.doubleChecker && (e(l.doubleChecker), l.doubleChecker = !1);
            return l
        };
        l.doubleCheck = function(a) {
            l.stateChanged = !1;
            l.doubleCheckClear();
            l.bugs.ieDoubleCheck && (l.doubleChecker = d(function() {
                l.doubleCheckClear();
                l.stateChanged || a();
                return !0
            }, l.options.doubleCheckInterval));
            return l
        };
        l.safariStatePoll = function() {
            var a = l.extractState(l.getLocationHref());
            if (!l.isLastSavedState(a)) return a || l.createStateObject(), l.Adapter.trigger(b, "popstate"), l
        };
        l.back = function(a) {
            if (!1 !== a && l.busy()) return l.pushQueue({
                scope: l,
                callback: l.back,
                args: arguments,
                queue: a
            }), !1;
            l.busy(!0);
            l.doubleCheck(function() {
                l.back(!1)
            });
            u.go(-1);
            return !0
        };
        l.forward = function(a) {
            if (!1 !== a && l.busy()) return l.pushQueue({
                scope: l,
                callback: l.forward,
                args: arguments,
                queue: a
            }), !1;
            l.busy(!0);
            l.doubleCheck(function() {
                l.forward(!1)
            });
            u.go(1);
            return !0
        };
        l.go = function(a, b) {
            var c;
            if (0 < a)
                for (c = 1; c <= a; ++c) l.forward(b);
            else if (0 > a)
                for (c = -1; c >= a; --c) l.back(b);
            else throw Error("History.go: History.go requires a positive or negative integer passed.");
            return l
        };
        l.emulated.pushState ? (w = function() {}, l.pushState = l.pushState || w, l.replaceState = l.replaceState || w) : (l.onPopState = function(a, c) {
                var d;
                l.doubleCheckComplete();
                if (d = l.getHash()) return (a = l.extractState(d ||
                    l.getLocationHref(), !0)) ? l.replaceState(a.data, a.title, a.url, !1) : (l.Adapter.trigger(b, "anchorchange"), l.busy(!1)), l.expectedStateId = !1;
                (a = (a = l.Adapter.extractEventData("state", a, c) || !1) ? l.getStateById(a) : l.expectedStateId ? l.getStateById(l.expectedStateId) : l.extractState(l.getLocationHref())) || (a = l.createStateObject(null, null, l.getLocationHref()));
                l.expectedStateId = !1;
                if (l.isLastSavedState(a)) return l.busy(!1), !1;
                l.storeState(a);
                l.saveState(a);
                l.setTitle(a);
                l.Adapter.trigger(b, "statechange");
                l.busy(!1);
                return !0
            }, l.Adapter.bind(b, "popstate", l.onPopState), l.pushState = function(a, c, d, e) {
                if (l.getHashByUrl(d) && l.emulated.pushState) throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");
                if (!1 !== e && l.busy()) return l.pushQueue({
                    scope: l,
                    callback: l.pushState,
                    args: arguments,
                    queue: e
                }), !1;
                l.busy(!0);
                var f = l.createStateObject(a, c, d);
                l.isLastSavedState(f) ? l.busy(!1) : (l.storeState(f), l.expectedStateId = f.id, u.pushState(f.id, f.title, f.url), l.Adapter.trigger(b, "popstate"));
                return !0
            },
            l.replaceState = function(a, c, d, e) {
                if (l.getHashByUrl(d) && l.emulated.pushState) throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");
                if (!1 !== e && l.busy()) return l.pushQueue({
                    scope: l,
                    callback: l.replaceState,
                    args: arguments,
                    queue: e
                }), !1;
                l.busy(!0);
                var f = l.createStateObject(a, c, d);
                l.isLastSavedState(f) ? l.busy(!1) : (l.storeState(f), l.expectedStateId = f.id, u.replaceState(f.id, f.title, f.url), l.Adapter.trigger(b, "popstate"));
                return !0
            });
        if (a) try {
            l.store = p.parse(a.getItem("History.store")) || {}
        } catch (r) {
            l.store = {}
        } else l.store = {};
        l.normalizeStore();
        l.Adapter.bind(b, "unload", l.clearAllIntervals);
        l.saveState(l.storeState(l.extractState(l.getLocationHref(), !0)));
        a && (l.onUnload = function() {
            var b;
            try {
                var c = p.parse(a.getItem("History.store")) || {}
            } catch (v) {
                c = {}
            }
            c.idToState = c.idToState || {};
            c.urlToId = c.urlToId || {};
            c.stateToId = c.stateToId || {};
            for (b in l.idToState) l.idToState.hasOwnProperty(b) && (c.idToState[b] = l.idToState[b]);
            for (b in l.urlToId) l.urlToId.hasOwnProperty(b) && (c.urlToId[b] = l.urlToId[b]);
            for (b in l.stateToId) l.stateToId.hasOwnProperty(b) && (c.stateToId[b] = l.stateToId[b]);
            l.store = c;
            l.normalizeStore();
            c = p.stringify(c);
            try {
                a.setItem("History.store", c)
            } catch (v) {
                if (v.code === DOMException.QUOTA_EXCEEDED_ERR) a.length && (a.removeItem("History.store"), a.setItem("History.store", c));
                else throw v;
            }
        }, l.intervalList.push(h(l.onUnload, l.options.storeInterval)), l.Adapter.bind(b, "beforeunload", l.onUnload), l.Adapter.bind(b, "unload", l.onUnload));
        if (!l.emulated.pushState && (l.bugs.safariPoll && l.intervalList.push(h(l.safariStatePoll,
                l.options.safariPollInterval)), "Apple Computer, Inc." === c.vendor || "Mozilla" === (c.appCodeName || "")) && (l.Adapter.bind(b, "hashchange", function() {
                l.Adapter.trigger(b, "popstate")
            }), l.getHash())) l.Adapter.onDomLoad(function() {
            l.Adapter.trigger(b, "hashchange")
        })
    }, l.options && l.options.delayInit || l.init())
})(window);
(function(b, f) {
    var k = b.History = b.History || {},
        g = b.jQuery;
    if ("undefined" !== typeof k.Adapter) throw Error("History.js Adapter has already been loaded...");
    k.Adapter = {
        bind: function(b, a, d) {
            g(b).bind(a, d)
        },
        trigger: function(b, a, d) {
            g(b).trigger(a, d)
        },
        extractEventData: function(b, a, d) {
            return a && a.originalEvent && a.originalEvent[b] || d && d[b] || f
        },
        onDomLoad: function(b) {
            g(b)
        }
    };
    "undefined" !== typeof k.init && k.init()
})(window);
define && define.nextId("imagesLoaded");
(function() {
    function b() {}

    function f(a, b) {
        for (var c = a.length; c--;)
            if (a[c].listener === b) return c;
        return -1
    }

    function k(a) {
        return function() {
            return this[a].apply(this, arguments)
        }
    }
    var g = b.prototype,
        c = this,
        a = c.EventEmitter;
    g.getListeners = function(a) {
        var b = this._getEvents(),
            c;
        if ("object" === typeof a) {
            var d = {};
            for (c in b) b.hasOwnProperty(c) && a.test(c) && (d[c] = b[c])
        } else d = b[a] || (b[a] = []);
        return d
    };
    g.flattenListeners = function(a) {
        var b = [],
            c;
        for (c = 0; c < a.length; c += 1) b.push(a[c].listener);
        return b
    };
    g.getListenersAsObject =
        function(a) {
            var b = this.getListeners(a);
            if (b instanceof Array) {
                var c = {};
                c[a] = b
            }
            return c || b
        };
    g.addListener = function(a, b) {
        a = this.getListenersAsObject(a);
        var c = "object" === typeof b,
            d;
        for (d in a) a.hasOwnProperty(d) && -1 === f(a[d], b) && a[d].push(c ? b : {
            listener: b,
            once: !1
        });
        return this
    };
    g.on = k("addListener");
    g.addOnceListener = function(a, b) {
        return this.addListener(a, {
            listener: b,
            once: !0
        })
    };
    g.once = k("addOnceListener");
    g.defineEvent = function(a) {
        this.getListeners(a);
        return this
    };
    g.defineEvents = function(a) {
        for (var b =
                0; b < a.length; b += 1) this.defineEvent(a[b]);
        return this
    };
    g.removeListener = function(a, b) {
        a = this.getListenersAsObject(a);
        var c;
        for (c in a)
            if (a.hasOwnProperty(c)) {
                var d = f(a[c], b); - 1 !== d && a[c].splice(d, 1)
            } return this
    };
    g.off = k("removeListener");
    g.addListeners = function(a, b) {
        return this.manipulateListeners(!1, a, b)
    };
    g.removeListeners = function(a, b) {
        return this.manipulateListeners(!0, a, b)
    };
    g.manipulateListeners = function(a, b, c) {
        var d, e, f = a ? this.removeListener : this.addListener;
        a = a ? this.removeListeners : this.addListeners;
        if ("object" !== typeof b || b instanceof RegExp)
            for (d = c.length; d--;) f.call(this, b, c[d]);
        else
            for (d in b) b.hasOwnProperty(d) && (e = b[d]) && ("function" === typeof e ? f.call(this, d, e) : a.call(this, d, e));
        return this
    };
    g.removeEvent = function(a) {
        var b = typeof a,
            c = this._getEvents(),
            d;
        if ("string" === b) delete c[a];
        else if ("object" === b)
            for (d in c) c.hasOwnProperty(d) && a.test(d) && delete c[d];
        else delete this._events;
        return this
    };
    g.removeAllListeners = k("removeEvent");
    g.emitEvent = function(a, b) {
        var c = this.getListenersAsObject(a),
            d, e;
        for (e in c)
            if (c.hasOwnProperty(e))
                for (d = c[e].length; d--;) {
                    var f = c[e][d];
                    !0 === f.once && this.removeListener(a, f.listener);
                    var g = f.listener.apply(this, b || []);
                    g === this._getOnceReturnValue() && this.removeListener(a, f.listener)
                }
        return this
    };
    g.trigger = k("emitEvent");
    g.emit = function(a) {
        var b = Array.prototype.slice.call(arguments, 1);
        return this.emitEvent(a, b)
    };
    g.setOnceReturnValue = function(a) {
        this._onceReturnValue = a;
        return this
    };
    g._getOnceReturnValue = function() {
        return this.hasOwnProperty("_onceReturnValue") ?
            this._onceReturnValue : !0
    };
    g._getEvents = function() {
        return this._events || (this._events = {})
    };
    b.noConflict = function() {
        c.EventEmitter = a;
        return b
    };
    "function" === typeof define && define.amd2 ? define("eventEmitter/EventEmitter", [], function() {
        return b
    }) : "object" === typeof module && module.exports ? module.exports = b : this.EventEmitter = b
}).call(this);
(function(b) {
    function f(a) {
        var c = b.event;
        c.target = c.target || c.srcElement || a;
        return c
    }
    var k = document.documentElement,
        g = function() {};
    k.addEventListener ? g = function(a, b, c) {
        a.addEventListener(b, c, !1)
    } : k.attachEvent && (g = function(a, b, c) {
        a[b + c] = c.handleEvent ? function() {
            var b = f(a);
            c.handleEvent.call(c, b)
        } : function() {
            var b = f(a);
            c.call(a, b)
        };
        a.attachEvent("on" + b, a[b + c])
    });
    var c = function() {};
    k.removeEventListener ? c = function(a, b, c) {
        a.removeEventListener(b, c, !1)
    } : k.detachEvent && (c = function(a, b, c) {
        a.detachEvent("on" +
            b, a[b + c]);
        try {
            delete a[b + c]
        } catch (h) {
            a[b + c] = void 0
        }
    });
    k = {
        bind: g,
        unbind: c
    };
    "function" === typeof define && define.amd2 ? define("eventie/eventie", k) : b.eventie = k
})(this);
(function(b, f) {
    "function" === typeof define && define.amd2 ? define(["eventEmitter/EventEmitter", "eventie/eventie"], function(k, g) {
        return f(b, k, g)
    }) : "object" === typeof exports ? module.exports = f(b, require("wolfy87-eventemitter"), require("eventie")) : b.imagesLoaded = f(b, b.EventEmitter, b.eventie)
})(window, function(b, f, k) {
    function g(a, b) {
        for (var c in b) a[c] = b[c];
        return a
    }

    function c(a) {
        var b = [];
        if ("[object Array]" === q.call(a)) b = a;
        else if ("number" === typeof a.length)
            for (var c = 0, d = a.length; c < d; c++) b.push(a[c]);
        else b.push(a);
        return b
    }

    function a(b, d, e) {
        if (!(this instanceof a)) return new a(b, d);
        "string" === typeof b && (b = document.querySelectorAll(b));
        this.elements = c(b);
        this.options = g({}, this.options);
        "function" === typeof d ? e = d : g(this.options, d);
        if (e) this.on("always", e);
        this.getImages();
        h && (this.jqDeferred = new h.Deferred);
        var f = this;
        setTimeout(function() {
            f.check()
        })
    }

    function d(a) {
        this.img = a
    }

    function e(a) {
        this.src = a;
        l[a] = this
    }
    var h = b.jQuery,
        m = b.console,
        p = "undefined" !== typeof m,
        q = Object.prototype.toString;
    a.prototype = new f;
    a.prototype.options = {};
    a.prototype.getImages = function() {
        this.images = [];
        for (var a = 0, b = this.elements.length; a < b; a++) {
            var c = this.elements[a];
            "IMG" === c.nodeName && this.addImage(c);
            var d = c.nodeType;
            if (d && (1 === d || 9 === d || 11 === d)) {
                c = c.querySelectorAll("img");
                d = 0;
                for (var e = c.length; d < e; d++) this.addImage(c[d])
            }
        }
    };
    a.prototype.addImage = function(a) {
        a = new d(a);
        this.images.push(a)
    };
    a.prototype.check = function() {
        function a(a, e) {
            b.options.debug && p && m.log("confirm", a, e);
            b.progress(a);
            c++;
            c === d && b.complete();
            return !0
        }
        var b = this,
            c = 0,
            d = this.images.length;
        this.hasAnyBroken = !1;
        if (d)
            for (var e = 0; e < d; e++) {
                var f = this.images[e];
                f.on("confirm", a);
                f.check()
            } else this.complete()
    };
    a.prototype.progress = function(a) {
        this.hasAnyBroken = this.hasAnyBroken || !a.isLoaded;
        var b = this;
        setTimeout(function() {
            b.emit("progress", b, a);
            b.jqDeferred && b.jqDeferred.notify && b.jqDeferred.notify(b, a)
        })
    };
    a.prototype.complete = function() {
        var a = this.hasAnyBroken ? "fail" : "done";
        this.isComplete = !0;
        var b = this;
        setTimeout(function() {
            b.emit(a, b);
            b.emit("always", b);
            if (b.jqDeferred) b.jqDeferred[b.hasAnyBroken ?
                "reject" : "resolve"](b)
        })
    };
    h && (h.fn.imagesLoaded = function(b, c) {
        return (new a(this, b, c)).jqDeferred.promise(h(this))
    });
    d.prototype = new f;
    d.prototype.check = function() {
        var a = l[this.img.src] || new e(this.img.src);
        if (a.isConfirmed) this.confirm(a.isLoaded, "cached was confirmed");
        else if (this.img.complete && void 0 !== this.img.naturalWidth) this.confirm(0 !== this.img.naturalWidth, "naturalWidth");
        else {
            var b = this;
            a.on("confirm", function(a, c) {
                b.confirm(a.isLoaded, c);
                return !0
            });
            a.check()
        }
    };
    d.prototype.confirm = function(a,
        b) {
        this.isLoaded = a;
        this.emit("confirm", this, b)
    };
    var l = {};
    e.prototype = new f;
    e.prototype.check = function() {
        if (!this.isChecked) {
            var a = new Image;
            k.bind(a, "load", this);
            k.bind(a, "error", this);
            a.src = this.src;
            this.isChecked = !0
        }
    };
    e.prototype.handleEvent = function(a) {
        var b = "on" + a.type;
        if (this[b]) this[b](a)
    };
    e.prototype.onload = function(a) {
        this.confirm(!0, "onload");
        this.unbindProxyEvents(a)
    };
    e.prototype.onerror = function(a) {
        this.confirm(!1, "onerror");
        this.unbindProxyEvents(a)
    };
    e.prototype.confirm = function(a, b) {
        this.isConfirmed = !0;
        this.isLoaded = a;
        this.emit("confirm", this, b)
    };
    e.prototype.unbindProxyEvents = function(a) {
        k.unbind(a.target, "load", this);
        k.unbind(a.target, "error", this)
    };
    return a
});
define && define.nextId("moment");
(function(b) {
    function f(a, b, c) {
        switch (arguments.length) {
            case 2:
                return null != a ? a : b;
            case 3:
                return null != a ? a : null != b ? b : c;
            default:
                throw Error("Implement me");
        }
    }

    function k() {
        return {
            empty: !1,
            unusedTokens: [],
            unusedInput: [],
            overflow: -2,
            charsLeftOver: 0,
            nullInput: !1,
            invalidMonth: null,
            invalidFormat: !1,
            userInvalidated: !1,
            iso: !1
        }
    }

    function g(a) {
        !1 === D.suppressDeprecationWarnings && "undefined" !== typeof console && console.warn && console.warn("Deprecation warning: " + a)
    }

    function c(a, b) {
        var c = !0;
        return p(function() {
            c &&
                (g(a), c = !1);
            return b.apply(this, arguments)
        }, b)
    }

    function a(a, b) {
        return function(c) {
            return u(a.call(this, c), b)
        }
    }

    function d(a, b) {
        return function(c) {
            return this.localeData().ordinal(a.call(this, c), b)
        }
    }

    function e() {}

    function h(a, b) {
        !1 !== b && N(a);
        q(this, a);
        this._d = new Date(+a._d);
        !1 === cb && (cb = !0, D.updateOffset(this), cb = !1)
    }

    function m(a) {
        a = E(a);
        var b = a.year || 0,
            c = a.quarter || 0,
            d = a.month || 0,
            e = a.week || 0,
            f = a.day || 0;
        this._milliseconds = +(a.millisecond || 0) + 1E3 * (a.second || 0) + 6E4 * (a.minute || 0) + 36E5 * (a.hour || 0);
        this._days = +f + 7 * e;
        this._months = +d + 3 * c + 12 * b;
        this._data = {};
        this._locale = D.localeData();
        this._bubble()
    }

    function p(a, b) {
        for (var c in b) fa.call(b, c) && (a[c] = b[c]);
        fa.call(b, "toString") && (a.toString = b.toString);
        fa.call(b, "valueOf") && (a.valueOf = b.valueOf);
        return a
    }

    function q(a, b) {
        var c;
        "undefined" !== typeof b._isAMomentObject && (a._isAMomentObject = b._isAMomentObject);
        "undefined" !== typeof b._i && (a._i = b._i);
        "undefined" !== typeof b._f && (a._f = b._f);
        "undefined" !== typeof b._l && (a._l = b._l);
        "undefined" !== typeof b._strict && (a._strict =
            b._strict);
        "undefined" !== typeof b._tzm && (a._tzm = b._tzm);
        "undefined" !== typeof b._isUTC && (a._isUTC = b._isUTC);
        "undefined" !== typeof b._offset && (a._offset = b._offset);
        "undefined" !== typeof b._pf && (a._pf = b._pf);
        "undefined" !== typeof b._locale && (a._locale = b._locale);
        if (0 < oa.length)
            for (c in oa) {
                var d = oa[c];
                var e = b[d];
                "undefined" !== typeof e && (a[d] = e)
            }
        return a
    }

    function l(a) {
        return 0 > a ? Math.ceil(a) : Math.floor(a)
    }

    function u(a, b, c) {
        for (var d = "" + Math.abs(a); d.length < b;) d = "0" + d;
        return (0 <= a ? c ? "+" : "" : "-") + d
    }

    function w(a,
        b) {
        var c = {
            milliseconds: 0,
            months: 0
        };
        c.months = b.month() - a.month() + 12 * (b.year() - a.year());
        a.clone().add(c.months, "M").isAfter(b) && --c.months;
        c.milliseconds = +b - +a.clone().add(c.months, "M");
        return c
    }

    function r(a, b) {
        b = J(b, a);
        a.isBefore(b) ? a = w(a, b) : (a = w(b, a), a.milliseconds = -a.milliseconds, a.months = -a.months);
        return a
    }

    function x(a, b) {
        return function(c, d) {
            if (null !== d && !isNaN(+d)) {
                Fa[b] || (g("moment()." + b + "(period, number) is deprecated. Please use moment()." + b + "(number, period)."), Fa[b] = !0);
                var e = c;
                c = d;
                d = e
            }
            c =
                D.duration("string" === typeof c ? +c : c, d);
            v(this, c, a);
            return this
        }
    }

    function v(a, b, c, d) {
        var e = b._milliseconds,
            f = b._days;
        b = b._months;
        d = null == d ? !0 : d;
        e && a._d.setTime(+a._d + e * c);
        f && wa(a, "Date", ra(a, "Date") + f * c);
        b && Ha(a, ra(a, "Month") + b * c);
        d && D.updateOffset(a, f || b)
    }

    function t(a) {
        return "[object Array]" === Object.prototype.toString.call(a)
    }

    function A(a) {
        return "[object Date]" === Object.prototype.toString.call(a) || a instanceof Date
    }

    function z(a, b, c) {
        var d = Math.min(a.length, b.length),
            e = Math.abs(a.length - b.length),
            f = 0,
            g;
        for (g = 0; g < d; g++)(c && a[g] !== b[g] || !c && C(a[g]) !== C(b[g])) && f++;
        return f + e
    }

    function B(a) {
        if (a) {
            var b = a.toLowerCase().replace(/(.)s$/, "$1");
            a = yb[a] || Ba[b] || b
        }
        return a
    }

    function E(a) {
        var b = {},
            c, d;
        for (d in a) fa.call(a, d) && (c = B(d)) && (b[c] = a[d]);
        return b
    }

    function y(a) {
        if (0 === a.indexOf("week")) {
            var c = 7;
            var d = "day"
        } else if (0 === a.indexOf("month")) c = 12, d = "month";
        else return;
        D[a] = function(e, f) {
            var g = D._locale[a],
                h = [];
            "number" === typeof e && (f = e, e = b);
            var l = function(a) {
                a = D().utc().set(d, a);
                return g.call(D._locale,
                    a, e || "")
            };
            if (null != f) return l(f);
            for (f = 0; f < c; f++) h.push(l(f));
            return h
        }
    }

    function C(a) {
        a = +a;
        var b = 0;
        0 !== a && isFinite(a) && (b = 0 <= a ? Math.floor(a) : Math.ceil(a));
        return b
    }

    function O(a, b) {
        return (new Date(Date.UTC(a, b + 1, 0))).getUTCDate()
    }

    function I(a, b, c) {
        return la(D([a, 11, 31 + b - c]), b, c).week
    }

    function F(a) {
        return 0 === a % 4 && 0 !== a % 100 || 0 === a % 400
    }

    function N(a) {
        if (a._a && -2 === a._pf.overflow) {
            var b = 0 > a._a[1] || 11 < a._a[1] ? 1 : 1 > a._a[2] || a._a[2] > O(a._a[0], a._a[1]) ? 2 : 0 > a._a[3] || 24 < a._a[3] || 24 === a._a[3] && (0 !== a._a[4] || 0 !==
                a._a[5] || 0 !== a._a[6]) ? 3 : 0 > a._a[4] || 59 < a._a[4] ? 4 : 0 > a._a[5] || 59 < a._a[5] ? 5 : 0 > a._a[6] || 999 < a._a[6] ? 6 : -1;
            a._pf._overflowDayOfYear && (0 > b || 2 < b) && (b = 2);
            a._pf.overflow = b
        }
    }

    function K(a) {
        null == a._isValid && (a._isValid = !isNaN(a._d.getTime()) && 0 > a._pf.overflow && !a._pf.empty && !a._pf.invalidMonth && !a._pf.nullInput && !a._pf.invalidFormat && !a._pf.userInvalidated, a._strict && (a._isValid = a._isValid && 0 === a._pf.charsLeftOver && 0 === a._pf.unusedTokens.length && a._pf.bigHour === b));
        return a._isValid
    }

    function Q(a) {
        return a ? a.toLowerCase().replace("_",
            "-") : a
    }

    function G(a) {
        var b = null;
        if (!va[a] && S) try {
            b = D.locale(), require("./locale/" + a), D.locale(b)
        } catch (Sa) {}
        return va[a]
    }

    function J(a, b) {
        return b._isUTC ? (b = b.clone(), a = (D.isMoment(a) || A(a) ? +a : +D(a)) - +b, b._d.setTime(+b._d + a), D.updateOffset(b, !1), b) : D(a).local()
    }

    function V(a) {
        return a.match(/\[[\s\S]/) ? a.replace(/^\[|\]$/g, "") : a.replace(/\\/g, "")
    }

    function M(a) {
        var b = a.match(Ka),
            c;
        var d = 0;
        for (c = b.length; d < c; d++) b[d] = Aa[b[d]] ? Aa[b[d]] : V(b[d]);
        return function(e) {
            var f = "";
            for (d = 0; d < c; d++) f += b[d] instanceof
            Function ? b[d].call(e, a) : b[d];
            return f
        }
    }

    function R(a, b) {
        if (!a.isValid()) return a.localeData().invalidDate();
        b = H(b, a.localeData());
        Na[b] || (Na[b] = M(b));
        return Na[b](a)
    }

    function H(a, b) {
        function c(a) {
            return b.longDateFormat(a) || a
        }
        var d = 5;
        for (Ca.lastIndex = 0; 0 <= d && Ca.test(a);) a = a.replace(Ca, c), Ca.lastIndex = 0, --d;
        return a
    }

    function T(a, b) {
        var c = b._strict;
        switch (a) {
            case "Q":
                return hb;
            case "DDDD":
                return Qa;
            case "YYYY":
            case "GGGG":
            case "gggg":
                return c ? Ma : Z;
            case "Y":
            case "G":
            case "g":
                return lb;
            case "YYYYYY":
            case "YYYYY":
            case "GGGGG":
            case "ggggg":
                return c ?
                    kb : Va;
            case "S":
                if (c) return hb;
            case "SS":
                if (c) return Xa;
            case "SSS":
                if (c) return Qa;
            case "DDD":
                return ta;
            case "MMM":
            case "MMMM":
            case "dd":
            case "ddd":
            case "dddd":
                return tb;
            case "a":
            case "A":
                return b._locale._meridiemParse;
            case "x":
                return fb;
            case "X":
                return gb;
            case "Z":
            case "ZZ":
                return Wa;
            case "T":
                return eb;
            case "SSSS":
                return La;
            case "MM":
            case "DD":
            case "YY":
            case "GG":
            case "gg":
            case "HH":
            case "hh":
            case "mm":
            case "ss":
            case "ww":
            case "WW":
                return c ? Xa : da;
            case "M":
            case "D":
            case "d":
            case "H":
            case "h":
            case "m":
            case "s":
            case "w":
            case "W":
            case "e":
            case "E":
                return da;
            case "Do":
                return c ? b._locale._ordinalParse : b._locale._ordinalParseLenient;
            default:
                return b = RegExp, a = aa(a.replace("\\", "")).replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$\x26"), a = new b(a)
        }
    }

    function U(a) {
        a = (a || "").match(Wa) || [];
        a = ((a[a.length - 1] || []) + "").match(mb) || ["-", 0, 0];
        var b = +(60 * a[1]) + C(a[2]);
        return "+" === a[0] ? b : -b
    }

    function ba(a) {
        var b = [];
        if (!a._d) {
            var c = new Date;
            c = a._useUTC ? [c.getUTCFullYear(), c.getUTCMonth(), c.getUTCDate()] : [c.getFullYear(), c.getMonth(), c.getDate()];
            if (a._w && null == a._a[2] && null == a._a[1]) {
                var d =
                    a._w;
                if (null != d.GG || null != d.W || null != d.E) {
                    var e = 1;
                    var g = 4;
                    var h = f(d.GG, a._a[0], la(D(), 1, 4).year);
                    var l = f(d.W, 1);
                    d = f(d.E, 1)
                } else e = a._locale._week.dow, g = a._locale._week.doy, h = f(d.gg, a._a[0], la(D(), e, g).year), l = f(d.w, 1), null != d.d ? (d = d.d, d < e && ++l) : d = null != d.e ? d.e + e : e;
                var k = ua(h, 0, 1).getUTCDay();
                k = 0 === k ? 7 : k;
                g = 7 * (l - 1) + ((null != d ? d : e) - e) + (e - k + (k > g ? 7 : 0) - (k < e ? 7 : 0)) + 1;
                e = 0 < g ? h : h - 1;
                h = 0 < g ? g : (F(h - 1) ? 366 : 365) + g;
                a._a[0] = e;
                a._dayOfYear = h
            }
            a._dayOfYear && (h = f(a._a[0], c[0]), a._dayOfYear > (F(h) ? 366 : 365) && (a._pf._overflowDayOfYear = !0), h = ua(h, 0, a._dayOfYear), a._a[1] = h.getUTCMonth(), a._a[2] = h.getUTCDate());
            for (h = 0; 3 > h && null == a._a[h]; ++h) a._a[h] = b[h] = c[h];
            for (; 7 > h; h++) a._a[h] = b[h] = null == a._a[h] ? 2 === h ? 1 : 0 : a._a[h];
            24 === a._a[3] && 0 === a._a[4] && 0 === a._a[5] && 0 === a._a[6] && (a._nextDay = !0, a._a[3] = 0);
            a._d = (a._useUTC ? ua : qa).apply(null, b);
            null != a._tzm && a._d.setUTCMinutes(a._d.getUTCMinutes() - a._tzm);
            a._nextDay && (a._a[3] = 24)
        }
    }

    function Y(a) {
        if (!a._d) {
            var b = E(a._i);
            a._a = [b.year, b.month, b.day || b.date, b.hour, b.minute, b.second, b.millisecond];
            ba(a)
        }
    }

    function ca(a) {
        if (a._f === D.ISO_8601) ea(a);
        else {
            a._a = [];
            a._pf.empty = !0;
            var c = "" + a._i,
                d, e, f = c.length,
                g = 0;
            var h = H(a._f, a._locale).match(Ka) || [];
            for (d = 0; d < h.length; d++) {
                var l = h[d];
                if (e = (c.match(T(l, a)) || [])[0]) {
                    var k = c.substr(0, c.indexOf(e));
                    0 < k.length && a._pf.unusedInput.push(k);
                    c = c.slice(c.indexOf(e) + e.length);
                    g += e.length
                }
                if (Aa[l]) {
                    e ? a._pf.empty = !1 : a._pf.unusedTokens.push(l);
                    k = a;
                    var m = k._a;
                    switch (l) {
                        case "Q":
                            null != e && (m[1] = 3 * (C(e) - 1));
                            break;
                        case "M":
                        case "MM":
                            null != e && (m[1] = C(e) - 1);
                            break;
                        case "MMM":
                        case "MMMM":
                            l =
                                k._locale.monthsParse(e, l, k._strict);
                            null != l ? m[1] = l : k._pf.invalidMonth = e;
                            break;
                        case "D":
                        case "DD":
                            null != e && (m[2] = C(e));
                            break;
                        case "Do":
                            null != e && (m[2] = C(parseInt(e.match(/\d{1,2}/)[0], 10)));
                            break;
                        case "DDD":
                        case "DDDD":
                            null != e && (k._dayOfYear = C(e));
                            break;
                        case "YY":
                            m[0] = D.parseTwoDigitYear(e);
                            break;
                        case "YYYY":
                        case "YYYYY":
                        case "YYYYYY":
                            m[0] = C(e);
                            break;
                        case "a":
                        case "A":
                            k._meridiem = e;
                            break;
                        case "h":
                        case "hh":
                            k._pf.bigHour = !0;
                        case "H":
                        case "HH":
                            m[3] = C(e);
                            break;
                        case "m":
                        case "mm":
                            m[4] = C(e);
                            break;
                        case "s":
                        case "ss":
                            m[5] =
                                C(e);
                            break;
                        case "S":
                        case "SS":
                        case "SSS":
                        case "SSSS":
                            m[6] = C(1E3 * ("0." + e));
                            break;
                        case "x":
                            k._d = new Date(C(e));
                            break;
                        case "X":
                            k._d = new Date(1E3 * parseFloat(e));
                            break;
                        case "Z":
                        case "ZZ":
                            k._useUTC = !0;
                            k._tzm = U(e);
                            break;
                        case "dd":
                        case "ddd":
                        case "dddd":
                            l = k._locale.weekdaysParse(e);
                            null != l ? (k._w = k._w || {}, k._w.d = l) : k._pf.invalidWeekday = e;
                            break;
                        case "w":
                        case "ww":
                        case "W":
                        case "WW":
                        case "d":
                        case "e":
                        case "E":
                            l = l.substr(0, 1);
                        case "gggg":
                        case "GGGG":
                        case "GGGGG":
                            l = l.substr(0, 2);
                            e && (k._w = k._w || {}, k._w[l] = C(e));
                            break;
                        case "gg":
                        case "GG":
                            k._w = k._w || {}, k._w[l] = D.parseTwoDigitYear(e)
                    }
                } else a._strict && !e && a._pf.unusedTokens.push(l)
            }
            a._pf.charsLeftOver = f - g;
            0 < c.length && a._pf.unusedInput.push(c);
            !0 === a._pf.bigHour && 12 >= a._a[3] && (a._pf.bigHour = b);
            c = a._a;
            h = a._locale;
            d = a._a[3];
            f = a._meridiem;
            null != f && (null != h.meridiemHour ? d = h.meridiemHour(d, f) : null != h.isPM && ((h = h.isPM(f)) && 12 > d && (d += 12), h || 12 !== d || (d = 0)));
            c[3] = d;
            ba(a);
            N(a)
        }
    }

    function aa(a) {
        return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(a, b, c, d, e) {
            return b ||
                c || d || e
        })
    }

    function ea(a) {
        var b, c = a._i,
            d = xb.exec(c);
        if (d) {
            a._pf.iso = !0;
            var e = 0;
            for (b = $a.length; e < b; e++)
                if ($a[e][1].exec(c)) {
                    a._f = $a[e][0] + (d[6] || " ");
                    break
                } e = 0;
            for (b = ab.length; e < b; e++)
                if (ab[e][1].exec(c)) {
                    a._f += ab[e][0];
                    break
                } c.match(Wa) && (a._f += "Z");
            ca(a)
        } else a._isValid = !1
    }

    function ja(a) {
        ea(a);
        !1 === a._isValid && (delete a._isValid, D.createFromInputFallback(a))
    }

    function sa(a, b) {
        var c = [],
            d;
        for (d = 0; d < a.length; ++d) c.push(b(a[d], d));
        return c
    }

    function ma(a) {
        var c = a._i,
            d;
        c === b ? a._d = new Date : A(c) ? a._d = new Date(+c) :
            null !== (d = ya.exec(c)) ? a._d = new Date(+d[1]) : "string" === typeof c ? ja(a) : t(c) ? (a._a = sa(c.slice(0), function(a) {
                return parseInt(a, 10)
            }), ba(a)) : "object" === typeof c ? Y(a) : "number" === typeof c ? a._d = new Date(c) : D.createFromInputFallback(a)
    }

    function qa(a, b, c, d, e, f, g) {
        b = new Date(a, b, c, d, e, f, g);
        1970 > a && b.setFullYear(a);
        return b
    }

    function ua(a) {
        var b = new Date(Date.UTC.apply(null, arguments));
        1970 > a && b.setUTCFullYear(a);
        return b
    }

    function Ia(a, b, c, d, e) {
        return e.relativeTime(b || 1, !!c, a, d)
    }

    function la(a, b, c) {
        b = c - b;
        c -=
            a.day();
        c > b && (c -= 7);
        c < b - 7 && (c += 7);
        a = D(a).add(c, "d");
        return {
            week: Math.ceil(a.dayOfYear() / 7),
            year: a.year()
        }
    }

    function L(a) {
        var c = a._i,
            d = a._f;
        a._locale = a._locale || D.localeData(a._l);
        if (null === c || d === b && "" === c) return D.invalid({
            nullInput: !0
        });
        "string" === typeof c && (a._i = c = a._locale.preparse(c));
        if (D.isMoment(c)) return new h(c, !0);
        if (d)
            if (t(d))
                if (0 === a._f.length) a._pf.invalidFormat = !0, a._d = new Date(NaN);
                else {
                    for (c = 0; c < a._f.length; c++) {
                        d = 0;
                        var e = q({}, a);
                        null != a._useUTC && (e._useUTC = a._useUTC);
                        e._pf = k();
                        e._f =
                            a._f[c];
                        ca(e);
                        if (K(e) && (d += e._pf.charsLeftOver, d += 10 * e._pf.unusedTokens.length, e._pf.score = d, null == f || d < f)) {
                            var f = d;
                            var g = e
                        }
                    }
                    p(a, g || e)
                }
        else ca(a);
        else ma(a);
        a = new h(a);
        a._nextDay && (a.add(1, "d"), a._nextDay = b);
        return a
    }

    function n(a, b) {
        var c;
        1 === b.length && t(b[0]) && (b = b[0]);
        if (!b.length) return D();
        var d = b[0];
        for (c = 1; c < b.length; ++c) b[c][a](d) && (d = b[c]);
        return d
    }

    function Ha(a, b) {
        if ("string" === typeof b && (b = a.localeData().monthsParse(b), "number" !== typeof b)) return a;
        var c = Math.min(a.date(), O(a.year(), b));
        a._d["set" + (a._isUTC ? "UTC" : "") + "Month"](b, c);
        return a
    }

    function ra(a, b) {
        return a._d["get" + (a._isUTC ? "UTC" : "") + b]()
    }

    function wa(a, b, c) {
        return "Month" === b ? Ha(a, c) : a._d["set" + (a._isUTC ? "UTC" : "") + b](c)
    }

    function Da(a, b) {
        return function(c) {
            return null != c ? (wa(this, a, c), D.updateOffset(this, b), this) : ra(this, a)
        }
    }

    function na(a) {
        D.duration.fn[a] = function() {
            return this._data[a]
        }
    }

    function X(a) {
        "undefined" === typeof ender && (P = xa.moment, xa.moment = a ? c("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",
            D) : D)
    }
    for (var D, xa = "undefined" === typeof global || "undefined" !== typeof window && window !== global.window ? this : global, P, ka = Math.round, fa = Object.prototype.hasOwnProperty, ha, va = {}, oa = [], S = "undefined" !== typeof module && module && module.exports, ya = /^\/?Date\((\-?\d+)/i, Ea = /(\-)?(?:(\d*)\.)?(\d+):(\d+)(?::(\d+)\.?(\d{3})?)?/, W = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/, Ka = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,
            Ca = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, da = /\d\d?/, ta = /\d{1,3}/, Z = /\d{1,4}/, Va = /[+\-]?\d{1,6}/, La = /\d+/, tb = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, Wa = /Z|[\+\-]\d\d:?\d\d/gi, eb = /T/i, fb = /[\+\-]?\d+/, gb = /[\+\-]?\d+(\.\d{1,3})?/, hb = /\d/, Xa = /\d\d/, Qa = /\d{3}/, Ma = /\d{4}/, kb = /[+-]?\d{6}/, lb = /[+-]?\d+/, xb = /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
            $a = [
                ["YYYYYY-MM-DD", /[+-]\d{6}-\d{2}-\d{2}/],
                ["YYYY-MM-DD", /\d{4}-\d{2}-\d{2}/],
                ["GGGG-[W]WW-E", /\d{4}-W\d{2}-\d/],
                ["GGGG-[W]WW", /\d{4}-W\d{2}/],
                ["YYYY-DDD", /\d{4}-\d{3}/]
            ], ab = [
                ["HH:mm:ss.SSSS", /(T| )\d\d:\d\d:\d\d\.\d+/],
                ["HH:mm:ss", /(T| )\d\d:\d\d:\d\d/],
                ["HH:mm", /(T| )\d\d:\d\d/],
                ["HH", /(T| )\d\d/]
            ], mb = /([\+\-]|\d\d)/gi, ib = {
                Milliseconds: 1,
                Seconds: 1E3,
                Minutes: 6E4,
                Hours: 36E5,
                Days: 864E5,
                Months: 2592E6,
                Years: 31536E6
            }, yb = {
                ms: "millisecond",
                s: "second",
                m: "minute",
                h: "hour",
                d: "day",
                D: "date",
                w: "week",
                W: "isoWeek",
                M: "month",
                Q: "quarter",
                y: "year",
                DDD: "dayOfYear",
                e: "weekday",
                E: "isoWeekday",
                gg: "weekYear",
                GG: "isoWeekYear"
            }, Ba = {
                dayofyear: "dayOfYear",
                isoweekday: "isoWeekday",
                isoweek: "isoWeek",
                weekyear: "weekYear",
                isoweekyear: "isoWeekYear"
            }, Na = {}, za = {
                s: 45,
                m: 45,
                h: 22,
                d: 26,
                M: 11
            }, Ya = "DDD w W M D d".split(" "), bb = "MDHhmswW".split(""), Aa = {
                M: function() {
                    return this.month() + 1
                },
                MMM: function(a) {
                    return this.localeData().monthsShort(this, a)
                },
                MMMM: function(a) {
                    return this.localeData().months(this, a)
                },
                D: function() {
                    return this.date()
                },
                DDD: function() {
                    return this.dayOfYear()
                },
                d: function() {
                    return this.day()
                },
                dd: function(a) {
                    return this.localeData().weekdaysMin(this, a)
                },
                ddd: function(a) {
                    return this.localeData().weekdaysShort(this, a)
                },
                dddd: function(a) {
                    return this.localeData().weekdays(this, a)
                },
                w: function() {
                    return this.week()
                },
                W: function() {
                    return this.isoWeek()
                },
                YY: function() {
                    return u(this.year() % 100, 2)
                },
                YYYY: function() {
                    return u(this.year(), 4)
                },
                YYYYY: function() {
                    return u(this.year(), 5)
                },
                YYYYYY: function() {
                    var a = this.year();
                    return (0 <= a ? "+" :
                        "-") + u(Math.abs(a), 6)
                },
                gg: function() {
                    return u(this.weekYear() % 100, 2)
                },
                gggg: function() {
                    return u(this.weekYear(), 4)
                },
                ggggg: function() {
                    return u(this.weekYear(), 5)
                },
                GG: function() {
                    return u(this.isoWeekYear() % 100, 2)
                },
                GGGG: function() {
                    return u(this.isoWeekYear(), 4)
                },
                GGGGG: function() {
                    return u(this.isoWeekYear(), 5)
                },
                e: function() {
                    return this.weekday()
                },
                E: function() {
                    return this.isoWeekday()
                },
                a: function() {
                    return this.localeData().meridiem(this.hours(), this.minutes(), !0)
                },
                A: function() {
                    return this.localeData().meridiem(this.hours(),
                        this.minutes(), !1)
                },
                H: function() {
                    return this.hours()
                },
                h: function() {
                    return this.hours() % 12 || 12
                },
                m: function() {
                    return this.minutes()
                },
                s: function() {
                    return this.seconds()
                },
                S: function() {
                    return C(this.milliseconds() / 100)
                },
                SS: function() {
                    return u(C(this.milliseconds() / 10), 2)
                },
                SSS: function() {
                    return u(this.milliseconds(), 3)
                },
                SSSS: function() {
                    return u(this.milliseconds(), 3)
                },
                Z: function() {
                    var a = this.utcOffset(),
                        b = "+";
                    0 > a && (a = -a, b = "-");
                    return b + u(C(a / 60), 2) + ":" + u(C(a) % 60, 2)
                },
                ZZ: function() {
                    var a = this.utcOffset(),
                        b = "+";
                    0 > a && (a = -a, b = "-");
                    return b + u(C(a / 60), 2) + u(C(a) % 60, 2)
                },
                z: function() {
                    return this.zoneAbbr()
                },
                zz: function() {
                    return this.zoneName()
                },
                x: function() {
                    return this.valueOf()
                },
                X: function() {
                    return this.unix()
                },
                Q: function() {
                    return this.quarter()
                }
            }, Fa = {}, Ga = ["months", "monthsShort", "weekdays", "weekdaysShort", "weekdaysMin"], cb = !1; Ya.length;) ha = Ya.pop(), Aa[ha + "o"] = d(Aa[ha], ha);
    for (; bb.length;) ha = bb.pop(), Aa[ha + ha] = a(Aa[ha], 2);
    Aa.DDDD = a(Aa.DDD, 3);
    p(e.prototype, {
        set: function(a) {
            var b;
            for (b in a) {
                var c = a[b];
                "function" ===
                typeof c ? this[b] = c : this["_" + b] = c
            }
            this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source)
        },
        _months: "January February March April May June July August September October November December".split(" "),
        months: function(a) {
            return this._months[a.month()]
        },
        _monthsShort: "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
        monthsShort: function(a) {
            return this._monthsShort[a.month()]
        },
        monthsParse: function(a, b, c) {
            var d;
            this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []);
            for (d = 0; 12 > d; d++) {
                var e = D.utc([2E3, d]);
                c && !this._longMonthsParse[d] && (this._longMonthsParse[d] = new RegExp("^" + this.months(e, "").replace(".", "") + "$", "i"), this._shortMonthsParse[d] = new RegExp("^" + this.monthsShort(e, "").replace(".", "") + "$", "i"));
                c || this._monthsParse[d] || (e = "^" + this.months(e, "") + "|^" + this.monthsShort(e, ""), this._monthsParse[d] = new RegExp(e.replace(".", ""), "i"));
                if (c && "MMMM" === b && this._longMonthsParse[d].test(a) || c && "MMM" === b && this._shortMonthsParse[d].test(a) ||
                    !c && this._monthsParse[d].test(a)) return d
            }
        },
        _weekdays: "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
        weekdays: function(a) {
            return this._weekdays[a.day()]
        },
        _weekdaysShort: "Sun Mon Tue Wed Thu Fri Sat".split(" "),
        weekdaysShort: function(a) {
            return this._weekdaysShort[a.day()]
        },
        _weekdaysMin: "Su Mo Tu We Th Fr Sa".split(" "),
        weekdaysMin: function(a) {
            return this._weekdaysMin[a.day()]
        },
        weekdaysParse: function(a) {
            var b;
            this._weekdaysParse || (this._weekdaysParse = []);
            for (b = 0; 7 > b; b++) {
                if (!this._weekdaysParse[b]) {
                    var c =
                        D([2E3, 1]).day(b);
                    c = "^" + this.weekdays(c, "") + "|^" + this.weekdaysShort(c, "") + "|^" + this.weekdaysMin(c, "");
                    this._weekdaysParse[b] = new RegExp(c.replace(".", ""), "i")
                }
                if (this._weekdaysParse[b].test(a)) return b
            }
        },
        _longDateFormat: {
            LTS: "h:mm:ss A",
            LT: "h:mm A",
            L: "MM/DD/YYYY",
            LL: "MMMM D, YYYY",
            LLL: "MMMM D, YYYY LT",
            LLLL: "dddd, MMMM D, YYYY LT"
        },
        longDateFormat: function(a) {
            var b = this._longDateFormat[a];
            !b && this._longDateFormat[a.toUpperCase()] && (b = this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,
                function(a) {
                    return a.slice(1)
                }), this._longDateFormat[a] = b);
            return b
        },
        isPM: function(a) {
            return "p" === (a + "").toLowerCase().charAt(0)
        },
        _meridiemParse: /[ap]\.?m?\.?/i,
        meridiem: function(a, b, c) {
            return 11 < a ? c ? "pm" : "PM" : c ? "am" : "AM"
        },
        _calendar: {
            sameDay: "[Today at] LT",
            nextDay: "[Tomorrow at] LT",
            nextWeek: "dddd [at] LT",
            lastDay: "[Yesterday at] LT",
            lastWeek: "[Last] dddd [at] LT",
            sameElse: "L"
        },
        calendar: function(a, b, c) {
            a = this._calendar[a];
            return "function" === typeof a ? a.apply(b, [c]) : a
        },
        _relativeTime: {
            future: "in %s",
            past: "%s ago",
            s: "a few seconds",
            m: "a minute",
            mm: "%d minutes",
            h: "an hour",
            hh: "%d hours",
            d: "a day",
            dd: "%d days",
            M: "a month",
            MM: "%d months",
            y: "a year",
            yy: "%d years"
        },
        relativeTime: function(a, b, c, d) {
            var e = this._relativeTime[c];
            return "function" === typeof e ? e(a, b, c, d) : e.replace(/%d/i, a)
        },
        pastFuture: function(a, b) {
            a = this._relativeTime[0 < a ? "future" : "past"];
            return "function" === typeof a ? a(b) : a.replace(/%s/i, b)
        },
        ordinal: function(a) {
            return this._ordinal.replace("%d", a)
        },
        _ordinal: "%d",
        _ordinalParse: /\d{1,2}/,
        preparse: function(a) {
            return a
        },
        postformat: function(a) {
            return a
        },
        week: function(a) {
            return la(a, this._week.dow, this._week.doy).week
        },
        _week: {
            dow: 0,
            doy: 6
        },
        firstDayOfWeek: function() {
            return this._week.dow
        },
        firstDayOfYear: function() {
            return this._week.doy
        },
        _invalidDate: "Invalid date",
        invalidDate: function() {
            return this._invalidDate
        }
    });
    D = function(a, c, d, e) {
        "boolean" === typeof d && (e = d, d = b);
        var f = {
            _isAMomentObject: !0
        };
        f._i = a;
        f._f = c;
        f._l = d;
        f._strict = e;
        f._isUTC = !1;
        f._pf = k();
        return L(f)
    };
    D.suppressDeprecationWarnings = !1;
    D.createFromInputFallback =
        c("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.", function(a) {
            a._d = new Date(a._i + (a._useUTC ? " UTC" : ""))
        });
    D.min = function() {
        var a = [].slice.call(arguments, 0);
        return n("isBefore", a)
    };
    D.max = function() {
        var a = [].slice.call(arguments, 0);
        return n("isAfter", a)
    };
    D.utc = function(a, c, d, e) {
        "boolean" === typeof d && (e = d, d = b);
        var f = {
            _isAMomentObject: !0,
            _useUTC: !0,
            _isUTC: !0
        };
        f._l =
            d;
        f._i = a;
        f._f = c;
        f._strict = e;
        f._pf = k();
        return L(f).utc()
    };
    D.unix = function(a) {
        return D(1E3 * a)
    };
    D.duration = function(a, b) {
        var c = a,
            d = null;
        if (D.isDuration(a)) c = {
            ms: a._milliseconds,
            d: a._days,
            M: a._months
        };
        else if ("number" === typeof a) c = {}, b ? c[b] = a : c.milliseconds = a;
        else if (d = Ea.exec(a)) {
            var e = "-" === d[1] ? -1 : 1;
            c = {
                y: 0,
                d: C(d[2]) * e,
                h: C(d[3]) * e,
                m: C(d[4]) * e,
                s: C(d[5]) * e,
                ms: C(d[6]) * e
            }
        } else(d = W.exec(a)) ? (e = "-" === d[1] ? -1 : 1, c = function(a) {
            a = a && parseFloat(a.replace(",", "."));
            return (isNaN(a) ? 0 : a) * e
        }, c = {
            y: c(d[2]),
            M: c(d[3]),
            d: c(d[4]),
            h: c(d[5]),
            m: c(d[6]),
            s: c(d[7]),
            w: c(d[8])
        }) : null == c ? c = {} : "object" === typeof c && ("from" in c || "to" in c) && (d = r(D(c.from), D(c.to)), c = {}, c.ms = d.milliseconds, c.M = d.months);
        c = new m(c);
        D.isDuration(a) && fa.call(a, "_locale") && (c._locale = a._locale);
        return c
    };
    D.version = "2.9.0";
    D.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ";
    D.ISO_8601 = function() {};
    D.momentProperties = oa;
    D.updateOffset = function() {};
    D.relativeTimeThreshold = function(a, c) {
        if (za[a] === b) return !1;
        if (c === b) return za[a];
        za[a] = c;
        return !0
    };
    D.lang = c("moment.lang is deprecated. Use moment.locale instead.",
        function(a, b) {
            return D.locale(a, b)
        });
    D.locale = function(a, b) {
        a && (a = "undefined" !== typeof b ? D.defineLocale(a, b) : D.localeData(a)) && (D.duration._locale = D._locale = a);
        return D._locale._abbr
    };
    D.defineLocale = function(a, b) {
        if (null !== b) return b.abbr = a, va[a] || (va[a] = new e), va[a].set(b), D.locale(a), va[a];
        delete va[a];
        return null
    };
    D.langData = c("moment.langData is deprecated. Use moment.localeData instead.", function(a) {
        return D.localeData(a)
    });
    D.localeData = function(a) {
        var b;
        a && a._locale && a._locale._abbr && (a = a._locale._abbr);
        if (!a) return D._locale;
        if (!t(a)) {
            if (b = G(a)) return b;
            a = [a]
        }
        a: {
            b = 0;
            for (var c, d, e, f; b < a.length;) {
                f = Q(a[b]).split("-");
                c = f.length;
                for (d = (d = Q(a[b + 1])) ? d.split("-") : null; 0 < c;) {
                    if (e = G(f.slice(0, c).join("-"))) {
                        a = e;
                        break a
                    }
                    if (d && d.length >= c && z(f, d, !0) >= c - 1) break;
                    c--
                }
                b++
            }
            a = null
        }
        return a
    };
    D.isMoment = function(a) {
        return a instanceof h || null != a && fa.call(a, "_isAMomentObject")
    };
    D.isDuration = function(a) {
        return a instanceof m
    };
    for (ha = Ga.length - 1; 0 <= ha; --ha) y(Ga[ha]);
    D.normalizeUnits = function(a) {
        return B(a)
    };
    D.invalid =
        function(a) {
            var b = D.utc(NaN);
            null != a ? p(b._pf, a) : b._pf.userInvalidated = !0;
            return b
        };
    D.parseZone = function() {
        return D.apply(null, arguments).parseZone()
    };
    D.parseTwoDigitYear = function(a) {
        return C(a) + (68 < C(a) ? 1900 : 2E3)
    };
    D.isDate = A;
    p(D.fn = h.prototype, {
        clone: function() {
            return D(this)
        },
        valueOf: function() {
            return +this._d - 6E4 * (this._offset || 0)
        },
        unix: function() {
            return Math.floor(+this / 1E3)
        },
        toString: function() {
            return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
        },
        toDate: function() {
            return this._offset ?
                new Date(+this) : this._d
        },
        toISOString: function() {
            var a = D(this).utc();
            return 0 < a.year() && 9999 >= a.year() ? "function" === typeof Date.prototype.toISOString ? this.toDate().toISOString() : R(a, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : R(a, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")
        },
        toArray: function() {
            return [this.year(), this.month(), this.date(), this.hours(), this.minutes(), this.seconds(), this.milliseconds()]
        },
        isValid: function() {
            return K(this)
        },
        isDSTShifted: function() {
            return this._a ? this.isValid() && 0 < z(this._a, (this._isUTC ? D.utc(this._a) :
                D(this._a)).toArray()) : !1
        },
        parsingFlags: function() {
            return p({}, this._pf)
        },
        invalidAt: function() {
            return this._pf.overflow
        },
        utc: function(a) {
            return this.utcOffset(0, a)
        },
        local: function(a) {
            this._isUTC && (this.utcOffset(0, a), this._isUTC = !1, a && this.subtract(this._dateUtcOffset(), "m"));
            return this
        },
        format: function(a) {
            a = R(this, a || D.defaultFormat);
            return this.localeData().postformat(a)
        },
        add: x(1, "add"),
        subtract: x(-1, "subtract"),
        diff: function(a, b, c) {
            a = J(a, this);
            var d = 6E4 * (a.utcOffset() - this.utcOffset());
            b = B(b);
            if ("year" === b || "month" === b || "quarter" === b) {
                d = 12 * (a.year() - this.year()) + (a.month() - this.month());
                var e = this.clone().add(d, "months");
                if (0 > a - e) {
                    var f = this.clone().add(d - 1, "months");
                    a = (a - e) / (e - f)
                } else f = this.clone().add(d + 1, "months"), a = (a - e) / (f - e);
                a = -(d + a);
                "quarter" === b ? a /= 3 : "year" === b && (a /= 12)
            } else a = this - a, a = "second" === b ? a / 1E3 : "minute" === b ? a / 6E4 : "hour" === b ? a / 36E5 : "day" === b ? (a - d) / 864E5 : "week" === b ? (a - d) / 6048E5 : a;
            return c ? a : l(a)
        },
        from: function(a, b) {
            return D.duration({
                to: this,
                from: a
            }).locale(this.locale()).humanize(!b)
        },
        fromNow: function(a) {
            return this.from(D(), a)
        },
        calendar: function(a) {
            a = a || D();
            var b = J(a, this).startOf("day");
            b = this.diff(b, "days", !0);
            b = -6 > b ? "sameElse" : -1 > b ? "lastWeek" : 0 > b ? "lastDay" : 1 > b ? "sameDay" : 2 > b ? "nextDay" : 7 > b ? "nextWeek" : "sameElse";
            return this.format(this.localeData().calendar(b, this, D(a)))
        },
        isLeapYear: function() {
            return F(this.year())
        },
        isDST: function() {
            return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset()
        },
        day: function(a) {
            var b = this._isUTC ?
                this._d.getUTCDay() : this._d.getDay();
            if (null != a) {
                var c = this.localeData();
                "string" === typeof a && (isNaN(a) ? (a = c.weekdaysParse(a), "number" !== typeof a && (a = null)) : a = parseInt(a, 10));
                return this.add(a - b, "d")
            }
            return b
        },
        month: Da("Month", !0),
        startOf: function(a) {
            a = B(a);
            switch (a) {
                case "year":
                    this.month(0);
                case "quarter":
                case "month":
                    this.date(1);
                case "week":
                case "isoWeek":
                case "day":
                    this.hours(0);
                case "hour":
                    this.minutes(0);
                case "minute":
                    this.seconds(0);
                case "second":
                    this.milliseconds(0)
            }
            "week" === a ? this.weekday(0) :
                "isoWeek" === a && this.isoWeekday(1);
            "quarter" === a && this.month(3 * Math.floor(this.month() / 3));
            return this
        },
        endOf: function(a) {
            a = B(a);
            return a === b || "millisecond" === a ? this : this.startOf(a).add(1, "isoWeek" === a ? "week" : a).subtract(1, "ms")
        },
        isAfter: function(a, b) {
            b = B("undefined" !== typeof b ? b : "millisecond");
            return "millisecond" === b ? (a = D.isMoment(a) ? a : D(a), +this > +a) : (D.isMoment(a) ? +a : +D(a)) < +this.clone().startOf(b)
        },
        isBefore: function(a, b) {
            b = B("undefined" !== typeof b ? b : "millisecond");
            if ("millisecond" === b) return a =
                D.isMoment(a) ? a : D(a), +this < +a;
            a = D.isMoment(a) ? +a : +D(a);
            return +this.clone().endOf(b) < a
        },
        isBetween: function(a, b, c) {
            return this.isAfter(a, c) && this.isBefore(b, c)
        },
        isSame: function(a, b) {
            b = B(b || "millisecond");
            if ("millisecond" === b) return a = D.isMoment(a) ? a : D(a), +this === +a;
            a = +D(a);
            return +this.clone().startOf(b) <= a && a <= +this.clone().endOf(b)
        },
        min: c("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548", function(a) {
            a = D.apply(null, arguments);
            return a < this ? this : a
        }),
        max: c("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",
            function(a) {
                a = D.apply(null, arguments);
                return a > this ? this : a
            }),
        zone: c("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779", function(a, b) {
            return null != a ? ("string" !== typeof a && (a = -a), this.utcOffset(a, b), this) : -this.utcOffset()
        }),
        utcOffset: function(a, b) {
            var c = this._offset || 0,
                d;
            return null != a ? ("string" === typeof a && (a = U(a)), 16 > Math.abs(a) && (a *= 60), !this._isUTC && b && (d = this._dateUtcOffset()), this._offset = a, this._isUTC = !0, null != d && this.add(d, "m"), c !== a &&
                (!b || this._changeInProgress ? v(this, D.duration(a - c, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, D.updateOffset(this, !0), this._changeInProgress = null)), this) : this._isUTC ? c : this._dateUtcOffset()
        },
        isLocal: function() {
            return !this._isUTC
        },
        isUtcOffset: function() {
            return this._isUTC
        },
        isUtc: function() {
            return this._isUTC && 0 === this._offset
        },
        zoneAbbr: function() {
            return this._isUTC ? "UTC" : ""
        },
        zoneName: function() {
            return this._isUTC ? "Coordinated Universal Time" : ""
        },
        parseZone: function() {
            this._tzm ? this.utcOffset(this._tzm) :
                "string" === typeof this._i && this.utcOffset(U(this._i));
            return this
        },
        hasAlignedHourOffset: function(a) {
            a = a ? D(a).utcOffset() : 0;
            return 0 === (this.utcOffset() - a) % 60
        },
        daysInMonth: function() {
            return O(this.year(), this.month())
        },
        dayOfYear: function(a) {
            var b = ka((D(this).startOf("day") - D(this).startOf("year")) / 864E5) + 1;
            return null == a ? b : this.add(a - b, "d")
        },
        quarter: function(a) {
            return null == a ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (a - 1) + this.month() % 3)
        },
        weekYear: function(a) {
            var b = la(this, this.localeData()._week.dow,
                this.localeData()._week.doy).year;
            return null == a ? b : this.add(a - b, "y")
        },
        isoWeekYear: function(a) {
            var b = la(this, 1, 4).year;
            return null == a ? b : this.add(a - b, "y")
        },
        week: function(a) {
            var b = this.localeData().week(this);
            return null == a ? b : this.add(7 * (a - b), "d")
        },
        isoWeek: function(a) {
            var b = la(this, 1, 4).week;
            return null == a ? b : this.add(7 * (a - b), "d")
        },
        weekday: function(a) {
            var b = (this.day() + 7 - this.localeData()._week.dow) % 7;
            return null == a ? b : this.add(a - b, "d")
        },
        isoWeekday: function(a) {
            return null == a ? this.day() || 7 : this.day(this.day() %
                7 ? a : a - 7)
        },
        isoWeeksInYear: function() {
            return I(this.year(), 1, 4)
        },
        weeksInYear: function() {
            var a = this.localeData()._week;
            return I(this.year(), a.dow, a.doy)
        },
        get: function(a) {
            a = B(a);
            return this[a]()
        },
        set: function(a, b) {
            var c;
            if ("object" === typeof a)
                for (c in a) this.set(c, a[c]);
            else if (a = B(a), "function" === typeof this[a]) this[a](b);
            return this
        },
        locale: function(a) {
            if (a === b) return this._locale._abbr;
            a = D.localeData(a);
            null != a && (this._locale = a);
            return this
        },
        lang: c("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",
            function(a) {
                return a === b ? this.localeData() : this.locale(a)
            }),
        localeData: function() {
            return this._locale
        },
        _dateUtcOffset: function() {
            return 15 * -Math.round(this._d.getTimezoneOffset() / 15)
        }
    });
    D.fn.millisecond = D.fn.milliseconds = Da("Milliseconds", !1);
    D.fn.second = D.fn.seconds = Da("Seconds", !1);
    D.fn.minute = D.fn.minutes = Da("Minutes", !1);
    D.fn.hour = D.fn.hours = Da("Hours", !0);
    D.fn.date = Da("Date", !0);
    D.fn.dates = c("dates accessor is deprecated. Use date instead.", Da("Date", !0));
    D.fn.year = Da("FullYear", !0);
    D.fn.years =
        c("years accessor is deprecated. Use year instead.", Da("FullYear", !0));
    D.fn.days = D.fn.day;
    D.fn.months = D.fn.month;
    D.fn.weeks = D.fn.week;
    D.fn.isoWeeks = D.fn.isoWeek;
    D.fn.quarters = D.fn.quarter;
    D.fn.toJSON = D.fn.toISOString;
    D.fn.isUTC = D.fn.isUtc;
    p(D.duration.fn = m.prototype, {
        _bubble: function() {
            var a = this._milliseconds,
                b = this._days,
                c = this._months,
                d = this._data;
            d.milliseconds = a % 1E3;
            a = l(a / 1E3);
            d.seconds = a % 60;
            a = l(a / 60);
            d.minutes = a % 60;
            a = l(a / 60);
            d.hours = a % 24;
            b += l(a / 24);
            a = l(400 * b / 146097);
            b -= l(146097 * a / 400);
            c += l(b /
                30);
            b %= 30;
            a += l(c / 12);
            d.days = b;
            d.months = c % 12;
            d.years = a
        },
        abs: function() {
            this._milliseconds = Math.abs(this._milliseconds);
            this._days = Math.abs(this._days);
            this._months = Math.abs(this._months);
            this._data.milliseconds = Math.abs(this._data.milliseconds);
            this._data.seconds = Math.abs(this._data.seconds);
            this._data.minutes = Math.abs(this._data.minutes);
            this._data.hours = Math.abs(this._data.hours);
            this._data.months = Math.abs(this._data.months);
            this._data.years = Math.abs(this._data.years);
            return this
        },
        weeks: function() {
            return l(this.days() /
                7)
        },
        valueOf: function() {
            return this._milliseconds + 864E5 * this._days + this._months % 12 * 2592E6 + 31536E6 * C(this._months / 12)
        },
        humanize: function(a) {
            var b = !a;
            var c = this.localeData(),
                d = D.duration(this).abs(),
                e = ka(d.as("s")),
                f = ka(d.as("m")),
                g = ka(d.as("h")),
                h = ka(d.as("d")),
                l = ka(d.as("M"));
            d = ka(d.as("y"));
            e = e < za.s && ["s", e] || 1 === f && ["m"] || f < za.m && ["mm", f] || 1 === g && ["h"] || g < za.h && ["hh", g] || 1 === h && ["d"] || h < za.d && ["dd", h] || 1 === l && ["M"] || l < za.M && ["MM", l] || 1 === d && ["y"] || ["yy", d];
            e[2] = b;
            e[3] = 0 < +this;
            e[4] = c;
            b = Ia.apply({},
                e);
            a && (b = this.localeData().pastFuture(+this, b));
            return this.localeData().postformat(b)
        },
        add: function(a, b) {
            a = D.duration(a, b);
            this._milliseconds += a._milliseconds;
            this._days += a._days;
            this._months += a._months;
            this._bubble();
            return this
        },
        subtract: function(a, b) {
            a = D.duration(a, b);
            this._milliseconds -= a._milliseconds;
            this._days -= a._days;
            this._months -= a._months;
            this._bubble();
            return this
        },
        get: function(a) {
            a = B(a);
            return this[a.toLowerCase() + "s"]()
        },
        as: function(a) {
            a = B(a);
            if ("month" === a || "year" === a) {
                var b = this._days +
                    this._milliseconds / 864E5;
                b = this._months + 400 * b / 146097 * 12;
                return "month" === a ? b : b / 12
            }
            b = this._days + Math.round(this._months / 12 * 146097 / 400);
            switch (a) {
                case "week":
                    return b / 7 + this._milliseconds / 6048E5;
                case "day":
                    return b + this._milliseconds / 864E5;
                case "hour":
                    return 24 * b + this._milliseconds / 36E5;
                case "minute":
                    return 1440 * b + this._milliseconds / 6E4;
                case "second":
                    return 86400 * b + this._milliseconds / 1E3;
                case "millisecond":
                    return Math.floor(864E5 * b) + this._milliseconds;
                default:
                    throw Error("Unknown unit " + a);
            }
        },
        lang: D.fn.lang,
        locale: D.fn.locale,
        toIsoString: c("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", function() {
            return this.toISOString()
        }),
        toISOString: function() {
            var a = Math.abs(this.years()),
                b = Math.abs(this.months()),
                c = Math.abs(this.days()),
                d = Math.abs(this.hours()),
                e = Math.abs(this.minutes()),
                f = Math.abs(this.seconds() + this.milliseconds() / 1E3);
            return this.asSeconds() ? (0 > this.asSeconds() ? "-" : "") + "P" + (a ? a + "Y" : "") + (b ? b + "M" : "") + (c ? c + "D" : "") + (d || e || f ? "T" : "") + (d ? d + "H" : "") + (e ? e + "M" : "") +
                (f ? f + "S" : "") : "P0D"
        },
        localeData: function() {
            return this._locale
        },
        toJSON: function() {
            return this.toISOString()
        }
    });
    D.duration.fn.toString = D.duration.fn.toISOString;
    for (ha in ib) fa.call(ib, ha) && na(ha.toLowerCase());
    D.duration.fn.asMilliseconds = function() {
        return this.as("ms")
    };
    D.duration.fn.asSeconds = function() {
        return this.as("s")
    };
    D.duration.fn.asMinutes = function() {
        return this.as("m")
    };
    D.duration.fn.asHours = function() {
        return this.as("h")
    };
    D.duration.fn.asDays = function() {
        return this.as("d")
    };
    D.duration.fn.asWeeks =
        function() {
            return this.as("weeks")
        };
    D.duration.fn.asMonths = function() {
        return this.as("M")
    };
    D.duration.fn.asYears = function() {
        return this.as("y")
    };
    D.locale("en", {
        ordinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal: function(a) {
            var b = a % 10;
            b = 1 === C(a % 100 / 10) ? "th" : 1 === b ? "st" : 2 === b ? "nd" : 3 === b ? "rd" : "th";
            return a + b
        }
    });
    S ? module.exports = D : "function" === typeof define && define.amd ? (define(function(a, b, c) {
        c.config && c.config() && !0 === c.config().noGlobal && (xa.moment = P);
        return D
    }), X(!0)) : X()
}).call(this);
define && define.nextId("pikaday");
(function(b, f) {
    if ("object" === typeof exports) {
        try {
            var k = require("moment")
        } catch (g) {}
        module.exports = f(k)
    } else "function" === typeof define && define.amd && define(function(b) {
        try {
            k = b("moment")
        } catch (c) {}
        return f(k)
    }), b.Pikaday = f(b.moment)
})(this, function(b) {
    var f = "function" === typeof b,
        k = !!window.addEventListener,
        g = window.document,
        c = window.setTimeout,
        a = function(a, b, c, d) {
            k ? a.addEventListener(b, c, !!d) : a.attachEvent("on" + b, c)
        },
        d = function(a, b, c, d) {
            k ? a.removeEventListener(b, c, !!d) : a.detachEvent("on" + b, c)
        },
        e = function(a,
            b, c) {
            if (g.createEvent) {
                var d = g.createEvent("HTMLEvents");
                d.initEvent(b, !0, !1);
                d = l(d, c);
                a.dispatchEvent(d)
            } else g.createEventObject && (d = g.createEventObject(), d = l(d, c), a.fireEvent("on" + b, d))
        },
        h = function(a, b) {
            return -1 !== (" " + a.className + " ").indexOf(" " + b + " ")
        },
        m = function(a) {
            return /Array/.test(Object.prototype.toString.call(a))
        },
        p = function(a) {
            return /Date/.test(Object.prototype.toString.call(a)) && !isNaN(a.getTime())
        },
        q = function(a) {
            p(a) && a.setHours(0, 0, 0, 0)
        },
        l = function(a, b, c) {
            var d, e;
            for (d in b)
                if ((e =
                        void 0 !== a[d]) && "object" === typeof b[d] && null !== b[d] && void 0 === b[d].nodeName) p(b[d]) ? c && (a[d] = new Date(b[d].getTime())) : m(b[d]) ? c && (a[d] = b[d].slice(0)) : a[d] = l({}, b[d], c);
                else if (c || !e) a[d] = b[d];
            return a
        },
        u = function(a) {
            0 > a.month && (a.year -= Math.ceil(Math.abs(a.month) / 12), a.month += 12);
            11 < a.month && (a.year += Math.floor(Math.abs(a.month) / 12), a.month -= 12);
            return a
        },
        w = {
            field: null,
            bound: void 0,
            position: "bottom left",
            reposition: !0,
            format: "YYYY-MM-DD",
            defaultDate: null,
            setDefaultDate: !1,
            firstDay: 0,
            minDate: null,
            maxDate: null,
            yearRange: 10,
            showWeekNumber: !1,
            minYear: 0,
            maxYear: 9999,
            minMonth: void 0,
            maxMonth: void 0,
            isRTL: !1,
            yearSuffix: "",
            showMonthAfterYear: !1,
            numberOfMonths: 1,
            mainCalendar: "left",
            container: void 0,
            i18n: {
                previousMonth: "Previous Month",
                nextMonth: "Next Month",
                months: "January February March April May June July August September October November December".split(" "),
                weekdays: "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
                weekdaysShort: "Sun Mon Tue Wed Thu Fri Sat".split(" ")
            },
            theme: null,
            onSelect: null,
            onOpen: null,
            onClose: null,
            onDraw: null
        },
        r = function(a, b, c) {
            for (b += a.firstDay; 7 <= b;) b -= 7;
            return c ? a.i18n.weekdaysShort[b] : a.i18n.weekdays[b]
        },
        x = function(a, b, c, d, e, f, g) {
            if (g) return '\x3ctd class\x3d"is-empty"\x3e\x3c/td\x3e';
            g = [];
            f && g.push("is-disabled");
            e && g.push("is-today");
            d && g.push("is-selected");
            return '\x3ctd data-day\x3d"' + a + '" class\x3d"' + g.join(" ") + '"\x3e\x3cbutton class\x3d"pika-button pika-day" type\x3d"button" data-pika-year\x3d"' + c + '" data-pika-month\x3d"' + b + '" data-pika-day\x3d"' +
                a + '"\x3e' + a + "\x3c/button\x3e\x3c/td\x3e"
        },
        v = function(a, b, c) {
            var d = new Date(c, 0, 1);
            return '\x3ctd class\x3d"pika-week"\x3e' + Math.ceil(((new Date(c, b, a) - d) / 864E5 + d.getDay() + 1) / 7) + "\x3c/td\x3e"
        },
        t = function(a, b) {
            return "\x3ctr\x3e" + (b ? a.reverse() : a).join("") + "\x3c/tr\x3e"
        },
        A = function(a, b, c, d, e) {
            var f, g = a._o,
                h = c === g.minYear,
                l = c === g.maxYear,
                k = '\x3cdiv class\x3d"pika-title"\x3e',
                r = !0,
                v = !0;
            var t = [];
            for (f = 0; 12 > f; f++) t.push('\x3coption value\x3d"' + (c === e ? f - b : 12 + f - b) + '"' + (f === d ? " selected" : "") + (h && f < g.minMonth ||
                l && f > g.maxMonth ? "disabled" : "") + "\x3e" + g.i18n.months[f] + "\x3c/option\x3e");
            e = '\x3cdiv class\x3d"pika-label"\x3e' + g.i18n.months[d] + '\x3cselect class\x3d"pika-select pika-select-month" tabindex\x3d"-1"\x3e' + t.join("") + "\x3c/select\x3e\x3c/div\x3e";
            if (m(g.yearRange)) {
                f = g.yearRange[0];
                var p = g.yearRange[1] + 1
            } else f = c - g.yearRange, p = 1 + c + g.yearRange;
            for (t = []; f < p && f <= g.maxYear; f++) f >= g.minYear && t.push('\x3coption value\x3d"' + f + '"' + (f === c ? " selected" : "") + "\x3e" + f + "\x3c/option\x3e");
            c = '\x3cdiv class\x3d"pika-label"\x3e' +
                c + g.yearSuffix + '\x3cselect class\x3d"pika-select pika-select-year" tabindex\x3d"-1"\x3e' + t.join("") + "\x3c/select\x3e\x3c/div\x3e";
            k = g.showMonthAfterYear ? k + (c + e) : k + (e + c);
            h && (0 === d || g.minMonth >= d) && (r = !1);
            l && (11 === d || g.maxMonth <= d) && (v = !1);
            0 === b && (k += '\x3cbutton class\x3d"pika-prev' + (r ? "" : " is-disabled") + '" type\x3d"button"\x3e' + g.i18n.previousMonth + "\x3c/button\x3e");
            b === a._o.numberOfMonths - 1 && (k += '\x3cbutton class\x3d"pika-next' + (v ? "" : " is-disabled") + '" type\x3d"button"\x3e' + g.i18n.nextMonth + "\x3c/button\x3e");
            return k + "\x3c/div\x3e"
        },
        z = function(d) {
            var e = this,
                l = e.config(d);
            e._onMouseDown = function(a) {
                if (e._v) {
                    a = a || window.event;
                    var b = a.target || a.srcElement;
                    if (b) {
                        if (!h(b.parentNode, "is-disabled")) {
                            if (h(b, "pika-button") && !h(b, "is-empty")) {
                                e.setDate(new Date(b.getAttribute("data-pika-year"), b.getAttribute("data-pika-month"), b.getAttribute("data-pika-day")));
                                l.bound && c(function() {
                                    e.hide();
                                    l.field && l.field.blur()
                                }, 100);
                                return
                            }
                            h(b, "pika-prev") ? e.prevMonth() : h(b, "pika-next") && e.nextMonth()
                        }
                        if (h(b, "pika-select")) e._c = !0;
                        else if (a.preventDefault) a.preventDefault();
                        else return a.returnValue = !1
                    }
                }
            };
            e._onChange = function(a) {
                a = a || window.event;
                (a = a.target || a.srcElement) && (h(a, "pika-select-month") ? e.gotoMonth(a.value) : h(a, "pika-select-year") && e.gotoYear(a.value))
            };
            e._onInputChange = function(a) {
                a.firedBy !== e && (a = f ? (a = b(l.field.value, l.format)) && a.isValid() ? a.toDate() : null : new Date(Date.parse(l.field.value)), p(a) && e.setDate(a), e._v || e.show())
            };
            e._onInputFocus = function() {
                e.show()
            };
            e._onInputClick = function() {
                e.show()
            };
            e._onInputBlur =
                function() {
                    var a = g.activeElement;
                    do
                        if (h(a, "pika-single")) return; while (a = a.parentNode);
                    e._c || (e._b = c(function() {
                        e.hide()
                    }, 50));
                    e._c = !1
                };
            e._onClick = function(b) {
                b = b || window.event;
                var c = b = b.target || b.srcElement;
                if (b) {
                    k || !h(b, "pika-select") || b.onchange || (b.setAttribute("onchange", "return;"), a(b, "change", e._onChange));
                    do
                        if (h(c, "pika-single") || c === l.trigger) return; while (c = c.parentNode);
                    e._v && b !== l.trigger && c !== l.trigger && e.hide()
                }
            };
            e.el = g.createElement("div");
            e.el.className = "pika-single" + (l.isRTL ? " is-rtl" :
                "") + (l.theme ? " " + l.theme : "");
            a(e.el, "ontouchend" in g ? "touchend" : "mousedown", e._onMouseDown, !0);
            a(e.el, "change", e._onChange);
            l.field && (l.container ? l.container.appendChild(e.el) : l.bound ? g.body.appendChild(e.el) : l.field.parentNode.insertBefore(e.el, l.field.nextSibling), a(l.field, "change", e._onInputChange), l.defaultDate || (l.defaultDate = f && l.field.value ? b(l.field.value, l.format).toDate() : new Date(Date.parse(l.field.value)), l.setDefaultDate = !0));
            d = l.defaultDate;
            p(d) ? l.setDefaultDate ? e.setDate(d, !0) : e.gotoDate(d) :
                e.gotoDate(new Date);
            l.bound ? (this.hide(), e.el.className += " is-bound", a(l.trigger, "click", e._onInputClick), a(l.trigger, "focus", e._onInputFocus), a(l.trigger, "blur", e._onInputBlur)) : this.show()
        };
    z.prototype = {
        config: function(a) {
            this._o || (this._o = l({}, w, !0));
            a = l(this._o, a, !0);
            a.isRTL = !!a.isRTL;
            a.field = a.field && a.field.nodeName ? a.field : null;
            a.theme = "string" == typeof a.theme && a.theme ? a.theme : null;
            a.bound = !!(void 0 !== a.bound ? a.field && a.bound : a.field);
            a.trigger = a.trigger && a.trigger.nodeName ? a.trigger : a.field;
            a.disableWeekends = !!a.disableWeekends;
            a.disableDayFn = "function" == typeof a.disableDayFn ? a.disableDayFn : null;
            var b = parseInt(a.numberOfMonths, 10) || 1;
            a.numberOfMonths = 4 < b ? 4 : b;
            p(a.minDate) || (a.minDate = !1);
            p(a.maxDate) || (a.maxDate = !1);
            a.minDate && a.maxDate && a.maxDate < a.minDate && (a.maxDate = a.minDate = !1);
            a.minDate && this.setMinDate(a.minDate);
            a.maxDate && (q(a.maxDate), a.maxYear = a.maxDate.getFullYear(), a.maxMonth = a.maxDate.getMonth());
            m(a.yearRange) ? (b = (new Date).getFullYear() - 10, a.yearRange[0] = parseInt(a.yearRange[0],
                10) || b, a.yearRange[1] = parseInt(a.yearRange[1], 10) || b) : (a.yearRange = Math.abs(parseInt(a.yearRange, 10)) || w.yearRange, 100 < a.yearRange && (a.yearRange = 100));
            return a
        },
        toString: function(a) {
            return p(this._d) ? f ? b(this._d).format(a || this._o.format) : this._d.toDateString() : ""
        },
        getMoment: function() {
            return f ? b(this._d) : null
        },
        setMoment: function(a, c) {
            f && b.isMoment(a) && this.setDate(a.toDate(), c)
        },
        getDate: function() {
            return p(this._d) ? new Date(this._d.getTime()) : null
        },
        setDate: function(a, b) {
            if (!a) return this._d = null,
                this._o.field && (this._o.field.value = "", e(this._o.field, "change", {
                    firedBy: this
                })), this.draw();
            "string" === typeof a && (a = new Date(Date.parse(a)));
            if (p(a)) {
                var c = this._o.minDate,
                    d = this._o.maxDate;
                p(c) && a < c ? a = c : p(d) && a > d && (a = d);
                this._d = new Date(a.getTime());
                q(this._d);
                this.gotoDate(this._d);
                this._o.field && (this._o.field.value = this.toString(), e(this._o.field, "change", {
                    firedBy: this
                }));
                b || "function" !== typeof this._o.onSelect || this._o.onSelect.call(this, this.getDate())
            }
        },
        gotoDate: function(a) {
            var b = !0;
            if (p(a)) {
                if (this.calendars) {
                    b =
                        new Date(this.calendars[0].year, this.calendars[0].month, 1);
                    var c = new Date(this.calendars[this.calendars.length - 1].year, this.calendars[this.calendars.length - 1].month, 1),
                        d = a.getTime();
                    c.setMonth(c.getMonth() + 1);
                    c.setDate(c.getDate() - 1);
                    b = d < b.getTime() || c.getTime() < d
                }
                b && (this.calendars = [{
                    month: a.getMonth(),
                    year: a.getFullYear()
                }], "right" === this._o.mainCalendar && (this.calendars[0].month += 1 - this._o.numberOfMonths));
                this.adjustCalendars()
            }
        },
        adjustCalendars: function() {
            this.calendars[0] = u(this.calendars[0]);
            for (var a = 1; a < this._o.numberOfMonths; a++) this.calendars[a] = u({
                month: this.calendars[0].month + a,
                year: this.calendars[0].year
            });
            this.draw()
        },
        gotoToday: function() {
            this.gotoDate(new Date)
        },
        gotoMonth: function(a) {
            isNaN(a) || (this.calendars[0].month = parseInt(a, 10), this.adjustCalendars())
        },
        nextMonth: function() {
            this.calendars[0].month++;
            this.adjustCalendars()
        },
        prevMonth: function() {
            this.calendars[0].month--;
            this.adjustCalendars()
        },
        gotoYear: function(a) {
            isNaN(a) || (this.calendars[0].year = parseInt(a, 10), this.adjustCalendars())
        },
        setMinDate: function(a) {
            q(a);
            this._o.minDate = a;
            this._o.minYear = a.getFullYear();
            this._o.minMonth = a.getMonth()
        },
        setMaxDate: function(a) {
            this._o.maxDate = a
        },
        draw: function(a) {
            if (this._v || a) {
                var b = this._o,
                    d = b.minYear,
                    e = b.maxYear,
                    f = b.minMonth,
                    g = b.maxMonth;
                a = "";
                this._y <= d && (this._y = d, !isNaN(f) && this._m < f && (this._m = f));
                this._y >= e && (this._y = e, !isNaN(g) && this._m > g && (this._m = g));
                for (d = 0; d < b.numberOfMonths; d++) a += '\x3cdiv class\x3d"pika-lendar"\x3e' + A(this, d, this.calendars[d].year, this.calendars[d].month, this.calendars[0].year) +
                    this.render(this.calendars[d].year, this.calendars[d].month) + "\x3c/div\x3e";
                this.el.innerHTML = a;
                b.bound && "hidden" !== b.field.type && c(function() {
                    b.trigger.focus()
                }, 1);
                if ("function" === typeof this._o.onDraw) {
                    var h = this;
                    c(function() {
                        h._o.onDraw.call(h)
                    }, 0)
                }
            }
        },
        adjustPosition: function() {
            if (!this._o.container) {
                var a = this._o.trigger,
                    b = a,
                    c = this.el.offsetWidth,
                    d = this.el.offsetHeight,
                    e = window.innerWidth || g.documentElement.clientWidth,
                    f = window.innerHeight || g.documentElement.clientHeight,
                    h = window.pageYOffset || g.body.scrollTop ||
                    g.documentElement.scrollTop;
                if ("function" === typeof a.getBoundingClientRect) {
                    b = a.getBoundingClientRect();
                    var l = b.left + window.pageXOffset;
                    var k = b.bottom + window.pageYOffset
                } else
                    for (l = b.offsetLeft, k = b.offsetTop + b.offsetHeight; b = b.offsetParent;) l += b.offsetLeft, k += b.offsetTop;
                if (this._o.reposition && l + c > e || -1 < this._o.position.indexOf("right") && 0 < l - c + a.offsetWidth) l = l - c + a.offsetWidth;
                if (this._o.reposition && k + d > f + h || -1 < this._o.position.indexOf("top") && 0 < k - d - a.offsetHeight) k = k - d - a.offsetHeight;
                this.el.style.position =
                    "absolute";
                this.el.style.left = l + "px";
                this.el.style.top = k + "px"
            }
        },
        render: function(a, b) {
            var c = this._o,
                d = new Date;
            var e = [31, 0 === a % 4 && 0 !== a % 100 || 0 === a % 400 ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][b];
            var f = (new Date(a, b, 1)).getDay(),
                g = [],
                h = [];
            q(d);
            0 < c.firstDay && (f -= c.firstDay, 0 > f && (f += 7));
            for (var l = e + f, k = l; 7 < k;) k -= 7;
            l += 7 - k;
            for (var m = k = 0; k < l; k++) {
                var z = new Date(a, b, 1 + (k - f));
                if (p(this._d)) {
                    var B = this._d;
                    B = z.getTime() === B.getTime()
                } else B = !1;
                var A = d;
                A = z.getTime() === A.getTime();
                var u = k < f || k >= e + f,
                    w;
                !(w = c.minDate &&
                    z < c.minDate || c.maxDate && z > c.maxDate) && (w = c.disableWeekends) && (w = z.getDay(), w = 0 === w || 6 === w);
                z = w || c.disableDayFn && c.disableDayFn(z);
                h.push(x(1 + (k - f), b, a, B, A, z, u));
                7 === ++m && (c.showWeekNumber && h.unshift(v(k - f, b, a)), g.push(t(h, c.isRTL)), h = [], m = 0)
            }
            b = [];
            c.showWeekNumber && b.push("\x3cth\x3e\x3c/th\x3e");
            for (a = 0; 7 > a; a++) b.push('\x3cth scope\x3d"col"\x3e\x3cabbr title\x3d"' + r(c, a) + '"\x3e' + r(c, a, !0) + "\x3c/abbr\x3e\x3c/th\x3e");
            return '\x3ctable cellpadding\x3d"0" cellspacing\x3d"0" class\x3d"pika-table"\x3e' +
                ("\x3cthead\x3e" + (c.isRTL ? b.reverse() : b).join("") + "\x3c/thead\x3e") + ("\x3ctbody\x3e" + g.join("") + "\x3c/tbody\x3e") + "\x3c/table\x3e"
        },
        isVisible: function() {
            return this._v
        },
        show: function() {
            if (!this._v) {
                var b = this.el;
                var c = (" " + b.className + " ").replace(" is-hidden ", " ");
                c = c.trim ? c.trim() : c.replace(/^\s+|\s+$/g, "");
                b.className = c;
                this._v = !0;
                this.draw();
                this._o.bound && (a(g, "click", this._onClick), this.adjustPosition());
                "function" === typeof this._o.onOpen && this._o.onOpen.call(this)
            }
        },
        hide: function() {
            var a =
                this._v;
            if (!1 !== a) {
                this._o.bound && d(g, "click", this._onClick);
                this.el.style.position = "static";
                this.el.style.left = "auto";
                this.el.style.top = "auto";
                var b = this.el;
                h(b, "is-hidden") || (b.className = "" === b.className ? "is-hidden" : b.className + " is-hidden");
                this._v = !1;
                void 0 !== a && "function" === typeof this._o.onClose && this._o.onClose.call(this)
            }
        },
        destroy: function() {
            this.hide();
            d(this.el, "mousedown", this._onMouseDown, !0);
            d(this.el, "change", this._onChange);
            this._o.field && (d(this._o.field, "change", this._onInputChange),
                this._o.bound && (d(this._o.trigger, "click", this._onInputClick), d(this._o.trigger, "focus", this._onInputFocus), d(this._o.trigger, "blur", this._onInputBlur)));
            this.el.parentNode && this.el.parentNode.removeChild(this.el)
        }
    };
    return z
});
(function e$jscomp$0(b, f, k) {
    function c(d, h) {
        if (!f[d]) {
            if (!b[d]) {
                var e = "function" == typeof require && require;
                if (!h && e) return e(d, !0);
                if (a) return a(d, !0);
                h = Error("Cannot find module '" + d + "'");
                throw h.code = "MODULE_NOT_FOUND", h;
            }
            h = f[d] = {
                exports: {}
            };
            b[d][0].call(h.exports, function(a) {
                var e = b[d][1][a];
                return c(e ? e : a)
            }, h, h.exports, e$jscomp$0, b, f, k)
        }
        return f[d].exports
    }
    for (var a = "function" == typeof require && require, d = 0; d < k.length; d++) c(k[d]);
    return c
})({
    1: [function(b, f, k) {
        (function(b) {
            ! function(c) {
                function a(a) {
                    throw RangeError(J[a]);
                }

                function d(a, b) {
                    for (var c = a.length; c--;) a[c] = b(a[c]);
                    return a
                }

                function e(a, b) {
                    return d(a.split(G), b).join(".")
                }

                function g(a) {
                    for (var b, c, d = [], e = 0, f = a.length; f > e;) b = a.charCodeAt(e++), 55296 <= b && 56319 >= b && f > e ? (c = a.charCodeAt(e++), 56320 == (64512 & c) ? d.push(((1023 & b) << 10) + (1023 & c) + 65536) : (d.push(b), e--)) : d.push(b);
                    return d
                }

                function m(a) {
                    return d(a, function(a) {
                        var b = "";
                        return 65535 < a && (a -= 65536, b += R(a >>> 10 & 1023 | 55296), a = 56320 | 1023 & a), b + R(a)
                    }).join("")
                }

                function p(a) {
                    return 10 > a - 48 ? a - 22 : 26 > a - 65 ? a - 65 : 26 > a -
                        97 ? a - 97 : B
                }

                function q(a, b) {
                    return a + 22 + 75 * (26 > a) - ((0 != b) << 5)
                }

                function l(a, b, c) {
                    var d = 0;
                    a = c ? M(a / O) : a >> 1;
                    for (a += M(a / b); a > V * y >> 1; d += B) a = M(a / V);
                    return M(d + (V + 1) * a / (a + C))
                }

                function u(b) {
                    var c, d, e, f, g = [],
                        h = b.length,
                        k = 0,
                        r = F,
                        v = I;
                    var t = b.lastIndexOf(N);
                    0 > t && (t = 0);
                    for (c = 0; t > c; ++c) 128 <= b.charCodeAt(c) && a("not-basic"), g.push(b.charCodeAt(c));
                    for (t = 0 < t ? t + 1 : 0; h > t;) {
                        c = k;
                        var x = 1;
                        for (d = B; t >= h && a("invalid-input"), e = p(b.charCodeAt(t++)), (e >= B || e > M((z - k) / x)) && a("overflow"), k += e * x, f = v >= d ? E : d >= v + y ? y : d - v, !(f > e); d += B) {
                            var q =
                                B - f;
                            x > M(z / q) && a("overflow");
                            x *= q
                        }
                        x = g.length + 1;
                        v = l(k - c, x, 0 == c);
                        M(k / x) > z - r && a("overflow");
                        r += M(k / x);
                        k %= x;
                        g.splice(k++, 0, r)
                    }
                    return m(g)
                }

                function w(b) {
                    var c, d, e, f, h = [];
                    b = g(b);
                    var k = b.length;
                    var m = F;
                    var r = 0;
                    var v = I;
                    for (e = 0; k > e; ++e) {
                        var t = b[e];
                        128 > t && h.push(R(t))
                    }
                    for ((c = d = h.length) && h.push(N); k > c;) {
                        var p = z;
                        for (e = 0; k > e; ++e) t = b[e], t >= m && p > t && (p = t);
                        var x = c + 1;
                        p - m > M((z - r) / x) && a("overflow");
                        r += (p - m) * x;
                        m = p;
                        for (e = 0; k > e; ++e)
                            if (t = b[e], m > t && ++r > z && a("overflow"), t == m) {
                                var A = r;
                                for (p = B; f = v >= p ? E : p >= v + y ? y : p - v, !(f > A); p +=
                                    B) {
                                    var u = A - f;
                                    A = B - f;
                                    h.push(R(q(f + u % A, 0)));
                                    A = M(u / A)
                                }
                                h.push(R(q(A, 0)));
                                v = l(r, x, c == d);
                                r = 0;
                                ++c
                            }++ r;
                        ++m
                    }
                    return h.join("")
                }
                var r = "object" == typeof k && k,
                    x = "object" == typeof f && f && f.exports == r && f,
                    v = "object" == typeof b && b;
                v.global !== v && v.window !== v || (c = v);
                var t, A, z = 2147483647,
                    B = 36,
                    E = 1,
                    y = 26,
                    C = 38,
                    O = 700,
                    I = 72,
                    F = 128,
                    N = "-",
                    K = /^xn--/,
                    Q = /[^ -~]/,
                    G = /\x2E|\u3002|\uFF0E|\uFF61/g,
                    J = {
                        overflow: "Overflow: input needs wider integers to process",
                        "not-basic": "Illegal input \x3e\x3d 0x80 (not a basic code point)",
                        "invalid-input": "Invalid input"
                    },
                    V = B - E,
                    M = Math.floor,
                    R = String.fromCharCode;
                if (t = {
                        version: "1.2.4",
                        ucs2: {
                            decode: g,
                            encode: m
                        },
                        decode: u,
                        encode: w,
                        toASCII: function(a) {
                            return e(a, function(a) {
                                return Q.test(a) ? "xn--" + w(a) : a
                            })
                        },
                        toUnicode: function(a) {
                            return e(a, function(a) {
                                return K.test(a) ? u(a.slice(4).toLowerCase()) : a
                            })
                        }
                    }, "function" == typeof define && "object" == typeof define.amd && define.amd) define("punycode", function() {
                    return t
                });
                else if (r && !r.nodeType)
                    if (x) x.exports = t;
                    else
                        for (A in t) t.hasOwnProperty(A) && (r[A] = t[A]);
                else c.punycode = t
            }(this)
        }).call(this,
            "undefined" !== typeof global ? global : "undefined" !== typeof self ? self : "undefined" !== typeof window ? window : {})
    }, {}],
    2: [function(b, f, k) {
        f.exports = function(b, a, d, e) {
            d = d || "\x3d";
            var c = {};
            if ("string" != typeof b || 0 === b.length) return c;
            var f = /\+/g;
            b = b.split(a || "\x26");
            a = 1E3;
            e && "number" == typeof e.maxKeys && (a = e.maxKeys);
            e = b.length;
            0 < a && e > a && (e = a);
            for (a = 0; e > a; ++a) {
                var k, q;
                var l = b[a].replace(f, "%20");
                var u = l.indexOf(d);
                0 <= u ? (k = l.substr(0, u), q = l.substr(u + 1)) : (k = l, q = "");
                l = decodeURIComponent(k);
                u = decodeURIComponent(q);
                Object.prototype.hasOwnProperty.call(c, l) ? g(c[l]) ? c[l].push(u) : c[l] = [c[l], u] : c[l] = u
            }
            return c
        };
        var g = Array.isArray || function(b) {
            return "[object Array]" === Object.prototype.toString.call(b)
        }
    }, {}],
    3: [function(b, f, k) {
        function g(a, b) {
            if (a.map) return a.map(b);
            for (var c = [], d = 0; d < a.length; d++) c.push(b(a[d], d));
            return c
        }
        var c = function(a) {
            switch (typeof a) {
                case "string":
                    return a;
                case "boolean":
                    return a ? "true" : "false";
                case "number":
                    return isFinite(a) ? a : "";
                default:
                    return ""
            }
        };
        f.exports = function(b, f, k, p) {
            return f =
                f || "\x26", k = k || "\x3d", null === b && (b = void 0), "object" == typeof b ? g(d(b), function(d) {
                    var e = encodeURIComponent(c(d)) + k;
                    return a(b[d]) ? g(b[d], function(a) {
                        return e + encodeURIComponent(c(a))
                    }).join(f) : e + encodeURIComponent(c(b[d]))
                }).join(f) : p ? encodeURIComponent(c(p)) + k + encodeURIComponent(c(b)) : ""
        };
        var a = Array.isArray || function(a) {
                return "[object Array]" === Object.prototype.toString.call(a)
            },
            d = Object.keys || function(a) {
                var b = [],
                    c;
                for (c in a) Object.prototype.hasOwnProperty.call(a, c) && b.push(c);
                return b
            }
    }, {}],
    4: [function(b,
        f, k) {
        k.decode = k.parse = b("./decode");
        k.encode = k.stringify = b("./encode")
    }, {
        "./decode": 2,
        "./encode": 3
    }],
    5: [function(b, f, k) {
        function g() {
            this.href = this.path = this.pathname = this.query = this.search = this.hash = this.hostname = this.port = this.host = this.auth = this.slashes = this.protocol = null
        }

        function c(b, c, d) {
            if (b && a(b) && b instanceof g) return b;
            var e = new g;
            return e.parse(b, c, d), e
        }

        function a(a) {
            return "object" == typeof a && null !== a
        }
        var d = b("punycode");
        k.parse = c;
        k.resolve = function(a, b) {
            return c(a, !1, !0).resolve(b)
        };
        k.resolveObject =
            function(a, b) {
                return a ? c(a, !1, !0).resolveObject(b) : b
            };
        k.format = function(a) {
            return "string" == typeof a && (a = c(a)), a instanceof g ? a.format() : g.prototype.format.call(a)
        };
        k.Url = g;
        var e = /^([a-z0-9.+-]+:)/i,
            h = /:[0-9]*$/;
        f = "{}|\\^`".split("").concat('\x3c\x3e"` \r\n\t'.split(""));
        var m = ["'"].concat(f),
            p = ["%", "/", "?", ";", "#"].concat(m),
            q = ["/", "?", "#"],
            l = /^[a-z0-9A-Z_-]{0,63}$/,
            u = /^([a-z0-9A-Z_-]{0,63})(.*)$/,
            w = {
                javascript: !0,
                "javascript:": !0
            },
            r = {
                javascript: !0,
                "javascript:": !0
            },
            x = {
                http: !0,
                https: !0,
                ftp: !0,
                gopher: !0,
                file: !0,
                "http:": !0,
                "https:": !0,
                "ftp:": !0,
                "gopher:": !0,
                "file:": !0
            },
            v = b("querystring");
        g.prototype.parse = function(a, b, c) {
            if ("string" != typeof a) throw new TypeError("Parameter 'url' must be a string, not " + typeof a);
            a = a.trim();
            var f = e.exec(a);
            if (f) {
                f = f[0];
                var g = f.toLowerCase();
                this.protocol = g;
                a = a.substr(f.length)
            }
            if (c || f || a.match(/^\/\/[^@\/]+@[^@\/]+/)) {
                var h = "//" === a.substr(0, 2);
                !h || f && r[f] || (a = a.substr(2), this.slashes = !0)
            }
            if (!r[f] && (h || f && !x[f])) {
                h = -1;
                for (c = 0; c < q.length; c++) f = a.indexOf(q[c]), -1 !==
                    f && (-1 === h || h > f) && (h = f);
                var k;
                c = -1 === h ? a.lastIndexOf("@") : a.lastIndexOf("@", h); - 1 !== c && (k = a.slice(0, c), a = a.slice(c + 1), this.auth = decodeURIComponent(k));
                h = -1;
                for (c = 0; c < p.length; c++) f = a.indexOf(p[c]), -1 !== f && (-1 === h || h > f) && (h = f); - 1 === h && (h = a.length);
                this.host = a.slice(0, h);
                a = a.slice(h);
                this.parseHost();
                this.hostname = this.hostname || "";
                k = "[" === this.hostname[0] && "]" === this.hostname[this.hostname.length - 1];
                if (!k) {
                    var t = this.hostname.split(/\./);
                    c = 0;
                    for (h = t.length; h > c; c++)
                        if ((f = t[c]) && !f.match(l)) {
                            for (var z =
                                    "", A = 0, N = f.length; N > A; A++) z += 127 < f.charCodeAt(A) ? "x" : f[A];
                            if (!z.match(l)) {
                                h = t.slice(0, c);
                                c = t.slice(c + 1);
                                (f = f.match(u)) && (h.push(f[1]), c.unshift(f[2]));
                                c.length && (a = "/" + c.join(".") + a);
                                this.hostname = h.join(".");
                                break
                            }
                        }
                }
                if (this.hostname = 255 < this.hostname.length ? "" : this.hostname.toLowerCase(), !k) {
                    f = this.hostname.split(".");
                    t = [];
                    for (c = 0; c < f.length; ++c) h = f[c], t.push(h.match(/[^A-Za-z0-9_-]/) ? "xn--" + d.encode(h) : h);
                    this.hostname = t.join(".")
                }
                c = this.port ? ":" + this.port : "";
                this.host = (this.hostname || "") + c;
                this.href +=
                    this.host;
                k && (this.hostname = this.hostname.substr(1, this.hostname.length - 2), "/" !== a[0] && (a = "/" + a))
            }
            if (!w[g])
                for (c = 0, h = m.length; h > c; c++) k = m[c], f = encodeURIComponent(k), f === k && (f = escape(k)), a = a.split(k).join(f);
            c = a.indexOf("#"); - 1 !== c && (this.hash = a.substr(c), a = a.slice(0, c));
            c = a.indexOf("?");
            if (-1 !== c ? (this.search = a.substr(c), this.query = a.substr(c + 1), b && (this.query = v.parse(this.query)), a = a.slice(0, c)) : b && (this.search = "", this.query = {}), a && (this.pathname = a), x[g] && this.hostname && !this.pathname && (this.pathname =
                    "/"), this.pathname || this.search) c = this.pathname || "", h = this.search || "", this.path = c + h;
            return this.href = this.format(), this
        };
        g.prototype.format = function() {
            var b = this.auth || "";
            b && (b = encodeURIComponent(b), b = b.replace(/%3A/i, ":"), b += "@");
            var c = this.protocol || "",
                d = this.pathname || "",
                e = this.hash || "",
                f = !1,
                g = "";
            this.host ? f = b + this.host : this.hostname && (f = b + (-1 === this.hostname.indexOf(":") ? this.hostname : "[" + this.hostname + "]"), this.port && (f += ":" + this.port));
            this.query && a(this.query) && Object.keys(this.query).length &&
                (g = v.stringify(this.query));
            b = this.search || g && "?" + g || "";
            return c && ":" !== c.substr(-1) && (c += ":"), this.slashes || (!c || x[c]) && !1 !== f ? (f = "//" + (f || ""), d && "/" !== d.charAt(0) && (d = "/" + d)) : f || (f = ""), e && "#" !== e.charAt(0) && (e = "#" + e), b && "?" !== b.charAt(0) && (b = "?" + b), d = d.replace(/[?#]/g, function(a) {
                return encodeURIComponent(a)
            }), b = b.replace("#", "%23"), c + f + d + b + e
        };
        g.prototype.resolve = function(a) {
            return this.resolveObject(c(a, !1, !0)).format()
        };
        g.prototype.resolveObject = function(a) {
            if ("string" == typeof a) {
                var b = new g;
                b.parse(a, !1, !0);
                a = b
            }
            var c = new g;
            if (Object.keys(this).forEach(function(a) {
                    c[a] = this[a]
                }, this), c.hash = a.hash, "" === a.href) return c.href = c.format(), c;
            if (a.slashes && !a.protocol) return Object.keys(a).forEach(function(b) {
                "protocol" !== b && (c[b] = a[b])
            }), x[c.protocol] && c.hostname && !c.pathname && (c.path = c.pathname = "/"), c.href = c.format(), c;
            if (a.protocol && a.protocol !== c.protocol) {
                if (!x[a.protocol]) return Object.keys(a).forEach(function(b) {
                    c[b] = a[b]
                }), c.href = c.format(), c;
                if (c.protocol = a.protocol, a.host || r[a.protocol]) c.pathname =
                    a.pathname;
                else {
                    for (var d = (a.pathname || "").split("/"); d.length && !(a.host = d.shift()););
                    a.host || (a.host = "");
                    a.hostname || (a.hostname = "");
                    "" !== d[0] && d.unshift("");
                    2 > d.length && d.unshift("");
                    c.pathname = d.join("/")
                }
                if (c.search = a.search, c.query = a.query, c.host = a.host || "", c.auth = a.auth, c.hostname = a.hostname || a.host, c.port = a.port, c.pathname || c.search) c.path = (c.pathname || "") + (c.search || "");
                return c.slashes = c.slashes || a.slashes, c.href = c.format(), c
            }
            b = c.pathname && "/" === c.pathname.charAt(0);
            var e = a.host || a.pathname &&
                "/" === a.pathname.charAt(0),
                f = b = e || b || c.host && a.pathname,
                h = c.pathname && c.pathname.split("/") || [];
            d = a.pathname && a.pathname.split("/") || [];
            var l = c.protocol && !x[c.protocol];
            if (l && (c.hostname = "", c.port = null, c.host && ("" === h[0] ? h[0] = c.host : h.unshift(c.host)), c.host = "", a.protocol && (a.hostname = null, a.port = null, a.host && ("" === d[0] ? d[0] = a.host : d.unshift(a.host)), a.host = null), b = b && ("" === d[0] || "" === h[0])), e) c.host = a.host || "" === a.host ? a.host : c.host, c.hostname = a.hostname || "" === a.hostname ? a.hostname : c.hostname, c.search =
                a.search, c.query = a.query, h = d;
            else if (d.length) h || (h = []), h.pop(), h = h.concat(d), c.search = a.search, c.query = a.query;
            else if (null != a.search) return l && (c.hostname = c.host = h.shift(), (l = c.host && 0 < c.host.indexOf("@") ? c.host.split("@") : !1) && (c.auth = l.shift(), c.host = c.hostname = l.shift())), c.search = a.search, c.query = a.query, null === c.pathname && null === c.search || (c.path = (c.pathname ? c.pathname : "") + (c.search ? c.search : "")), c.href = c.format(), c;
            if (!h.length) return c.pathname = null, c.path = c.search ? "/" + c.search : null, c.href =
                c.format(), c;
            e = h.slice(-1)[0];
            d = (c.host || a.host) && ("." === e || ".." === e) || "" === e;
            for (var k = 0, m = h.length; 0 <= m; m--) e = h[m], "." == e ? h.splice(m, 1) : ".." === e ? (h.splice(m, 1), k++) : k && (h.splice(m, 1), k--);
            if (!b && !f)
                for (; k--; k) h.unshift("..");
            !b || "" === h[0] || h[0] && "/" === h[0].charAt(0) || h.unshift("");
            d && "/" !== h.join("/").substr(-1) && h.push("");
            f = "" === h[0] || h[0] && "/" === h[0].charAt(0);
            l && (c.hostname = c.host = f ? "" : h.length ? h.shift() : "", (l = c.host && 0 < c.host.indexOf("@") ? c.host.split("@") : !1) && (c.auth = l.shift(), c.host = c.hostname =
                l.shift()));
            return b = b || c.host && h.length, b && !f && h.unshift(""), h.length ? c.pathname = h.join("/") : (c.pathname = null, c.path = null), null === c.pathname && null === c.search || (c.path = (c.pathname ? c.pathname : "") + (c.search ? c.search : "")), c.auth = a.auth || c.auth, c.slashes = c.slashes || a.slashes, c.href = c.format(), c
        };
        g.prototype.parseHost = function() {
            var a = this.host,
                b = h.exec(a);
            b && (b = b[0], ":" !== b && (this.port = b.substr(1)), a = a.substr(0, a.length - b.length));
            a && (this.hostname = a)
        }
    }, {
        punycode: 1,
        querystring: 4
    }],
    6: [function(b, f, k) {
        f.exports =
            function(b) {
                return {
                    popup: !0,
                    shareText: {
                        de: "teilen",
                        en: "share",
                        es: "compartir"
                    },
                    name: "facebook",
                    faName: "fa-facebook",
                    title: {
                        de: "Bei Facebook teilen",
                        en: "Share on Facebook",
                        es: "Compartir en Facebook"
                    },
                    shareUrl: "https://www.facebook.com/sharer/sharer.php?u\x3d" + encodeURIComponent(b.getURL()) + b.getReferrerTrack()
                }
            }
    }, {}],
    7: [function(b, f, k) {
        f.exports = function(b) {
            return {
                popup: !0,
                shareText: "+1",
                name: "googleplus",
                faName: "fa-google-plus",
                title: {
                    de: "Bei Google+ teilen",
                    en: "Share on Google+",
                    es: "Compartir en Google+"
                },
                shareUrl: "https://plus.google.com/share?url\x3d" + encodeURIComponent(b.getURL()) + b.getReferrerTrack()
            }
        }
    }, {}],
    8: [function(b, f, k) {
        f.exports = function(b) {
            return {
                popup: !1,
                shareText: "Info",
                name: "info",
                faName: "fa-info",
                title: {
                    de: "weitere Informationen",
                    en: "more information",
                    es: "M\u00e1s informaciones"
                },
                shareUrl: b.getInfoUrl()
            }
        }
    }, {}],
    9: [function(b, f, k) {
        var g = b("url");
        f.exports = function(b) {
            b = g.parse(b.getMailUrl(), !0);
            return b.query.view = "mail", delete b.search, {
                popup: !0,
                shareText: "mail",
                name: "mail",
                faName: "fa-envelope",
                title: {
                    de: "Per E-Mail versenden",
                    en: "Send by email",
                    es: "Enviar por email"
                },
                shareUrl: g.format(b)
            }
        }
    }, {
        url: 5
    }],
    10: [function(b, f, k) {
        var g = b("url");
        f.exports = function(b) {
            var a = g.parse("https://twitter.com/intent/tweet", !0);
            return a.query.text = decodeURIComponent(b.getShareText()), a.query.url = b.getURL(), null !== b.options.twitterVia && (a.query.via = b.options.twitterVia), delete a.search, {
                popup: !0,
                shareText: "tweet",
                name: "twitter",
                faName: "fa-twitter",
                title: {
                    de: "Bei Twitter teilen",
                    en: "Share on Twitter",
                    es: "Compartir en Twitter"
                },
                shareUrl: g.format(a) + b.getReferrerTrack()
            }
        }
    }, {
        url: 5
    }],
    11: [function(b, f, k) {
        f.exports = function(b) {
            var c = encodeURIComponent(b.getURL());
            return {
                popup: !0,
                shareText: {
                    de: "teilen",
                    en: "share",
                    es: "compartir"
                },
                name: "whatsapp",
                faName: "fa-whatsapp",
                title: {
                    de: "Bei Whatsapp teilen",
                    en: "Share on Whatsapp",
                    es: "Compartir en Whatsapp"
                },
                shareUrl: "whatsapp://send?text\x3d" + b.getShareText() + "%20" + c + b.getReferrerTrack()
            }
        }
    }, {}],
    12: [function(b, f, k) {
        (function(g) {
            var c = "undefined" !== typeof window ? window.jQuery : "undefined" !==
                typeof g ? g.jQuery : null,
                a = b("url"),
                d = function(a, d) {
                    var e = this;
                    this.element = a;
                    this.options = c.extend({}, this.defaults, d, c(a).data());
                    var f = [b("./services/facebook"), b("./services/googleplus"), b("./services/twitter"), b("./services/whatsapp"), b("./services/mail"), b("./services/info")];
                    this.services = c.map(this.options.services, function(a) {
                        var b;
                        return f.forEach(function(c) {
                            return c = c(e), c.name === a ? (b = c, null) : void 0
                        }), b
                    });
                    this._addButtonList();
                    null !== this.options.backendUrl && this.getShares().then(c.proxy(this._updateCounts,
                        this))
                };
            d.prototype = {
                defaults: {
                    theme: "color",
                    backendUrl: null,
                    infoUrl: "http://ct.de/-2467514",
                    lang: "de",
                    orientation: "horizontal",
                    referrerTrack: null,
                    services: ["twitter", "facebook", "googleplus", "info"],
                    twitterVia: null,
                    url: function() {
                        var a = g.document.location.href,
                            b = c("link[rel\x3dcanonical]").attr("href") || this.getMeta("og:url") || "";
                        return 0 < b.length && (0 > b.indexOf("http") && (b = g.document.location.protocol + "//" + g.document.location.host + b), a = b), a
                    }
                },
                $socialshareElement: function() {
                    return c(this.element)
                },
                getLocalized: function(a, b) {
                    return "object" == typeof a[b] ? a[b][this.options.lang] : "string" == typeof a[b] ? a[b] : void 0
                },
                getMeta: function(a) {
                    return c('meta[name\x3d"' + a + '"],[property\x3d"' + a + '"]').attr("content") || ""
                },
                getInfoUrl: function() {
                    return this.options.infoUrl
                },
                getMailUrl: function() {
                    return this.options.mailUrl
                },
                getURL: function() {
                    var a = this.options.url;
                    return "function" == typeof a ? c.proxy(a, this)() : a
                },
                getReferrerTrack: function() {
                    return this.options.referrerTrack || ""
                },
                getShares: function() {
                    var b = a.parse(this.options.backendUrl,
                        !0);
                    return b.query.url = this.getURL(), delete b.search, c.getJSON(a.format(b))
                },
                _updateCounts: function(a) {
                    var b = this;
                    c.each(a, function(a, d) {
                        1E3 <= d && (d = Math.round(d / 1E3) + "k");
                        c(b.element).find("." + a + " a").append('\x3cspan class\x3d"share_count"\x3e' + d)
                    })
                },
                _addButtonList: function() {
                    var a = this,
                        b = this.$socialshareElement(),
                        d = "theme-" + this.options.theme,
                        f = "orientation-" + this.options.orientation,
                        k = c("\x3cul\x3e").addClass(d).addClass(f);
                    this.services.forEach(function(b) {
                        var d = c('\x3cli class\x3d"shariff-button"\x3e').addClass(b.name),
                            e = '\x3cspan class\x3d"share_text"\x3e' + a.getLocalized(b, "shareText");
                        e = c("\x3ca\x3e").attr("href", b.shareUrl).append(e);
                        "undefined" != typeof b.faName && e.prepend('\x3cspan class\x3d"fa ' + b.faName + '"\x3e');
                        "mail" !== b.name ? b.popup ? e.attr("rel", "popup") : e.attr("target", "_blank") : e.attr("data-mail", "mail");
                        e.attr("title", a.getLocalized(b, "title"));
                        d.append(e);
                        k.append(d)
                    });
                    k.on("click", '[rel\x3d"popup"]', function(a) {
                        a.preventDefault();
                        a = c(this).attr("href");
                        g.window.open(a, "_blank", "width\x3d600,height\x3d460")
                    });
                    b.append(k)
                },
                abbreviateText: function(a, b) {
                    var d = c("\x3cdiv/\x3e").html(a).text();
                    if (d.length <= b) return a;
                    a = d.substring(0, b - 1).lastIndexOf(" ");
                    return encodeURIComponent(d.substring(0, a)) + "\u2026"
                },
                getShareText: function() {
                    var a = this.getMeta("DC.title"),
                        b = this.getMeta("DC.creator");
                    return 0 < a.length && 0 < b.length ? a += " - " + b : a = c("title").text(), encodeURIComponent(this.abbreviateText(a, 120))
                }
            };
            f.exports = d;
            g.Shariff = d;
            c(".shariff").each(function() {
                this.hasOwnProperty("shariff") || (this.shariff = new d(this))
            })
        }).call(this,
            "undefined" !== typeof global ? global : "undefined" !== typeof self ? self : "undefined" !== typeof window ? window : {})
    }, {
        "./services/facebook": 6,
        "./services/googleplus": 7,
        "./services/info": 8,
        "./services/mail": 9,
        "./services/twitter": 10,
        "./services/whatsapp": 11,
        url: 5
    }]
}, {}, [12]);
define.nextId("promises");
(function() {
    function b() {
        return function() {
            process.nextTick(a)
        }
    }

    function f() {
        return function() {
            F(a)
        }
    }

    function k() {
        var b = 0,
            c = new J(a),
            d = document.createTextNode("");
        c.observe(d, {
            characterData: !0
        });
        return function() {
            d.data = b = ++b % 2
        }
    }

    function g() {
        var b = new MessageChannel;
        b.port1.onmessage = a;
        return function() {
            b.port2.postMessage(0)
        }
    }

    function c() {
        return function() {
            setTimeout(a, 1)
        }
    }

    function a() {
        for (var a = 0; a < I; a += 2)(0, M[a])(M[a + 1]), M[a] = void 0, M[a + 1] = void 0;
        I = 0
    }

    function d() {
        try {
            var a = require("vertx");
            F = a.runOnLoop ||
                a.runOnContext;
            return f()
        } catch (qa) {
            return c()
        }
    }

    function e() {}

    function h(a) {
        try {
            return a.then
        } catch (qa) {
            return aa.error = qa, aa
        }
    }

    function m(a, b, c, d) {
        try {
            a.call(b, c, d)
        } catch (la) {
            return la
        }
    }

    function p(a, b, c) {
        K(function(a) {
            var d = !1,
                e = m(c, b, function(c) {
                    d || (d = !0, b !== c ? u(a, c) : r(a, c))
                }, function(b) {
                    d || (d = !0, x(a, b))
                }, "Settle: " + (a._label || " unknown promise"));
            !d && e && (d = !0, x(a, e))
        }, a)
    }

    function q(a, b) {
        b._state === Y ? r(a, b._result) : b._state === ca ? x(a, b._result) : v(b, void 0, function(b) {
            u(a, b)
        }, function(b) {
            x(a, b)
        })
    }

    function l(a, b, c) {
        b.constructor === a.constructor && c === H && constructor.resolve === T ? q(a, b) : c === aa ? x(a, aa.error) : void 0 === c ? r(a, b) : "function" === typeof c ? p(a, b, c) : r(a, b)
    }

    function u(a, b) {
        a === b ? x(a, new TypeError("You cannot resolve a promise with itself")) : "function" === typeof b || "object" === typeof b && null !== b ? l(a, b, h(b)) : r(a, b)
    }

    function w(a) {
        a._onerror && a._onerror(a._result);
        t(a)
    }

    function r(a, b) {
        a._state === ba && (a._result = b, a._state = Y, 0 !== a._subscribers.length && K(t, a))
    }

    function x(a, b) {
        a._state === ba && (a._state =
            ca, a._result = b, K(w, a))
    }

    function v(a, b, c, d) {
        var e = a._subscribers,
            f = e.length;
        a._onerror = null;
        e[f] = b;
        e[f + Y] = c;
        e[f + ca] = d;
        0 === f && a._state && K(t, a)
    }

    function t(a) {
        var b = a._subscribers,
            c = a._state;
        if (0 !== b.length) {
            for (var d, e, f = a._result, g = 0; g < b.length; g += 3) d = b[g], e = b[g + c], d ? z(c, d, e, f) : e(f);
            a._subscribers.length = 0
        }
    }

    function A() {
        this.error = null
    }

    function z(a, b, c, d) {
        var e = "function" === typeof c;
        if (e) {
            try {
                var f = c(d)
            } catch (wa) {
                ea.error = wa, f = ea
            }
            if (f === ea) {
                var g = !0;
                var h = f.error;
                f = null
            } else var l = !0;
            if (b === f) {
                x(b,
                    new TypeError("A promises callback cannot return that same promise."));
                return
            }
        } else f = d, l = !0;
        b._state === ba && (e && l ? u(b, f) : g ? x(b, h) : a === Y ? r(b, f) : a === ca && x(b, f))
    }

    function B(a, b) {
        try {
            b(function(b) {
                u(a, b)
            }, function(b) {
                x(a, b)
            })
        } catch (ua) {
            x(a, ua)
        }
    }

    function E(a) {
        a[U] = ja++;
        a._state = void 0;
        a._result = void 0;
        a._subscribers = []
    }

    function y(a) {
        this[U] = ja++;
        this._result = this._state = void 0;
        this._subscribers = [];
        if (e !== a) {
            if ("function" !== typeof a) throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");
            if (this instanceof y) B(this, a);
            else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
        }
    }

    function C(a, b) {
        this._instanceConstructor = a;
        this.promise = new a(e);
        this.promise[U] || E(this.promise);
        O(b) ? (this._input = b, this._remaining = this.length = b.length, this._result = Array(this.length), 0 === this.length ? r(this.promise, this._result) : (this.length = this.length || 0, this._enumerate(), 0 === this._remaining && r(this.promise, this._result))) :
            x(this.promise, Error("Array Methods must be provided an Array"))
    }
    var O = Array.isArray ? Array.isArray : function(a) {
            return "[object Array]" === Object.prototype.toString.call(a)
        },
        I = 0,
        F, N, K = function(b, c) {
            M[I] = b;
            M[I + 1] = c;
            I += 2;
            2 === I && (N ? N(a) : R())
        },
        Q = "undefined" !== typeof window ? window : void 0,
        G = Q || {},
        J = G.MutationObserver || G.WebKitMutationObserver;
    G = "undefined" === typeof self && "undefined" !== typeof process && "[object process]" === {}.toString.call(process);
    var V = "undefined" !== typeof Uint8ClampedArray && "undefined" !==
        typeof importScripts && "undefined" !== typeof MessageChannel,
        M = Array(1E3);
    var R = G ? b() : J ? k() : V ? g() : void 0 === Q && "function" === typeof require ? d() : c();
    var H = function(a, b) {
            var c = this,
                d = new this.constructor(e);
            void 0 === d[U] && E(d);
            var f = c._state;
            if (f) {
                var g = arguments[f - 1];
                K(function() {
                    z(f, d, g, c._result)
                })
            } else v(c, d, a, b);
            return d
        },
        T = function(a) {
            if (a && "object" === typeof a && a.constructor === this) return a;
            var b = new this(e);
            u(b, a);
            return b
        },
        U = Math.random().toString(36).substring(16),
        ba = void 0,
        Y = 1,
        ca = 2,
        aa = new A,
        ea =
        new A,
        ja = 0;
    y.all = function(a) {
        return (new sa(this, a)).promise
    };
    y.race = function(a) {
        var b = this;
        return O(a) ? new b(function(c, d) {
            for (var e = a.length, f = 0; f < e; f++) b.resolve(a[f]).then(c, d)
        }) : new b(function(a, b) {
            b(new TypeError("You must pass an array to race."))
        })
    };
    y.resolve = T;
    y.reject = function(a) {
        var b = new this(e);
        x(b, a);
        return b
    };
    y._setScheduler = function(a) {
        N = a
    };
    y._setAsap = function(a) {
        K = a
    };
    y._asap = K;
    y.prototype = {
        constructor: y,
        then: H,
        "catch": function(a) {
            return this.then(null, a)
        }
    };
    var sa = C;
    C.prototype._enumerate =
        function() {
            for (var a = this.length, b = this._input, c = 0; this._state === ba && c < a; c++) this._eachEntry(b[c], c)
        };
    C.prototype._eachEntry = function(a, b) {
        var c = this._instanceConstructor,
            d = c.resolve;
        d === T ? (d = h(a), d === H && a._state !== ba ? this._settledAt(a._state, b, a._result) : "function" !== typeof d ? (this._remaining--, this._result[b] = a) : c === y ? (c = new c(e), l(c, a, d), this._willSettleAt(c, b)) : this._willSettleAt(new c(function(b) {
            b(a)
        }), b)) : this._willSettleAt(d(a), b)
    };
    C.prototype._settledAt = function(a, b, c) {
        var d = this.promise;
        d._state === ba && (this._remaining--, a === ca ? x(d, c) : this._result[b] = c);
        0 === this._remaining && r(d, this._result)
    };
    C.prototype._willSettleAt = function(a, b) {
        var c = this;
        v(a, void 0, function(a) {
            c._settledAt(Y, b, a)
        }, function(a) {
            c._settledAt(ca, b, a)
        })
    };
    Q = function() {
        if ("undefined" !== typeof global) var a = global;
        else if ("undefined" !== typeof self) a = self;
        else try {
            a = Function("return this")()
        } catch (ua) {
            throw Error("polyfill failed because global object is unavailable in this environment");
        }
        var b = a.Promise;
        if (!b || "[object Promise]" !==
            Object.prototype.toString.call(b.resolve()) || b.cast) a.Promise = y
    };
    y.Promise = y;
    y.polyfill = Q;
    "function" === typeof define && define.amd ? define(function() {
        return y
    }) : "undefined" !== typeof module && module.exports ? module.exports = y : "undefined" !== typeof this && (this.Promise = y);
    Q()
}).call(this);
! function(b) {
    function f(a) {
        return a = +a, 0 === a || isNaN(a) ? a : 0 < a ? 1 : -1
    }

    function k(a) {
        return new Promise(function(b, c) {
            var d = function(e) {
                setTimeout(function() {
                    a && a.data ? b() : 20 <= e ? c() : d(++e)
                }, 50)
            };
            d(0)
        })
    }

    function g() {
        u = l ? (b.screen.orientation.angle || 0) * m : (b.orientation || 0) * m
    }

    function c(a) {
        q.orientation.data = a;
        for (var b in q.orientation.callbacks) q.orientation.callbacks[b].call(this)
    }

    function a(a) {
        q.motion.data = a;
        for (var b in q.motion.callbacks) q.motion.callbacks[b].call(this)
    }
    if (void 0 === b.FULLTILT || null ===
        b.FULLTILT) {
        var d = Math.PI,
            e = d / 2,
            h = 2 * d,
            m = d / 180,
            p = 180 / d,
            q = {
                orientation: {
                    active: !1,
                    callbacks: [],
                    data: void 0
                },
                motion: {
                    active: !1,
                    callbacks: [],
                    data: void 0
                }
            },
            l = b.screen && b.screen.orientation && void 0 !== b.screen.orientation.angle && null !== b.screen.orientation.angle ? !0 : !1,
            u = (l ? b.screen.orientation.angle : b.orientation || 0) * m,
            w = h / 3,
            r = -e,
            x = {
                version: "0.5.3",
                getDeviceOrientation: function(a) {
                    return new Promise(function(b, c) {
                        var d = new x.DeviceOrientation(a);
                        d.start();
                        (new k(q.orientation)).then(function() {
                            d._alphaAvailable =
                                q.orientation.data.alpha && null !== q.orientation.data.alpha;
                            d._betaAvailable = q.orientation.data.beta && null !== q.orientation.data.beta;
                            d._gammaAvailable = q.orientation.data.gamma && null !== q.orientation.data.gamma;
                            b(d)
                        })["catch"](function() {
                            d.stop();
                            c("DeviceOrientation is not supported")
                        })
                    })
                },
                getDeviceMotion: function(a) {
                    return new Promise(function(b, c) {
                        var d = new x.DeviceMotion(a);
                        d.start();
                        (new k(q.motion)).then(function() {
                            d._accelerationXAvailable = q.motion.data.acceleration && q.motion.data.acceleration.x;
                            d._accelerationYAvailable = q.motion.data.acceleration && q.motion.data.acceleration.y;
                            d._accelerationZAvailable = q.motion.data.acceleration && q.motion.data.acceleration.z;
                            d._accelerationIncludingGravityXAvailable = q.motion.data.accelerationIncludingGravity && q.motion.data.accelerationIncludingGravity.x;
                            d._accelerationIncludingGravityYAvailable = q.motion.data.accelerationIncludingGravity && q.motion.data.accelerationIncludingGravity.y;
                            d._accelerationIncludingGravityZAvailable = q.motion.data.accelerationIncludingGravity &&
                                q.motion.data.accelerationIncludingGravity.z;
                            d._rotationRateAlphaAvailable = q.motion.data.rotationRate && q.motion.data.rotationRate.alpha;
                            d._rotationRateBetaAvailable = q.motion.data.rotationRate && q.motion.data.rotationRate.beta;
                            d._rotationRateGammaAvailable = q.motion.data.rotationRate && q.motion.data.rotationRate.gamma;
                            b(d)
                        })["catch"](function() {
                            d.stop();
                            c("DeviceMotion is not supported")
                        })
                    })
                },
                Quaternion: function(a, b, c, d) {
                    var e;
                    this.set = function(a, b, c, d) {
                        this.x = a || 0;
                        this.y = b || 0;
                        this.z = c || 0;
                        this.w = d || 1
                    };
                    this.copy = function(a) {
                        this.x = a.x;
                        this.y = a.y;
                        this.z = a.z;
                        this.w = a.w
                    };
                    this.setFromEuler = function() {
                        var a, b, c, d, e, f, g, h, l, k, r, v;
                        return function(p) {
                            return p = p || {}, c = (p.alpha || 0) * m, a = (p.beta || 0) * m, b = (p.gamma || 0) * m, f = c / 2, d = a / 2, e = b / 2, g = Math.cos(d), h = Math.cos(e), l = Math.cos(f), k = Math.sin(d), r = Math.sin(e), v = Math.sin(f), this.set(k * h * l - g * r * v, g * r * l + k * h * v, g * h * v + k * r * l, g * h * l - k * r * v), this.normalize(), this
                        }
                    }();
                    this.setFromRotationMatrix = function() {
                        var a;
                        return function(b) {
                            return a = b.elements, this.set(.5 * Math.sqrt(1 +
                                a[0] - a[4] - a[8]) * f(a[7] - a[5]), .5 * Math.sqrt(1 - a[0] + a[4] - a[8]) * f(a[2] - a[6]), .5 * Math.sqrt(1 - a[0] - a[4] + a[8]) * f(a[3] - a[1]), .5 * Math.sqrt(1 + a[0] + a[4] + a[8])), this
                        }
                    }();
                    this.multiply = function(a) {
                        return e = x.Quaternion.prototype.multiplyQuaternions(this, a), this.copy(e), this
                    };
                    this.rotateX = function(a) {
                        return e = x.Quaternion.prototype.rotateByAxisAngle(this, [1, 0, 0], a), this.copy(e), this
                    };
                    this.rotateY = function(a) {
                        return e = x.Quaternion.prototype.rotateByAxisAngle(this, [0, 1, 0], a), this.copy(e), this
                    };
                    this.rotateZ = function(a) {
                        return e =
                            x.Quaternion.prototype.rotateByAxisAngle(this, [0, 0, 1], a), this.copy(e), this
                    };
                    this.normalize = function() {
                        return x.Quaternion.prototype.normalize(this)
                    };
                    this.set(a, b, c, d)
                }
            };
        x.Quaternion.prototype = {
            constructor: x.Quaternion,
            multiplyQuaternions: function() {
                var a = new x.Quaternion;
                return function(b, c) {
                    var d = b.x,
                        e = b.y,
                        f = b.z;
                    b = b.w;
                    var g = c.x,
                        h = c.y,
                        l = c.z;
                    c = c.w;
                    return a.set(d * c + b * g + e * l - f * h, e * c + b * h + f * g - d * l, f * c + b * l + d * h - e * g, b * c - d * g - e * h - f * l), a
                }
            }(),
            normalize: function(a) {
                var b = Math.sqrt(a.x * a.x + a.y * a.y + a.z * a.z + a.w * a.w);
                return 0 === b ? (a.x = 0, a.y = 0, a.z = 0, a.w = 1) : (b = 1 / b, a.x *= b, a.y *= b, a.z *= b, a.w *= b), a
            },
            rotateByAxisAngle: function() {
                var a, b, c = new x.Quaternion,
                    d = new x.Quaternion;
                return function(e, f, g) {
                    return a = (g || 0) / 2, b = Math.sin(a), d.set((f[0] || 0) * b, (f[1] || 0) * b, (f[2] || 0) * b, Math.cos(a)), c = x.Quaternion.prototype.multiplyQuaternions(e, d), x.Quaternion.prototype.normalize(c)
                }
            }()
        };
        x.RotationMatrix = function(a, b, c, d, e, f, g, h, l) {
            var k;
            this.elements = new Float32Array(9);
            this.identity = function() {
                return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1), this
            };
            this.set = function(a, b, c, d, e, f, g, h, l) {
                this.elements[0] = a || 1;
                this.elements[1] = b || 0;
                this.elements[2] = c || 0;
                this.elements[3] = d || 0;
                this.elements[4] = e || 1;
                this.elements[5] = f || 0;
                this.elements[6] = g || 0;
                this.elements[7] = h || 0;
                this.elements[8] = l || 1
            };
            this.copy = function(a) {
                this.elements[0] = a.elements[0];
                this.elements[1] = a.elements[1];
                this.elements[2] = a.elements[2];
                this.elements[3] = a.elements[3];
                this.elements[4] = a.elements[4];
                this.elements[5] = a.elements[5];
                this.elements[6] = a.elements[6];
                this.elements[7] = a.elements[7];
                this.elements[8] = a.elements[8]
            };
            this.setFromEuler = function() {
                var a, b, c, d, e, f, g, h, l;
                return function(k) {
                    return k = k || {}, c = (k.alpha || 0) * m, a = (k.beta || 0) * m, b = (k.gamma || 0) * m, d = Math.cos(a), e = Math.cos(b), f = Math.cos(c), g = Math.sin(a), h = Math.sin(b), l = Math.sin(c), this.set(f * e - l * g * h, -d * l, e * l * g + f * h, e * l + f * g * h, f * d, l * h - f * e * g, -d * h, g, d * e), this.normalize(), this
                }
            }();
            this.setFromQuaternion = function() {
                var a, b, c, d;
                return function(e) {
                    return a = e.w * e.w, b = e.x * e.x, c = e.y * e.y, d = e.z * e.z, this.set(a + b - c - d, 2 * (e.x * e.y - e.w * e.z), 2 * (e.x *
                        e.z + e.w * e.y), 2 * (e.x * e.y + e.w * e.z), a - b + c - d, 2 * (e.y * e.z - e.w * e.x), 2 * (e.x * e.z - e.w * e.y), 2 * (e.y * e.z + e.w * e.x), a - b - c + d), this
                }
            }();
            this.multiply = function(a) {
                return k = x.RotationMatrix.prototype.multiplyMatrices(this, a), this.copy(k), this
            };
            this.rotateX = function(a) {
                return k = x.RotationMatrix.prototype.rotateByAxisAngle(this, [1, 0, 0], a), this.copy(k), this
            };
            this.rotateY = function(a) {
                return k = x.RotationMatrix.prototype.rotateByAxisAngle(this, [0, 1, 0], a), this.copy(k), this
            };
            this.rotateZ = function(a) {
                return k = x.RotationMatrix.prototype.rotateByAxisAngle(this,
                    [0, 0, 1], a), this.copy(k), this
            };
            this.normalize = function() {
                return x.RotationMatrix.prototype.normalize(this)
            };
            this.set(a, b, c, d, e, f, g, h, l)
        };
        x.RotationMatrix.prototype = {
            constructor: x.RotationMatrix,
            multiplyMatrices: function() {
                var a, b, c = new x.RotationMatrix;
                return function(d, e) {
                    return a = d.elements, b = e.elements, c.set(a[0] * b[0] + a[1] * b[3] + a[2] * b[6], a[0] * b[1] + a[1] * b[4] + a[2] * b[7], a[0] * b[2] + a[1] * b[5] + a[2] * b[8], a[3] * b[0] + a[4] * b[3] + a[5] * b[6], a[3] * b[1] + a[4] * b[4] + a[5] * b[7], a[3] * b[2] + a[4] * b[5] + a[5] * b[8], a[6] * b[0] +
                        a[7] * b[3] + a[8] * b[6], a[6] * b[1] + a[7] * b[4] + a[8] * b[7], a[6] * b[2] + a[7] * b[5] + a[8] * b[8]), c
                }
            }(),
            normalize: function(a) {
                var b = a.elements,
                    c = b[0] * b[4] * b[8] - b[0] * b[5] * b[7] - b[1] * b[3] * b[8] + b[1] * b[5] * b[6] + b[2] * b[3] * b[7] - b[2] * b[4] * b[6];
                return b[0] /= c, b[1] /= c, b[2] /= c, b[3] /= c, b[4] /= c, b[5] /= c, b[6] /= c, b[7] /= c, b[8] /= c, a.elements = b, a
            },
            rotateByAxisAngle: function() {
                var a, b, c = new x.RotationMatrix,
                    d = new x.RotationMatrix,
                    e = !1;
                return function(f, g, h) {
                    return d.identity(), e = !1, a = Math.sin(h), b = Math.cos(h), 1 === g[0] && 0 === g[1] && 0 ===
                        g[2] ? (e = !0, d.elements[4] = b, d.elements[5] = -a, d.elements[7] = a, d.elements[8] = b) : 1 === g[1] && 0 === g[0] && 0 === g[2] ? (e = !0, d.elements[0] = b, d.elements[2] = a, d.elements[6] = -a, d.elements[8] = b) : 1 === g[2] && 0 === g[0] && 0 === g[1] && (e = !0, d.elements[0] = b, d.elements[1] = -a, d.elements[3] = a, d.elements[4] = b), e ? (c = x.RotationMatrix.prototype.multiplyMatrices(f, d), c = x.RotationMatrix.prototype.normalize(c)) : c = f, c
                }
            }()
        };
        x.Euler = function(a, b, c) {
            this.set = function(a, b, c) {
                this.alpha = a || 0;
                this.beta = b || 0;
                this.gamma = c || 0
            };
            this.copy = function(a) {
                this.alpha =
                    a.alpha;
                this.beta = a.beta;
                this.gamma = a.gamma
            };
            this.setFromRotationMatrix = function() {
                var a, b, c, f;
                return function(g) {
                    a = g.elements;
                    0 < a[8] ? (b = Math.atan2(-a[1], a[4]), c = Math.asin(a[7]), f = Math.atan2(-a[6], a[8])) : 0 > a[8] ? (b = Math.atan2(a[1], -a[4]), c = -Math.asin(a[7]), c += 0 <= c ? -d : d, f = Math.atan2(a[6], -a[8])) : 0 < a[6] ? (b = Math.atan2(-a[1], a[4]), c = Math.asin(a[7]), f = -e) : 0 > a[6] ? (b = Math.atan2(a[1], -a[4]), c = -Math.asin(a[7]), c += 0 <= c ? -d : d, f = -e) : (b = Math.atan2(a[3], a[0]), c = 0 < a[7] ? e : -e, f = 0);
                    0 > b && (b += h);
                    b *= p;
                    c *= p;
                    f *= p;
                    this.set(b,
                        c, f)
                }
            }();
            this.setFromQuaternion = function() {
                var a, b, c;
                return function(f) {
                    var g = f.w * f.w,
                        l = f.x * f.x,
                        k = f.y * f.y,
                        m = f.z * f.z,
                        r = g + l + k + m,
                        v = f.w * f.x + f.y * f.z;
                    if (v > .499999 * r) a = 2 * Math.atan2(f.y, f.w), b = e, c = 0;
                    else if (-.499999 * r > v) a = -2 * Math.atan2(f.y, f.w), b = -e, c = 0;
                    else {
                        var x = g - l + k - m,
                            t = 2 * (f.w * f.z - f.x * f.y);
                        g = g - l - k + m;
                        f = 2 * (f.w * f.y - f.x * f.z);
                        0 < g ? (a = Math.atan2(t, x), b = Math.asin(2 * v / r), c = Math.atan2(f, g)) : (a = Math.atan2(-t, -x), b = -Math.asin(2 * v / r), b += 0 > b ? d : -d, c = Math.atan2(-f, -g))
                    }
                    0 > a && (a += h);
                    a *= p;
                    b *= p;
                    c *= p;
                    this.set(a, b, c)
                }
            }();
            this.rotateX = function(a) {
                return x.Euler.prototype.rotateByAxisAngle(this, [1, 0, 0], a), this
            };
            this.rotateY = function(a) {
                return x.Euler.prototype.rotateByAxisAngle(this, [0, 1, 0], a), this
            };
            this.rotateZ = function(a) {
                return x.Euler.prototype.rotateByAxisAngle(this, [0, 0, 1], a), this
            };
            this.set(a, b, c)
        };
        x.Euler.prototype = {
            constructor: x.Euler,
            rotateByAxisAngle: function() {
                var a = new x.RotationMatrix;
                return function(b, c, d) {
                    return a.setFromEuler(b), a = x.RotationMatrix.prototype.rotateByAxisAngle(a, c, d), b.setFromRotationMatrix(a),
                        b
                }
            }()
        };
        x.DeviceOrientation = function(a) {
            this.options = a || {};
            var c = 0,
                d = 0;
            if (this.alphaOffsetScreen = 0, this.alphaOffsetDevice = void 0, "game" === this.options.type) {
                var e = function(a) {
                    return null !== a.alpha && (this.alphaOffsetDevice = new x.Euler(a.alpha, 0, 0), this.alphaOffsetDevice.rotateZ(-u), 10 <= ++d) ? void b.removeEventListener("deviceorientation", e, !1) : void(200 <= ++c && b.removeEventListener("deviceorientation", e, !1))
                }.bind(this);
                b.addEventListener("deviceorientation", e, !1)
            } else if ("world" === this.options.type) {
                var f =
                    function(a) {
                        return !0 !== a.absolute && void 0 !== a.webkitCompassAccuracy && null !== a.webkitCompassAccuracy && 0 <= +a.webkitCompassAccuracy && 50 > +a.webkitCompassAccuracy && (this.alphaOffsetDevice = new x.Euler(a.webkitCompassHeading, 0, 0), this.alphaOffsetDevice.rotateZ(u), this.alphaOffsetScreen = u, 10 <= ++d) ? void b.removeEventListener("deviceorientation", f, !1) : void(200 <= ++c && b.removeEventListener("deviceorientation", f, !1))
                    }.bind(this);
                b.addEventListener("deviceorientation", f, !1)
            }
        };
        x.DeviceOrientation.prototype = {
            constructor: x.DeviceOrientation,
            start: function(a) {
                a && "[object Function]" == Object.prototype.toString.call(a) && q.orientation.callbacks.push(a);
                l ? b.screen.orientation.addEventListener("change", g, !1) : b.addEventListener("orientationchange", g, !1);
                q.orientation.active || (b.addEventListener("deviceorientation", c, !1), q.orientation.active = !0)
            },
            stop: function() {
                q.orientation.active && (b.removeEventListener("deviceorientation", c, !1), q.orientation.active = !1)
            },
            listen: function(a) {
                this.start(a)
            },
            getFixedFrameQuaternion: function() {
                var a = new x.Euler,
                    b = new x.RotationMatrix,
                    c = new x.Quaternion;
                return function() {
                    var d = q.orientation.data || {
                            alpha: 0,
                            beta: 0,
                            gamma: 0
                        },
                        e = d.alpha;
                    return this.alphaOffsetDevice && (b.setFromEuler(this.alphaOffsetDevice), b.rotateZ(-this.alphaOffsetScreen), a.setFromRotationMatrix(b), 0 > a.alpha && (a.alpha += 360), a.alpha %= 360, e -= a.alpha), a.set(e, d.beta, d.gamma), c.setFromEuler(a), c
                }
            }(),
            getScreenAdjustedQuaternion: function() {
                var a;
                return function() {
                    return a = this.getFixedFrameQuaternion(), a.rotateZ(-u), a
                }
            }(),
            getFixedFrameMatrix: function() {
                var a =
                    new x.Euler,
                    b = new x.RotationMatrix;
                return function() {
                    var c = q.orientation.data || {
                            alpha: 0,
                            beta: 0,
                            gamma: 0
                        },
                        d = c.alpha;
                    return this.alphaOffsetDevice && (b.setFromEuler(this.alphaOffsetDevice), b.rotateZ(-this.alphaOffsetScreen), a.setFromRotationMatrix(b), 0 > a.alpha && (a.alpha += 360), a.alpha %= 360, d -= a.alpha), a.set(d, c.beta, c.gamma), b.setFromEuler(a), b
                }
            }(),
            getScreenAdjustedMatrix: function() {
                var a;
                return function() {
                    return a = this.getFixedFrameMatrix(), a.rotateZ(-u), a
                }
            }(),
            getFixedFrameEuler: function() {
                var a, b = new x.Euler;
                return function() {
                    return a = this.getFixedFrameMatrix(), b.setFromRotationMatrix(a), b
                }
            }(),
            getScreenAdjustedEuler: function() {
                var a, b = new x.Euler;
                return function() {
                    return a = this.getScreenAdjustedMatrix(), b.setFromRotationMatrix(a), b
                }
            }(),
            isAbsolute: function() {
                return q.orientation.data && !0 === q.orientation.data.absolute ? !0 : !1
            },
            getLastRawEventData: function() {
                return q.orientation.data || {}
            },
            _alphaAvailable: !1,
            _betaAvailable: !1,
            _gammaAvailable: !1,
            isAvailable: function(a) {
                switch (a) {
                    case this.ALPHA:
                        return this._alphaAvailable;
                    case this.BETA:
                        return this._betaAvailable;
                    case this.GAMMA:
                        return this._gammaAvailable
                }
            },
            ALPHA: "alpha",
            BETA: "beta",
            GAMMA: "gamma"
        };
        x.DeviceMotion = function(a) {
            this.options = a || {}
        };
        x.DeviceMotion.prototype = {
            constructor: x.DeviceMotion,
            start: function(c) {
                c && "[object Function]" == Object.prototype.toString.call(c) && q.motion.callbacks.push(c);
                l ? b.screen.orientation.addEventListener("change", g, !1) : b.addEventListener("orientationchange", g, !1);
                q.motion.active || (b.addEventListener("devicemotion", a, !1), q.motion.active = !0)
            },
            stop: function() {
                q.motion.active && (b.removeEventListener("devicemotion", a, !1), q.motion.active = !1)
            },
            listen: function(a) {
                this.start(a)
            },
            getScreenAdjustedAcceleration: function() {
                var a = q.motion.data && q.motion.data.acceleration ? q.motion.data.acceleration : {
                        x: 0,
                        y: 0,
                        z: 0
                    },
                    b = {};
                switch (u) {
                    case e:
                        b.x = -a.y;
                        b.y = a.x;
                        break;
                    case d:
                        b.x = -a.x;
                        b.y = -a.y;
                        break;
                    case w:
                    case r:
                        b.x = a.y;
                        b.y = -a.x;
                        break;
                    default:
                        b.x = a.x, b.y = a.y
                }
                return b.z = a.z, b
            },
            getScreenAdjustedAccelerationIncludingGravity: function() {
                var a = q.motion.data && q.motion.data.accelerationIncludingGravity ?
                    q.motion.data.accelerationIncludingGravity : {
                        x: 0,
                        y: 0,
                        z: 0
                    },
                    b = {};
                switch (u) {
                    case e:
                        b.x = -a.y;
                        b.y = a.x;
                        break;
                    case d:
                        b.x = -a.x;
                        b.y = -a.y;
                        break;
                    case w:
                    case r:
                        b.x = a.y;
                        b.y = -a.x;
                        break;
                    default:
                        b.x = a.x, b.y = a.y
                }
                return b.z = a.z, b
            },
            getScreenAdjustedRotationRate: function() {
                var a = q.motion.data && q.motion.data.rotationRate ? q.motion.data.rotationRate : {
                        alpha: 0,
                        beta: 0,
                        gamma: 0
                    },
                    b = {};
                switch (u) {
                    case e:
                        b.beta = -a.gamma;
                        b.gamma = a.beta;
                        break;
                    case d:
                        b.beta = -a.beta;
                        b.gamma = -a.gamma;
                        break;
                    case w:
                    case r:
                        b.beta = a.gamma;
                        b.gamma = -a.beta;
                        break;
                    default:
                        b.beta = a.beta, b.gamma = a.gamma
                }
                return b.alpha = a.alpha, b
            },
            getLastRawEventData: function() {
                return q.motion.data || {}
            },
            _accelerationXAvailable: !1,
            _accelerationYAvailable: !1,
            _accelerationZAvailable: !1,
            _accelerationIncludingGravityXAvailable: !1,
            _accelerationIncludingGravityYAvailable: !1,
            _accelerationIncludingGravityZAvailable: !1,
            _rotationRateAlphaAvailable: !1,
            _rotationRateBetaAvailable: !1,
            _rotationRateGammaAvailable: !1,
            isAvailable: function(a) {
                switch (a) {
                    case this.ACCELERATION_X:
                        return this._accelerationXAvailable;
                    case this.ACCELERATION_Y:
                        return this._accelerationYAvailable;
                    case this.ACCELERATION_Z:
                        return this._accelerationZAvailable;
                    case this.ACCELERATION_INCLUDING_GRAVITY_X:
                        return this._accelerationIncludingGravityXAvailable;
                    case this.ACCELERATION_INCLUDING_GRAVITY_Y:
                        return this._accelerationIncludingGravityYAvailable;
                    case this.ACCELERATION_INCLUDING_GRAVITY_Z:
                        return this._accelerationIncludingGravityZAvailable;
                    case this.ROTATION_RATE_ALPHA:
                        return this._rotationRateAlphaAvailable;
                    case this.ROTATION_RATE_BETA:
                        return this._rotationRateBetaAvailable;
                    case this.ROTATION_RATE_GAMMA:
                        return this._rotationRateGammaAvailable
                }
            },
            ACCELERATION_X: "accelerationX",
            ACCELERATION_Y: "accelerationY",
            ACCELERATION_Z: "accelerationZ",
            ACCELERATION_INCLUDING_GRAVITY_X: "accelerationIncludingGravityX",
            ACCELERATION_INCLUDING_GRAVITY_Y: "accelerationIncludingGravityY",
            ACCELERATION_INCLUDING_GRAVITY_Z: "accelerationIncludingGravityZ",
            ROTATION_RATE_ALPHA: "rotationRateAlpha",
            ROTATION_RATE_BETA: "rotationRateBeta",
            ROTATION_RATE_GAMMA: "rotationRateGamma"
        };
        b.FULLTILT = x
    }
}(window);
(function(b, f, k, g, c) {
    function a(a) {
        return a !== c && null !== a
    }
    var d = k.history,
        e = d.pushState !== c,
        h = c,
        m = k.onpopstate,
        p = !1;
    k.onpopstate = function(b) {
        var d = e;
        e = !1;
        var g = b.state;
        if (a(g) && a(g.elementId)) {
            var l = f("#" + g.elementId);
            0 < l.length && l.trigger(g.clickEvent)
        } else a(h) && h.settings.open && (!h.$elem || h.$elem.data("ctaAutoLoaded") || h.$overlayWrapper && 0 < h.$overlayWrapper.find(".md-dealerlocator").length && !p ? h.$elem.removeData("ctaAutoLoaded") : h.closeOverlay());
        e = d;
        m !== c && null !== m && m(b)
    };
    var q = 0,
        l = function(a,
            c, d) {
            this.$html = f("html");
            this.$body = f("body");
            this.$parent = d;
            this.$elem = f(a);
            this.transitionend = b.transitionEndEvent;
            this.$overlay = {};
            this.$overlayHeader = {};
            this.$overlayWrapper = {};
            this.$overlayTitle = {};
            this.$overlayFooter = {};
            this.$closeLink = {};
            this.$closeText = {};
            this.$overlayContent = {};
            this.$overlayContentWrapper = {};
            this.$xhr;
            this.options = c;
            this.settings = {};
            this.metadata = this.$elem.data("plugin-options");
            this.uniqueId = Math.floor(Math.random() * (new Date).getTime());
            this.hasMediaSupport = this.isNarrow = !0;
            this.veilProps = {
                id: this.uniqueId,
                zIndex: this.options.veilZIndex
            };
            this.veilIdsToClose = [];
            d && (this.$body = d);
            this.selector = {
                overlay: ".md-custom-overlay",
                overlayWrapper: ".md-custom-overlay-wrapper",
                overlayContentWrapper: ".md-custom-overlay-main-wrapper",
                overlayContent: ".md-custom-overlay-main",
                overlayHeader: ".md-custom-overlay-header",
                overlayFooter: ".md-custom-overlay-footer",
                overlayTitle: ".md-custom-overlay-title",
                closeLink: ".md-custom-overlay-close",
                closeText: ".md-custom-overlay-close-text"
            };
            this.cssClass = {
                overlay: "md-custom-overlay",
                closeButton: "md-icn-close",
                isOpen: "md-custom-overlay-open",
                footerEnabled: "md-overlay-footer-enabled",
                layoutSmall: "md-custom-overlay-type-sml",
                layoutMedium: "md-custom-overlay-type-med",
                layoutLarge: "md-custom-overlay-type-lrg",
                hidden: "md-hidden",
                contentLoader: "md-custom-overlay-loader",
                disableScroll: "md-custom-overlay-disable-scroll"
            };
            this.events = {
                resize: "md:resize",
                toggleOverlay: "click.click-overlay-link",
                clickOverlay: "click.md-custom-overlay",
                clickClose: "click.click-overlay-close",
                overlayContentLoaded: "md:overlay:contentLoaded",
                overlayOpened: "md:overlay:opened",
                overlayClosed: "md:overlay:closed",
                overlayScroll: "md:overlay:scroll",
                overlayOpening: "md:overlay:opening",
                overlayClosing: "md:overlay:closing",
                overlayClose: "md:overlay:close"
            };
            this.ratio = {
                wide: {
                    width: 52,
                    height: 54
                },
                narrow: {
                    width: 100,
                    height: 80
                }
            };
            this.display = {};
            this.init.apply(this)
        };
    l.prototype = {
        defaults: {
            open: !1,
            ajax: !1,
            titleFromContent: !1,
            titleSelector: "",
            source: ".md-custom-overlay-source",
            initialiseSource: !1,
            title: "",
            footer: "",
            textCloseButton: "",
            classEnabled: "md-enabled",
            classVisible: "md-visible",
            classOverlayIn: "md-overlay-in",
            contentType: "content",
            type: "overlay",
            style: "sml",
            veilZIndex: null,
            deepClone: !1,
            history: !1,
            historyForwardHandler: c,
            ajaxTimeout: 3E4,
            fireScrollEvents: !1
        },
        redrawPage: function(a) {
            a.offsetLeft
        },
        bind: function(a, b) {
            return function() {
                return a[b].apply(a, arguments)
            }
        },
        createOverlay: function() {
            this.$overlay = f(this.selector.overlay);
            if (0 === this.$overlay.length) {
                var a = '\x3cdiv class\x3d"' + this.selector.overlay.substr(1) +
                    '"\x3e';
                a += '\x3cdiv class\x3d"' + this.selector.overlayWrapper.substr(1) + '"\x3e';
                a += '\x3cdiv class\x3d"' + this.selector.overlayHeader.substr(1) + '"\x3e';
                a += '\x3cdiv class\x3d"' + this.selector.overlayTitle.substr(1) + '"\x3e\x3c/div\x3e';
                a = a + "\x3c/div\x3e" + ('\x3cbutton class\x3d"md-btn md-custom-overlay-close" name\x3d"close"\x3e\x3cspan class\x3d"md-custom-overlay-close-text"\x3e' + this.settings.textCloseButton + "\x3c/span\x3e\x3c/button\x3e");
                a += '\x3cdiv class\x3d"' + this.selector.overlayContentWrapper.substr(1) +
                    '"\x3e';
                a += '\x3cdiv class\x3d"' + this.selector.overlayContent.substr(1) + '"\x3e\x3c/div\x3e';
                a = a + "\x3c/div\x3e" + ('\x3cdiv class\x3d"' + this.selector.overlayFooter.substr(1) + '"\x3e\x3c/div\x3e');
                this.$overlay = f(a + "\x3c/div\x3e\x3c/div\x3e").prependTo(this.$body)
            }
            this.mapOverlayInstance();
            this.initGeneratedEvents()
        },
        mapOverlayInstance: function() {
            this.$overlayWrapper = this.$overlay.find(this.selector.overlayWrapper);
            this.$overlayContentWrapper = this.$overlay.find(this.selector.overlayContentWrapper);
            this.$overlayContent =
                this.$overlay.find(this.selector.overlayContent);
            this.$overlayHeader = this.$overlay.find(this.selector.overlayHeader);
            this.$overlayFooter = this.$overlay.find(this.selector.overlayFooter);
            this.$overlayTitle = this.$overlay.find(this.selector.overlayTitle);
            this.$closeLink = this.$overlay.find(this.selector.closeLink);
            this.$closeText = this.$overlay.find(this.selector.closeText)
        },
        checkContents: function() {
            var a = "",
                b = this;
            a = this.$overlay.attr("data-id");
            this.$overlayContent.empty();
            a && this.veilIdsToClose.push(parseInt(a,
                10));
            a = this.$overlayWrapper.attr("class").split(" ");
            f.each(a, function(a, c) {
                if (0 === c.indexOf(b.cssClass.overlay + "-type-")) return b.$overlayWrapper.removeClass(c), !1
            });
            this.$overlayWrapper.addClass(this.cssClass.overlay + "-type-" + this.settings.style);
            this.$closeText.text(this.settings.textCloseButton);
            this.$overlayFooter.toggleClass(this.cssClass.footerEnabled, "" !== this.settings.footer);
            this.settings.ajax ? this.ajaxContents() : this.inlineContents()
        },
        setContentsCallback: function() {
            var a = this.settings.source;
            a = {
                requester: this.$elem,
                overlayContent: this.$overlayContent,
                ajaxUrl: this.settings.ajax ? a : c
            };
            this.settings.ajax || (this.$overlayTitle.text(this.overlayTitle), this.$overlayFooter.html(this.overlayFooter), this.$overlayContent.append(this.$source.clone(this.settings.deepClone)));
            f.publish(this.events.overlayContentLoaded, [a]);
            if (this.settings.ajax) {
                this.settings.titleFromContent && this.setTitleFromContent();
                var d = this.$overlayContent[0];
                b.initialise(d);
                require(["core/componentInitializer"], function(a) {
                    a.init(d)
                })
            } else this.settings.initialiseSource &&
                b.initialise(this.$overlayContent[0]), this.$overlayFooter.toggleClass(this.cssClass.footerEnabled, "" !== this.settings.footer);
            f.publish(this.events.overlayOpened, [a])
        },
        inlineContents: function() {
            this.setContentsCallback()
        },
        ajaxContents: function() {
            var a = this,
                b = this.settings.source;
            this.$overlayContent.addClass(this.cssClass.contentLoader);
            var c = {
                type: "GET",
                url: b,
                dataType: "html",
                timeout: this.settings.ajaxTimeout,
                error: function(a, b, d) {
                    console.log('WARN: mdOverlay.ajaxContents: ajax-call returned error "' +
                        b + '" using call settings:', c)
                }
            };
            this.$xhr = f.ajax(c).done(function(b) {
                a.$overlayTitle.text("");
                a.$overlayContent.append(b);
                a.setContentsCallback()
            }).fail(function(b, c) {
                "abort" !== c && (a.$overlayContent.append(a.$body.data().mdMessageAjaxfail), a.$overlay.attr("data-id", a.uniqueId))
            }).always(function() {
                a.$overlayContent.removeClass(a.cssClass.contentLoader)
            })
        },
        hideVeil: function() {
            b.veil.manageVeil("close", this.veilProps, this.$parent)
        },
        showVeil: function() {
            b.veil.manageVeil("open", this.veilProps, this.$parent)
        },
        removePreviousVeils: function() {
            for (var a; this.veilIdsToClose.length;) a = this.veilIdsToClose.pop(), b.veil.manageVeil("close", {
                id: a
            })
        },
        moveOut: function() {
            var a = f.Deferred();
            if (k.Modernizr.csstransitions) this.$overlayWrapper.one(this.transitionend, a.resolve);
            a.resolve();
            this.$overlayWrapper.attr("data-position", this.winHeight);
            this.$overlayWrapper.removeClass(this.settings.classOverlayIn);
            a.promise().done(function() {
                this.$overlay.removeClass(this.settings.classEnabled);
                this.settings.ajax && this.$overlayTitle.text("");
                f.publish(this.events.overlayClosed, [{
                    requester: this.$elem,
                    overlayContent: this.$overlayContent
                }])
            }.bind(this))
        },
        moveIn: function() {
            var a = this;
            if (k.Modernizr.csstransitions) this.$overlay.one(this.transitionend, function() {
                a.$overlayWrapper.addClass(a.settings.classOverlayIn)
            });
            else this.$overlayWrapper.addClass(this.settings.classOverlayIn);
            this.$overlay.addClass(this.settings.classEnabled);
            this.$overlayWrapper.attr("data-position", "0");
            f(".md-custom-overlay.md-enabled").on("mouseup", this.triggerCloseEventForOutsideClick)
        },
        triggerCloseEventForOutsideClick: function(a) {
            f(".md-custom-overlay.md-enabled").off("mouseup", this.triggerCloseEventForOutsideClick);
            "md-custom-overlay md-enabled" == f(a.target).attr("class") && f(".md-btn.md-custom-overlay-close").trigger("click")
        },
        getHeightRatio: function(a) {
            return Math.round(a / this.display.width * this.display.height)
        },
        setContainerLayout: function() {
            if (this.isNarrow) {
                var a = parseInt(this.winHeight * this.display.height / 100, 10);
                this.$overlay.height(a)
            }
        },
        setContentLayout: function() {
            var a =
                this.$overlayHeader.outerHeight(!0),
                b = this.$overlayFooter.outerHeight(!0);
            this.$overlayHeader.text().includes("Empty Heading") && (a = 0);
            this.$overlayContentWrapper.css({
                top: a,
                "padding-bottom": "" !== this.settings.footer ? b + 20 : ""
            })
        },
        setLayout: function() {
            this.setContentLayout()
        },
        manageLayout: function() {
            var a = f(k);
            this.hasMediaSupport = k.Modernizr.mq("only all");
            this.display = (this.isNarrow = !k.Modernizr.mq("only screen and (min-width: 768px)")) ? this.ratio.narrow : this.ratio.wide;
            this.winWidth = a.width();
            this.winHeight =
                a.height();
            this.setLayout()
        },
        manageState: function() {
            this.settings.open ? (this.checkContents(), this.manageLayout(), this.removePreviousVeils(), this.showVeil(), this.moveIn(), b.overlay.disableScrollBehind(this.$overlay, this.$overlayWrapper), this.$parent ? this.$parent.addClass(this.cssClass.isOpen) : this.$html.addClass(this.cssClass.isOpen), this.pushHistory(), h = this) : (this.hideVeil(), this.moveOut(), this.$parent ? this.$parent.removeClass(this.cssClass.isOpen) : this.$html.removeClass(this.cssClass.isOpen), b.overlay.enableScrollBehind(this.$overlay,
                this.$overlayWrapper), this.popHistory(), h = c)
        },
        pushHistory: function() {
            e && this.settings.historyForwardInfo !== c && !b.browser.isIE && (d.replaceState(null, "", ""), d.pushState(this.settings.historyForwardInfo, "", ""))
        },
        popHistory: function() {
            e && this.settings.historyForwardInfo !== c && this.settings.open && !this.isConfiguratorStarted() && (b.browser.isIE || d.back())
        },
        isConfiguratorStarted: function() {
            var a = !1,
                b = k.location.hash;
            b && (a = -1 < b.indexOf("configurator"));
            return a
        },
        toggleOverlay: function(a) {
            a.preventDefault();
            this.settings.open = !this.settings.open;
            if (this.settings.open) this.$closeLink.on(this.events.clickClose, this, this.onCloseOverlay);
            else this.$closeLink.off(this.events.clickClose, this.onCloseOverlay);
            this.manageState()
        },
        openOverlay: function() {
            this.settings.open = !0;
            this.$closeLink.on(this.events.clickClose, this, this.onCloseOverlay);
            f.publish(this.events.overlayOpening);
            this.manageState()
        },
        closeOverlay: function() {
            this.settings.open = !1;
            this.$xhr && 4 !== this.$xhr.readyState && this.$xhr.abort();
            this.$closeLink.off(this.events.clickClose,
                this.onCloseOverlay);
            f.publish(this.events.overlayClosing, [{
                requester: this.$elem,
                overlayContent: this.$overlayContent
            }]);
            this.manageState()
        },
        onCloseOverlay: function(a) {
            var b = a.data,
                c = f(a.target);
            if (c.hasClass(b.selector.closeLink.substr(1)) || c.hasClass(b.selector.closeText.substr(1))) p = !0, b.closeOverlay(), a.preventDefault()
        },
        initGeneratedEvents: function() {
            var a = this;
            f.subscribe(this.events.resize, a.bind(a, "manageLayout"));
            if (this.settings.fireScrollEvents) this.$overlay.find(this.selector.overlayContent).on("scroll",
                function() {
                    f.publish(a.events.overlayScroll)
                });
            f.subscribe(this.events.overlayClose, this.closeOverlay.bind(this))
        },
        setTitleFromContent: function() {
            if (this.settings.titleFromContent) {
                var a = this.$overlayContent.find(this.settings.titleSelector);
                if (this.$overlayContent.find("#aemFormFrame").length) {
                    var b = this.$overlayHeader.outerHeight(!0);
                    this.$overlayTitle.closest(".md-custom-overlay-wrapper").addClass("aemForm");
                    a.text().includes("Empty Heading") && (b = 0);
                    this.$overlayContentWrapper.css({
                        top: b
                    });
                    a.text() ?
                        this.$overlayTitle.text(a.text()) : this.$overlayTitle.remove()
                } else this.$overlayTitle.text(a.text());
                a.addClass(this.cssClass.hidden)
            }
        },
        setDefaults: function() {
            this.settings.ajax || (this.$source = this.settings.source instanceof f ? this.settings.source : f(this.settings.source, this.$body), this.overlayTitle = this.settings.title || this.$elem.text(), this.overlayFooter = this.settings.footer);
            if (this.settings.history && this.settings.historyForwardInfo === c) {
                var a = this.$elem;
                if (a === c || null === a || 0 === a.length) a = c;
                else {
                    var b =
                        a.attr("id");
                    b === c && (b = "overlay-" + q++, a.attr("id", b));
                    a = b
                }
                a !== c && (this.settings.historyForwardInfo = {
                    elementId: a,
                    clickEvent: "click"
                })
            }
        },
        destroy: function() {
            this.$overlay.attr("data-id") === this.uniqueId.toString() && (this.hideVeil(), this.settings.open = !1, this.$overlay.removeClass(this.settings.classEnabled).removeClass(this.cssClass.disableScroll).attr({
                style: "",
                "data-id": ""
            }), this.$overlayWrapper.removeClass(this.settings.classOverlayIn).removeClass(this.cssClass.layoutSmall).removeClass(this.cssClass.layoutMedium).removeClass(this.cssClass.layoutLarge).removeClass(this.cssClass.overlay +
                "-type-" + this.settings.style).attr("style", ""), this.$overlayContentWrapper.attr("style", ""), f.unsubscribe(this.events.resize, this.bind(this, "manageState")), this.$elem.data("overlay") !== c && f.removeData(this.$elem[0], "overlay"))
        },
        init: function() {
            null != this.$body.data() && (this.defaults.textCloseButton = this.$body.data().mdMessageClose);
            this.settings = f.extend({}, this.defaults, this.options, this.metadata);
            this.setDefaults();
            this.createOverlay();
            this.settings.open && this.manageState()
        }
    };
    f.fn.overlay = function(a) {
        return this.each(function() {
            f.data(this,
                "overlay") ? (f.data(this, "overlay").settings = f.extend(f.data(this, "overlay").settings, a), f.data(this, "overlay").setDefaults()) : f.data(this, "overlay", new l(this, a))
        })
    };
    f.mdOverlay = function(a, b, c) {
        return new l(b, a, c)
    }
})(mini.digital.util, mini.digital.$, window, document);
(function(b, f, k) {
    var g = function(c, a) {
        this.$elem = b(c);
        this.$html = b("html");
        this.$body = b("body");
        this.options = a;
        this.settings = {};
        this.metadata = this.$elem.data("plugin-options");
        this.transitionend = f.transitionEndEvent;
        this.uniqueId = Math.floor(Math.random() * (new Date).getTime());
        this.subResize = [];
        this.$veil = {};
        this.$layer = {};
        this.$layerWrapper = {};
        this.$layerContentWrapper = {};
        this.$layerContent = {};
        this.$layerHeader = {};
        this.$layerTitle = {};
        this.$closeLink = {};
        this.selector = {
            layer: ".md-custom-layer",
            veil: ".md-custom-layer-veil",
            layerWrapper: ".md-custom-layer-wrapper",
            layerContentWrapper: ".md-custom-layer-main-wrapper",
            layerContent: ".md-custom-layer-main",
            layerHeader: ".md-custom-layer-header",
            layerTitle: ".md-custom-layer-title",
            closeLink: ".md-icn-close"
        };
        this.cssClass = {
            layerIn: "md-custom-layer-in",
            enabled: "md-enabled",
            layer: "md-custom-layer",
            layoutDefault: "md-custom-layer-type-default",
            isOpen: "md-custom-overlay-open"
        };
        this.events = {
            layerContentLoaded: "md:layer:contentLoaded",
            layerOpened: "md:layer:opened",
            layerClosed: "md:layer:closed",
            layerMoveComplete: "md:layer:move:complete"
        };
        this.init.apply(this)
    };
    g.prototype = {
        defaults: {
            open: !1,
            ajax: !1,
            initialiseSource: !1,
            constrain: null,
            source: null,
            title: null,
            style: "default",
            textCloseButton: "Close",
            group: "layer",
            height: null
        },
        createLayer: function() {
            var b = this.$constrain.find("." + this.selector.veil.substr(1) + '[data-layer-group\x3d"' + this.settings.group + '"]'),
                a = this.$constrain.find("." + this.selector.layer.substr(1) + '[data-layer-group\x3d"' + this.settings.group + '"]'),
                d = this.cssClass.layer + "-type-" +
                this.settings.style,
                e = "";
            0 === b.length && (e += '\x3cdiv class\x3d"' + this.selector.veil.substr(1) + '" data-layer-group\x3d"' + this.settings.group + '"\x3e\x3c/div\x3e');
            0 === a.length && (e += '\x3cdiv class\x3d"' + this.selector.layer.substr(1) + " " + d + '" data-layer-group\x3d"' + this.settings.group + '" data-layer-id\x3d"' + this.uniqueId + '"\x3e', e += '\x3cdiv class\x3d"' + this.selector.layerWrapper.substr(1) + '"\x3e', e += '\x3cdiv class\x3d"' + this.selector.layerHeader.substr(1) + '"\x3e', e += '\x3cdiv class\x3d"' + this.selector.layerTitle.substr(1) +
                '"\x3e\x3c/div\x3e', e += '\x3cbutton class\x3d"md-custom-layer-btn md-icn-close"\x3e\x3cspan class\x3d"md-icn-alt"\x3e' + this.settings.textCloseButton + "\x3c/span\x3e\x3c/button\x3e", e = e + "\x3c/div\x3e" + ('\x3cdiv class\x3d"' + this.selector.layerContentWrapper.substr(1) + '"\x3e'), e += '\x3cdiv class\x3d"' + this.selector.layerContent.substr(1) + '"\x3e\x3c/div\x3e', e += "\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");
            0 !== b.length && 0 !== a.length || this.$constrain.prepend(e);
            this.setLayerInternals()
        },
        setLayerInternals: function() {
            this.$veil =
                this.$constrain.find(this.selector.veil + '[data-layer-group\x3d"' + this.settings.group + '"]');
            this.$layer = this.$constrain.find(this.selector.layer + '[data-layer-group\x3d"' + this.settings.group + '"]');
            this.$layerWrapper = this.$layer.find(this.selector.layerWrapper);
            this.$layerContentWrapper = this.$layer.find(this.selector.layerContentWrapper);
            this.$layerContent = this.$layer.find(this.selector.layerContent);
            this.$layerHeader = this.$layer.find(this.selector.layerHeader);
            this.$layerTitle = this.$layer.find(this.selector.layerTitle);
            this.$closeLink = this.$layer.find(this.selector.closeLink);
            if (this.settings.title) {
                var c = this.settings.title instanceof b ? this.settings.title.text() : this.settings.title;
                this.$layerTitle.text(c)
            }
        },
        inlineContents: function() {
            this.$layerTitle.text(this.layerTitle);
            this.$layerContent.append(this.$source.clone());
            b.publish(this.events.layerContentLoaded, [{
                requester: this.$elem,
                layerContent: this.$layerContent
            }]);
            this.settings.initialiseSource && f.initialise(this.$layerContent[0]);
            b.publish(this.events.layerOpened,
                [{
                    requester: this.$elem,
                    layerContent: this.$layerContent
                }])
        },
        hideVeil: function() {
            this.$veil.removeClass(this.cssClass.enabled)
        },
        showVeil: function() {
            this.$veil.addClass(this.cssClass.enabled)
        },
        moveIn: function() {
            var c = b.Deferred();
            if (k.Modernizr.csstransitions) this.$layer.one(this.transitionend, c.resolve);
            else c.resolve();
            this.$layer.addClass(this.cssClass.enabled);
            this.$layerWrapper.attr("data-position", "0");
            c.promise().done(function() {
                this.$layerWrapper.one(this.transitionend, function() {
                    b.publish(this.events.layerMoveComplete,
                        [{
                            requester: this.$elem,
                            state: this.settings.open
                        }])
                }.bind(this)).addClass(this.cssClass.layerIn)
            }.bind(this))
        },
        moveOut: function() {
            var c = b.Deferred();
            if (k.Modernizr.csstransitions) this.$layerWrapper.one(this.transitionend, c.resolve);
            else this.$layer.removeClass(this.cssClass.enabled), c.resolve();
            this.$layerWrapper.attr("data-position", this.winHeight).removeClass(this.cssClass.layerIn);
            c.promise().done(function() {
                this.$layer.removeClass(this.cssClass.enabled);
                b.publish(this.events.layerClosed, [{
                    requester: this.$elem,
                    layerContent: this.$layerContent
                }])
            }.bind(this))
        },
        setLayout: function(c) {
            var a = this.$layerHeader.outerHeight(!0) || 0,
                d = this.$layerWrapper.outerHeight(!0) || 0;
            this.settings.height ? a = this.settings.height : (a = d - a, 1 === a % 2 && (a += 1));
            this.$layerContentWrapper.height(a);
            c && (c.veilHeight && this.$veil.height(c.veilHeight), c.customLayerPaddingTop && c.customLayerTop && (this.$layer.height(b(k).height() - c.customLayerPaddingTop), this.$layer.css("top", c.customLayerTop + c.customLayerPaddingTop)))
        },
        manageLayout: function(b) {
            this.isNarrow = !f.matchmedia.wide.matches;
            this.setLayout(b)
        },
        checkContents: function() {
            this.$layer.attr("data-layer-id") !== this.uniqueId && (this.$layerContent.empty(), this.$layer.removeClass(this.cssClass.layoutDefault).addClass(this.cssClass.layer + "-type-" + this.settings.style), this.settings.ajax || this.inlineContents())
        },
        manageState: function(b) {
            this.settings.open ? (this.checkContents(), this.manageLayout(b), f.overlay.disableScrollBehindBase(this.$layer, this.$layerWrapper), this.initInstanceEvents(), this.showVeil(), this.moveIn()) :
                (this.disableInstanceEvents(), this.hideVeil(), this.moveOut(), f.overlay.enableScrollBehindBase(this.$layer, this.$layerWrapper), this.$layerContentWrapper.height("auto"))
        },
        toggle: function(b) {
            this.settings.open = !this.settings.open;
            this.manageState(b)
        },
        open: function() {
            this.settings.open = !0;
            this.manageState()
        },
        close: function() {
            this.settings.open = !1;
            this.manageState()
        },
        onCloseLayer: function(b) {
            console.log("onCloseLayer called");
            b.preventDefault();
            b.stopPropagation();
            b.data === this && b.data.close()
        },
        initInstanceEvents: function() {
            this.$constrain.on("click",
                this.selector.veil, this, this.onCloseLayer.bind(this));
            this.$constrain.on("click", this.selector.closeLink, this, this.onCloseLayer.bind(this));
            this.subResize = b.subscribe(this.events.resize, this.manageLayout.bind(this))
        },
        disableInstanceEvents: function() {
            this.$constrain.off("click", this.selector.veil, this, this.onCloseLayer.bind(this));
            this.$constrain.off("click", this.selector.closeLink, this, this.onCloseLayer.bind(this));
            b.unsubscribe(this.subResize)
        },
        setDefaults: function() {
            this.$constrain = this.settings.constrain instanceof
            b ? this.settings.constrain : b(this.settings.constrain);
            this.$source = this.settings.source instanceof b ? this.settings.source : b(this.settings.source)
        },
        init: function() {
            this.settings = b.extend({}, this.defaults, this.options, this.metadata);
            this.settings.constrain && (this.setDefaults(), this.createLayer(), this.settings.open && this.manageState())
        }
    };
    b.fn.layer = function(c) {
        return this.each(function() {
            b.data(this, "layer") || b.data(this, "layer", new g(this, c))
        })
    }
})(mini.digital.$, mini.digital.util, window, document);
(function(b, f) {
    var k = {
            preventMove: []
        },
        g = [],
        c = [],
        a = function(a, c) {
            this.$element = b(a);
            this.options = c;
            this.gesture = "";
            this.touchStartTriggered = !1;
            this.touchEndPointY = this.touchEndPointX = this.touchStartPointY = this.touchStartPointX = 0;
            this.init()
        };
    a.prototype = {
        init: function() {
            this.settings = b.extend({}, k, this.options);
            this.$element.on("touchstart", this.touchStart.bind(this)).on("touchmove", this.touchMove.bind(this)).on("touchend", this.touchEnd.bind(this))
        },
        touchStart: function(a) {
            a = a.originalEvent.changedTouches[0];
            this.touchStartPointX = a.pageX;
            this.touchStartPointY = a.pageY;
            this.touchStartTriggered = !0
        },
        touchMove: function(a) {
            var d = a.originalEvent.changedTouches;
            if (1 === d.length) {
                this.touchEndPointX = d[0].pageX - this.touchStartPointX;
                this.touchEndPointY = d[0].pageY - this.touchStartPointY;
                g.push(Math.abs(this.touchEndPointX));
                c.push(Math.abs(this.touchEndPointY));
                d = this.averageDistanceTravelled(g);
                var f = this.averageDistanceTravelled(c);
                this.gesture = 10 < d && 10 > f ? 0 > this.touchEndPointX ? "swipeLeft" : "swipeRight" : 0 > this.touchEndPointY ?
                    "swipeUp" : "swipeDown"
            } - 1 < b.inArray(this.gesture, this.settings.preventMove) && a.preventDefault()
        },
        touchEnd: function() {
            this.touchStartTriggered && (this.touchStartTriggered = !1, this.touchEndPointX === this.touchStartPointX && this.touchEndPointY === this.touchStartPointY && (this.gesture = "tap"), this.gesture && (this.$element.trigger(this.gesture, [this]), this.gesture = "", g = [], c = []))
        },
        averageDistanceTravelled: function(a) {
            return a.reduce(function(b, c) {
                return (b + c) / a.length
            })
        }
    };
    b.fn.touchEvents = function(b) {
        if (f.touch) return this.each(function() {
            new a(this,
                b)
        })
    }
})(mini.digital.$, Modernizr);
(function(b) {
    b.fn.removeClassRegex = function(f) {
        return b(this).removeClass(function(b, g) {
            return (g.match(f) || []).join(" ")
        })
    }
})(mini.digital.$);
(function(b, f, k) {
    var g = function(c, a) {
        this.$elem = f(c);
        this.$numberContainer = {};
        this.options = a;
        this.settings = {};
        this.digits = [];
        this.number = 0;
        this.transitionend = b.transitionEndEvent;
        this.init.apply(this)
    };
    g.prototype = {
        defaults: {
            digitPlaces: 2,
            selectors: {
                numberContainer: ".md-nsf-container",
                numberDigit: ".md-nsf-digit",
                numberFlipCard: ".md-nsf-card",
                numberDigitTop: ".md-nsf-digit-top",
                numberDigitBottom: ".md-nsf-digit-bottom",
                numberDigitText: ".md-nsf-digit-text",
                numberDigitTopText: ".md-nsf-digit-top .md-nsf-digit-text",
                numberDigitBottomText: ".md-nsf-digit-bottom .md-nsf-digit-text",
                numberFlipCardFront: ".md-nsf-card-front",
                numberFlipCardBack: ".md-nsf-card-back",
                numberFlipCardFrontText: ".md-nsf-card-front .md-nsf-digit-text",
                numberFlipCardBackText: ".md-nsf-card-back .md-nsf-digit-text",
                numberFlipCardActive: ".md-nsf-flip"
            },
            cssClass: {
                screenReader: "md-nsf-screenreader-digit",
                play: "md-nsf-play"
            }
        },
        createDigits: function() {
            var b = '\x3cdiv class\x3d"' + this.settings.selectors.numberContainer.substr(1) + '"\x3e\x3c/div\x3e';
            var a =
                '\x3cdiv class\x3d"' + this.settings.selectors.numberDigit.substr(1) + '" aria-hidden\x3d"true"\x3e',
                d = '\x3cdiv class\x3d"' + this.settings.cssClass.screenReader + '"\x3e0\x3c/div\x3e';
            a += '\x3cdiv class\x3d"' + this.settings.selectors.numberDigitTop.substr(1) + '"\x3e';
            a += '\x3cdiv class\x3d"' + this.settings.selectors.numberDigitText.substr(1) + '"\x3e0\x3c/div\x3e';
            a = a + "\x3c/div\x3e" + ('\x3cdiv class\x3d"' + this.settings.selectors.numberDigitBottom.substr(1) + '"\x3e');
            a += '\x3cdiv class\x3d"' + this.settings.selectors.numberDigitText.substr(1) +
                '"\x3e0\x3c/div\x3e';
            a = a + "\x3c/div\x3e" + ('\x3cdiv class\x3d"' + this.settings.selectors.numberFlipCard.substr(1) + '"\x3e');
            a += '\x3cdiv class\x3d"' + this.settings.selectors.numberFlipCardFront.substr(1) + '"\x3e';
            a += '\x3cdiv class\x3d"' + this.settings.selectors.numberDigitText.substr(1) + '"\x3e0\x3c/div\x3e';
            a = a + "\x3c/div\x3e" + ('\x3cdiv class\x3d"' + this.settings.selectors.numberFlipCardBack.substr(1) + '"\x3e');
            a += '\x3cdiv class\x3d"' + this.settings.selectors.numberDigitText.substr(1) + '"\x3e1\x3c/div\x3e';
            a +=
                "\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
            this.$numberContainer = f(b).appendTo(this.$elem);
            for (var e = 0; e < this.settings.digitPlaces; e++) b = f(a), this.digits.push({
                $sandbox: b,
                $flipCard: b.find(this.settings.selectors.numberFlipCard),
                $cardFrontText: b.find(this.settings.selectors.numberFlipCardFrontText),
                $cardBackText: b.find(this.settings.selectors.numberFlipCardBackText),
                $digitTopText: b.find(this.settings.selectors.numberDigitTopText),
                $digitBottomText: b.find(this.settings.selectors.numberDigitBottomText),
                number: 0,
                target: 0,
                isFlipping: !1,
                hideCheckTimer: null
            }), this.$numberContainer.prepend(this.digits[e].$sandbox);
            this.$screenReader = f(d).prependTo(this.$numberContainer)
        },
        flipCard: function(b) {
            var a = this,
                c = f.Deferred(),
                e = f.Deferred();
            if (window.Modernizr.csstransitions && b.$sandbox.is(":visible")) b.$sandbox.one(a.transitionend, e.resolve);
            else window.setTimeout(e.resolve, 30);
            b.$sandbox.addClass(a.settings.cssClass.play);
            window.setTimeout(function() {
                    b.$digitTopText.text(b.number);
                    b.$flipCard.addClass(a.settings.selectors.numberFlipCardActive.substr(1))
                },
                20);
            e.promise().done(function() {
                b.$digitBottomText.text(b.number);
                window.setTimeout(function() {
                    b.$sandbox.removeClass(a.settings.cssClass.play);
                    window.setTimeout(function() {
                        b.$flipCard.removeClass(a.settings.selectors.numberFlipCardActive.substr(1));
                        window.setTimeout(c.resolve, 0)
                    }, 0)
                }, 20)
            });
            return f.when(e, c)
        },
        incrementDigit: function(b) {
            var a = this;
            b.number !== b.target ? (b.isFlipping = !0, b.$cardFrontText.text(b.number), b.number = 9 === b.number ? 0 : b.number + 1, b.$cardBackText.text(b.number), this.flipCard(b).done(function() {
                    a.incrementDigit(b)
                })) :
                b.isFlipping = !1
        },
        setNumber: function(b) {
            var a = this;
            if (isNaN(b) || 0 > b) return !1;
            b = Math.floor(b);
            this.$screenReader.text(b);
            f.each(this.digits, function(c, e) {
                e.target = b % 10;
                e.isFlipping && null !== e.hideCheckTimer || (a.startFixLoop(e), a.incrementDigit(e));
                b = Math.floor(b / 10)
            })
        },
        startFixLoop: function(b) {
            var a = this;
            b.hideCheckTimer = window.setInterval(function() {
                !b.$sandbox.is(":visible") && b.isFlipping && (window.clearInterval(b.hideCheckTimer), b.hideCheckTimer = null, a.fixDigit(b));
                b.number === b.target && (window.clearInterval(b.hideCheckTimer),
                    b.hideCheckTimer = null)
            }, 10)
        },
        fixDigit: function(b) {
            b.$sandbox.off(this.transitionend);
            b.$sandbox.removeClass(this.settings.cssClass.play);
            b.$flipCard.removeClass(this.settings.selectors.numberFlipCardActive.substr(1));
            b.number = b.target;
            b.$digitTopText.text(b.number);
            b.$digitBottomText.text(b.number);
            b.$cardFrontText.text(b.number);
            b.$cardBackText.text(b.number + 1);
            b.isFlipping = !1
        },
        init: function() {
            this.settings = f.extend({}, this.defaults, this.options);
            this.createDigits()
        }
    };
    f.fn.numberSplitFlap = function(b) {
        return this.each(function() {
            f.data(this,
                "numberSplitFlap") || f.data(this, "numberSplitFlap", new g(this, b))
        })
    }
})(mini.digital.util, mini.digital.$);
(function(b, f, k, g, c) {
    var a, d = function(b, d, m) {
        function e() {
            v.$viewport.each(function(a) {
                var b = v.$viewport.eq(a).parent().width();
                v.$carousel.eq(a).width(b)
            })
        }

        function h(a, b, d) {
            if (a !== c) {
                b || v.$viewport.addClass("md-is-loading");
                if (!d) {
                    var e = {
                        type: "GET",
                        url: z.urls[a],
                        timeout: z.ajaxTimeout,
                        error: function(a, b, c) {
                            console.log('WARN: ajaxCarousel.getSlide: ajax-call returned error "' + b + '" using call settings:', e)
                        }
                    };
                    E[a] = E[a] || f.ajax(e).then(function(a) {
                        var b = [a];
                        a && "function" === typeof z.beforeLoad && (b = z.beforeLoad(a));
                        return b
                    }).then(function(b) {
                        b = l(a, b);
                        var c = h(a);
                        x(a, c);
                        "function" === typeof z.afterLoad && z.afterLoad(b);
                        return b
                    })
                }
                if (E[a]) return E[a].then(function(a) {
                    v.$viewport.removeClass("md-is-loading");
                    return a
                })
            }
        }

        function l(a, b) {
            var c = f([]),
                d = u(a),
                e = "number" === typeof d ? h(d) : !1;
            v.$carousel.each(function(g) {
                var h = v.$carousel.eq(g),
                    l = f(B.slide).html(b ? b[g] || "" : "");
                e ? e.then(function(b) {
                    l[d < a ? "insertAfter" : "insertBefore"](b.eq(g))
                }) : l.appendTo(h);
                c = c.add(l)
            });
            return c
        }

        function u(a) {
            var b = E.length,
                c = function(c) {
                    for (var d =
                            a + c; 0 <= d && d <= b; d += c)
                        if (E[d]) return d;
                    return !1
                };
            return c(1) || c(-1)
        }

        function w(a, b) {
            h(a).then(function(a) {
                v.$carousel.each(function(c) {
                    var d = a.eq(c),
                        e = g.prefixed("transform");
                    d.length && v.$carousel.eq(c).toggleClass("md-is-animate", b).css(e, "translateX(" + -1 * d.position().left + "px)")
                })
            })
        }

        function r(a) {
            var b = h(a, !1, !0);
            b && x(a, b)
        }

        function x(a, b) {
            b.then(function(b) {
                -1 < y.indexOf(a) ? b.removeClass(A) : b.addClass(A)
            })
        }
        var v = this,
            t = "md-" + d,
            A = t + "-item-hide",
            z = f.extend({}, v.defaults, m),
            B = {
                viewport: '\x3cdiv class\x3d"' +
                    t + '" /\x3e',
                carousel: '\x3cul class\x3d"' + t + '-items" /\x3e',
                slide: '\x3cli class\x3d"' + t + '-item" /\x3e'
            },
            E = [],
            y = [],
            C;
        v.slideTo = function(a, b) {
            if (v.$carousel) {
                b === c && (b = !0);
                var d = h(a);
                d && d.then(function() {
                    w(a, b);
                    v.currSlide = a;
                    var d = y.indexOf(v.currSlide);
                    v.$nav.toggle(1 < y.length);
                    v.$next.prop("disabled", y[d + 1] === c);
                    v.$prev.prop("disabled", y[d - 1] === c);
                    h(y[y.indexOf(a) + 1], !0)
                })
            }
        };
        v.updateActive = function(a) {
            var b = v.currSlide;
            y = a;
            f.each(E, r); - 1 === y.indexOf(b) && (b = y[0]);
            v.$nav.hide();
            v.slideTo(b, !1)
        };
        (function() {
            v.currSlide =
                0;
            y = z.active.length ? z.active : z.urls.map(function(a, b) {
                return b
            });
            C = z.defaultSlide || y[0];
            v.$nav = f('\x3cdiv class\x3d"' + t + '-nav" /\x3e');
            v.$next = f('\x3cbutton type\x3d"button" class\x3d"' + t + '-next" title\x3d"' + z.i18n.next + '" /\x3e');
            v.$prev = f('\x3cbutton type\x3d"button" class\x3d"' + t + '-prev" title\x3d"' + z.i18n.prev + '" /\x3e');
            v.$buttons = v.$prev.add(v.$next);
            v.$viewport = f([]);
            v.$carousel = f([]);
            b.each(function(a) {
                var c = b.eq(a);
                v.$viewport = v.$viewport.add(f(B.viewport).appendTo(c));
                v.$carousel = v.$carousel.add(f(B.carousel).appendTo(v.$viewport.eq(a)))
            });
            0 < z.urls.length && (v.$nav.append(v.$buttons).appendTo(v.$viewport.eq(z.navContainer)), v.$buttons.on("click." + d, function(a) {
                a = a.currentTarget === v.$next[0];
                a = y.indexOf(v.currSlide) + (a ? 1 : -1);
                v.slideTo(y[a])
            }));
            e();
            a.on("resize." + d + " orientationchange." + d, k.throttle(function() {
                e();
                w(v.currSlide, !1)
            }));
            v.slideTo(C, !1)
        })()
    };
    d.prototype.defaults = {
        urls: [],
        active: [],
        defaultSlide: 0,
        beforeLoad: c,
        afterLoad: c,
        navContainer: 0,
        ajaxTimeout: 3E4,
        i18n: {
            next: "Next",
            prev: "Previous"
        }
    };
    f.fn.ajaxCarousel = function(c) {
        var e =
            this.data("ajaxcarousel");
        a = a || f(b);
        return e ? this : this.data("ajaxcarousel", new d(this, "ajaxcarousel", c))
    }
})(window, mini.digital.$, mini.digital.util, Modernizr);
(function(b) {
    b.loadImage = function(f) {
        return b.Deferred(function(b) {
            function g() {
                c.onload = null;
                c.onerror = null;
                c.onabort = null;
                b.reject(c)
            }
            var c = new Image;
            c.onload = function() {
                c.onload = null;
                c.onerror = null;
                c.onabort = null;
                b.resolve(c)
            };
            c.onerror = g;
            c.onabort = g;
            c.src = f
        }).promise()
    }
})(mini.digital.$);
(function(b, f, k) {
    var g = function(c, a) {
        this.$elem = b(c);
        this.$toggleLink = {};
        this.$veil = {};
        this.options = a;
        this.settings = {};
        this.metadata = this.$elem.data("plugin-options");
        this.uniqueId = Math.floor(Math.random() * (new Date).getTime());
        this.disableEvents = this.initialized = !1;
        this.scrollSpeed = 300;
        this.cssClass = {
            veil: "md-pagesplit-veil",
            visible: "md-visible",
            enabled: "md-enabled",
            after: "md-after",
            before: "md-before"
        };
        this.events = {
            clickVeil: "click.click-veil",
            clickToggleLink: "click.click-toggle-pagesplit",
            close: "md:pagesplit:close",
            closeNoScroll: "md:pagesplit:close:noscroll",
            heightChange: "md:pagesplit:height:change",
            resize: "md:resize"
        };
        this.$elem.attr("data-debug-id", this.uniqueId);
        this.init.apply(this)
    };
    g.prototype = {
        defaults: {
            open: !1,
            scrollIntoView: !0,
            veil: !1,
            closeSiblings: !0,
            closeChildren: !0,
            direction: "both",
            toggleLink: "",
            classAnimate: "md-open",
            classEnabled: "md-active",
            key: "",
            level: 0
        },
        getScrollPosition: function(c, a, d) {
            switch (c) {
                case "up":
                    c = a + d - b(k).height();
                    break;
                case "both":
                    c = a + d / 2 - b(k).height() / 2;
                    d >= b(k).height() && (c = a);
                    break;
                default:
                    c = a
            }
            return c
        },
        setScrollPosition: function(c) {
            b("html, body").animate({
                scrollTop: c
            }, this.scrollSpeed)
        },
        getHeightAndOffset: function(c) {
            c = b(c);
            return {
                height: c.children().height(),
                top: c.offset().top
            }
        },
        createVeil: function() {
            var c = b("." + this.cssClass.veil);
            if (0 === c.length) {
                switch (this.settings.direction) {
                    case "up":
                        c = b('\x3cdiv class\x3d"' + this.cssClass.veil + " " + this.cssClass.before + '"\x3e\x3c/div\x3e');
                        break;
                    case "down":
                        c = b('\x3cdiv class\x3d"' + this.cssClass.veil + " " + this.cssClass.after + '"\x3e\x3c/div\x3e');
                        break;
                    case "both":
                        c = b('\x3cdiv class\x3d"' + this.cssClass.veil + " " + this.cssClass.before + '"\x3e\x3c/div\x3e\x3cdiv class\x3d"' + this.cssClass.veil + " " + this.cssClass.after + '"\x3e\x3c/div\x3e')
                }
                b("body").prepend(c)
            }
            this.$veil = c
        },
        setVeilLayout: function() {
            var c = this.getHeightAndOffset(this.$elem),
                a = this.$veil.filter("." + this.cssClass.after);
            this.$veil.filter("." + this.cssClass.before).css({
                height: c.top
            });
            0 < a.length && a.css({
                height: b("body").height() - (c.top + c.height),
                top: c.top + c.height
            })
        },
        closeNoScroll: function() {
            this.hideVeil();
            this.$elem.one(f, this.onHideComplete.bind(this)).removeClass(this.settings.classAnimate);
            this.$toggleLink.removeClass(this.settings.classEnabled);
            this.settings.open = !1
        },
        hideVeil: function() {
            var b = this;
            this.$veil.hasClass(b.cssClass.enabled) && this.$veil.on(f, function() {
                b.$veil.off(f).removeClass(b.cssClass.visible + " " + b.cssClass.enabled).removeAttr("style")
            }).removeClass(this.cssClass.enabled)
        },
        showVeil: function() {
            var b = this;
            this.setVeilLayout();
            this.$veil.addClass(this.cssClass.visible + " " + this.cssClass.enabled).off(this.events.clickVeil).one(this.events.clickVeil,
                function(a) {
                    b.settings.open = !1;
                    b.hideComponent.call(b, a);
                    b.hideVeil.call(b, a)
                })
        },
        onHideComplete: function() {
            this.settings.veil && this.setVeilLayout();
            this.settings.key && !this.disableEvents && b.publish(this.settings.closeChildren ? this.events.close : this.events.heightChange, [{
                key: this.settings.key,
                level: this.settings.level,
                uniqueId: this.uniqueId
            }]);
            this.disableEvents = !1
        },
        onShowComplete: function() {
            this.settings.veil && this.setVeilLayout();
            "" !== this.settings.key && b.publish(this.events.heightChange, [{
                key: this.settings.key,
                level: this.settings.level,
                uniqueId: this.uniqueId
            }])
        },
        toggleComponent: function(b) {
            this.$elem.one(f, b ? this.onShowComplete.bind(this) : this.onHideComplete.bind(this)).toggleClass(this.settings.classAnimate, b);
            this.$toggleLink.toggleClass(this.settings.classEnabled, b);
            if (this.settings.scrollIntoView && (b || !b && this.initialized && !this.disableEvents)) {
                var a = b ? this.settings.direction : "both";
                b = this.getHeightAndOffset(this.$elem);
                b = this.getScrollPosition(a, b.top, b.height);
                this.setScrollPosition(b)
            }
        },
        hideComponent: function() {
            this.toggleComponent(!1)
        },
        showComponent: function() {
            this.toggleComponent(!0);
            this.settings.closeSiblings && "" !== this.settings.key && b.publish(this.events.close, [{
                key: this.settings.key,
                level: this.settings.level,
                uniqueId: this.uniqueId
            }])
        },
        subHeightChanged: function(b) {
            this.settings.open && this.settings.veil && b.uniqueId !== this.uniqueId && b.key === this.settings.key && b.level > this.settings.level && this.setVeilLayout()
        },
        subClose: function(b) {
            this.settings.open && b.uniqueId !== this.uniqueId && b.key === this.settings.key && (b.level <= this.settings.level ?
                (this.disableEvents = !0, this.settings.open = !1, this.hideComponent()) : this.settings.veil && this.setVeilLayout())
        },
        subResize: function() {
            this.settings.open && this.settings.veil && (this.settings.open = !1, this.setVeilLayout(), this.$veil.attr("style", ""))
        },
        manageState: function() {
            this[this.settings.open ? "showComponent" : "hideComponent"]();
            if (this.settings.veil) this[this.settings.open ? "showVeil" : "hideVeil"]()
        },
        clickToggle: function(b) {
            this.settings.open = !this.settings.open;
            this.manageState();
            b.preventDefault()
        },
        initEvents: function() {
            this.$toggleLink.on(this.events.clickToggleLink, this.clickToggle.bind(this));
            b.subscribe(this.events.resize, this.subResize.bind(this));
            b.subscribe(this.events.closeNoScroll, this.closeNoScroll.bind(this));
            this.settings.closeSiblings && "" !== this.settings.level && b.subscribe(this.events.close, this.subClose.bind(this));
            "" !== this.settings.level && b.subscribe(this.events.heightChange, this.subHeightChanged.bind(this));
            return this
        },
        setDefaults: function() {
            this.$toggleLink = this.settings.toggleLink instanceof
            b ? this.settings.toggleLink : b(this.settings.toggleLink)
        },
        destroy: function() {
            this.$toggleLink.off(this.events.clickToggleLink).removeClass(this.settings.classEnabled);
            this.$elem.removeClass(this.settings.classAnimate).off(f);
            this.settings.veil && this.$veil.removeClass(this.cssClass.visible + " " + this.cssClass.enabled).attr("style", "");
            b.unsubscribe(this.events.resize, this.subResize.bind(this));
            this.settings.closeSiblings && "" !== this.settings.level && b.unsubscribe(this.events.close, this.subClose.bind(this));
            "" !== this.settings.level && b.unsubscribe(this.events.heightChange, this.subHeightChanged.bind(this));
            b.removeData(this.$elem[0], "pagesplit")
        },
        init: function() {
            this.settings = b.extend({}, this.defaults, this.options, this.metadata);
            this.setDefaults();
            this.initEvents();
            this.settings.veil && this.createVeil();
            this.manageState();
            this.initialized = !0
        }
    };
    b.fn.pagesplit = function(c) {
        return this.each(function() {
            b.data(this, "pagesplit") || b.data(this, "pagesplit", new g(this, c))
        })
    }
})(mini.digital.$, mini.digital.util.transitionEndEvent,
    window);
(function(b, f) {
    f.attempt = function(f, g) {
        if ("string" === typeof f) {
            b.console = b.console || {
                error: function() {}
            };
            var c = f.split(".").reduce(function(a, b) {
                if (a && a[b]) return a[b]
            }, g || b);
            return function() {
                try {
                    c && c.apply(this, arguments)
                } catch (a) {
                    b.console && b.console.error && b.console.error(f, a.stack || a.toString())
                }
            }
        }
    }
})(window, mini.digital.util);
(function(b) {
    b.browser = function() {
        var b = window.navigator.userAgent,
            k = "iPhone;android;blackberry;nokia;opera mini;windows mobile;windows phone;iemobile;ipad".split(";"),
            g = function(a) {
                return -1 < a.indexOf("MSIE ") || -1 < a.indexOf("Trident/")
            }(b),
            c = -1 < b.indexOf("SAMSUNG "),
            a = -1 < b.indexOf("iPhone"),
            d = function(a) {
                if (-1 < a.indexOf("iPhone") || -1 < a.indexOf("SAMSUNG ")) return !0;
                for (var b = 0; b < k.length; b++)
                    if (0 < a.toLowerCase().indexOf(k[b].toLowerCase())) return !0;
                return !1
            }(b);
        b = 0 < b.toLowerCase().indexOf("ipad") ?
            !0 : !1;
        return {
            isIE: g,
            isSamsung: c,
            isIPhone: a,
            isMobile: d,
            isIPad: b
        }
    }()
})(mini.digital.util);
(function(b, f, k, g) {
    b.overlay = function() {
        function b(a, b) {
            q = d.hasClass("md-no-scroll");
            if ((p = e.height() <= h.height() && !q) || q) return !0;
            b = b || a;
            m = e.scrollTop();
            d.addClass("md-no-scroll");
            d.find(".md-header, .md-main, .md-footer").css("top", -m + 1);
            b.addClass("md-scroll");
            return !1
        }

        function a(a, b) {
            q = !d.hasClass("md-no-scroll");
            if (p || q) return q = !1, !0;
            b = b || a;
            d.removeClass("md-no-scroll");
            d.find(".md-header, .md-main, .md-footer").css("top", 0);
            k.touch && (d.find(".md-main").css("position", ""), g.isIPhone || g.isMobile) &&
                (d.find(".md-footer").css("position", ""), d.find(".md-header").css("position", ""));
            b.removeClass("md-scroll");
            e.scrollTop(m);
            return !1
        }
        var d = f("html"),
            e = f(document),
            h = f(window),
            m = 0,
            p, q = !1;
        return {
            disableScrollBehind: function(a, c) {
                if (!b(a, c) && k.touch) {
                    d.find(".md-main").css("position", "fixed");
                    if (g.isIPhone) {
                        d.find(".md-footer").css("position", "fixed");
                        c = f(".md-navigation");
                        var e = f(".md-custom-overlay-veil.md-visible");
                        c.css("display", "none");
                        e.css("opacity", "1")
                    }
                    a.on("blur.util.overlay", ":input", function() {})
                }
            },
            enableScrollBehind: function(b, c) {
                !a(b, c) && (k.touch || b.off("blur.util.overlay", ":input"), k.touch && (d.find(".md-main").css("position", ""), g.isIPhone || g.isMobile)) && (d.find(".md-footer").css("position", ""), d.find(".md-header").css("position", ""), b = f(".md-navigation"), c = f(".md-custom-overlay-veil.md-visible"), b.css("display", "block"), c.css("opacity", "0.8"), g.isMobile && !g.isIPhone && e.scrollTop(m))
            },
            disableScrollBehindBase: b,
            enableScrollBehindBase: a,
            isOpen: function() {
                return d.hasClass("md-no-scroll")
            }
        }
    }()
})(mini.digital.util,
    mini.digital.$, Modernizr, mini.digital.util.browser);
(function(b, f) {
    f.throttle = function(f, g) {
        var c, a = g ? "setTimeout" : "requestAnimationFrame";
        return function() {
            var d = this,
                e = arguments;
            c || (c = b[a](function() {
                f.apply(d, e);
                c = null
            }, g))
        }
    }
})(window, mini.digital.util);
(function() {
    mini.digital.util.cookiecontroller = function(b, f) {
        var k = 0;
        f = "undefined" !== typeof f ? f : {};
        return {
            api: f.api || {},
            checkPresentAndInit: function(g) {
                var c = !1,
                    a = g || b.Deferred();
                f.api && f.api.isInitialized && (c = f.api.isInitialized());
                c ? a.resolve(!0) : 10 <= k ? (k = 0, a.reject(!1)) : (window.setTimeout(function() {
                    mini.digital.util.cookiecontroller.checkPresentAndInit(a)
                }, 300), k++);
                if (!g) return a.promise()
            },
            acceptCookies: function() {
                f.api.setRegulationAccepted()
            },
            rejectCookies: function() {
                f.api.setRegulationRejected()
            },
            getCookiesAllowed: function() {
                if (f.api)
                    if (this.api && this.api.getPersistence && this.api.setPersistence && this.api.deletePersistence)
                        if (this.api.setPersistence("cc_digital_testCookie", "true"), "true" === this.api.getPersistence("cc_digital_testCookie")) {
                            this.api.deletePersistence("cc_digital_testCookie");
                            var b = !0
                        } else b = !1;
                else b = !1;
                else b = !1;
                return b
            },
            isUsageAllowed: function(b) {
                return this.api.isUsageAllowed && this.api.isUsageAllowed(b)
            },
            getPersistence: function(b) {
                return this.api.getPersistence ? this.api.getPersistence(b) :
                    null
            },
            setPersistence: function(b, c) {
                this.api.setPersistence && this.api.setPersistence(b, c)
            },
            deletePersistence: function(b, c) {
                this.api.deletePersistence && this.api.deletePersistence(b, c)
            },
            registerOnConsentChange: function(b) {
                this.api.registerOnConsentChange && this.api.registerOnConsentChange(b)
            },
            registerOnInitialized: function(b) {
                this.api.registerOnInitialized && this.api.registerOnInitialized(b)
            },
            isEnabled: function() {
                return !!f.api
            }
        }
    }(mini.digital.$, window.consentcontroller)
})();
(function(b, f) {
    f.getContentUrl = function(f, g) {
        g = g || "main";
        return (f || "").replace(/(\..+)?\.html(.+)?/, function() {
            return "/_jcr_content/" + g + ".html" + b.location.search
        })
    }
})(window, mini.digital.util);
(function(b, f, k) {
    var g = {},
        c, a, d = {},
        e = [],
        h = !0;
    mini.digital.util.cpiPageManager = function() {
        function m() {
            0 !== b(".md-cpi-loading-indicator").length || b(".md-page-carousel-wrapper").length ? d = b(".md-page-carousel-wrapper").find(".md-page-loading-indicator") : (A.prepend('\x3cspan class\x3d"md-cpi-loading-indicator"\x3e\x3cspan class\x3d"md-icn-loader"\x3e\x3c/span\x3e\x3c/span\x3e'), d = b(".md-cpi-loading-indicator"))
        }

        function p(a) {
            h && d.toggleClass("md-is-active", !0 === a)
        }

        function q(a, c) {
            var d = b.Deferred();
            a =
                f.getContentUrl(a, "main/contentwrapperforcpi");
            p(!0);
            g[c] ? (p(!1), d.resolve(g[c])) : 0 === a.length ? (p(!1), d.reject()) : (b.publish("md:cs-carousel:stop", [!0]), f.request.get(a, "html").then(function(a) {
                a = b(a).html();
                g[c] = a;
                p(!1);
                b.publish("md:cs-carousel:stop", [!1]);
                d.resolve(a)
            }));
            return d.promise()
        }

        function l(a) {
            b.publish("md:image:update");
            imagesLoaded(a).on("always", function() {
                b.publish("md:ajax:imagesLoaded");
                f.lazyLoadImage.checkImages();
                b.publish("md:image:update")
            })
        }

        function u() {
            q(a.url, a.code).then(function(c) {
                function d(a,
                    b, c) {
                    a.html(b).attr("data-content-code", c);
                    m();
                    f.initialise(a[0]);
                    l(a)
                }
                f.teardown(A[0]);
                var e = w(),
                    g = b(c).find(".md-stickynavigation");
                e ? 0 < g.length ? (g = g.parent(), c = b(g.nextAll()), mini.digital.comp.stickynavigation.dom.updateNavigationAndCarouselContent(g, c, a.url), l(c)) : (mini.digital.comp.stickynavigation.dom.removeNavigation(), d(A, c, a.code)) : d(A, c, a.code);
                b.publish("md:cpi:content:loaded", [{
                    contentUrl: a.url
                }])
            })
        }

        function w() {
            var a = b(".md-stickynavigation"),
                c = k;
            a && 0 < a.length && (c = b(a[0]).find("li"));
            return c && 0 < c.length
        }

        function r(b) {
            a = {
                code: b.modelCode || b.modelRangeCode,
                url: b.url
            };
            if (a.url !== k && "" !== a.url) {
                b = g[a.code] ? 0 : 1E3;
                var d = f.currentModel.get(),
                    e = f.currentModel.history();
                if (d.modelRangeCode !== e.modelRangeCode || d.modelCode !== e.modelCode) c && (clearTimeout(c), c = null), c = setTimeout(u, b)
            }
        }

        function x(a) {
            var c = a.find(".md-cpi-data");
            c.each(function(a) {
                b.publish("md:cpi:data", [c.eq(a).data("cpi-data-type"), JSON.parse(c.eq(a).html())])
            })
        }

        function v() {
            h = !1;
            z.fadeOut(1E3)
        }

        function t() {
            h = !0;
            z.fadeIn(600,
                "swing",
                function() {
                    window.dispatchEvent(new Event("resize"))
                })
        }
        var A, z;
        return {
            init: function(a) {
                A = a;
                z = b(document).find(".md-cpiwrapper-area");
                e.push(b.subscribe("md:currentModel:changed", r));
                e.push(b.subscribe("md:cpi:content:loaded", x(A)));
                e.push(b.subscribe("md:page-content:updated", x));
                e.push(b.subscribe("md:configurator:initialised", v));
                e.push(b.subscribe("md:configurator:unload", t));
                m(A);
                x(A)
            },
            teardown: function() {
                f.unsubArray(e)
            }
        }
    }()
})(mini.digital.$, mini.digital.util);
(function(b) {
    mini.digital.util.transitionEndEvent = {
        WebkitTransition: "webkitTransitionEnd",
        MozTransition: "transitionend",
        OTransition: "oTransitionEnd otransitionend",
        msTransition: "MSTransitionEnd",
        transition: "transitionend"
    } [b.prefixed("transition")]
})(Modernizr);
(function() {
    mini.digital.util.googlemaps = function() {
        var b = [],
            f = !1;
        return {
            loadGoogleMaps: function(k) {
                window.google && window.google.maps && window.google.maps.Map ? k() : (b.push(k), f || (f = !0, k = document.createElement("script"), k.type = "text/javascript", k.src = "https://maps.googleapis.com/maps/api/js?v\x3d3.exp\x26callback\x3dmini.digital.util.googlemaps.apiLoaded", document.body.appendChild(k)))
            },
            apiLoaded: function() {
                for (; b.length;) b.pop()()
            }
        }
    }()
})();
(function(b, f, k) {
    k.initialise = function(g) {
        f.publish("md:componentInitializer:init", [g]);
        var c = f(g);
        g = c.find(".md-component[data-component-name]");
        var a = c.find(".md-js-toggle:not(.md-component-defer)"),
            d = c.find(".md-drag-reveal"),
            e = c.find(".md-js-lightbox"),
            h = c.find(".md-rimage"),
            m = c.find(".md-cpi-area"),
            p = c.find(".md-price-finance"),
            q = c.find(".md-js-detail-overlay"),
            l = c.find(".md-disclaimer-btn"),
            u = c.find('a[href^\x3d"#"]');
        c = c.find(".md-ri-image");
        var w = {};
        digital && digital.tracking && (w = digital.tracking.getInstance(window.dataLayer));
        k.attempt("parentClass.init", k)(g);
        f.each(g, function(a, c) {
            a = f(c);
            var d = a.data("component-name");
            a.closest(".md-component-defer").length || a.data("component-path") || (k.attempt(d + ".init", b.comp)(c, document, f, w), w && "function" == typeof w.isTrackingDisabled && a.data("tracking-component") && !w.isTrackingDisabled() && w.initComponentTracking(a))
        });
        f.each(e, function(a, b) {
            k.attempt("lightbox.init", k)(b)
        });
        f.each(a, function(a, b) {
            k.attempt("toggle.init", k)(b)
        });
        f.each(h, function(a, b) {
            a = f(b);
            a.data("loader") || a.closest(".md-component-defer").length ||
                k.attempt("responsiveimage.init", k)(b)
        });
        f.each(q, function(a, b) {
            k.attempt("itemdetailoverlay.init", k)(b)
        });
        f.each(l, function(a, b) {
            k.attempt("disclaimerButton.init", k)(b)
        });
        f.each(u, function(a, b) {
            k.attempt("anchorButton.init", k)(b)
        });
        f.each(c, function(a, b) {
            k.attempt("lazyLoadImage.init", k)(b)
        });
        d.length && k.attempt("dragReveal.init", k)(d);
        m.length && k.attempt("cpiPageManager.init", k)(m);
        f.each(p, function(a, b) {
            p.eq(a).find(".md-sf-snippet").length && k.attempt("priceFinance.init", k)(b)
        })
    }
})(mini.digital,
    mini.digital.$, mini.digital.util);
(function(b) {
    mini.digital.tracking.cpiPageManager = function() {
        function f(a) {
            a = k(a);
            var b = g.getCurrentPageIndex();
            0 < b && g.closeVirtualPage(b);
            if (a) try {
                g.addVirtualPage(a.pageObj)
            } catch (e) {
                console.log(e)
            }
        }

        function k(a) {
            if (a.contentUrl) return c[a.contentUrl] = c[a.contentUrl] || {
                pageObj: window.dataLayer && window.dataLayer.pages[0] || {},
                isBase: a.isBase || !1
            }, c[a.contentUrl]
        }
        var g = {},
            c = {};
        return {
            init: function() {
                var a = window.dataLayer || {};
                (g = b.isEmptyObject(a) ? !1 : digital.tracking.getInstance(a)) && !g.isTrackingDisabled() &&
                    (b.subscribe("md:cpi:content:loaded", f), b.subscribe("md:cpi:content:updated", f), b(".md-page-carousel-wrapper").length && k({
                        contentUrl: window.location.pathname,
                        isBase: !0
                    }))
            }
        }
    }()
})(mini.digital.$);
(function(b, f) {
    f.tracking = function() {
        function f() {
            var a = "";
            b.subscribe("md:mymini:userAccount:change", function(b) {
                a = b.mail;
                "function" === typeof c.updateUser && c.updateUser(a, !0, !0)
            })
        }

        function g() {
            function a(a) {
                q = 0 < b(a.overlayContent).find(".md-custom-overlay-tracking").length;
                if (!q) try {
                    var d = b.extend(!0, {}, window.dataLayer.pages[0]);
                    k = c.addVirtualPage(d, null, document.location.href)
                } catch (w) {
                    console.log("failed", w)
                }
                g = b.subscribe("md:overlay:closed", e);
                b.unsubscribe(f)
            }

            function e() {
                q || (c && "function" ===
                    typeof c.closeVirtualPage && c.closeVirtualPage(k.pageId), q = !1);
                b.unsubscribe(g);
                f = b.subscribe("md:overlay:contentLoaded", a)
            }
            var f = {},
                g = {},
                k = {},
                q = !1;
            f = b.subscribe("md:overlay:contentLoaded", a)
        }
        var c = {},
            a = !1;
        return {
            init: function() {
                a || (a = !0, null != digital && digital.tracking && (c = digital.tracking.getInstance(window.dataLayer)), f(), g(), mini.digital.tracking.cpiPageManager && mini.digital.tracking.cpiPageManager.init())
            }
        }
    }()
})(mini.digital.$, mini.digital.util);
(function(b, f, k) {
    k.teardown = function(g) {
        var c = f(".md-component[data-component-name]", g),
            a = f(".md-js-toggle", g);
        g = f(".md-disclaimer-btn", g);
        f.each(c, function(a, c) {
            a = f(c);
            a.closest(".md-component-defer").length || (a = a.data("component-name"), k.attempt(a + ".teardown", b.comp)(c, document, f))
        });
        f.each(a, function(a, b) {
            k.attempt("toggle.teardown", k)(b)
        });
        f.each(g, function(a, b) {
            k.attempt("disclaimerButton.teardown", k)(b)
        })
    }
})(mini.digital, mini.digital.$, mini.digital.util);
(function(b) {
    mini.digital.util.lazyLoadScript = function(f) {
        var k = b.Deferred(),
            g = document.createElement("script");
        if (b.isFunction(f.isLoaded) && f.isLoaded()) return k.resolve(), k.promise();
        g.readyState ? g.onreadystatechange = function() {
            if ("loaded" === g.readyState || "complete" === g.readyState) g.onreadystatechange = null, k.resolve()
        } : g.onload = function() {
            k.resolve()
        };
        g.src = f.url;
        document.body.appendChild(g);
        window.setTimeout(function() {
            k.reject()
        }, 1E4);
        return k.promise()
    };
    mini.digital.util.lazyLoadScriptMulti =
        function(f) {
            function k() {
                q++;
                q === e && c.resolve()
            }

            function g() {
                for (var a; h[0] && "loaded" === h[0].readyState;) a = h.shift(), a.onreadystatechange = null, m.parentNode.insertBefore(a, m), k()
            }
            var c = b.Deferred(),
                a = [],
                d = 0,
                e = 0,
                h = [],
                m = document.scripts[document.scripts.length - 1],
                p = "async" in m,
                q = 0;
            a = function(a) {
                for (var c = [], d, e = 0, f = a.length; e < f; e++) d = a[e], b.isFunction(d.isLoaded) && d.isLoaded() || c.push(d);
                return c
            }(f);
            if (e = a.length) {
                for (; d < e; d++) {
                    f = a[d];
                    var l = document.createElement("script");
                    p ? (l.async = !1, l.onload = k,
                        l.src = f.url, document.head.appendChild(l)) : m.readyState ? (h.push(l), l.onreadystatechange = g, l.src = f.url) : (l.defer = "defer", l.onload = k, l.src = f.url, document.body.appendChild(l))
                }
                window.setTimeout(function() {
                    c.reject()
                }, 1E4)
            } else c.resolve();
            return c.promise()
        }
})(mini.digital.$);
(function(b) {
    mini.digital.util.lazyLoadCss = function(f) {
        var k = b.Deferred(),
            g = document.createElement("link");
        if (b.isFunction(f.isLoaded) && f.isLoaded()) return k.resolve(), k.promise();
        g.readyState ? g.onreadystatechange = function() {
            if ("loaded" === g.readyState || "complete" === g.readyState) g.onreadystatechange = null, k.resolve()
        } : g.onload = function() {
            k.resolve()
        };
        g.href = f.url;
        g.rel = "stylesheet";
        g.type = "text/css";
        document.head.appendChild(g);
        window.setTimeout(function() {
            k.reject()
        }, 1E4);
        return k.promise()
    }
})(mini.digital.$);
(function(b) {
    function f(a) {
        a = a[0].getBoundingClientRect();
        var b = 0 === a.left && 0 === a.top && 0 === a.right && 0 === a.bottom,
            c = !b && a.top - l.bottom <= (window.innerHeight || document.documentElement.clientHeight);
        return !b && a.left <= (window.innerWidth || document.documentElement.clientWidth) && c
    }

    function k() {
        b.publish("md:redraw:pageElements")
    }

    function g(c, e, f) {
        imagesLoaded(document).on("done", k); - 1 === e.indexOf("srcset:") ? d(c, e) : (a(c, e, f), -1 === b.inArray(c, w) && w.push(c));
        c = b.inArray(c, u); - 1 !== c && u.splice(c, 1)
    }

    function c(a) {
        var b =
            a.parent(),
            c = b.outerWidth(!0);
        b.data("consider-img-width") && (c = a.outerWidth(!0));
        return c
    }

    function a(a, b, f) {
        var g = c(a);
        f && (g = f);
        b = e(a, b);
        f = b.getSrc(g);
        b.loadedWidth = g;
        d(a, f);
        return f
    }

    function d(a, c) {
        var d = !1;
        a.attr("src") !== c && (a.load(function(c) {
            b.publish("md:imageLoaded", [a])
        }), a.attr("src", c), d = !0);
        return d
    }

    function e(a, b) {
        var c = a.data("imageSrcset");
        if (void 0 !== c && c.isSrc(b)) return c;
        void 0 === b && (b = a.data("ri-src"));
        var d = m(b);
        c = {
            getSrc: function(a) {
                a = h(a, d.breakPointSpecs);
                a = d.imagesMap[a];
                void 0 !==
                    d.imagesMap.pre && (a = d.imagesMap.pre + a);
                return a
            },
            isSrc: function(a) {
                return a == b
            }
        };
        a.data("imageSrcset", c);
        return c
    }

    function h(a, b) {
        var c = b[0];
        "pre" === c && (c = b[1]);
        for (var d = Math.abs(a - c), e = 0; e < b.length; e++) {
            var f = Math.abs(a - b[e]);
            f < d && (d = f, c = b[e])
        }
        return c
    }

    function m(a) {
        function b(a, b, c) {
            var d = a,
                e = a.split(".");
            if (a && a.indexOf(b, a.indexOf(".")))
                for (d = e[0], a = 1; a < e.length; a++) {
                    var f = e[a];
                    f === b && (f = c);
                    d = d + "." + f
                }
            return d
        }

        function c(a, b) {
            var c = a;
            a && -1 !== a.indexOf(b) && (c = a.substring(a.indexOf(b) + b.length,
                a.length));
            return c
        }
        var d = {},
            e = [];
        a = a.split(",");
        for (var f = 0; f < a.length; f++) {
            var g = c(a[f], "srcset:"),
                h = g.split(" ");
            if (-1 != g.indexOf("dam:")) {
                g = c(h[0], "dam:");
                for (var l = 1; l < h.length; l++) {
                    var k = h[l],
                        m = b(g, "width", k);
                    k = k.substring(0, k.indexOf("w"));
                    d[k] = m;
                    e.push(k)
                }
            } else g = h[1], -1 !== g.indexOf("w") && (g = g.substring(0, g.indexOf("w"))), d[g] = h[0], e.push(g)
        }
        return {
            imagesMap: d,
            breakPointSpecs: e
        }
    }

    function p() {
        for (var a, b = u.length; b--;) a = u[b], f(a) && g(a, a.data("lazyload-source"))
    }

    function q(b) {
        var d = e(b).loadedWidth,
            f = c(b);
        (void 0 === d || f > d) && a(b)
    }
    var l = {
            bottom: 500
        },
        u = [],
        w = [];
    mini.digital.util.lazyLoadImage = function(a, c) {
        if (mini.digital.util.lazyLoadImage.forceLoad || f(a)) g(a, c);
        else {
            var d = b.inArray(a, u);
            a.data("lazyload-source", c); - 1 === d && u.push(a)
        }
    };
    b.extend(mini.digital.util.lazyLoadImage, {
        init: function(a) {
            a = b(a);
            var c = a.data("ri-src");
            void 0 === c ? log && log.warn("can't initialize lazyload-image, 'data-ri-src' attribute is not set for image element", a) : g(a, c)
        },
        forceLoad: !1,
        checkImages: function() {
            p();
            var a;
            for (a =
                0; a < w.length; a++) {
                var b = w[a];
                q(b)
            }
        },
        checkImagesOnScroll: p,
        checkImage: function(a) {
            if (void 0 !== a) {
                var b = a.data("ri-src"),
                    c = !1;
                b && -1 !== b.indexOf("srcset:") && (c = !0);
                c && q(a)
            }
        },
        loadImage: g,
        retrieveProperImageUrl: function(a, b) {
            a = m(a);
            b = h(b, a.breakPointSpecs);
            if (a.imagesMap.pre) {
                var c = "" + a.imagesMap.pre;
                c += a.imagesMap[b]
            } else c = a.imagesMap[b];
            return c
        }
    })
})(mini.digital.$);
mini.digital.util.matchmedia = function(b) {
    return b.forceWide ? {
        wide: {
            matches: !0,
            media: "(min-width: 768px)",
            addListener: function() {},
            removeListener: function() {}
        },
        superwide: {
            matches: !1,
            media: "(min-width: 1280px)",
            addListener: function() {},
            removeListener: function() {}
        }
    } : {
        narrow401: window.matchMedia("(min-width: 401px)"),
        narrow480: window.matchMedia("(min-width: 480px)"),
        narrow601: window.matchMedia("(min-width: 601px)"),
        wide: window.matchMedia("(min-width: 768px)"),
        wide925: window.matchMedia("(min-width: 925px)"),
        wide1024: window.matchMedia("(min-width: 1024px)"),
        wide1180: window.matchMedia("(min-width: 1180px)"),
        superwide: window.matchMedia("(min-width: 1280px)")
    }
}(mini.digital.settings || {});
mini.digital.util.parentClass = function(b) {
    function f(f, g) {
        f = b(g);
        f.parent().addClass(f.data("mdParentClass"));
        f.data("mdParentClass", "")
    }
    return {
        init: function(b) {
            b.find("[data-md-parent-class]").each(f)
        }
    }
}(mini.digital.$);
(function() {
    mini.digital.util.request = function(b) {
        return {
            get: function(f, k) {
                return b.ajax({
                    type: "GET",
                    url: f,
                    dataType: k
                })
            },
            post: function(f, k, g) {
                return b.ajax({
                    type: "POST",
                    url: f,
                    data: k,
                    dataType: g
                })
            }
        }
    }(mini.digital.$)
})();
(function(b) {
    b.prefixed && (window.requestAnimationFrame = b.prefixed("requestAnimationFrame", window) || function(b) {
        return window.setTimeout(b, 10)
    }, window.cancelAnimationFrame = b.prefixed("cancelAnimationFrame", window) || function(b) {
        return window.clearTimeout(b)
    })
})(Modernizr || {});
(function() {
    var b = ["narrow", "wide"];
    mini.digital.util.responsiveimage = function(f, k) {
        function g(d) {
            if (!d.hasClass("md-image")) {
                var e = d.data("alt") || "",
                    g = d.data("title"),
                    m = "small" === d.data("size");
                var p = k.matchmedia.wide.matches ? b[1] : b[0];
                var q = d.data("src-" + p);
                var l = d.data("width-" + p);
                var u = d.data("height-" + p);
                m && d.data("src-" + p + "-small") && (q = d.data("src-" + p + "-small"));
                if (q)
                    if (m = d.children(".md-rimage-bp-" + p), m.length)
                        if (m.attr("data-ri-src") === q) k.lazyLoadImage.checkImage(m);
                        else {
                            for (var w = m.attr("class").split(" "),
                                    r = 0, x = 0; x < w.length; x++) w[x].startsWith("md-rimage-bp-") && r++;
                            1 === r ? (m.attr("data-ri-src", q), c(m, q)) : (m.removeClass("md-rimage-bp-" + p), l = a(q, e, p, g, l, u), d.append(l), c(l, q))
                        }
                else m = d.children('img[data-ri-src\x3d"' + q + '"]'), m.length ? (m.addClass("md-rimage-bp-" + p), k.lazyLoadImage.checkImage(m)) : (l = a(q, e, p, g, l, u), d.append(l), c(l, q));
                else l = d.children(".md-rimage-bp-" + p), l.length && l.remove();
                f.publish("md:responsiveImage:afterRefresh", [d])
            }
        }

        function c(a, b) {
            var c = a.closest(".md-rimage-ll-enabled,.md-rimage-ll-disabled");
            (c.length ? c.is(".md-rimage-ll-enabled") : 1) ? k.lazyLoadImage(a, b): k.lazyLoadImage.loadImage(a, b)
        }

        function a(a, b, c, g, k, q) {
            k = k || 1280;
            q = q || k / 4 * 3;
            var d = f("\x3cimg /\x3e");
            d.attr({
                "data-ri-src": a,
                alt: b,
                title: g,
                "class": "md-rimage-bp-" + c,
                src: "data:image/svg+xml;utf8," + ('\x3csvg height\x3d"' + q + '" width\x3d"' + k + '" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e')
            });
            return d
        }
        return {
            init: function(a) {
                var b = f(a);
                b.hasClass("md-image") || (g(b), k.matchmedia.wide.addListener(function() {
                    g(b)
                }))
            },
            refresh: g,
            lazyLoadImages: function(a) {
                a.hasClass("md-image") ||
                    a.find(".md-rimage img").each(function() {
                        var a = f(this),
                            b = a.data("ri-src");
                        k.lazyLoadImage(a, b)
                    })
            },
            changeSize: function(a, b) {
                a.hasClass("md-image") || (a.data("size", b), g(a))
            }
        }
    }(mini.digital.$, mini.digital.util)
})();
mini.digital.util.resize = function(b, f, k) {
    var g, c = b(f).width(),
        a = b(f).height(),
        d = function() {
            void 0 !== g && f.clearTimeout(g);
            g = f.setTimeout(function() {
                if (b(f).width() !== c || b(f).height() !== a) c = b(f).width(), a = b(f).height(), b.publish("md:resize"), k.lazyLoadImage.checkImages()
            }, 250)
        };
    return {
        init: function() {
            b(f).on("resize.mini-resize orientationchange.mini-resize", d)
        }
    }
}(mini.digital.$, window, mini.digital.util);
(function(b) {
    mini.digital.util.scrollbarsize = function() {
        var f = b('\x3cdiv\x3e\x3cdiv style\x3d"height:101px;"\x3e\x3c/div\x3e\x3c/div\x3e').css({
            left: 0,
            height: 100,
            overflow: "scroll",
            position: "absolute",
            visibility: "hidden",
            top: -100,
            width: 100
        });
        f.appendTo(b("body"));
        var k = f.width() - f.children("div").width();
        f.remove();
        return k
    }
})(mini.digital.$);
mini.digital.util.scrolled = function(b, f, k) {
    function g() {
        mini.digital.comp.configurator && mini.digital.comp.configurator.isRunning() || (b.publish("md:scrolled"), k.lazyLoadImage.checkImagesOnScroll())
    }
    var c;
    b(f).on("scroll", function() {
        c && (clearTimeout(c), c = null);
        c = setTimeout(g, 250)
    })
}(mini.digital.$, window, mini.digital.util);
(function(b) {
    mini.digital.util.transitions = {
        syncStart: function(f) {
            function k(a, d) {
                a = b(d);
                d = 0;
                for (var e = g.length; d < e; d++) {
                    var f = g[d],
                        h = a.css(f);
                    a.css(f, h);
                    c[f] = ""
                }
            }
            for (var g, c = {}, a = 0, d = f.length; a < d; a++) {
                var e = f[a];
                g = e.props;
                e.els = b(e.selector);
                e.els.each(k)
            }
            window.setTimeout(function() {
                for (var a = 0, b = f.length; a < b; a++) {
                    var d = f[a];
                    g = d.props;
                    d.els.css(c)
                }
            }, 0)
        }
    }
})(mini.digital.$);
mini.digital.util.lightbox = function(b, f, k) {
    function g(a) {
        return (a = (a ? a.substring(a.lastIndexOf("/")) : "").match(/(\..+)\./)) && a[1] || ""
    }

    function c(a) {
        return (a = a ? a.split(".html")[1] : "") && a.split("?")[0] || ""
    }

    function a(a) {
        var b = f(a.overlayContent),
            c = b.find(".md-custom-overlay-header-title:first");
        b = b.parents(".md-custom-overlay-wrapper").find(".md-custom-overlay-title");
        a.requester.is(".md-js-lightbox") && (f.unsubscribe(e), h = f.subscribe("md:overlay:closed", d), c.length && (b.empty().append(c.clone()), c.remove()))
    }

    function d(a) {
        var b = f(a.overlayContent).find(".md-video-player");
        a.requester.is(".md-js-lightbox") && (f.unsubscribe(h), k && b.each(function() {
            var a = f(this).find(".jwplayer").attr("id");
            k(a).stop()
        }))
    }
    var e = null,
        h = null;
    return {
        init: function(b) {
            var d = f(b);
            b = d.attr("class").match(/md-js-lightbox-type-[sml|lrg|med|steps|video]+/);
            b = null !== b ? b[0].split("-")[4] : "sml";
            var h = d.attr("href");
            var l = g(h);
            var k = c(h);
            var m = window.location.search;
            if (l || k)
                if (h = h.substring(0, h.indexOf(".html")), h = h.replace(l, ""), 0 <= k.indexOf("#")) {
                    var r =
                        k.substring(k.indexOf("#"), k.length);
                    k = k.replace(r, "");
                    h = h + "/_jcr_content/main" + l + ".html" + k + m + r
                } else h = h + "/_jcr_content/main" + l + ".html" + k + m;
            else h = h ? h.replace(".html", "") + "/_jcr_content/main.html" + m : "";
            d.overlay({
                ajax: !0,
                source: h,
                style: b,
                titleFromContent: !0,
                titleSelector: ".heading"
            });
            d.off("click.click-overlay-request").on("click.click-overlay-request", function(b) {
                e = f.subscribe("md:overlay:opened", a);
                d.data("overlay").toggleOverlay(b)
            })
        },
        teardown: function(a) {
            f(a).off(".click-overlay-request")
        }
    }
}(mini.digital.util,
    mini.digital.$, "undefined" !== typeof jwplayer ? jwplayer : null);
(function(b, f) {
    f.angular = function() {
        return {
            isModuleAvailable: function(b, f) {
                try {
                    return f = f ? f : angular, f.module(b), !0
                } catch (c) {
                    return !1
                }
            },
            isServiceAvailable: function(b, f, c) {
                try {
                    return c = c ? c : angular, c.injector([b]).has(f) ? !0 : !1
                } catch (a) {
                    return !1
                }
            },
            injectEvent: function(b, f, c) {
                var a;
                window.angular && (a = angular.element(b).scope()) && (b = a.$root.$$phase, "$apply" === b || "$digest" === b ? a.$root.$broadcast.apply(a.$root, [f].concat(c)) : a.$root.$apply(function() {
                    a.$root.$broadcast.apply(a.$root, [f].concat(c))
                }))
            },
            browserDecorator: function(b) {
                b.onUrlChange =
                    function(b) {
                        return b
                    };
                return b
            },
            locationDecorator: function(b, f) {
                b.absUrl = function() {
                    return f.url()
                };
                return b
            }
        }
    }()
})(mini.digital.$, mini.digital.util);
mini.digital.util.vector = function() {
    function b(b, k) {
        this.x = b || 0;
        this.y = k || 0
    }
    b.prototype.add = function(b) {
        this.x += b.x;
        this.y += b.y;
        return this
    };
    b.prototype.sub = function(b) {
        this.x -= b.x;
        this.y -= b.y;
        return this
    };
    b.prototype.mult = function(b) {
        this.x *= b;
        this.y *= b;
        return this
    };
    b.prototype.div = function(b) {
        this.x /= b;
        this.y /= b;
        return this
    };
    b.prototype.mag = function() {
        return Math.sqrt(this.x * this.x + this.y * this.y)
    };
    b.prototype.equals = function(b) {
        return this.x === b.x && this.y === b.y
    };
    b.prototype.clone = function() {
        return new b(this.x,
            this.y)
    };
    b.diff = function(f, k) {
        return new b(f.x - k.x, f.y - k.y)
    };
    return b
}();
(function(b, f) {
    mini.digital.util.slider = {
        core: function(k, g, c, a, d) {
            var e = this,
                h = new b,
                m = new b,
                p, q, l, u, w = [],
                r = [],
                x = [],
                v, t = !1;
            e.elements = k;
            e.isPaused = !0;
            e.isDragging = !1;
            e.dimensions = new b;
            e.position = new b;
            e.$container = a;
            e.isVariableHeight = d ? !!d.isVariableHeight : !1;
            var A = function() {
                e.isPaused || g(A);
                h.equals(m) || (p = +new Date, l = p - q, u = b.diff(h, m), q = p, m = h.clone(), 0 !== l && (e.velocity = u.clone().div(l)));
                0 !== e.velocity.mag() && (r.forEach(function(a) {
                    a.applyTo(e)
                }), e.position.add(e.velocity.clone().mult(l)), e.notifyListeners())
            };
            e.unpauseLoop = function() {
                e.isPaused = !1;
                g(A)
            };
            e.pauseLoop = function() {
                e.isPaused = !0
            };
            mini.digital.$(function() {
                t = !0
            });
            e.animateTo = function(a, d) {
                var h, l = +new Date,
                    k = e.position.clone(),
                    m = a.clone().sub(k);
                e.velocity = new b;
                var r = e.getSlideIndex(a) + 1,
                    x = e.$container.parent().find(".md-gallery-item-copy").eq(r - 1).find("h4").text().trim();
                t && (r != v && e.notifySlideIndexUpdateListeners(r, x), v = r);
                var q = function() {
                    if (!e.isDragging) {
                        p = +new Date;
                        h = p - l;
                        if (h <= d) {
                            var b = c(e, h, 0, 1, d);
                            e.position = k.clone().add(m.clone().mult(b));
                            g(q)
                        } else e.position = a.clone(), e.pauseLoop();
                        e.isVariableHeight && !f.wide.matches && e.setHeightByPosition(e.position.x);
                        e.notifyListeners()
                    }
                };
                g(q)
            };
            e.onUpdate = function(a) {
                w.push(a)
            };
            e.onSlideIndexUpdate = function(a) {
                x.push(a)
            };
            e.addConstraint = function(a) {
                r.push(a)
            };
            e.notifyListeners = function() {
                e.elements.forEach(function(a) {
                    a.notify(e.position, e.dimensions)
                });
                w.forEach(function(a) {
                    a(e.position, e.dimensions)
                })
            };
            e.notifySlideIndexUpdateListeners = function(a, b) {
                x.forEach(function(c) {
                    c(a, b)
                })
            };
            e.start = function(a) {
                e.isDragging = !0;
                h = a;
                m = a.clone();
                q = +new Date;
                e.unpauseLoop()
            };
            e.move = function(a) {
                e.isDragging && (h = a)
            };
            e.end = function() {
                e.isDragging = !1
            };
            e.setDimensions = function(a) {
                e.dimensions = a
            };
            e.prev = function(a) {
                var c = e.dimensions.x * (Math.round(e.position.x / e.dimensions.x) + 1);
                0 >= c && e.animateTo(new b(c, 0), a)
            };
            e.next = function(a) {
                var c = e.dimensions.x * (Math.round(e.position.x / e.dimensions.x) - 1);
                c > -(e.elements.length * e.dimensions.x) && e.animateTo(new b(c, 0), a)
            };
            e.getSlide = function(a) {
                a = isNaN(a) ? e.getCurrentSlidePosition() : a;
                return e.elements[a]
            };
            e.getCurrentSlidePosition = function() {
                return e.getSlideIndex(e.position.x)
            };
            e.getSlideIndex = function(a) {
                var b = e.elements.length * e.dimensions.x;
                a = !a || isNaN(a.x) ? e.position.x : a.x;
                return Math.abs(Math.ceil(a / b * b / e.dimensions.x))
            };
            e.getNodeHeight = function(a) {
                a = a || e.getSlide(0);
                var b = a.$node;
                b = (a = "image" === a.type) ? b.find("img") : b.find(".md-video-player");
                var c = b.outerHeight(),
                    d = b.context.offsetHeight;
                return b.length ? d > c && a ? d : c : ""
            };
            e.setHeightByPosition = function(a) {
                a = e.getSlideIndex(a);
                a = e.getSlide(a);
                a =
                    e.getNodeHeight(a || e.getSlide(0));
                e.$container.css("height", a)
            };
            e.jumpTo = function(a) {
                e.position = a;
                e.notifyListeners();
                e.pauseLoop()
            }
        },
        constraints: {
            Decelerate: function(b, f) {
                void 0 === b && (b = .01);
                void 0 === f && (f = 0);
                this.applyTo = function(c) {
                    !c.isDragging && c.velocity.mag() > f && c.velocity.mult(1 - b)
                }
            },
            Drag: function(b) {
                void 0 === b && (b = .01);
                this.applyTo = function(f) {
                    f.isDragging && f.velocity.mult(1 - b)
                }
            },
            EdgeResistance: function() {
                this.applyTo = function(b) {
                    var f = b.position.x;
                    var c = b.dimensions.x,
                        a = c / 2;
                    0 < f ? (f = Math.pow(1 -
                        f / a, 1.7), b.velocity.mult(Math.min(Math.max(f, 0), 1))) : (c = -c * (b.elements.length - 1), f < c && (f = Math.pow(1 - -(f - c) / a, 1.7), b.velocity.mult(Math.min(Math.max(f, 0), 1))))
                }
            },
            SnapToGrid: function(f, g, c) {
                void 0 === f && (f = .25);
                void 0 === g && (g = .1);
                void 0 === c && (c = 450);
                this.applyTo = function(a) {
                    if (!(a.isDragging || a.velocity.mag() > g)) {
                        var d = a.position.x,
                            e = a.dimensions.x;
                        if (0 < d) return a.animateTo(new b(0, 0), c);
                        var h = -e * (a.elements.length - 1);
                        if (d < h) return a.animateTo(new b(h, 0), c);
                        h = Math.abs(d / e) % 1;
                        a.animateTo(new b(0 <= a.velocity.x ?
                            e * (Math.ceil(d / e) - Number(h >= 1 - f)) : e * (Math.ceil(d / e) - Number(h >= f)), 0), c)
                    }
                }
            }
        }
    }
})(mini.digital.util.vector, mini.digital.util.matchmedia);
(function(b) {
    mini.digital.util.toggle = function() {
        function f(a) {
            if (a.type && (a = c.not(a.toggle).filter('[data-toggle-type\x3d"' + a.type + '"]').find('[value\x3d"' + a.value + '"]'), a.length)) {
                var b = "OPTION" === a[0].tagName ? "selected" : "checked";
                a.prop(b, !0).trigger("change", [!0])
            }
        }

        function k(a, c) {
            if ("INPUT" !== a.target.tagName || a.target.checked) a.data.length && b(a.data).removeClass("md-is-active").filter("[for\x3d" + a.target.id + "]").addClass("md-is-active"), c || b.publish("md:toggle:update", [{
                originalEvent: a.originalEvent,
                toggle: a.delegateTarget,
                value: a.target.value,
                type: b(a.delegateTarget).data("toggle-type")
            }])
        }
        var g = [],
            c = b([]);
        return {
            init: function(a) {
                var d = b(a),
                    e = d.find("label");
                d.on("click.toggle change.toggle", ":input", e, k);
                setTimeout(function() {
                    b.publish("md:toggle:init", [{
                        toggle: a,
                        value: d.find(":checked").val(),
                        type: d.data("toggle-type")
                    }])
                }, 1E3);
                c.length || g.push(b.subscribe("md:toggle:update", f));
                c = c.add(d)
            },
            teardown: function(a) {
                b(a).off(".toggle");
                c = c.not(a);
                c.length || b.each(g, function(a, c) {
                    b.unsubscribe(c)
                })
            }
        }
    }()
})(mini.digital.$);
(function(b, f) {
    f.scrollTo = function() {
        function f(a, b, c) {
            return a.stop().animate({
                scrollTop: b
            }, c)
        }
        var g, c = 0,
            a;
        return {
            init: function() {
                var a = 0;
                b.subscribe("md:sn:positioned", function(b, d) {
                    (b = "fixed" === b) && (a = d);
                    c += b ? a : -a;
                    0 > c && (c = 0)
                })
            },
            element: function(d, e, h) {
                if (d.length) {
                    var k = e.step || b.noop,
                        p = function() {
                            g = c;
                            f(a, d.offset().top - ((h || 0) + c), e)
                        };
                    e.done = function() {
                        b.publish("scrollTo:complete", [d])
                    };
                    a = a || b("html, body");
                    e.step = function() {
                        k();
                        c !== g && p()
                    };
                    p()
                }
            },
            position: function(c, e, g) {
                a = a || b("html, body");
                return f(a, c, {
                    duration: e,
                    done: g
                })
            }
        }
    }()
})(mini.digital.$, mini.digital.util);
(function() {
    mini.digital.util.finance = function(b, f) {
        function k() {
            var a = f.Deferred();
            return f.when(b.lazyLoadScript(e.script)).then(function() {
                e.script.isLoaded = !0;
                return a.resolve()
            }).fail(function() {
                return a.reject()
            })
        }

        function g() {
            f.publish(h.initialised, [d]);
            d.isLoaded = !0
        }

        function c() {
            var a = {
                mandatorContext: "mc;mandatorType\x3dcountry;brand\x3d" + d.brand + ";market\x3d" + d.market + ";country\x3d" + d.country + ";locale\x3d" + d.locale,
                webappContext: "/finance",
                serverUrl: d.endpoint,
                theme: function() {
                    return "mini-white"
                },
                design: function() {
                    return "Desktop"
                },
                appMode: "H5VC"
            };
            d && d.bmwNameSpace && d.bmwNameSpace.apps && (d.SF = new d.bmwNameSpace.apps.html5.Html5App(a));
            d && d.SF && d.SF.start && d.SF.start({}, function() {
                d.isLoaded = !0;
                f.publish(h.initialised, [d])
            })
        }

        function a() {
            e.script.isLoading ? e.script.isLoaded && "function" === typeof d.SF.reinit && d.SF.reinit({}, g) : (m = f("body"), !1 !== m.data("md-finance-enabled") && !0 !== m.data("md-wcmmode") && (e.script.isLoading = !0, d.endpoint = m.data("md-finance-endpoint"), d.market = m.data("md-finance-market"),
                d.country = m.data("md-finance-country"), d.locale = m.data("md-finance-locale"), d.brand = m.data("md-finance-brand"), e.script.url = d.endpoint + d.app, e.css.url = d.endpoint + e.css.url, f.when(b.lazyLoadCss({
                    url: e.css.url
                })), k().then(function() {
                    "undefined" !== typeof window._com_bmw_sf && (d.bmwNameSpace = _com_bmw_sf, d.bmwNameSpace.libs.angular.element(document).ready(c))
                })))
        }
        var d = {
                SF: {},
                bmwNameSpace: {},
                app: "/finance/apps/html5-app.js",
                isLoaded: !1
            },
            e = {
                script: {
                    url: "/finance/apps/html5-app.js",
                    isLoaded: !1,
                    isLoading: !1
                },
                css: {
                    url: "/finance/apps/html5-mini-white-app.css",
                    isLoaded: !1,
                    isLoading: !1
                }
            },
            h = {
                initialised: "md:finance:initialised"
            },
            m;
        return {
            init: a,
            getFinanceApp: function() {
                return d
            },
            reinitialise: function() {
                d.isLoaded ? "function" === typeof d.SF.reinit && d.SF.reinit({}, g) : a()
            }
        }
    }(mini.digital.util, mini.digital.$)
})();
(function(b, f) {
    b.financeDataMapping = function() {
        function b(a, d, e) {
            var g = d,
                k, p, q, l, u;
            f.each(a, function(h) {
                if ("value" === a[h].type) q = a[h].src.split("."), l = e[q.shift()], f.each(q, function(a, b) {
                    l = l[b]
                }), d[a[h].dest] = l;
                else if ("direct" === a[h].type) d[a[h].dest] = a[h].src;
                else if ("object" === a[h].type) g = d[a[h].dest] = {}, k = e[a[h].src] ? e[a[h].src] : e, (p = c(a[h], k)) && a[h].mapping && b(a[h].mapping, g, k);
                else if ("array" === a[h].type) {
                    g = d[a[h].dest] = [];
                    k = e[a[h].src] ? e[a[h].src] : e;
                    for (var m = 0; m < k.length; m++)(p = c(a[h], k[m])) &&
                        a[h].mapping && (u = {}, g.push(u), b(a[h].mapping, u, k[m]))
                }
            })
        }

        function g(a) {
            return void 0 !== a && null !== a
        }

        function c(a, b) {
            return !a.condition || a.condition.notBlank && !!b[a.condition.dest] || b[a.condition.dest] === a.condition.equals
        }
        return {
            mapData: function(a, c, e) {
                b(a, c, e);
                if (void 0 !== c && null !== c)
                    for (a = 0; a < c.parameterValues.length; a++) {
                        var d = c.parameterValues[a].units;
                        g(d) && (e = void 0 === d ? !1 : g(d.value) ? !0 : !1, e || (d.value = " "), g(d.language) && (d.language = d.language.toUpperCase()))
                    }
            },
            getFinanceToGcdmMapping: function(a) {
                return [{
                    dest: "code",
                    src: "productId",
                    type: "value"
                }, {
                    dest: "calculationType",
                    src: "productType",
                    type: "value"
                }, {
                    dest: "financePayment",
                    src: "rate.value",
                    type: "value"
                }, {
                    dest: "lastChange",
                    src: "timestamp",
                    type: "value"
                }, {
                    dest: "names",
                    src: "~",
                    type: "object",
                    mapping: [{
                        dest: "value",
                        src: "productLabel",
                        type: "value"
                    }, {
                        dest: "language",
                        src: a.language,
                        type: "direct"
                    }]
                }, {
                    dest: "parameterValues",
                    src: "parameterValues",
                    type: "array",
                    condition: {
                        dest: "valueFormatted",
                        notBlank: !0
                    },
                    mapping: [{
                        dest: "code",
                        src: "parameterId",
                        type: "value"
                    }, {
                        dest: "names",
                        src: "~",
                        type: "object",
                        mapping: [{
                            dest: "value",
                            src: "parameterLabel",
                            type: "value"
                        }, {
                            dest: "language",
                            src: a.language,
                            type: "direct"
                        }]
                    }, {
                        dest: "units",
                        src: "~",
                        type: "object",
                        mapping: [{
                            dest: "value",
                            src: "unit",
                            type: "value"
                        }, {
                            dest: "language",
                            src: a.language,
                            type: "direct"
                        }]
                    }, {
                        dest: "value",
                        src: "valueFormatted",
                        type: "value"
                    }]
                }, {
                    dest: "insuranceCalculations",
                    src: "~",
                    type: "object",
                    mapping: [{
                        dest: "insuranceCalculations",
                        src: "calculations",
                        type: "array",
                        condition: {
                            dest: "productType",
                            equals: "INSURANCE"
                        },
                        mapping: [{
                            dest: "calculationType",
                            src: "productType",
                            type: "value"
                        }, {
                            dest: "code",
                            src: "productId",
                            type: "value"
                        }, {
                            dest: "insurancePayment",
                            src: "rate.value",
                            type: "value"
                        }, {
                            dest: "names",
                            src: "~",
                            type: "object",
                            mapping: [{
                                dest: "value",
                                src: "productLabel",
                                type: "value"
                            }, {
                                dest: "language",
                                src: a.language,
                                type: "direct"
                            }]
                        }, {
                            dest: "parameterValues",
                            src: "parameterValues",
                            type: "array",
                            mapping: [{
                                dest: "code",
                                src: "parameterId",
                                type: "value"
                            }, {
                                dest: "unit",
                                src: null,
                                type: "direct"
                            }, {
                                dest: "value",
                                src: "valueFormatted",
                                type: "direct"
                            }, {
                                dest: "names",
                                src: "~",
                                type: "object",
                                mapping: [{
                                    dest: "value",
                                    src: "productLabel",
                                    type: "value"
                                }, {
                                    dest: "language",
                                    src: a.language,
                                    type: "direct"
                                }]
                            }]
                        }]
                    }]
                }, {
                    dest: "serviceCalculations",
                    src: "calculations",
                    type: "array",
                    condition: {
                        dest: "productType",
                        equals: "SERVICE"
                    },
                    mapping: [{
                        dest: "calculationType",
                        src: "productType",
                        type: "value"
                    }, {
                        dest: "code",
                        src: "productId",
                        type: "value"
                    }, {
                        dest: "isDisplayPayment",
                        src: !0,
                        type: "direct"
                    }, {
                        dest: "isSelectable",
                        src: !0,
                        type: "direct"
                    }, {
                        dest: "isSelected",
                        src: "selected",
                        type: "value"
                    }, {
                        dest: "servicePayment",
                        src: "rate.value",
                        type: "value"
                    }, {
                        dest: "names",
                        src: "~",
                        type: "object",
                        mapping: [{
                            dest: "value",
                            src: "productLabel",
                            type: "value"
                        }, {
                            dest: "language",
                            src: a.language,
                            type: "direct"
                        }]
                    }]
                }]
            }
        }
    }()
})(mini.digital.util, mini.digital.$);
(function() {
    mini.digital.util.priceFinance = function(b, f, k) {
        function g(b) {
            b.overlay({
                open: !1,
                ajax: !1,
                source: '\x3cdiv id\x3d"defaultRateInfoViewport"\x3e\x3c/div\x3e',
                title: " ",
                style: "med"
            });
            b.on("click", ".md-icn-info, .addInfoClick", function() {
                a = f.subscribe(d.overlayOpened, c);
                b.data("overlay").openOverlay()
            }).on("click", ".md-cs-monthly-cta", function(a) {
                f(a.delegateTarget).removeClass("md-cs-monthly-price-enabled")
            })
        }

        function c(b) {
            if (b.requester.is(".md-price-finance")) {
                var c = b.requester.find(".md-sf-snippet");
                b = c.attr("sf-model-code");
                c = c.attr("sf-gearbox-code");
                if (e.isLoaded && e.bmwNameSpace.apps.html5) {
                    var d = new e.bmwNameSpace.apps.html5.DefaultRateInfoViewport(e.SF, "defaultRateInfoViewport");
                    d.setData({
                        modelCode: b,
                        gearboxCode: c
                    });
                    d.start()
                }
                f.unsubscribe(a)
            }
        }
        var a, d = {
                overlayOpened: "md:overlay:opened"
            },
            e = k.getFinanceApp();
        return {
            init: function(a) {
                a = f(a);
                g(a);
                k.init()
            },
            teardown: function(a) {
                f(a).off("click").data("overlay").destroy()
            }
        }
    }(mini.digital.util, mini.digital.$, mini.digital.util.finance)
})();
(function(b, f) {
    mini.digital.util.historyManager = function() {
        var k = !1,
            g = document.title,
            c = window.location.href,
            a = null,
            d = null !== f && !!f.enabled;
        d && f.Adapter.bind(window, "statechange", function() {
            if (d) {
                var a = f.getState();
                k || "" !== window.location.hash.replace(/^#/, "") || -1 !== window.location.href.indexOf("/configurator") || -1 !== window.location.href.indexOf("/dlo") || (window.location.href = a.url);
                k = !1
            }
        });
        (function() {
            d && (b(window).unbind("popstate", f.onPopState), f.onPopState = function(a, c) {
                var e;
                if (d) {
                    f.doubleCheckComplete();
                    if (e = f.getHash()) return (a = f.extractState(e || f.getLocationHref(), !0)) ? -1 === a.url.indexOf("dlo") && -1 === a.url.indexOf("configurator") && -1 === a.url.indexOf("returnURL") && ("/" === a.hash ? b.publish("md:configurator:unload") : f.replaceState(a.data, a.title, a.url, !1)) : (f.Adapter.trigger(window, "anchorchange"), f.busy(!1)), f.expectedStateId = !1;
                    (a = (a = f.Adapter.extractEventData("state", a, c) || !1) ? f.getStateById(a) : f.expectedStateId ? f.getStateById(f.expectedStateId) : f.extractState(f.getLocationHref())) || (a = f.createStateObject(null,
                        null, f.getLocationHref()));
                    f.expectedStateId = !1;
                    if (f.isLastSavedState(a)) return f.busy(!1), !1;
                    f.storeState(a);
                    f.saveState(a);
                    f.setTitle(a);
                    f.Adapter.trigger(window, "statechange");
                    f.busy(!1);
                    return !0
                }
            }, f.Adapter.bind(window, "popstate", f.onPopState))
        })();
        return {
            historyApi: d ? f : null,
            pushState: function(b) {
                k = !0;
                g = b.title;
                c = b.uri;
                a = b.data ? b.data : null;
                d && f.pushState(a, g, c)
            },
            setInAppAction: function() {
                k = !0
            },
            getCurrentTitle: function() {
                return g
            },
            getCurrentURL: function() {
                return c
            }
        }
    }()
})(mini.digital.$, window.History);
(function(b, f) {
    f.gcdm = function() {
        function k(c) {
            return {
                angular: {
                    url: g.ANGULAR,
                    isLoaded: function() {
                        return b.isPlainObject(window.angular)
                    }
                },
                angularAnimate: {
                    url: g.ANGULAR_ANIMATE,
                    isLoaded: function() {
                        return f.angular.isModuleAvailable("ngAnimate")
                    }
                },
                gcdm: {
                    url: c,
                    isLoaded: function() {
                        return f.angular.isModuleAvailable("gcdm")
                    }
                }
            }
        }
        var g = {
            ANGULAR: "/etc.clientlibs/settings/wcm/designs/minidigital-white/libs-js.legacy/vendor/external/resources/angular.min.js",
            ANGULAR_ANIMATE: "/etc.clientlibs/settings/wcm/designs/minidigital-white/libs-js.legacy/vendor/external/resources/angular-animate.min.js"
        };
        return {
            init: function(b) {
                b = k(b);
                return f.lazyLoadScriptMulti([b.angular, b.angularAnimate, b.gcdm])
            }
        }
    }()
})(mini.digital.$, mini.digital.util);
(function(b, f, k, g) {
    g.form = function() {
        function b() {
            if (Modernizr.touch) {
                var a = k('meta[name\x3d"viewport"]');
                k(".md-custom-overlay");
                var b = a.attr("content"),
                    c = /,(\s)?user-scalable=yes/,
                    g = function() {
                        var d = b.match(c) ? b.replace(c, ",user-scalable\x3dno") : b + ",user-scalable\x3dno";
                        a.attr("content", d)
                    };
                k(f).on("touchstart", ":input", g).on("touchstart", function(c) {
                    var d = k(c.target).find("select");
                    d = d.length ? d[0].getBoundingClientRect() : null;
                    var e = c.originalEvent.changedTouches[0];
                    d && e.clientY < d.bottom + 165 && e.clientY >
                        d.top - 165 && e.clientX < d.right + 165 && e.clientX > d.left - 165 ? g() : k(c.target).is(":input") || a.attr("content", b);
                    "LABEL" === c.target.tagName && g()
                })
            }
        }
        return {
            init: function() {
                b()
            }
        }
    }()
})(window, document, mini.digital.$, mini.digital.util, Modernizr);
(function(b, f, k) {
    b.itemdetailoverlay = function() {
        function g(g) {
            if (!f(g.requester).is(".md-js-detail-trigger")) return !1;
            f.unsubscribe(e);
            h = f.subscribe("md:overlay:scroll", c);
            m = f.subscribe("md:overlay:closed", a);
            d = f(g.overlayContent);
            d.parent().find(".md-detail").removeClass("md-detail-hide");
            b.responsiveimage.lazyLoadImages(d)
        }

        function c() {
            b.lazyLoadImage.checkImages()
        }

        function a() {
            void 0 !== q && q.$overlayWrapper.height("");
            f.unsubscribe(h);
            f.unsubscribe(m)
        }
        var d, e, h, m, p, q, l, u;
        return {
            init: function(a) {
                d =
                    f(a);
                d.find(".md-js-detail-trigger").on("click", function(a) {
                    var c = f(a.currentTarget),
                        d = c.closest(".md-js-detail-overlay");
                    c.overlay({
                        title: d.data("feature-name"),
                        source: d.find(".md-detail"),
                        style: "dynamic-height",
                        fireScrollEvents: !0
                    });
                    e = f.subscribe("md:overlay:opened", g);
                    c.data("overlay").toggleOverlay(a);
                    b.matchmedia.wide.matches && (q = c.data("overlay"), l = parseInt(q.$overlayContent.css("padding-top"), 10), p = q.$overlayContent.find(".md-detail").outerHeight() + l, u = p + q.$overlayHeader.outerHeight() < f(k).height() ?
                        p + q.$overlayHeader.outerHeight() : f(k).height() - 60, q.$overlayWrapper.height(u))
                })
            }
        }
    }()
})(mini.digital.util, mini.digital.$, window);
(function() {
    mini.digital.util.analytics = function() {
        var b = {};
        return {
            init: function() {
                b = digital.tracking.getInstance(window.dataLayer)
            },
            initComponentTracking: function(f) {
                return b.initComponentTracking(f.obj, f.pageId)
            },
            updateComponentTracking: function(f) {
                return b.updateComponentTracking(f.componentId, f.obj, f.pageId)
            },
            initProductTracking: function(f) {
                return b.initProductTracking(f.obj, f.pageId)
            },
            updateProductTracking: function(f) {
                return b.updateProductTracking(f.productId, f.obj, f.pageId)
            },
            removeProductTracking: function(f) {
                return b.removeProductTracking(f.productId,
                    f.pageId)
            },
            initCartTracking: function(f) {
                return b.initCartTracking(f.obj)
            },
            updateCartTracking: function(f) {
                return b.updateCartTracking(f.obj)
            },
            removeCartTracking: function(f) {
                return b.removeCartTracking()
            },
            initTransactionTracking: function(f) {
                return b.initTransactionTracking(f.obj)
            },
            updateTransactionTracking: function(f) {
                return b.updateTransactionTracking(f.obj)
            },
            removeTransactionTracking: function(f) {
                return b.removeTransactionTracking()
            },
            addEventTracking: function(f) {
                return b.addEventTracking(f.defaultObj,
                    f.elementObj, f.pageId)
            },
            addVirtualPage: function(f) {
                return b.addVirtualPage(f.obj, f.destinationUrl, f.referringUrl)
            },
            closeVirtualPage: function(f) {
                return b.closeVirtualPage(f.pageId)
            },
            getPageObject: function(f) {
                return b.getPageObject(f.pageId)
            },
            getAllPages: function() {
                return b.getAllPages()
            },
            isTrackingDisabled: function() {
                return b.isTrackingDisabled()
            },
            switchDevModeOn: function() {
                return b.setDebugMode(!0)
            },
            getCurrentPageIndex: function() {
                return b.getCurrentPageIndex()
            },
            closeAllVirtualPages: function(f) {
                return b.closeAllVirtualPages(f)
            }
        }
    }()
})();
mini.digital.util.veil = function(b, f) {
    function k() {
        a.removeClass(e.visible);
        a.removeClass(e.enabled);
        a.css("z-index", "")
    }

    function g(b) {
        c = f("body");
        b && (c = b);
        c.prepend(h);
        a = f("." + e.veil);
        b && (a = f("." + e.veil, b));
        a.on("click", function() {
            f.publish("md:veil:click", [{
                id: a.attr("data-id")
            }])
        })
    }
    var c = f("body"),
        a, d = [],
        e = {
            veil: "md-custom-overlay-veil",
            enabled: "md-enabled",
            visible: "md-visible"
        },
        h = '\x3cdiv class\x3d"' + e.veil + '"\x3e\x3c/div\x3e';
    return {
        manageVeil: function(b, c, f) {
            a || g(f);
            var h;
            f = !1;
            switch (b) {
                case "open":
                    b = {
                        id: c.id,
                        zIndex: c.zIndex
                    };
                    m;
                    h;
                    var m = 0;
                    for (h = d.length; m < h; m++)
                        if (d[m].id === c.id) {
                            d.splice(m, 1);
                            break
                        } d.push(b);
                    f = !0;
                    break;
                case "close":
                    if (c)
                        for (m = 0, h = d.length; m < h; m++) {
                            if (d[m].id === c.id) {
                                d.splice(m, 1);
                                f = !0;
                                break
                            }
                        } else d.length ? (d.pop(), f = !0) : d = []
            }
            f && (0 < d.length ? (m = d[d.length - 1], c = m.zIndex || a.css("z-index"), m = m.id, a.css("z-index", c), a.attr("data-id", m).addClass(e.enabled), a.get(0).offsetLeft, a.addClass(e.visible)) : k())
        },
        hideAllVeils: function() {
            d = [];
            k()
        },
        isVeilOpen: function() {
            return 0 < d.length
        }
    }
}(mini.digital.util,
    mini.digital.$);
(function(b, f) {
    f.unsubArray = function(f) {
        for (; f.length;) b.unsubscribe(f.pop())
    }
})(mini.digital.$, mini.digital.util);
(function(b, f, k) {
    f.anchorButton = function() {
        function g(c) {
            if (c.length) {
                var a = b("body").find("iframe.md-if-frame");
                a && 0 < a.length ? a.ready(function() {
                    f.scrollTo.element(c, {
                        duration: 400
                    }, 10)
                }) : f.scrollTo.element(c, {
                    duration: 400
                }, 10)
            }
        }
        return {
            init: function(c) {
                c = b(c);
                var a = c.attr("href").substring(1);
                if (void 0 !== a && "" !== a && !a.startsWith("md-disc_") && !c.hasClass("link-anchor")) c.on("click.anchor", function(c) {
                    var d = b('div[data-md-anchor-name\x3d"' + a + '"]');
                    void 0 !== d && 0 < d.length ? (b.publish("md:anchor:button:scrollTo",
                        [a]), g(d)) : b.publish("md:anchor:button:click", [a, c.currentTarget]);
                    c.preventDefault()
                })
            },
            teardown: function(c) {
                b(c).off(".anchor")
            },
            scrollToAnchor: g,
            MD_ANCHOR_NAME: "md-anchor-name"
        }
    }()
})(mini.digital.$, mini.digital.util, window);
(function(b, f) {
    f.disclaimerButton = function() {
        function k(g) {
            var c = b.Deferred(),
                a;
            g.length && (g.is(":visible") ? c.resolve() : a = b.subscribe("md:disclaimer:items:toggle", function(d) {
                "open" === d.state && b.contains(d.$el[0], g[0]) && (b.unsubscribe(a), c.resolve())
            }), c.done(function() {
                f.scrollTo.element(g, {
                    duration: 400
                }, 10)
            }))
        }
        return {
            init: function(f) {
                f = b(f);
                var c = f.data("disclaimer");
                f.on("click.disclaimer", function(a) {
                    "footer" === c && (k(b(a.currentTarget.hash)), a.preventDefault());
                    b.publish("md:disclaimer:button:click",
                        [c, a.currentTarget])
                })
            },
            teardown: function(f) {
                b(f).off(".disclaimer")
            }
        }
    }()
})(mini.digital.$, mini.digital.util);
(function(b, f) {
    f.currentModel = function() {
        function k() {
            d = "" !== a.modelRangeCode && "" !== a.modelCode;
            e = "" !== a.modelRangeCode && "" === a.modelCode
        }

        function g() {
            return !(c.modelCode === a.modelCode && c.modelRangeCode === a.modelRangeCode && c.transmission === a.transmission)
        }
        var c = {},
            a = {
                modelRangeCode: "",
                modelRangeName: "",
                modelCode: "",
                modelName: "",
                modelLongName: "",
                url: "",
                multipleTransmissions: "",
                transmission: ""
            },
            d = !1,
            e = !1;
        c = a;
        b.subscribe("md:configurator:initialise", function() {
            var b = f.historyManager.getCurrentTitle(),
                c = f.historyManager.getCurrentURL(),
                d = a.url + window.location.search;
            c !== d && f.historyManager.pushState({
                uri: d,
                title: b
            })
        });
        return {
            set: function(d, e) {
                d = d || {};
                c = a;
                a = {
                    modelRangeCode: d.modelRangeCode || "",
                    modelRangeName: d.modelRangeName || "",
                    modelCode: d.modelCode || "",
                    modelName: d.modelName || "",
                    vehicleName: d.modelName || "",
                    modelLongName: d.modelLongName || "",
                    url: d.url || "",
                    multipleTransmissions: d.multipleTransmissions || 0,
                    transmission: d.transmission || "Default",
                    cosyImageInfos: d.cosyImageInfos || [{}, {}, {
                        urlString: void 0
                    }]
                };
                k();
                (void 0 === e || !0 === e) && g() && b.publish("md:currentModel:changed", [a])
            },
            get: function() {
                return a
            },
            history: function() {
                return c
            },
            update: function(d, e) {
                "undefined" !== typeof a[d] && (c = a, a[d] = e, k(), b.publish("md:currentModel:changed", [a]))
            },
            isModelPage: function() {
                return d
            },
            isModelRangePage: function() {
                return e
            },
            isNormalPage: function() {
                return !e && !d
            },
            isCurrentModelDifferent: g
        }
    }()
})(mini.digital.$, mini.digital.util);
(function(b, f) {
    f.favouriteModel = function() {
        var k = [],
            g = !1,
            c = function() {
                g && (f.cookiecontroller.setPersistence("cc_favourite_model", JSON.stringify(k)), b.publish("md:favouritemodel:updated", [{
                    items: k
                }]))
            },
            a = function(a) {
                var c = -1;
                b.each(k, function(b, d) {
                    d.rangeCode === a.rangeCode && d.modelCode === a.modelCode && (c = b)
                });
                return c
            },
            d = function() {
                f.cookiecontroller.checkPresentAndInit().then(function() {
                    if (g = f.cookiecontroller.isUsageAllowed("cc_favourite_model")) k = JSON.parse(f.cookiecontroller.getPersistence("cc_favourite_model")) || [], c()
                })
            };
        f.cookiecontroller.isUsageAllowed("cc_favourite_model") && (f.cookiecontroller.registerOnConsentChange(d), f.cookiecontroller.registerOnInitialized(d));
        return {
            init: d,
            getItems: function() {
                return k
            },
            getItemsModelCodes: function() {
                return k.map(function(a) {
                    return a.modelCode
                })
            },
            setItem: function(d) {
                if (g && d && d.rangeCode && d.modelCode) {
                    var e = a(d);
                    0 === k.length && b.publish("md:favouritemodel:start", [{
                        modelCode: d.modelCode
                    }]); - 1 === e && (k.push(d), c())
                }
            },
            removeItem: function(b) {
                g && b && b.rangeCode && b.modelCode &&
                    (b = a(b), -1 !== b && (k.splice(b, 1), c()))
            },
            isCookieAllowed: function() {
                return f.cookiecontroller.isUsageAllowed("cc_favourite_model")
            }
        }
    }()
})(mini.digital.$, mini.digital.util);
(function(b, f) {
    f.dragReveal = function() {
        function f() {
            e.width();
            m = a.width();
            p = a.offset().left;
            d.width(m / 2);
            h.width(m)
        }

        function g() {
            a.on("mousemove.dragReveal.panel", function(a) {
                var b = a.pageX;
                a = b - (m / 2 + p);
                b -= p;
                e.css(window.Modernizr.prefixed("transform"), "translateX(" + a + "px)");
                d.width(b)
            }).on("mouseleave.dragReveal.panel", c)
        }

        function c() {
            a.off(".dragReveal.panel")
        }
        var a, d, e, h, m, p, q;
        return {
            init: function(l) {
                a = l;
                d = a.find(".md-drag-reveal-panel1");
                e = a.find(".md-drag-reveal-slider");
                h = a.find(".md-rimage");
                q = b.subscribe("md:resize", f);
                f();
                e.on("mousedown.dragReveal.slider", g).on("mouseup.dragReveal.slider", c)
            },
            teardown: function() {
                a.off(".dragReveal.panel");
                e.off(".dragReveal.slider");
                b.unsubscribe(q)
            }
        }
    }()
})(mini.digital.$, mini.digital.util);
(function(b, f) {
    f.iselementinviewport = function(f) {
        f instanceof b && (f = f[0]);
        f = f.getBoundingClientRect();
        return 0 <= f.top && 0 <= f.left && f.bottom <= (window.innerHeight || document.documentElement.clientHeight) && f.right <= (window.innerWidth || document.documentElement.clientWidth)
    }
})(mini.digital.$, mini.digital.util);
(function(b, f) {
    f.countryPreferences = function() {
        var b = {},
            g = !1,
            c = function() {
                g && f.cookiecontroller.setPersistence("cc_country_preferences", encodeURIComponent(JSON.stringify(b)))
            },
            a = function() {
                f.cookiecontroller.checkPresentAndInit().then(function() {
                    if (g = f.cookiecontroller.isUsageAllowed("cc_country_preferences")) {
                        var a = f.cookiecontroller.getPersistence("cc_country_preferences");
                        a && (a = decodeURIComponent(a));
                        b = JSON.parse(a) || {};
                        c()
                    }
                })
            };
        f.cookiecontroller.registerOnConsentChange(a);
        f.cookiecontroller.registerOnInitialized(a);
        return {
            init: a,
            getPreference: function(a) {
                if (g && a) return b[a]
            },
            setPreferences: function(a) {
                g && a && (b = a, c())
            },
            isCookieAllowed: function() {
                return f.cookiecontroller.isUsageAllowed("cc_country_preferences")
            }
        }
    }()
})(mini.digital.$, mini.digital.util);
(function(b, f) {
    f.getLinkedUrl = function(f, g) {
        var c = b.location.pathname.split("/"),
            a = -1 < f.indexOf("localhost"),
            d = a ? c[5] : c[1];
        a = a ? c[6] : c[2];
        g = g.replace("-", "_");
        f = f.replace(d, g); - 1 === c.indexOf("home") && (f = f.replace(a, "home.html"));
        return f
    }
})(window, mini.digital.util);
(function(b) {
    b.formatDecimal = function() {
        return function(b, k) {
            if (k) return b.toString().replace(/\./g, k)
        }
    }()
})(mini.digital.util);
(function(b, f) {
    f.emissionChart = function() {
        var f;
        return {
            init: function(g) {
                if ((f = b(".md-chart-co2")) || g) {
                    var c = b(g || f);
                    b.each(c, function(a) {
                        var b = c.eq(a).data("rating"),
                            e = c.eq(a).find(".md-chart-co2-current");
                        a = c.eq(a).find('[data-co2\x3d"' + b + '"]').position().top;
                        e.css({
                            top: a + "px"
                        })
                    })
                }
            }
        }
    }()
})(mini.digital.$, mini.digital.util);
mini.digital.util.location = function(b, f, k) {
    return {
        getQueryParams: function() {
            for (var b = location.search.substr(1).split("\x26") || [], c = {}, a = 0, d = b.length, e; a < d; a++) e = b[a], 0 <= e.indexOf("\x3d") && (e = e.split("\x3d"), c[e[0]] = e[1]);
            return c
        }
    }
}(mini.digital.$, window);
mini.digital.util.stockLocator = function(b, f, k) {
    function g() {
        var a = f.location.search;
        return (a = a ? a.match(/[?&]konfiguratorData=([^&]*)?/) : null) && "StockLocator" === a[1]
    }

    function c(a) {
        return (a = k.cookiecontroller.getPersistence(a)) ? JSON.parse(a) : null
    }
    return {
        isStockLocatorInPath: g,
        loadVehicleFromLocalStorage: function() {
            try {
                var a = c("StockLocator");
                if (!a) return null;
                var b = _.get(a, "configData", null);
                if (b) {
                    var e = b;
                    e.modelName = decodeURIComponent(_.get(e, "modelName", ""));
                    var f = {
                        modelRange: e.modelRange,
                        agCode: e.agCode,
                        vgCode: e.modelCode,
                        modelCode: e.modelCode,
                        vehicleName: e.modelName,
                        modelGross: e.prices ? e.prices.modelGross : null,
                        modelNet: e.prices ? e.prices.modelNet : null,
                        featuresGross: e.prices ? e.prices.equipmentGross : null,
                        featuresNet: e.prices ? e.prices.equipmentNet : null,
                        totalGross: e.prices ? e.prices.totalGross : null,
                        totalNet: e.prices ? e.prices.totalNet : null,
                        grossPrice: e.prices ? e.prices.totalGross : null,
                        netPrice: e.prices ? e.prices.totalNet : null,
                        featureDetails: [],
                        vin: e.vin,
                        vin17: e.vin17,
                        dealerId: e.dealerId,
                        outletId: e.outletId,
                        cosyImageInfos: []
                    }
                }
                f.source = "stockLocator";
                f.cosyImageInfos = [{}, {}, {
                    urlString: e.cosyImageUrls ? e.cosyImageUrls.FRONTSIDE_VIEW : null
                }];
                return f
            } catch (m) {
                return null
            }
        },
        getDealerIdFromLocalStorage: function() {
            var a;
            if (g()) try {
                var b = c("StockLocator");
                if (!b) return null;
                var e = _.get(b, "configData", null);
                e && e.dealerId && e.outletId && (a = e.dealerId + "_" + e.outletId)
            } catch (h) {
                return null
            }
            return a
        }
    }
}(mini.digital.$, window, mini.digital.util);
mini.digital.comp.configurator = {};
mini.digital.comp.configurator.isRunning = function() {
    return !1
};
mini.digital.comp.customselector = {};
mini.digital.comp.customselector.loadingIndicator = {};
mini.digital.comp.customselector.loadingIndicator.loadingRemove = function(b) {};
(function() {
    $(document).ready(function() {
        $(".md-acc-categories").on("click", ".md-acc-listing-name", function(b) {
            b.preventDefault();
            $(this).toggleClass("md-acc-rotate");
            $(".md-acc-listing-name").not(this).removeClass("md-acc-rotate").next(".md-sub-acc-categories").slideUp("slow");
            $(this).next(".md-sub-acc-categories").slideToggle(250)
        });
        $(".md-model-accordion").on("click", function(b) {
            b.preventDefault();
            $(this).toggleClass("accordion-active");
            $(".md-model-accordion").not(this).next(".md-accy-model-list").slideUp("slow");
            $(this).next(".md-accy-model-list").slideToggle(250)
        });
        $(".md-latest-after-sales li.md-tv-tab-item:first-child a").hasClass("md-tv-active") && $(".md-latest-after-sales li.md-tv-tab-item:not(:first-child)").css("position", "absolute");
        var b = $("#newAccessoryDetail").data("component-ispublishmode");
        $("#newAccessoryDetail").length && b && ($(".banner.parbase").hide(), $(".topstage").hide())
    });
    mini.digital.comp.accessories = function(b, f, k) {
        function g(a, c) {
            a = a.find(".md-acc-cym-model-link");
            var d = c.find(".md-acc-selected-range-and-model"),
                e = c.find(".md-acc-choose");
            a.on("click", function(a) {
                var f = b(a.currentTarget);
                a.preventDefault();
                d.val(f.data("selector"));
                e.text(f.data("name"));
                M.trackSelectModelRange(b(this).text(), "na");
                c.isNarrow ? b(".md-custom-overlay-close").click() : y(c);
                B(c)
            })
        }

        function c(a) {
            var c = a.find(".md-acc-selected-range-and-model"),
                d = a.find(".md-acc-choose");
            c.val("");
            d.text(d.data("mdAccDefaultText"));
            a.isNarrow ? b(".md-custom-overlay-close").click() : y(a)
        }

        function a(a, c, d, e) {
            var h = a.data("mdAccCymRangeData");
            a = a.data("mdAccCymRangeImage");
            b.each({
                "{{ name }}": h.range.name || " ",
                "{{ year }}": h.range.year || " ",
                "{{ imageUrl }}": a || " ",
                "{{ rangeCode }}": h.rangeCode || " ",
                "{{ modelCode }}": h.modelCode || " "
            }, function(a, b) {
                c = c.replace(new RegExp(a, "g"), b)
            });
            a = b("\x3cdiv\x3e\x3c/div\x3e").html(c).addClass("md-acc-cym-models-inner");
            var l = a.find(".md-acc-cym-model-item");
            var k = a.find(".md-acc-cym-model-list");
            b.each(h.models, function(a, b) {
                a = l.clone();
                k.append(a);
                a = a.find("div");
                var c = h.range.rangeCode + "_" + b.modelCode;
                a.attr("data-name", h.range.name +
                    " - " + b.modelName);
                a.attr("data-selector", c);
                a.text(b.modelName)
            });
            l.remove();
            d.empty().prepend(a);
            (a = a.find(".md-ri-image")) && f.init(a);
            g(d, e)
        }

        function d(d, e) {
            var f = d.find(".md-acc-cym-step"),
                g = d.find(".md-acc-cym-models"),
                h = d.find(".md-acc-cym-range-link"),
                l = d.find(".md-acc-cym-step-back"),
                m = d.find(".md-acc-cym-models-template").html().trim(),
                r = function() {
                    var a = 0,
                        c = e.find(".md-acc-cym-title").outerHeight(),
                        g = e.find(".md-acc-filters").outerHeight(),
                        h = e.height() - g;
                    d.height("auto");
                    f.each(function(c,
                        d) {
                        c = b(d).outerHeight();
                        a < c && (a = c)
                    });
                    0 < c ? d.height(a + c) : d.height(a + 45);
                    k.matchmedia.wide.matches && a > h && e.height(a + c + g)
                };
            d.removeClass("md-acc-cym-show-step-2");
            r();
            b.subscribe(N.CYMOpened, r);
            h.on("click", function(h) {
                var l = b(h.currentTarget),
                    p = l.data("mdAccCymRangeData");
                h.preventDefault();
                if (p)
                    if (M.trackSelectSeries(p.range.name, "na"), a(l, m, g, e), d.addClass("md-acc-cym-show-step-2"), Modernizr.csstransitions) f.eq(1).on(k.transitionEndEvent, function() {
                        f.eq(1).off(k.transitionEndEvent);
                        r()
                    });
                    else r();
                else c(e)
            });
            l.on("click", function(a) {
                a.preventDefault();
                d.removeClass("md-acc-cym-show-step-2")
            })
        }

        function e(a) {
            b.subscribe("md:overlay:opened", function(c) {
                b(c.requester).hasClass("md-acc-choose") && d(b(c.overlayContent).find(".md-acc-cym"), a)
            })
        }

        function h(a) {
            var c = a.find(".md-acc-fb-temp").html();
            c = b(c);
            var d = c.find("select[name\x3dcategory]"),
                e = c.find("select[name\x3dgroup]"),
                f = a.find(".md-acc-filters");
            f.find(".md-acc-categories").children().each(function(a, c) {
                a = b(c);
                c = b("\x3coption\x3e\x3c/option\x3e");
                var f = b("\x3coptgroup\x3e\x3c/optgroup\x3e"),
                    g = a.data("name"),
                    h = a.data("selectors"),
                    l = a.data("selected");
                c.text(g);
                c.val(h);
                c.prop("selected", l);
                f.attr("label", g);
                d.append(c);
                a.children("ul").children().each(function(a, c) {
                    var d = b(c);
                    a = b("\x3coption\x3e\x3c/option\x3e");
                    c = d.data("name");
                    var e = d.data("selectors");
                    d = d.data("selected");
                    a.text(c);
                    a.val(e);
                    a.prop("selected", d);
                    f.append(a)
                });
                e.append(f)
            });
            f.append(c);
            J && a.find("input[name\x3drangeAndModel]").val(J);
            a.updateSelect = !0
        }

        function m(a, b, c) {
            var d =
                b.find("input[name\x3drangeAndModel]").val();
            if (d) {
                a = d.split("_")[0];
                d = d.split("_")[1];
                b = b.find('[data-md-acc-cym-item-code\x3d"' + a + '"]').data("mdAccCymRangeData");
                var e = "";
                if (b) {
                    if (d)
                        for (var f = 0; f < b.models.length; f++) b.models[f].modelCode === d && (e = " - " + b.models[f].modelName);
                    a && c.text(b.range.name + e)
                }
            }
        }

        function p(a, c) {
            var d = a.find("select[name\x3dcategory]"),
                e = a.find("select[name\x3dgroup]"),
                f = e.children(),
                g = a.find(".md-acc-ff"),
                h = a.find(".md-acc-choose");
            d.on("change", function() {
                q(d, e, f)
            });
            a.updateSelect &&
                q(d, e, f);
            c || m(g, a, h);
            b.subscribe(N.CYMmodelSelected, function() {
                y(a)
            })
        }

        function q(a, b, c) {
            a.children(":selected").is(":first-child") ? b.empty().append(c.clone()).prop("disabled", !0) : (a = c.children('option[value\x3d"' + a.val() + '"]').first().parent(), c = a.children().filter(":selected").val(), b.empty().append(a.children().clone()).prop("disabled", !1), c && b.children('option[value\x3d"' + c + '"]').prop("selected", !0))
        }

        function l(a) {
            return a.find(".md-acc-items \x3e li")
        }

        function u(a) {
            a.on("click", ".md-acc-loadmore-btn",
                I);
            if (!a.isNarrow) a.on("click", ".md-acc-choose-wide", F);
            a.on("submit", ".md-acc-ff", O);
            p(a)
        }

        function w(a, b) {
            r(a, b.slice(0, 9), !0);
            9 < b.length ? t(a) : v(a)
        }

        function r(a, c, d) {
            c.each(function(a, c) {
                var e = b(c);
                d && e.addClass("md-acc-item-loading");
                x(e);
                d && setTimeout(function() {
                    e.removeClass("md-acc-item-loading")
                }, 83 * a)
            })
        }

        function x(a) {
            var c = a.children("a"),
                d = b("\x3cspan\x3e\x3c/span\x3e").addClass("md-acc-item-title"),
                e = b("\x3cimg\x3e").attr("src", a.data("acc-img")).addClass("md-acc-item-thumb"),
                f = b("\x3cdiv\x3e\x3c/div\x3e").addClass("md-acc-item-image");
            c.wrapInner(d);
            f.append(e);
            c.addClass("md-acc-item-link").prepend(f);
            c.click(function(a) {
                a.preventDefault();
                var c = a.currentTarget,
                    d = b(this).find(".md-acc-item-title");
                a = !b(a.target).hasClass("md-acc-item-title");
                M.trackClickSpecificAccesory(d.text(), "na", c.href, a);
                window.setTimeout(function() {
                    window.location = c.href
                }, 200)
            });
            a.addClass("md-acc-item-show")
        }

        function v(a) {
            a.find(".md-acc-loadmore").remove()
        }

        function t(a) {
            var c = a.find(".md-acc-loadmore");
            c.length || (c = a.find(".md-acc-filters").data("text-loadmore"),
                c = b("\x3cbutton\x3e\x3c/button\x3e").addClass("md-acc-loadmore-btn").text(c), c = b("\x3cdiv\x3e\x3c/div\x3e").addClass("md-acc-loadmore").append(c), a.append(c))
        }

        function A(a, c) {
            var d = z(a);
            v(a);
            d.empty();
            a.addClass("md-acc-loading");
            b.when(E(c)).done(function(e) {
                var f = b(e),
                    g = f.find(".md-acc-items"),
                    h = f.find(".md-acc-banner").html();
                f = a.find("select[name\x3dcategory]").find("option:selected").text().trim();
                var k = a.find("select[name\x3dgroup]").find("option:selected").text().replace(/\(.*?\)/g, "").trim();
                b(".md-acc-banner").html(h);
                a.removeClass("md-acc-loading");
                g.length ? d.append(g.children()) : (d.append(Q), g = Q.find(".md-acc-no-results-search"), h = b(".md-acc-choose").eq(0).text() + G + f + G + k, g.text(h));
                g = c.replace(new RegExp(V), "");
                e = b(e).find("html head title").text();
                mini.digital.util.historyManager.pushState({
                    title: e,
                    uri: g
                });
                e = l(a);
                M.trackSelectCategories(f, e ? e.length : 0);
                M.trackSelectProduct(k, e ? e.length : 0);
                w(a, e)
            }).fail(function() {
                a.removeClass("md-acc-loading")
            })
        }

        function z(a) {
            var c = a.find(".md-acc-items");
            c.length || (c = b("\x3cul\x3e\x3c/ul\x3e").addClass("md-acc-items"), a.append(c));
            return c
        }

        function B(a) {
            var c = a.find("select[name\x3dcategory]");
            var d = a.find(".md-acc-filters"),
                e = d.find(".md-acc-choose-wide"),
                f = d.find(".md-acc-filters-preloader");
            e = e.position().left + e.width() + 60;
            a.isNarrow || f.css("left", e + "px");
            d.addClass("md-acc-filters-loading");
            c.find("option:eq(0)").prop("selected", !0);
            c.change().prop("disabled", !0);
            c = C(a);
            b.when(E(c)).done(function(c) {
                c = b(c).find(".md-acc-categories");
                J = a.find("input[name\x3drangeAndModel]").val();
                a.find(".md-acc-ff").remove();
                a.find(".md-acc-categories").html(c.html());
                h(a);
                p(a, !0);
                d.removeClass("md-acc-filters-loading")
            })
        }

        function E(a) {
            var c = {
                type: "GET",
                url: a,
                timeout: 3E4,
                error: function(a, b, d) {
                    console.log('WARN: accessories.ajaxCall: ajax-call returned error "' + b + '" using call settings:', c)
                }
            };
            return b.ajax(c)
        }

        function y(a) {
            var c = a.find(".md-acc-cym");
            c.toggleClass("md-acc-cym-active").delay(100).queue(function() {
                c.toggleClass("md-acc-cym-animate").dequeue();
                c.height("");
                if (K) c.removeClass("md-acc-cym-show-step-2");
                else if (Modernizr.csstransitions) c.on(k.transitionEndEvent, function(a) {
                    "opacity" === a.originalEvent.propertyName && (c.off(k.transitionEndEvent), b.publish(N.CYMOpened))
                });
                else b.publish(N.CYMOpened);
                K = !K
            });
            f.checkImages()
        }

        function C(a) {
            a.find(".md-acc-filters").find(".md-acc-categories");
            var b = window.location,
                c = b.pathname.split(".")[0];
            b = b.origin + c + V;
            c = a.find("select[name\x3dgroup]").val();
            var d = a.find("select[name\x3dcategory]").val();
            (a = a.find("input[name\x3drangeAndModel]").val()) && (b += "." + a);
            c ? b +=
                "." + c : d && (b += "." + d);
            b = encodeURI(b + ".html");
            return b + window.location.search
        }

        function O(a) {
            var c = b(a.delegateTarget),
                d = C(c);
            A(c, d);
            b.publish(N.filter);
            c.find(".md-acc-cym").hasClass("md-acc-cym-active") && y(c);
            a.preventDefault()
        }

        function I(a) {
            var c = b(a.delegateTarget),
                d = l(c).not(".md-acc-item-show");
            r(c, d.slice(0, 9), !0);
            9 < d.length ? t(c) : v(c);
            a.preventDefault()
        }

        function F(a) {
            var c = b(a.delegateTarget);
            y(c);
            a.preventDefault()
        }
        var N = {
                filter: "md:accessories:filter",
                CYMOpened: "md:accessories:cym:opened",
                CYMmodelSelected: "md:accessories:cym:model:selected"
            },
            K = !1,
            Q, G, J, V = "",
            M;
        return {
            init: function(a) {
                var c = b(a);
                a = l(c);
                var f = c.find(".md-toppicks"),
                    g = c.find(".md-acc-cym"),
                    m = c.find(".md-acc-nr-temp").html();
                c.isNarrow = !k.matchmedia.wide.matches;
                V = c.find(".md-acc-filters").data("nested-component-path");
                Q = b(m);
                G = " " + Q.data("mdAccJoinText").trim() + " ";
                c.isNarrow ? e(c) : d(g, c);
                require(["apps/business/accessories/components/accessories/clientlib/scripts/tracking/Tracking"], function(a) {
                    M = a;
                    a = b.find(".md-acc-banner .md-heading");
                    M.init(c.data("component-tracking-id"),
                        a && 0 < a.length ? b(a[0]).text().trim() : "")
                });
                h(c);
                u(c);
                a.length && !f.length ? w(c, a) : b.subscribe(N.filter, function() {
                    b.unsubscribe(N.filter);
                    f.hide()
                })
            }
        }
    }(mini.digital.$, mini.digital.util.lazyLoadImage, mini.digital.util)
})();
(function(b, f, k, g) {
    function c(c, d) {
        function e(a) {
            d.contentWindow.postMessage(JSON.stringify({
                actionResponse: [{
                    action: "consentChange",
                    result: {
                        consentChange: a
                    }
                }]
            }), u.domain)
        }

        function h(a) {
            if (d !== g && d.contentWindow !== g) try {
                var b = d.contentWindow,
                    c = [],
                    e = a.originalEvent.data,
                    h = {};
                h = "string" === typeof e || e instanceof String ? JSON.parse(e) || {} : e;
                var l = {
                    actionResponse: [],
                    childOrigin: h.childOrigin
                };
                a.originalEvent.source === b && h.actions && h.callback && (f.each(h.actions, function(a, b) {
                        c.push(q(b).done(function(a) {
                            l.actionResponse.push(a)
                        }))
                    }),
                    f.when.apply(null, c).done(function() {
                        b.postMessage(JSON.stringify(l), u.domain)
                    }))
            } catch (y) {}
        }

        function q(a) {
            var b = u[a.action],
                c = f.Deferred(),
                d = f.Deferred();
            b ? (b = b(a), b.done ? b.done(d.resolve) : d.resolve(b)) : d.resolve(l(!1, "Cannot find action `" + a.action + "`"));
            d.done(function(b) {
                c.resolve(f.extend({
                    action: a.action
                }, b))
            });
            return c.promise()
        }

        function l(a, b) {
            return f.extend({
                success: a
            }, b ? {
                result: b
            } : {})
        }
        var u = this,
            w = !1,
            r = "/bin/public/mini/modelspecs?resourcePath\x3d" + f(d).data("iframe-resource-path");
        u.resize =
            function(a) {
                a = parseInt(a.params && a.params.height, 10);
                var b = u.$frame.data("heightOffset") || 0;
                if (isNaN(a)) return l(!1, "Parameter `height` must be a number");
                if (isNaN(b)) return l(!1, "`heightOffset` must be a number");
                u.$frame.attr("height", a + b);
                return l(!0, void 0)
            };
        u.requestUser = function() {
            var a = k.user.get();
            return a ? l(!0, a) : l(!1, "NA")
        };
        u.requestModelInfo = function() {
            var a = f.Deferred();
            f.get(r, {
                pageUrl: u.getPagePath()
            }).done(function(b) {
                a.resolve(l(!0, b))
            }).fail(function() {
                a.resolve(l(!1, "NA"))
            });
            return a.promise()
        };
        u.requestDealer = function() {
            var a = k.dealer.get();
            return a ? l(!0, a) : l(!1, "NA")
        };
        u.requestFinancePackage = function() {
            return l(!0, {
                "package": "Lease"
            })
        };
        u.requestBrochure = function() {
            return l(!0, {})
        };
        u.analytics = function(a) {
            a = a.params;
            var b;
            if (!a || !a.call) return l(!1, "Missing `call` parameter");
            k.analytics.init();
            return (b = (b = k.analytics[a.call]) && b(a.data)) && b.errorMessage ? l(!1, b.errorMessage) : l(!0, f.extend({
                call: a.call
            }, b !== g && null !== b ? {
                data: b
            } : {}))
        };
        u.cookiesEnabled = function() {
            var a = k.cookiecontroller &&
                k.cookiecontroller.api;
            return l(!0, {
                cookiesEnabled: a && a.isRegulationAccepted && !0 === a.isRegulationAccepted()
            })
        };
        u.cookieRegulationType = function() {
            var a = k.cookiecontroller && k.cookiecontroller.api;
            return l(!0, {
                cookieRegulationType: a && a.getRegulationType && a.getRegulationType()
            })
        };
        u.scrollTo = function(b) {
            var c = (b = b.params) && b.offset && b.offset.top;
            if (!c) return l(!1, "Missing `offset` parameter");
            if ("number" !== typeof c) return l(!1, "`offset.top` must be a number");
            1 == w ? x.scrollTop(b.offset.top + u.$frame.offset().top) :
                a.scrollTop(b.offset.top + u.$frame.offset().top);
            return l(!0, void 0)
        };
        u.getPagePath = function() {
            return b.location.pathname
        };
        u.destroy = function() {
            f(b).off("." + c, h)
        };
        u.$frame = f(d);
        var x = f(".md-iframe", f(".md-custom-overlay-main", u.$frame.parents()));
        w = 0 < x.length ? !0 : !1;
        u.domain = function(a) {
            var b = document.createElement("a");
            b.href = a;
            return b
        }(u.$frame.attr("src"));
        (function() {
            var a = u.$frame.attr("src"),
                c = u.$frame.data("model-code"),
                d = u.$frame.data("range-code"),
                e = mini.digital.util.currentModel.get();
            c !==
                g && "" !== e.modelCode && (a = a + (0 < a.indexOf("?") ? "\x26" : "?") + "modelCode\x3d" + e.modelCode);
            d !== g && "" !== e.modelRangeCode && (a = a + (0 < a.indexOf("?") ? "\x26" : "?") + "modelRangeCode\x3d" + e.modelRangeCode);
            if (u.$frame.data("transfer-parameters") && (c = b.location.search) && (c = c.replace("?", ""), c = c.split("\x26"), -1 === a.indexOf("?") && c && 0 < c.length && (a += "?"), c && 0 < c.length))
                for (d = 0; d < c.length; d++) a = a + "\x26" + c[d];
            u.$frame.attr("src", a)
        })();
        u.domain = u.domain.protocol + "//" + u.domain.host;
        a = a || f(b);
        a.on("message." + c + " onmessage." +
            c, h);
        k && k.cookiecontroller && k.cookiecontroller.api && k.cookiecontroller.api.registerOnConsentChange && k.cookiecontroller.api.registerOnConsentChange(e);
        return u
    }
    var a, d = function(a, b) {
        this.$element = f(a);
        this.name = b;
        this.$frameElement = f(".md-iframe-consent-frame", this.$element);
        this.$messageElement = f(".md-fallbackteaser-message", this.$element);
        this.overwriteCookieConsent = this.$frameElement.data("overwrite-cookie-consent");
        this.frame = null;
        k.cookiecontroller.checkPresentAndInit().then(this.init.bind(this));
        k.cookiecontroller.api.registerOnUserConsentChange(this.onConsentChange.bind(this));
        var c = this;
        this.getEnvironment().then(function(a) {
            a && a.isWcmmodeEdit && c.initFrame()
        })
    };
    d.prototype = {
        init: function() {
            this.onConsentChange()
        },
        getEnvironment: function() {
            var a = f.Deferred();
            require(["core/utils/Environment"], function(b) {
                a.resolve(b)
            });
            return a
        },
        onConsentChange: function(a) {
            this._isUsageAllowed() || this.overwriteCookieConsent ? this.initFrame() : this.exitFrame()
        },
        exitFrame: function() {
            this.frame !== g && (this.$frameElement.attr("src",
                null), delete this.frame, this.$messageElement.show(), this.$messageElement.trigger("show"), this.$frameElement.hide())
        },
        initFrame: function() {
            if (!this.frame) {
                this.$frameElement.show();
                this.$messageElement.hide();
                this.$messageElement.trigger("hide");
                var a = this.$frameElement.data("src");
                this.$frameElement.attr("src", a);
                this.frame = new c(this.name, this.$frameElement[0])
            }
        },
        _isUsageAllowed: function() {
            var a = this.$element.data("consent-processing-ids");
            if (a !== g && (a = a.split(","), 0 < a.length)) {
                for (var b = 0; b < a.length; b++) {
                    var c =
                        a[b].trim();
                    if (!k.cookiecontroller.api.isUsageAllowed(c)) return !1
                }
                return !0
            }
            return k.cookiecontroller.api.isRegulationAccepted()
        }
    };
    mini.digital.comp.iframe = function() {
        return {
            init: function(a) {
                a = f(a);
                a.data("iframe", new d(a, "iframe"))
            },
            teardown: function(a) {
                a = f(a);
                var b = a.data("iframe");
                b && (a.removeData("iframe"), b.destroy())
            }
        }
    }()
})(window, mini.digital.$, mini.digital.util);
(function(b, f) {
    mini.digital.comp.standardshelf = function() {
        var k = 0,
            g = function(c) {
                function a(a) {
                    function c() {
                        d.addClass("md-standardshelf-item-reset").removeClass("md-standardshelf-item-show md-standardshelf-item-hide").hide().show(0).removeClass("md-standardshelf-item-reset");
                        b(y[u]).addClass("md-standardshelf-item-show")
                    }
                    if (!q) {
                        a = b(a.target);
                        var d = b(y[u]),
                            e = d.find(".md-standardshelf-bg .md-rimage-bp-wide"),
                            h = a.data("spinnerDir"),
                            k = 1 === h;
                        a.blur();
                        q = !0;
                        p[u] && !l && p[u].removeClass("md-standardshelf-item-show");
                        u += h;
                        u > w - 1 ? u = 0 : 0 > u && (u = w - 1);
                        g(u, k);
                        if (!l)
                            if (d.addClass("md-standardshelf-item-hide"), Modernizr.csstransitions)
                                if (e.length) e.on(f, function(a) {
                                    "top" === a.originalEvent.propertyName && (e.off(f), c())
                                });
                                else c();
                        else d.removeClass("md-standardshelf-item-show"), b(y[u]).addClass("md-standardshelf-item-show")
                    }
                }

                function d() {
                    var a = r.index % r.totalItems;
                    0 > a && (a += r.totalItems);
                    E.css("top", A.spinnerTopPixelsToShowItem0 - A.spinnerPixelHeightOfItem * a)
                }

                function e() {
                    v.setAttribute("stdDeviation", "0," + 500 * r.velocity)
                }

                function g(a, c, f) {
                    var g = r.index,
                        h = 0;
                    c ? (g += t.spinnerMinimumItemsInSpin, c = 0 <= g ? g % r.totalItems : r.totalItems + g % r.totalItems, a -= c, g = 0 <= a ? g + a : g + (r.totalItems + a)) : (g -= t.spinnerMinimumItemsInSpin, c = 0 <= g ? g % r.totalItems : r.totalItems + g % r.totalItems, a -= c, g = 0 >= a ? g + a : g - (r.totalItems - a));
                    f && b(r).animate({
                        index: r.index
                    }, {
                        duration: f
                    });
                    b(r).animate({
                        index: g
                    }, {
                        step: function(a) {
                            d();
                            r.velocity = Math.abs(a - h) / b.fx.interval;
                            e();
                            h = a
                        },
                        easing: t.spinnerEasingFunction,
                        duration: t.spinnerDuration,
                        complete: function() {
                            r.velocity =
                                0;
                            d();
                            e();
                            q = !1;
                            m()
                        }
                    });
                    r.index
                }

                function m() {
                    p[u] && p[u].addClass("md-standardshelf-item-show")
                }
                var p = [],
                    q = !1,
                    l = !1,
                    u = 0,
                    w = 0,
                    r = {
                        index: 0,
                        totalItems: 0
                    },
                    x = k++,
                    v, t = {
                        spinnerDelayOnOpenShelf: 200,
                        spinnerDuration: 1500,
                        spinnerEasingFunction: b.easie(.17, 0, 0, 1),
                        spinnerMinimumItemsInSpin: 10
                    },
                    A = {
                        spinnerPixelHeightOfItem: 26,
                        spinnerTopPixelsToShowItem0: -4
                    };
                var z = b(c);
                var B = z.find(".md-standardshelf-spinner-container");
                l = "static" === B.data("spinnerType");
                var E = B.find(".md-standardshelf-spinner");
                var y = z.find(".md-standardshelf-item-wrapper");
                (function() {
                    var a = 0;
                    B.find("li").each(function(c, d) {
                        c = b(d).outerWidth() + 3;
                        c > a && (a = c)
                    });
                    B.width(a)
                })();
                r.totalItems = B.find("li").length;
                (function() {
                    var a = B.find("li");
                    w = a.length;
                    var b = a.first().clone();
                    var c = a.eq(1).clone();
                    a = a.last().clone();
                    E.prepend(a).append(b).append(c)
                })();
                (function() {
                    if (!l) {
                        var c = b('\x3cbutton class\x3d"md-standardshelf-spinner-btn md-standardshelf-spinner-btn-up" data-spinner-dir\x3d"-1"\x3e\x3c/button\x3e');
                        var d = b('\x3cbutton class\x3d"md-standardshelf-spinner-btn md-standardshelf-spinner-btn-dn" data-spinner-dir\x3d"1"\x3e\x3c/button\x3e');
                        c.add(d).appendTo(B).on("click", a)
                    }
                })();
                (function() {
                    var a = z.find("p[data-item-index]");
                    p.length = w;
                    a.each(function(a, c) {
                        a = b(c);
                        c = parseInt(a.data("itemIndex").replace("item-", ""), 10);
                        p[c] = a
                    })
                })();
                (function() {
                    var a = "md-standardshelf-blur-" + x,
                        c = b('\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" version\x3d"1.1" style\x3d"width: 0; height: 0of"\x3e\x3cdefs\x3e\x3cfilter id\x3d"' + a + '"\x3e\x3cfeGaussianBlur in\x3d"SourceGraphic" stdDeviation\x3d"0,0" /\x3e\x3c/filter\x3e\x3c/defs\x3e\x3c/svg\x3e');
                    E.after(c);
                    v = c.find("feGaussianBlur")[0];
                    E.css({
                        "-webkit-filter": 'url("#' + a + '")',
                        filter: 'url("#' + a + '")'
                    })
                })();
                b(y[u]).addClass("md-standardshelf-item-show");
                B.addClass("md-standardshelf-spinner-init");
                B.length ? g(0, !0, t.spinnerDelayOnOpenShelf) : m()
            };
        return {
            init: function(b) {
                return new g(b)
            }
        }
    }()
})(mini.digital.$, mini.digital.util.transitionEndEvent);
(function(b, f, k, g) {
    function c(a) {
        return void 0 !== a && null !== a
    }
    var a = b([]),
        d = null,
        e = {},
        h = !1,
        m = void 0,
        p = void 0,
        q = function(a) {
            this.$elem = b(a);
            this.$ctasWrapper;
            this.$ctas;
            this.$ctasOverlay;
            this.$ctasConfigId;
            this.listeners = [];
            this.isInitialized = this.isNarrow = !1;
            this.overlayOpeningHandle;
            this.overlayOpenedHandle;
            this.overlayClosingHandle;
            this.overlayClosedHandle;
            this.gcdmLoadedHandle;
            this.vehicleData;
            this.isNewHomeCtas = this.isTopCtas = this.isGcdmLoaded = !1;
            this.init.apply(this)
        },
        l = function(c) {
            var d = b(c);
            d.data("ctas", new q(c));
            a = a.add(d)
        },
        u = function(c) {
            var d = b(c),
                e = d.data("ctas");
            e && e.destroy && (e.destroy(), d.removeData("ctas"), a = a.not(c))
        },
        w = function() {
            var a = null;
            d && d.length && d.data("overlay") && (a = d.data("overlay"));
            return a
        };
    q.prototype = {
        getSelectorParam: function(a) {
            return (a = location.pathname.match(new RegExp("\\." + a + "_([^\\.]+)\\."))) ? a[1] : void 0
        },
        getCtaSelector: function() {
            return this.getSelectorParam("launchCTA")
        },
        scrollCtas: function(a) {
            var c = b(window).scrollTop();
            a = a ? a : this.$ctasNavOffsetTop;
            void 0 === a && (a = this.$ctasNavOffsetTop = this.$navCtas.parent().offset().top);
            if (mini.digital.comp.myminishelf.shelfIsOpen()) return this.$ctasWrapper.removeClass("md-fix-ctas"), !1;
            this.$ctasWrapper.toggleClass("md-fix-ctas", c > a);
            c > a && !0 === this.isNewHomeCtas && this.$ctasWrapper.find(".md-nav-ctas").css({
                top: ""
            });
            c < a && (this.$ctasWrapper.removeClass("md-hide-fixed-ctas"), !0 === this.isNewHomeCtas && (this.moveCtas(), this.$ctasNavOffsetTop = void 0))
        },
        hideTopCtas: function() {
            this.isTopCtas && (this.$ctas.addClass("md-ctas-hide"),
                this.$elem.data("ctas-hide-top-ctas", !0))
        },
        onConfiguratorUnload: function() {
            this.isTopCtas && (this.$ctas.removeClass("md-ctas-hide"), this.$elem.data("ctas-hide-top-ctas", !1));
            this.isTopCtas || this.updateCtasOnConfigurator()
        },
        onOverlayOpening: function() {
            this.isGcdmLoaded || (this.gcdmLoadedHandle = b.subscribe("md:formgcdm:loaded", this.onGCDMLoaded.bind(this)));
            b.unsubscribe(this.overlayOpeningHandle)
        },
        onOverlayOpened: function() {
            this.isGcdmLoaded && this.sendVehicle(d.data("configured-vehicle"));
            void 0 !== m &&
                (m.data("overlay").settings.source = p, p = m = void 0);
            b.unsubscribe(this.overlayOpenedHandle)
        },
        onOverlayClosing: function() {
            b.unsubscribe(this.overlayClosingHandle);
            b.unsubscribe(this.overlayOpenedHandle);
            this.gcdmLoadedHandle && b.unsubscribe(this.gcdmLoadedHandle);
            d = null
        },
        onOverlayClosed: function(a) {
            a.overlayContent.empty();
            b.unsubscribe(this.overlayClosedHandle)
        },
        onGCDMLoaded: function() {
            d && this.sendVehicle(d.data("configured-vehicle"));
            this.isGcdmLoaded = !0
        },
        sendVehicle: function() {
            var a = k.currentModel.get(),
                c = b(".md-custom-selector .md-cs-accordion-active .md-cs-carousel-item-active[data-bodytype-code]").find(".md-cs-image-front .md-rimage"),
                e = b(c).find("img");
            c = e.data("cosySrcset");
            e = e.data("cosySrcset");
            var f = {
                exteriorImageUrl: "",
                frontImageUrl: "",
                interiorImageUrl: ""
            };
            f = mini.digital.comp.configurator.getCosyImages ? mini.digital.comp.configurator.getCosyImages() : f;
            d.data("md-current-modelcode") && (c = d.data("md-currentSrcwide"), e = d.data("md-currentSrcwide"));
            this.vehicleData ? (this.vehicleData.bodyName =
                a.modelRangeName, this.vehicleData.vehicleName = a.modelName, this.vehicleData.cosyImageInfos = [{}, {}, {
                    urlString: f.exteriorImageUrl
                }], b.publish("md:configurator:gcdmRequest", [this.vehicleData])) : a.modelCode && (c = this.isNarrow ? c : e, void 0 === c && void 0 !== a.cosyImageInfos && (c = a.cosyImageInfos[2].urlString), b.publish("md:configurator:gcdmRequest", [{
                modelRange: a.modelRangeCode,
                bodyName: a.modelRangeName,
                vehicleName: a.modelName,
                modelName: a.modelName,
                modelCode: a.modelCode,
                cosyImageInfos: [{}, {}, {
                    urlString: c
                }]
            }]))
        },
        updateCtas: function(a) {
            (function(a, c) {
                window.requestAnimationFrame(function() {
                    k.teardown(a);
                    u(a);
                    a.html(b(c).html());
                    k.initialise(a);
                    l(a);
                    f.share && f.share.bindEvents && f.share.bindEvents()
                })
            })(this.$elem, a)
        },
        onPageChanged: function(a) {
            var b = a.modelCode,
                c = a.modelRangeCode,
                d = k.currentModel.history().modelCode,
                e = k.currentModel.history().modelRangeCode;
            "" === a.url || "" === k.currentModel.history().url || b === d && c === e || this.updateCtasItems(a.url, "ctas.header")
        },
        updateCtasOnConfigurator: function() {
            if (!this.isTopCtas) {
                var a =
                    window.location.pathname;
                a && this.updateCtasItems(a, "ctas.footer.configurator")
            }
        },
        updateCtasItems: function(a, b) {
            b || (b = "ctas.header");
            var c = this,
                d = k.getContentUrl(a, b);
            e[d] ? this.updateCtas(e[d]) : k.request.get(d, "html").then(function(a) {
                e[d] = a;
                c.updateCtas(a)
            })
        },
        constructTrackingEvent: function() {
            var a = this.$elem.data("tracking-component"),
                b = this.$elem.data("tracking-page-index");
            return {
                trackedEvent: {
                    eventInfo: {
                        eventName: "",
                        eventAction: "click",
                        timeStamp: "",
                        cause: "default",
                        effect: "",
                        eventPoints: ""
                    },
                    category: {
                        primaryCategory: a.category.primaryCategory,
                        subCategory01: ""
                    },
                    attributes: {
                        relatedComponentID: a.componentInfo.componentId,
                        relatedComponentName: a.componentInfo.componentName,
                        relatedComponentPrimaryCategory: "process"
                    }
                },
                pageIndex: b
            }
        },
        onClickCtasOverlay: function(a) {
            a.preventDefault();
            d = b(a.currentTarget);
            a = d.data();
            "cookieConsent" === a.formType ? k.cookiecontroller.rejectCookies() : (a.mdCurrentModelcode && k.currentModel.set({
                modelRangeCode: a.mdCurrentModelrangecode,
                modelRangeName: a.mdCurrentModelrangename,
                modelCode: a.mdCurrentModelcode,
                modelName: a.mdCurrentModelname,
                cosyImages: a.mdCurrentsrcwide
            }), "configurator" === a.formType ? (a = this.constructTrackingEvent(), b.publish("md:selectormanager:render", [a])) : (this.overlayOpeningHandle = b.subscribe("md:overlay:opening", this.onOverlayOpening.bind(this)), this.overlayOpenedHandle = b.subscribe("md:overlay:opened", this.onOverlayOpened.bind(this)), this.overlayClosingHandle = b.subscribe("md:overlay:closing", this.onOverlayClosing.bind(this)), this.overlayClosedHandle = b.subscribe("md:overlay:closed", this.onOverlayClosed.bind(this)),
                a.overlay.openOverlay()))
        },
        onClickToggleCtas: function() {
            this.$ctasWrapper.toggleClass("md-hide-fixed-ctas")
        },
        ctaOverlay: function(a) {
            this.isNarrow = !k.matchmedia.wide.matches;
            a.filter('[data-form-type\x3d"fullpage"]').each(function(a, c) {
                a = b(c);
                c = a.attr("href").replace(/.html$/gi, "") + "/jcr:content/main.html" + window.location.search;
                a.overlay({
                    source: c,
                    ajax: !0,
                    style: "full",
                    veilZIndex: 1030,
                    type: "overlay",
                    deepClone: !0,
                    fireScrollEvents: !0,
                    initialiseSource: !0,
                    history: !0
                });
                b.subscribe("md:overlay:contentLoaded",
                    function() {
                        b.publish("md:resize");
                        mini.digital.util.lazyLoadImage.checkImages()
                    });
                b.subscribe("md:overlay:scroll", function() {
                    mini.digital.util.lazyLoadImage.checkImages()
                })
            });
            a.filter(':not([data-form-type\x3d"configurator"])').filter(':not([data-form-type\x3d"fullpage"])').filter(':not([data-form-type\x3d"cookieConsent"])').each(function(a, c) {
                a = b(c);
                c = a.attr("href") || "";
                var d = !!a.attr("data-use-overlay") && null != c.match(/\/home\/forms\//);
                c = -1 !== c.indexOf(".snucrfo") ? c.replace(".snucrfo", "/jcr:content/main") +
                    window.location.search : c.replace(/.html$/gi, "") + "/jcr:content/main" + (d ? ".formoverlay.html" : ".html") + window.location.search;
                a.overlay({
                    source: c,
                    ajax: !0,
                    titleFromContent: !0,
                    titleSelector: ".md-custom-overlay-header-title",
                    style: "steps",
                    veilZIndex: 1030,
                    initialiseSource: !0,
                    history: !0
                })
            });
            a.off("click.ctas");
            a.on("click.ctas", this.onClickCtasOverlay.bind(this))
        },
        initTopCtas: function() {
            var a = this,
                c = this.$elem.data("ctas-hide-top-ctas");
            this.isNewHomeCtas = this.$elem.data("isNewhome");
            if (g.wide.matches && !this.isInitialized) {
                this.isInitialized = !0;
                if (this.$ctasWrapper) var d = this.$ctasWrapper.offset().top;
                this.$ctasWrapper.addClass("md-hide-fixed-ctas");
                this.scrollCtas(d);
                b(window).on("scroll." + this.componentId, k.throttle(function() {
                    a.scrollCtas(void 0)
                }))
            }
            c && !0 === c && this.hideTopCtas();
            !0 === this.isNewHomeCtas && this.moveCtas()
        },
        setTopCtas: function() {
            this.isTopCtas = this.$elem.closest(".md-navigation").length;
            var a = this;
            this.isTopCtas && (this.initTopCtas(), this.listeners.push(b.subscribe("md:resize", this.initTopCtas.bind(this))), this.listeners.push(b.subscribe("md:mobilenav:open",
                function() {
                    a.$ctasWrapper.addClass("md-nav-ctas-display")
                })), this.listeners.push(b.subscribe("md:mobilenav:closed", function() {
                a.$ctasWrapper.removeClass("md-nav-ctas-display")
            })));
            this.isNewHomeCtas = this.$elem.data("isNewhome");
            !0 === a.isNewHomeCtas && setTimeout(function() {
                a.moveCtas()
            }, 500)
        },
        moveCtas: function() {
            var a = b(".md-cpiwrapper-area"),
                c = b(".md-component.md-pop-ie");
            void 0 !== a && b(a).offset() && (a = b(a).offset().top, c && c.is(":visible") && c.outerHeight() && (a -= c.outerHeight()), k.browser.isIPad && (c =
                b(document).find('.md-component[data-component-name\x3d"teaser"]')) && 0 < c.length && (c = b(c[0]).find(".teaser-title")) && 0 < c.length && (a -= b(c[0]).height()), this.$navCtas.parent().css({
                top: a + "px"
            }));
            this.$ctas.removeClass("md-hidden-cta-newhome")
        },
        setCtasWithReturnUrl: function() {
            var a = this.$elem.find("a").filter("[data-return-url]");
            a.length && a.each(function(a, c) {
                a = b(c);
                c = a.attr("href").replace(/.html$/gi, "") + ".html#returnURL\x3d" + window.location.href;
                a.attr("href", c)
            })
        },
        setInternals: function() {
            this.componentId =
                "ctas-" + Math.floor(Math.random() * (new Date).getTime());
            this.$ctasWrapper = this.$elem.closest(".md-nav-ctas-wrapper");
            this.$navCtas = this.$elem.closest(".md-nav-ctas .md-component");
            this.$ctasNavOffsetTop = void 0;
            this.$ctas = this.$elem.find(".md-ctas");
            this.$ctasOverlay = this.$elem.find("a").filter("[data-overlay]");
            this.$ctasConfigId = this.$elem.find("a").filter("[data-configuration-id]")
        },
        attachDloSelectorsToOverlaySource: function(a) {
            var b = this.getSelectorParam("dloPartner"),
                c = this.getSelectorParam("dloOutlet");
            void 0 !== b && void 0 !== c && (c = "dloPartner_" + b + ".dloOutlet_" + c, b = a.data("overlay"), void 0 !== b && (m = a, p = b.settings.source, a = p.replace("/main.html", "/main." + c + ".html"), b.settings.source = a))
        },
        setLoadAction: function() {
            var a = k.location.getQueryParams().launchCTA;
            void 0 === a && (a = this.getCtaSelector());
            if (void 0 !== a && !h) {
                var c = a,
                    d = void 0,
                    e = a.indexOf("_"); - 1 !== e && (c = a.substring(0, e), d = a.substring(e + 1));
                a = this.$elem.find('.md-cta [data-form-type\x3d"' + c + '"]');
                0 < a.length && (a = b(a[0]), a.data("launchCTAInfo", d), a.data("ctaAutoLoaded",
                    !0), h = !0, this.attachDloSelectorsToOverlaySource(a), a.click())
            }
        },
        initListeners: function() {
            var a = this;
            this.listeners.push(b.subscribe("md:currentModel:changed", this.onPageChanged.bind(this)));
            this.listeners.push(b.subscribe("md:configurator:initialised", this.updateCtasOnConfigurator.bind(this)));
            this.listeners.push(b.subscribe("h5vco.configurationChanged", function(b) {
                a.vehicleData = b
            }));
            this.listeners.push(b.subscribe("md:configurator:unload", this.onConfiguratorUnload.bind(this)));
            this.listeners.push(b.subscribe("md:content:updated",
                this.updateCtasItems.bind(this)))
        },
        processConfigIdLinks: function() {
            function a(a, b, c) {
                var d = new RegExp("([?\x26])" + b + "\x3d.*?(\x26|$)", "i"),
                    e = -1 !== a.indexOf("?") ? "\x26" : "?";
                return a.match(d) ? a.replace(d, "$1" + b + "\x3d" + c + "$2") : a + e + b + "\x3d" + c
            }

            function c(a) {
                var b = a.indexOf("/_jcr_content/ctas/cta");
                if (-1 === b) return a;
                var c = a.indexOf(".html", b);
                return -1 == c ? a : a = a.substring(0, b) + a.substring(c)
            }
            this.$ctasConfigId.each(function(d, e) {
                d = b(e);
                e = d.data("configuration-id");
                var f = d.data("form-type");
                if ("none" !==
                    e && "none" !== f) {
                    var g = d.attr("href");
                    g = c(g);
                    g = a(g, "configurationID", e);
                    g = a(g, "configurationCTA", f);
                    d.attr("href", g)
                }
            })
        },
        init: function() {
            this.setInternals();
            this.processConfigIdLinks();
            this.setCtasWithReturnUrl();
            this.setTopCtas();
            this.$ctasOverlay.length && this.ctaOverlay(this.$ctasOverlay);
            this.setLoadAction();
            this.initListeners()
        },
        destroy: function() {
            k.unsubArray(this.listeners);
            this.$ctasOverlay.off("click.ctas");
            b(window).off("scroll." + this.componentId)
        }
    };
    f.ctas = {
        init: l,
        teardown: u,
        ctaOverlay: function(b) {
            var c =
                a.eq(0);
            c.length && (c = c.data("ctas")) && c.ctaOverlay && c.ctaOverlay(b)
        },
        hideTopCtas: function() {
            a.each(function(b) {
                (b = a.eq(b).data("ctas")) && b.isTopCtas && b.hideTopCtas()
            })
        },
        getCurrentOverlay: w,
        getCurrentLaunchCTAInfo: function() {
            var a = w();
            if (c(a) && c(a.$elem)) return a.$elem.data("launchCTAInfo")
        },
        clearCurrentLaunchCTAInfo: function() {
            var a = w();
            c(a) && c(a.$elem) && a.$elem.removeData("launchCTAInfo")
        },
        Ctas: q
    }
})(mini.digital.$, mini.digital.comp, mini.digital.util, mini.digital.util.matchmedia);
(function() {
    mini.digital.comp.inpagecta = function(b, f) {
        function k(a) {
            function d() {
                var a = l.getBoundingClientRect().top,
                    c = l.getBoundingClientRect().bottom;
                (a = 0 <= a && c <= window.innerHeight && b(l).is(":visible")) ? u = window.setTimeout(e(), 500): window.clearTimeout(u);
                return a
            }

            function e() {
                var d = {
                        eventInfo: {},
                        attributes: {},
                        category: {}
                    },
                    e = {
                        attributes: {},
                        category: {},
                        componentInfo: {}
                    };
                d.eventInfo.eventName = "CTA impression";
                d.eventInfo.eventAction = "view";
                d.eventInfo.eventPoints = "";
                d.eventInfo.timeStamp = Date.now().toString();
                d.eventInfo.effect = "CTA button visible";
                f(d);
                d = a.closest(".md-component");
                e.attributes.contentHeadline = p;
                e.componentInfo.componentID = k;
                e.componentInfo.componentName = q;
                e.category.primaryCategory = "process";
                e.category.subCategory01 = "";
                try {
                    g.updateComponentTracking(d, e, c)
                } catch (v) {
                    console.log(v)
                }
                b.unsubscribe(w)
            }

            function f(a) {
                var b = {
                    eventInfo: {},
                    attributes: {},
                    category: {}
                };
                b.eventInfo.cause = "default";
                b.attributes.relatedComponentId = k;
                b.attributes.relatedComponentName = q;
                b.attributes.relatedPrimaryCategory =
                    "process";
                b.attributes.relatedContentHeadline = p;
                b.category.primaryCategory = "button";
                b.category.subCategory01 = "navigation";
                try {
                    g.addEventTracking(b, a, c)
                } catch (v) {
                    console.log(v)
                }
            }
            var k = a.attr("id"),
                p = a.parents(".md-component").first().find("h2, h3, h4, h5").text().trim(),
                q = a.parents(".md-component").first().data("component-name");
            a.click(function(b) {
                var d = {
                        eventInfo: {},
                        attributes: {},
                        category: {}
                    },
                    e = {
                        attributes: {},
                        category: {},
                        componentInfo: {}
                    };
                d.eventInfo.eventName = "CTA button click";
                d.eventInfo.eventAction =
                    "click";
                d.eventInfo.eventPoints = "";
                d.eventInfo.timeStamp = Date.now().toString();
                d.eventInfo.effect = "CTA button clicked";
                d.attributes.CTAButtonWording = b.target.outerText;
                f(d);
                b = a.closest(".md-component");
                e.attributes.contentHeadline = p;
                e.componentInfo.componentID = k;
                e.componentInfo.componentName = "standard";
                e.category.primaryCategory = "standard";
                e.category.subCategory01 = "";
                try {
                    g.updateComponentTracking(b, e, c)
                } catch (t) {
                    console.log(t)
                }
            });
            var l = a.context,
                u;
            var w = b.subscribe("md:scrolled", d);
            d()
        }
        var g = {},
            c =
            0;
        return {
            init: function(a, b, e, h) {
                a = e(a);
                (b = a.find("a[data-overlay]")) && 0 < b.length && new f.Ctas(a);
                h && (g = h, c = h.getCurrentPageIndex(), "undefined" != typeof a.data("trackingComponent") && k(a))
            }
        }
    }(mini.digital.$, mini.digital.comp.ctas)
})();
(function() {
    mini.digital.comp.dealerlocator = function(b) {
        var f;
        return {
            init: function(k) {
                mini.digital.util.googlemaps.loadGoogleMaps(function() {
                    var g = {
                        zoom: 5,
                        center: new google.maps.LatLng(55, -2)
                    };
                    f = new google.maps.Map(b(".md-dloc-map", k)[0], g)
                })
            },
            map: f
        }
    }(mini.digital.$)
})();
(function() {
    mini.digital.comp.navigation = function(b, f) {
        function k() {
            f.publish("md:navigation:dlopened")
        }

        function g(a) {
            var b = window.location.pathname.match(/\.launchShelf_([^\.]+)\./);
            b = b ? a.find("#md-nav-level1-" + b[1] + '[name\x3d"md-nav-shelves"]') : f([]);
            a = a.find(".md-nav-show");
            return b.length ? (b.prop("checked", !0), a.prop("checked", !0), !0) : !1
        }

        function c(a) {
            a.find('input[name\x3d"md-nav-shelves"]:checked').trigger("change");
            a.find('input[name\x3d"md-nav-shelves"]:checked').trigger("click")
        }

        function a(a) {
            a.find(".md-nav-show").prop("checked",
                !1);
            a.trigger("md-nav-statechange");
            f.publish("md:mobilenav:closed")
        }

        function d(a) {
            var b = a.find("[name\x3dmd-nav-shelves]:checked").parent().find(".md-component");
            r();
            a.closest(".md-navigation").find(".md-nav-shelves-closed").prop("checked", !0);
            a.trigger("md-nav-statechange");
            f.publish("md:navigation:component:closed", [b])
        }

        function e(a) {
            var c = "focusin.md-nav-focusout-" + a.data("instanceId"),
                d = "click.md-nav-focusout-" + a.data("instanceId");
            f(document).off(c).on(c, a[0], z);
            if (b.browser.isMobile) f(document).off(d).on(d,
                a[0], z)
        }

        function h(a) {
            f(document).off("focusin.md-nav-focusout-" + a.data("instanceId"));
            b.browser.isMobile && f(document).off("click.md-nav-focusout-" + a.data("instanceId"))
        }

        function m(a) {
            return a.find(".md-nav-show").is(":checked")
        }

        function p(a) {
            return a.find(".md-nav-shelves-closed").is(":checked")
        }

        function q(a) {
            b.veil.manageVeil("open", a.data("veilProps"), I)
        }

        function l(a) {
            b.veil.manageVeil("close", a.data("veilProps"), I)
        }

        function u(a) {
            var b = a.find('\x3e [name\x3d"md-nav-shelves"]');
            b.is(":checked") ||
                (b.prop("checked", !0), a = a.closest(".md-navigation"), a.trigger("md-nav-statechange"))
        }

        function w(a) {
            var b = a.find(".md-nav-item-level1");
            b.not(":has(.md-nav-shelf)").addClass("md-nav-item-noshelf");
            b.not(":has(.md-sub-nav)").addClass("md-nav-item-nosubnav");
            b.each(function(a) {
                a = b.eq(a);
                "" === f.trim(a.html()) && a.remove()
            })
        }

        function r() {
            b.transitions.syncStart([{
                selector: ".md-nav-shelf, .md-main, .md-footer, .md-header",
                props: ["transform"]
            }])
        }

        function x(a) {
            r();
            f(a.delegateTarget).trigger("md-nav-statechange")
        }

        function v(a) {
            a = f(a.delegateTarget);
            for (var b = a.parents(), c = 0; c < b.length; c++)
                if (f(b[c]).hasClass("md-external-share")) {
                    I = f(b[c]);
                    break
                } b = a.find("[name\x3dmd-nav-shelves]:checked").closest(".md-nav-item-level1");
            a.removeClassRegex(/(^|\s)md-nav-\S+/g);
            b && b.length && (a.addClass("md-nav-shelfopen"), b.hasClass("md-nav-item-nosubnav") && a.addClass("md-nav-shelfopen-nosubnav"));
            mini.digital.util.matchmedia.wide.matches ? p(a) ? l(a) : q(a) : m(a) ? (q(a), f(".md-dealerpages-v2 header.md-js-header").toggleClass("open-nav",
                !0)) : (l(a), f(".md-dealerpages-v2 header.md-js-header").toggleClass("open-nav", !1));
            mini.digital.util.matchmedia.wide.matches ? p(a) ? h(a) : e(a) : m(a) ? e(a) : h(a);
            f.publish("md:navigation:toplevelclicked")
        }

        function t(a) {
            var b = f(a.delegateTarget);
            b.find("#" + f(a.target).attr("for")).is(":checked") ? (d(b), a.preventDefault()) : f.publish("md:mobilenav:open")
        }

        function A(a) {
            a = f(a.delegateTarget);
            if (p(a)) {
                var b = a.find(".md-nav \x3e li:first-child \x3e .md-nav-item-link");
                b.is("label") ? (a.find('[name\x3d"md-nav-shelves"]').not(".md-nav-shelves-closed").first().prop("checked",
                    !0).focus(), a.trigger("md-nav-statechange")) : b.focus()
            }
        }

        function z(b) {
            var c = b.data;
            var e = f(b.target);
            if (!(e.hasClass("md-cs-selector-nav") && e.hasClass("md-cs-nav-next") && e.hasClass("md-icn-angle-right") && e.hasClass("md-newhome-next") || 0 < e.closest(".md-myminishelf").length || e.closest(".md-custom-layer").length && e.closest(".md-custom-layer").hasClass("md-enabled") || !e.closest(".md-body").length || e.closest(".md-custom-overlay").length || e.hasClass("md-nav-item-link")))
                if (e.closest(c).length) e.closest('.md-nav, .md-nav-title, input[name\x3d"md-nav-show"], input[name\x3d"md-nav-shelves"]').length ||
                    d(f(c));
                else if ("focusin" !== b.type || b.target !== document.body) a(f(c)), d(f(c))
        }

        function B(a) {
            u(f(a.target).closest(".md-nav-item-level1"))
        }

        function E(a) {
            a = f(a.delegateTarget);
            u(a.find(".md-nav-item-level1.current"));
            a.trigger("md-nav-statechange");
            f.publish("md:mobilenav:open")
        }

        function y(a) {
            a = f(a.delegateTarget);
            f.publish("md:mobilenav:closed");
            d(a)
        }

        function C(a) {
            a = f(a.target).parent().children(".md-nav-shelf");
            a.is(".md-component-defer") && (a.removeClass("md-component-defer"), mini.digital.util.initialise(a))
        }
        var O = 0,
            I = void 0;
        return {
            init: function(b) {
                var e = !1,
                    h = f(b),
                    l = ++O,
                    r = {
                        zIndex: 8,
                        id: "nav-veil-" + l
                    };
                h.data("veilProps", r);
                h.data("instanceId", l);
                w(h);
                h.on("change", 'input[name\x3d"md-nav-shelves"]', x).on("click focus", ".md-nav-item-level1 \x3e label", t).on("focusin", ".md-nav-item-level1 .md-nav-shelf", B).on("change", 'input[name\x3d"md-nav-show"]:checked', E).on("change", 'input[name\x3d"md-nav-show"]:not(:checked)', y).on("focus", ".md-nav-shelves-closed", A).on("md-nav-statechange", v);
                f('input[name\x3d"md-nav-shelves"]:not(.md-nav-shelves-closed)',
                    b).one("click", C);
                h.find(".md-form-gcdm-dealerlocator").parents(".md-nav-item-level1").find("\x3e input").click(k);
                mini.digital.util.matchmedia.wide.addListener(function() {
                    h.trigger("md-nav-statechange")
                });
                f.subscribe("md:veil:click", function(b) {
                    b.id === r.id && (a(h), d(h))
                });
                f.subscribe("md:ht:mouseenter", function() {
                    h.addClass("md-disabled-hover")
                });
                f.subscribe("md:ht:click", function() {
                    h.addClass("md-disabled-persist")
                });
                f.subscribe("md:ht:mouseleave", function() {
                    h.removeClass("md-disabled-hover")
                });
                f.subscribe("md:mymini:closed", function() {
                    h.removeClass("md-disabled-persist")
                });
                m(h) && (E({
                    delegateTarget: h
                }), e = !0);
                p(h) || (c(h), e = !0);
                g(h) && (E({
                    delegateTarget: h
                }), c(h), e = !0);
                e && h.trigger("md-nav-statechange");
                f.subscribe("md:customselector:carousel:switch", function(a) {
                    h.length && a && "boolean" === typeof a.isCampaign && h.find(".md-nav-item-level1:first-child").toggleClass("md-nav-item-current", a.isCampaign)
                });
                "true" != h.attr("data-md-navigation-newlayout") || h.hasClass("md-navigation-edit") || "undefined" !==
                    typeof mini.digital.comp.navigation.setReworkStyles && mini.digital.comp.navigation.setReworkStyles(h);
                "undefined" !== typeof mini.digital.comp.navigation.Tracking && new mini.digital.comp.navigation.Tracking(h)
            },
            ensureOpen: u,
            closeShelves: d,
            isShelfOpen: function(a) {
                return a.find('\x3e [name\x3d"md-nav-shelves"]').is(":checked")
            }
        }
    }(mini.digital.util, mini.digital.$)
})();
(function() {
    mini.digital.comp.footerlinks = function(b, f, k) {
        function g(a) {
            var c = b(a.currentTarget).parent().children(u.pageSplit);
            c.is(u.componentDefer) && (c.removeClass(u.componentDefer.substr(1)), f.initialise(c));
            a.preventDefault()
        }

        function c(a) {
            (a.sandbox && a.sandbox.find(a.selectorElem)).each(function(c, d) {
                c = b(d);
                d = c.prev(a.selectorToggle);
                var e;
                d.one("click", g);
                (e = c.data("pagesplit")) && e.destroy && e.destroy();
                if (l && d.hasClass(u.linkOverlay.substr(1))) return !0;
                a.props.toggleLink = d;
                c.pagesplit(a.props)
            })
        }

        function a(a) {
            var b = a.data("overlay");
            b && b.destroy && b.destroy();
            a.off("click.click-md-footer-link-overlay")
        }

        function d(a) {
            var c = b(a.currentTarget).data("overlay");
            c && c.toggleOverlay && c.toggleOverlay(a);
            a.preventDefault()
        }

        function e(c) {
            c.find(u.linkOverlay).each(function(c, e) {
                c = b(e);
                e = c.next(u.footerShelf);
                a(c);
                c.overlay({
                    source: e,
                    initialiseSource: !0
                });
                c.on("click.click-md-footer-link-overlay", d)
            })
        }

        function h(c) {
            c.find(u.linkOverlay).each(function(c, d) {
                a(b(d))
            })
        }

        function m(a) {
            (l = !f.matchmedia.wide.matches) ?
            (c({
                sandbox: a,
                selectorElem: u.footerShelf,
                selectorToggle: u.footerLinkShelf,
                props: {
                    veil: !0,
                    direction: "both",
                    key: "footer",
                    level: 1
                }
            }), e(a)) : (c({
                sandbox: a,
                selectorElem: u.footerShelf,
                selectorToggle: u.footerLinkShelf,
                props: {
                    veil: !0,
                    direction: "up",
                    key: "footer",
                    level: 1
                }
            }), h(a))
        }

        function p() {
            m(q)
        }
        var q = {},
            l = !1,
            u = {
                pageSplit: ".md-pagesplit",
                componentDefer: ".md-component-defer",
                linkOverlay: ".md-footer-link-overlay",
                footerShelf: ".md-footer-shelf",
                footerLinkShelf: ".md-footer-link-shelf",
                footerList: ".md-footer-links-list"
            };
        return {
            init: function(a) {
                q = b(a);
                m(q);
                b.subscribe("md:resize", p)
            },
            openShelf: function(a) {
                var b = a.find(u.footerShelf);
                a.parents(u.footerList).find(u.footerShelf).removeClass("md-footer-edit-open");
                a.find(u.pageSplit).is(u.componentDefer) && (b.removeClass(u.componentDefer.substr(1)), f.initialise(b));
                b.addClass("md-footer-edit-open")
            },
            closeShelf: function(a) {
                a.find(u.footerShelf).removeClass("md-footer-edit-open")
            },
            isShelfOpen: function(a) {
                return a.find(u.footerShelf).hasClass("md-footer-edit-open")
            }
        }
    }(mini.digital.$,
        mini.digital.util)
})();
(function() {
    mini.digital.comp.keystats = function(b, f) {
        function k(a) {
            a = b.trim((a + "").replace(/,/g, ".")).split(" - ");
            return {
                left: g(1 * a[0], !1),
                right: a[1] ? g(1 * a[1]) : 0
            }
        }

        function g(b, c) {
            b *= 1;
            var d = b.toFixed(1);
            return 100 <= b || -1 < d.indexOf(".0") ? Math.floor(d) : c && "." !== a ? f.formatDecimal(d, a) : d
        }
        var c = [],
            a;
        return {
            init: function(d) {
                var e = b(d),
                    f = e.find(".md-js-rating-data"),
                    m = e.find(".md-js-ks-ratings"),
                    p = e.find(".md-js-ks-toggle"),
                    q = p.data("toggle-type");
                e.find(".md-chart-co2");
                a = b(".md-decimal-char").length && b(".md-decimal-char").filter(":first").data("decimalSeparator");
                e.on("click", ".md-js-tooltip-trigger", function() {
                    b(this).closest(".md-ks-desc").toggleClass("md-hide-tooltip");
                    if (Modernizr.touch) {
                        b(this).next().css("display", "none");
                        var a = b(this).next()[0].offsetHeight;
                        (a || 0 === a) && b(this).next().css("display", "")
                    }
                    return !1
                }).find(".md-ks-desc").each(function(a, c) {
                    b(c).find(".md-tooltip").addClass("md-tooltip-loaded");
                    b(c).find(".md-tooltip").length && b(c).addClass("md-hide-tooltip")
                });
                c.push(b.subscribe("md:toggle:update", function(a) {
                    var c = a.value.toLowerCase(),
                        d = f.data("rating-max-" + c),
                        h = f.data("rating-min-" + c);
                    if (a.type && a.type === q) {
                        m.attr("data-rating", d).find(".md-chart-co2-current").text(d);
                        e.find(".md-js-efficiency-rating").each(function(a) {
                            "max" == b(this).attr("data-co2-type") && b(this).attr("data-co2", d).text(d);
                            "min" == b(this).attr("data-co2-type") && b(this).attr("data-co2", h).text(h)
                        });
                        var l = e.find(".md-js-efficiency-rating[data-co2-type\x3dmin]"),
                            p = e.find(".md-js-efficiency-rating[data-co2-type\x3dmax]"),
                            t = e.find("span[data-co2-rangeindicator]");
                        null != t && (h != d && void 0 != d && null != d && void 0 != h && null != h ? t.show() : t.hide());
                        h != d ? l.show() : (l.hide(), p.show());
                        e.find(".md-js-ks-val").each(function(d, e) {
                            var f = b(e);
                            d = k(f.data("val-currmeasure"));
                            var h = f.data("val-" + c),
                                l = k(f.data("val-" + c));
                            f.closest(".md-ks-desc").find(".md-js-ks-tt-val").text(f.data("val-" + a.value.toLowerCase()));
                            b({
                                someValue: +d.left
                            }).animate({
                                someValue: +l.left
                            }, {
                                duration: 600,
                                easing: "swing",
                                step: function() {
                                    var a = l.right / l.left,
                                        b = (a = l.right ? g(this.someValue * a, !0) : "") ? " - " : "";
                                    f.text(g(this.someValue,
                                        !0) + b + a)
                                },
                                complete: function() {
                                    f.data("val-currmeasure", h)
                                }
                            })
                        });
                        e.find(".md-js-ks-img").each(function(a, d) {
                            a = b(d);
                            d = a.data("val-" + c);
                            a.find("img").attr("src", d)
                        })
                    }
                }));
                c.push(b.subscribe("md:currentModel:changed", function(a) {
                    p.find('input[value\x3d"' + a.transmission + '"]').click()
                }))
            },
            teardown: function() {
                for (; c.length;) b.unsubscribe(c.pop())
            }
        }
    }(mini.digital.$, mini.digital.util)
})();
(function() {
    mini.digital.comp.parallax = mini.digital.comp.parallax || {};
    mini.digital.comp.parallax.customiser = mini.digital.comp.parallax.customiser || {};
    mini.digital.comp.parallax.customiser.templates = mini.digital.comp.parallax.customiser.templates || {};
    mini.digital.comp.parallax = function() {
        return {
            init: function() {},
            instances: {}
        }
    }()
})();
(function(b, f, k) {
    var g = function(c, a, d) {
        function e(a) {
            a = a.find(".md-prodinfo-header").data("transmission");
            if (void 0 === a || null === a) a = "Default";
            return a
        }

        function g(a) {
            a = a.find(".md-prodinfo-header").data("availableTransmissions");
            var b = [];
            a && (b = -1 < a.indexOf(",") ? a.split(",") : [a]);
            return b
        }

        function m(a) {
            y.$toggle.find('input[value\x3d"' + a.transmission + '"]').click()
        }

        function p(a) {
            a.preventDefault();
            a = f(a.currentTarget);
            q(a, y.$tabs);
            c.trigger("md:productinfo:tab", [a]);
            k.lazyLoadImage.checkImages();
            y.$compare &&
                A()
        }

        function q(a, b) {
            b.find("." + y.selectorActive).removeClass(y.selectorActive);
            a.addClass(y.selectorActive)
        }

        function l() {
            y.$modal.removeClass(y.selectorActive);
            f.publish("md:productinfo:close", [y.$modal])
        }

        function u(a) {
            a.matches && (y.$toggle.appendTo(y.$intro), l(), y.hasCompare && !y.$compare && x())
        }

        function w(a) {
            a.value && a.type && a.type === y.$toggle.data("toggle-type") && (y.$toggleContent.removeClass(function(a, b) {
                return (a = b.match(/md-is-trans-\w+/g)) ? a.join(" ") : ""
            }), y.$toggleContent.addClass("md-is-trans-" +
                a.value.toLowerCase()), y.transmission = a.value, y.$compare && y.carouselIsLoaded && A())
        }

        function r(a, b) {
            var c = f.Deferred();
            y.compareData = {
                relativeResourcePath: a.attr(y.compareAttr + "-resource"),
                next: a.attr(y.compareAttr + "-next"),
                prev: a.attr(y.compareAttr + "-prev")
            };
            C.push(f.subscribe("md:cpi:data", function(a, d) {
                if ("models" === a && d && d.length) {
                    if ("equipment" == b || "productinfo" == b)
                        for (y.compareData.models = [], a = 0; a < d.length; a++) {
                            var e = -1;
                            "equipment" == b && "true" != d[a].hideEquipment && (e = a);
                            "productinfo" == b && "true" !=
                                d[a].hideProductInfo && (e = a); - 1 != e && y.compareData.models.push(d[e])
                        } else y.compareData.models = d;
                    c.resolve()
                }
            }));
            return c.promise()
        }

        function x() {
            var a = d + "-compare";
            y.$compare = f([]);
            y.$hasCompare = c.find(a);
            var e = v();
            0 < e.length && c.addClass(y.selectorLoadingCompare);
            0 < e.length && y.$hasCompare.each(function(b) {
                b = y.$hasCompare.eq(b).removeClass(a.slice(1));
                var c = b.clone().empty().addClass(y.selectorCompare);
                y.$compare = y.$compare.add(c.insertAfter(b))
            });
            y.$compare.ajaxCarousel({
                active: B(),
                defaultSlide: E(),
                beforeLoad: t,
                afterLoad: function(a) {
                    y.$hasCompare.addClass(y.selectorHasCompare);
                    c.removeClass(y.selectorLoadingCompare);
                    k.initialise(a);
                    y.carouselIsLoaded = !0
                },
                urls: y.compareData.models.map(function(a) {
                    return a.url + "/" + y.compareData.relativeResourcePath + ".html" + b.location.search
                }),
                i18n: {
                    next: y.compareData.next,
                    prev: y.compareData.prev
                }
            })
        }

        function v() {
            var a = [];
            y.compareData.models.map(function(a) {
                var c = a.url + "/" + y.compareData.relativeResourcePath + ".html" + b.location.search;
                if (y.availableTransmissions &&
                    0 < y.availableTransmissions.length) {
                    for (var d = !1, e = 0; e < y.availableTransmissions.length; e++)
                        if (-1 != a.transmissions.indexOf(y.availableTransmissions[e])) {
                            d = !0;
                            break
                        } d || (c = void 0)
                }
                return c
            }).forEach(function(b) {
                b && a.push(b)
            });
            return a
        }

        function t(a) {
            var b = f(a).find(d + "-compare"),
                c = [];
            b.each(function(a) {
                var d = b.eq(a);
                a = d.html();
                d = d.data("compare-row-id");
                var e = -1 != f.inArray(d, y.compareRowIds);
                (void 0 === d || e) && c.push(a)
            });
            return c
        }

        function A() {
            var a = B(),
                b = !!a.length,
                c = y.$compare.data("ajaxcarousel");
            c &&
                c.updateActive(a);
            y.$compare.toggle(b);
            y.$hasCompare.toggleClass(y.selectorHasCompare, b);
            z()
        }

        function z() {
            var a = f("[data-component-name\x3dproductinfo]").find("a.md-prodinfo-tabs-btn.md-js-prodinfo-tabs-btn.md-is-selected").attr("href").substring(1);
            y.$table.find(".md-prodinfo-row").each(function(b) {
                var c = f(this);
                c.data().categoryId == a && f(this).find("td.md-has-compare").each(function(b) {
                    0 < f(this).find("span.md-prodinfo-value[data-prodinfo-trans\x3d" + y.transmission + "]").find("[data-prodinfo-exists][data-category-id\x3d" +
                        a + "]").text().length ? c.show() : c.hide()
                })
            })
        }

        function B() {
            return y.compareData.models.map(function(a, b) {
                return b
            }).filter(function(a) {
                return -1 < y.compareData.models[a].transmissions.indexOf(y.transmission)
            })
        }

        function E() {
            for (var a, b = B(), c = y.compareData.models, d = 0; d < c.length; d += 1)
                if (c.length && "true" === c[d].isDefaultCompareModel) {
                    var e = d; - 1 < b.indexOf(e) && (a = e)
                } return a
        }
        var y = this,
            C = [];
        y.selectorActive = "md-is-selected";
        y.selectorLoadingCompare = "md-is-loading-compare";
        y.selectorCompare = "md-is-compare";
        y.selectorJsCompare =
            "md-js-prodinfo-compare";
        y.selectorHasCompare = "md-has-compare";
        y.compareAttr = "data-" + a + "-compare";
        y.compareRowIds = [];
        y.carouselIsLoaded = !1;
        y.availableTransmissions = [];
        y.filterContent = function(a) {
            var b = d + "-group";
            q(f(a).closest(b), y.$table)
        };
        y.destroy = function() {
            k.matchmedia.wide.removeListener(u);
            k.unsubArray(C);
            c.off("." + a);
            y.$modal.off("." + a)
        };
        (function() {
            var b = c.find("[" + y.compareAttr + "-resource]");
            y.$intro = c.find(d + "-intro");
            y.$toggle = c.find(d + "-toggle");
            y.$tabs = c.find(d + "-tabs");
            y.$table = c.find(d +
                "-data");
            y.$modal = y.$table;
            y.$toggleContent = y.$table.add(c.find(d + "-models"));
            y.transmission = e(c);
            y.availableTransmissions = g(c);
            y.carouselIsLoaded = !1;
            c.on("click." + a, d + "-tabs-btn", p);
            c.on("click." + a, d + "-back", function(a) {
                l();
                a.preventDefault()
            });
            c.on("md:productinfo:tab." + a, function(a, b) {
                a = b[0].hash;
                y.filterContent(a);
                k.matchmedia.wide.matches || (b = f(a), y.$backButton = y.$backButton || f("\x3cbutton /\x3e", {
                    "class": "md-prodinfo-back md-js-prodinfo-back md-icnpre-angle-left"
                }).prependTo(y.$table), y.$backButton.text(b.find(d +
                    "-category").text()), y.$modal.addClass(y.selectorActive), y.$toggle.appendTo(f(a)), a = y.$tabs.find("." + y.selectorActive), f.publish("md:productinfo:open", [y.$modal, a]))
            });
            C = [f.subscribe("md:toggle:init", w), f.subscribe("md:toggle:update", w), f.subscribe("md:currentModel:changed", m)];
            k.matchmedia.wide.addListener(u);
            var h = y.$tabs.find("." + y.selectorActive);
            y.filterContent(h.attr("href"));
            b.length && r(b, c.data("componentName")).done(function() {
                y.hasCompare = !0;
                k.matchmedia.wide.matches && x()
            });
            c.data(a, y);
            y.compareRowIds = [];
            var q = c.find("." + y.selectorJsCompare);
            q.each(function(a) {
                a = q.eq(a).data("compare-row-id");
                void 0 !== a && y.compareRowIds.push(a)
            })
        })()
    };
    mini.digital.comp.productinfo = function() {
        function c(a, c) {
            e.not(a).removeClass(d);
            f(b).on("orientationchange", function() {
                setTimeout(function() {
                    var a = c.offset().top;
                    a = a - 50 - c.outerHeight(!0);
                    console.log("orientation", c, a);
                    f("html, body").animate({
                        scrollTop: a
                    })
                }, 2E3)
            })
        }

        function a(a) {}
        var d = "",
            e = f([]),
            h = 0,
            m = [];
        return {
            init: function(b) {
                b = f(b);
                b = new g(b, "prodinfo",
                    ".md-js-prodinfo");
                h || (m.push(f.subscribe("md:productinfo:open", c)), m.push(f.subscribe("md:productinfo:close", a)));
                d = d || b.selectorActive;
                e = e.add(b.$modal);
                h += 1
            },
            teardown: function(a) {
                if (a = f(a).data("prodinfo")) a.destroy(), --h;
                h || k.unsubArray(m)
            }
        }
    }()
})(window, mini.digital.$, mini.digital.util);
(function() {
    mini.digital.comp.equipment = function() {
        return {
            init: function(b) {
                mini.digital.comp.productinfo.init(b)
            },
            teardown: function(b) {
                mini.digital.comp.productinfo.teardown(b)
            }
        }
    }()
})();
(function(b, f) {
    mini.digital.comp.equipmentpacks = function() {
        return {
            init: function(k) {
                var g = b(k),
                    c = g.find(".md-js-equippacks-show-link"),
                    a = g.find(".md-js-equippacks-details");
                mini.digital.comp.productinfo.init(k);
                g.on("click.equippacks", ".md-js-equippacks-show-link", function(d) {
                    d.preventDefault();
                    a.toggleClass("md-show");
                    c.toggleClass("md-icnpost-angle-up");
                    f.scrollTo.element(b(d.currentTarget.hash), {
                        duration: 500
                    })
                })
            },
            teardown: function(f) {
                b(f).off("click.equippacks");
                mini.digital.comp.productinfo.teardown(f)
            }
        }
    }()
})(mini.digital.$,
    mini.digital.util);
(function(b, f, k, g, c, a, d, e, h, m) {
    function p(b, c) {
        return 0 === a(c).closest(l.CLASSNAME_GALLERY_EXCLUDES).length
    }

    function q(b, f) {
        function h(c) {
            c.preventDefault();
            t && t.removeClass(l.CLASSNAME_PREFIX + "-row-raised");
            b.removeClass(l.CLASSNAME_PREFIX + "-open");
            f.removeClass(l.CLASSNAME_PREFIX + "-slide-out");
            a.publish("md:gallery-state:changed")
        }

        function k(a) {
            return 0 < a.parents(l.CLASSNAME_GALLERY_EXCLUDES).length ? 3 : B.index(a)
        }

        function m(g) {
            g.preventDefault();
            x = !0;
            g = a(g.target).closest("." + l.CLASSNAME_PREFIX +
                "-item");
            var h = g.closest("." + l.CLASSNAME_PREFIX + "-row");
            g = k(g);
            var m = e.wide.matches ? 1.5 : 1,
                p = h.offset().top;
            A = a(d).scrollTop();
            f.trigger("slider:jumpTo", 0 > g ? 0 : g);
            d.requestAnimationFrame(function() {
                v && v.is(h) || (v = h, f.insertAfter(v));
                t = h.nextAll("." + l.CLASSNAME_PREFIX + "-row").addClass(l.CLASSNAME_PREFIX + "-row-lowered");
                d.requestAnimationFrame(function() {
                    b.toggleClass(l.CLASSNAME_PREFIX + "-open");
                    f.addClass(l.CLASSNAME_PREFIX + "-slide-in");
                    c.position(p + h.height() / m, 550);
                    setTimeout(function() {
                            a.publish("md:gallery-state:changed")
                        },
                        550)
                })
            })
        }

        function q(a) {
            a.preventDefault();
            x = !1;
            t.removeClass(l.CLASSNAME_PREFIX + "-row-lowered").addClass(l.CLASSNAME_PREFIX + "-row-raised");
            f.removeClass(l.CLASSNAME_PREFIX + "-slide-in").addClass(l.CLASSNAME_PREFIX + "-slide-out");
            c.position(A, 550);
            r && h(a)
        }
        var x = !1,
            v, t, B = b.find("." + l.CLASSNAME_PREFIX + "-item").filter(p),
            A;
        b.on("click", ".md-gallery-item", function(a) {
            x ? q(a) : m(a)
        });
        b.on("click", ".md-gallery-close", q);
        b.on(g, ".md-gallery-slide-out", h)
    }
    var l = {
            PLAYERSTATE: {
                PLAYING: "PLAYING"
            },
            SCROLL_SWIPE_THRESHOLD: 16,
            SCROLL_SWIPE_ANGLE: 50,
            CLASSNAME_PREFIX: "md-gallery",
            CLASSNAME_CAROUSEL_EXCLUDES: ".md-gallery-js-exclude-in-carousel",
            CLASSNAME_GALLERY_EXCLUDES: ".md-gallery-slide-exclude",
            SLIDER: {
                ANIM_DURATION: 750,
                DRAG: .15,
                FRICTION: .1,
                SNAP: {
                    SLIDE_THRESHOLD: .25,
                    VELOCITY_THRESHOLD: .25,
                    DURATION: 550
                }
            }
        },
        u, w = "click",
        r = a("html").hasClass("ie8"),
        x = function(a, b) {
            this.$node = b;
            this.type = "image";
            this.imageInitialized = !1;
            this.notify = function() {
                this.imageInitialized || (m.lazyLoadImages(this.$node), this.imageInitialized = !0)
            }
        },
        v =
        function(a, b) {
            var c, d = b.find(".md-video-player \x3e *[id^\x3dplayer-]").attr("id");
            d && (c = jwplayer(d));
            this.$node = b;
            this.type = "video";
            this.notify = function() {
                c && (c = jwplayer(d), c.getState() === l.PLAYERSTATE.PLAYING && c.pause())
            }
        },
        t = function(a, b, c, d, e) {
            return -d * (b /= e) * (b - 2) + c
        },
        A = function(c, g, m, p, r, q, A) {
            var B = this,
                z = 0,
                y = 0,
                E = A ? !0 === A.isVariableHeight : !1,
                C = g.map(function(a, b) {
                    return "video" === b.type ? new v(a, b.visual) : new x(a, b.visual)
                }).toArray();
            B.slider = new b(C, d.requestAnimationFrame, t, c.find(".md-gallery-carousel-visuals"), {
                isVariableHeight: E
            });
            B.slider.addConstraint(new f.Drag(l.SLIDER.DRAG));
            B.slider.addConstraint(new f.EdgeResistance);
            B.slider.addConstraint(new f.Decelerate(l.SLIDER.FRICTION));
            B.slider.addConstraint(new f.SnapToGrid(l.SLIDER.SNAP.SLIDE_THRESHOLD, l.SLIDER.SNAP.VELOCITY_THRESHOLD, l.SLIDER.SNAP.DURATION));
            B.isOpen = !1;
            var O = function() {
                    B.isOpen && (d.requestAnimationFrame(O), B.isOpen = !1);
                    if (z !== y) {
                        var a = z - y;
                        y += a / 12;
                        .005 > Math.abs(a) && (y = z);
                        h.isIE && !Modernizr.csstransforms3d ? p.css("left", y + "%") : Modernizr.csstransforms3d ?
                            p.css("transform", "translate3d(" + y + "%,0,0)") : p.css("left", y + "%")
                    }
                },
                I = c.find(".md-gallery-next"),
                M = c.find(".md-gallery-prev");
            B.slider.onUpdate(function(a, b) {
                var c = Math.round(-a.x / b.x);
                B.isOpen = !0;
                O();
                Modernizr.csstransforms3d ? m.css("transform", "translate3d(" + 100 * a.x / b.x + "%,0,0)") : m.css("left", 100 * a.x / b.x + "%");
                z = 100 * Math.round(a.x / b.x);
                M.toggleClass("md-disabled", 0 === c);
                I.toggleClass("md-disabled", c === C.length - 1)
            });
            B.slider.onSlideIndexUpdate(function(a, b) {
                var c = {
                        eventInfo: {},
                        attributes: {},
                        category: {}
                    },
                    d = {
                        eventInfo: {},
                        attributes: {},
                        category: {}
                    };
                c.eventInfo.eventName = "tile view";
                c.eventInfo.cause = "default";
                c.eventInfo.effect = "tile view";
                c.attributes.relatedComponentName = "gallery";
                c.attributes.relatedComponentPrimaryCategory = "gallery";
                c.category.primaryCategory = "gallery";
                c.category.subCategory01 = "navigation";
                d.eventInfo.eventAction = w;
                d.eventInfo.eventPoints = a;
                d.eventInfo.timeStamp = Date.now();
                d.attributes.relatedComponentID = r;
                d.attributes.tileName = b;
                d.attributes.relatedContentHeadline = q;
                try {
                    u.addEventTracking(c,
                        d, u.getCurrentPageIndex())
                } catch (L) {
                    console.log(L)
                }
            });
            g = function() {
                B.slider.setDimensions(new k(m.width(), m.height()))
            };
            g();
            a.subscribe("md:resize", g);
            var R, H, T = !1,
                U = !1,
                ba = c.find(".md-gallery-carousel-copies"),
                Y = c.find(".md-gallery-carousel-visuals"),
                ca = function(a) {
                    a = "next" === a ? 1 : -1;
                    var b = B.slider.getSlideIndex(B.slider.position.x);
                    return b < B.slider.elements.length ? b + a : 0
                },
                aa = function(a) {
                    a = B.slider.getSlide(a);
                    return B.slider.getNodeHeight(a)
                },
                ea = function(a) {
                    a = ca(a);
                    return aa(a)
                },
                ja = function(a) {
                    a =
                        c.find(".md-gallery-item-copy").eq(a);
                    var b = a.find(".md-gallery-item-desc"),
                        d = a.find(".md-gallery-expanded-cta"),
                        e = b.length ? b.position() : null;
                    e = e ? e.top : 0;
                    b = b.length ? b.height() : 0;
                    d = d.outerHeight(!0);
                    a = parseInt(a.css("padding-bottom"), 10);
                    return e + b + d + a
                },
                sa = function(a) {
                    a = ca(a);
                    return ja(a)
                },
                ma = function(b, d) {
                    var e = !1 !== b ? aa(b) : ea(d);
                    b = !1 !== b ? ja(b) : sa(d);
                    e = e > b ? e : b;
                    ba.height(e - parseInt(c.find(".md-gallery-carousel-copy-wrapper").css("padding-top"), 10));
                    Y.height(e);
                    setTimeout(function() {
                            a.publish("md:gallery-state:changed")
                        },
                        l.SLIDER.ANIM_DURATION)
                };
            if (Modernizr.touch) c.on("touchstart", function(a) {
                a = a.originalEvent.touches[0];
                R = new k(a.pageX, a.pageY);
                T = !0;
                U = !1;
                B.slider.start(R.clone())
            }).on("touchmove", function(a) {
                var b = a.originalEvent.touches[0];
                H = new k(b.pageX, b.pageY);
                T && (b = k.diff(H, R), b.mag() > l.SCROLL_SWIPE_THRESHOLD && (T = !1, Math.abs(180 * Math.atan(b.x / b.y) / Math.PI) >= l.SCROLL_SWIPE_ANGLE ? U = !0 : (B.slider.end(), B.slider.pauseLoop())));
                B.slider.isDragging && (U && a.preventDefault(), w = "swipe", B.slider.move(H.clone()))
            }).on("touchend",
                function() {
                    U = !1;
                    B.slider.end();
                    setTimeout(function() {
                        B.slider.pauseLoop()
                    }, l.SLIDER.SNAP.DURATION)
                });
            c.on("click", ".md-gallery-next", function(b) {
                b = a(b.currentTarget).hasClass("md-disabled");
                w = "click";
                B.slider.next(l.SLIDER.ANIM_DURATION);
                !e.wide.matches || b || A.isRowView || ma(!1, "next")
            }).on("click", ".md-gallery-prev", function(b) {
                b = a(b.currentTarget).hasClass("md-disabled");
                w = "click";
                B.slider.prev(l.SLIDER.ANIM_DURATION);
                !e.wide.matches || b || A.isRowView || ma(!1, "prev")
            }).on("click", ".md-gallery-close",
                function() {
                    B.slider.notifyListeners();
                    B.slider.pauseLoop()
                });
            B.slider.notifyListeners();
            B.jumpTo = function(a) {
                var b = new k(-a * B.slider.dimensions.x, 0);
                B.slider.animateTo(b, 0);
                B.slider.setHeightByPosition(b);
                z = 100 * Math.round(b.x / B.slider.dimensions.x);
                y = z - 1E-5;
                e.wide.matches && !A.isRowView && ma(a)
            }
        };
    mini.digital.comp.gallery = function() {
        var b = [],
            c = function(b, c, d) {
                function e(b) {
                    x.each(function(c, d) {
                        a.contains(d, b[0]) && t++
                    });
                    t === v && (B || f(c, d), B = !0)
                }

                function f(b, c) {
                    x = x.map(function() {
                        var b = a(this);
                        if (b.hasClass("md-gallery-video")) return b.find(l.CLASSNAME_CAROUSEL_EXCLUDES).remove(), {
                            type: "video",
                            visual: b.find(".md-gallery-item-video"),
                            copy: b.find(".md-gallery-item-copy")
                        };
                        b = b.clone();
                        b.find(l.CLASSNAME_CAROUSEL_EXCLUDES).remove();
                        return {
                            type: "image",
                            visual: b,
                            copy: b.find(".md-gallery-item-copy")
                        }
                    }).map(function() {
                        this.visual = this.visual.attr("class", "md-gallery-carousel-item");
                        return this
                    }).each(function() {
                        k.append(this.visual);
                        m.append(this.copy)
                    });
                    g.find("\x3e .md-flex-container-nopadding").append(h);
                    var e = new A(h, x, k, m, b, d, {
                        isVariableHeight: r,
                        isRowView: z
                    });
                    h.on("slider:jumpTo",
                        function(a, b) {
                            e.jumpTo(b)
                        });
                    q(g, h)
                }
                var g = a(b),
                    h, k, m, r, x, v, t, B = !1,
                    z = g.hasClass("md-gallery-carousel-default-row-view");
                (function() {
                    h = a('\x3cdiv class\x3d"md-gallery-carousel-wrapper"\x3e\x3cdiv class\x3d"md-gallery-carousel"\x3e\x3cdiv class\x3d"md-gallery-carousel-visuals"\x3e\x3cdiv class\x3d"md-gallery-carousel-items"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"md-gallery-carousel-controls"\x3e\x3cdiv class\x3d"md-icn-angle-left-circled md-gallery-ctrl md-gallery-prev"\x3e\x3cspan class\x3d"md-icn-alt"\x3ePrevious\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"md-icn-angle-right-circled md-gallery-ctrl md-gallery-next"\x3e\x3cspan class\x3d"md-icn-alt"\x3eNext\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"md-icn-close md-gallery-ctrl md-gallery-close"\x3e\x3cspan class\x3d"md-icn-alt"\x3eclose\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"md-gallery-carousel-copy-wrapper"\x3e\x3cdiv class\x3d"md-gallery-carousel-copies"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
                    k = h.find(".md-gallery-carousel-items");
                    m = h.find(".md-gallery-carousel-copies");
                    r = 0 < g.find('[data-variable-height\x3d"true"]').length;
                    x = g.find(".md-gallery-item").filter(p);
                    t = v = 0;
                    x.each(function(b, c) {
                        a(c).find(".md-rimage").length && v++
                    });
                    0 < v ? a.subscribe("md:responsiveImage:afterRefresh", e) : f(c, d)
                })()
            };
        return {
            init: function(a, d, e, f) {
                d = e(a).parents(".md-component.md-parallax").find("h1").text();
                "" == d && (d = e(a).parent().find("h2").text().trim());
                e = e(a).closest("div[data-tracking-component]").data().trackingComponent.componentInfo.componentId;
                b.push(new c(a, e, d));
                u = f
            }
        }
    }()
})(mini.digital.util.slider.core, mini.digital.util.slider.constraints, mini.digital.util.vector, mini.digital.util.transitionEndEvent, mini.digital.util.scrollTo, mini.digital.$, window, mini.digital.util.matchmedia, mini.digital.util.browser, mini.digital.util.responsiveimage);
mini.digital.comp.forms = mini.digital.comp.forms || {};
mini.digital.comp.gcdm = mini.digital.comp.gcdm || {};
mini.digital.comp.gcdm.controllers = mini.digital.comp.gcdm.controllers || {};
mini.digital.comp.gcdm.directives = mini.digital.comp.gcdm.directives || {};
mini.digital.comp.gcdm.modules = mini.digital.comp.gcdm.modules || {};
mini.digital.comp.gcdm.campaign = mini.digital.comp.gcdm.campaign || {};
mini.digital.comp.gcdm.name = "mdGcdm";
mini.digital.comp.gcdm.campaign = function(b, f, k, g, c) {
    function a() {
        return {
            isTopDrive: /\/de_DE\//.test(k.location.pathname)
        }
    }

    function d() {
        function b(a) {
            if (void 0 !== a) return decodeURIComponent(a)
        }
        var c = f.location.getQueryParams();
        if (void 0 !== c && (0 != Object.keys(c).length || c.constructor !== Object)) {
            var d = a();
            d.campaignId = b(c.ccid);
            d.leadSource = b(c.clc);
            d.treatmentId = b(c.ctid);
            return d
        }
    }

    function e() {
        var b = d();
        if (void 0 === b && (b = a(), m)) {
            var c = f.cookiecontroller.getPersistence("clc_campaign_lead_context");
            b =
                void 0 === c || null === c ? b : JSON.parse(c)
        }
        m && f.cookiecontroller.setPersistence("clc_campaign_lead_context", JSON.stringify(b));
        return b
    }

    function h() {
        f.cookiecontroller.checkPresentAndInit().then(function() {
            m = f.cookiecontroller.isUsageAllowed("clc_campaign_lead_context");
            e()
        })
    }
    var m = !1;
    f.cookiecontroller.registerOnConsentChange(h);
    f.cookiecontroller.registerOnInitialized(h);
    h();
    return {
        getCampaignInfo: e,
        isValidCampaignInfo: function(a) {
            return void 0 !== a.campaignId || void 0 !== a.leadSource || void 0 !== a.treatmentId ?
                !0 : !1
        },
        deleteCookie: function() {
            return f.cookiecontroller.deletePersistence("clc_campaign_lead_context")
        }
    }
}(mini.digital.$, mini.digital.util, window, mini.digital.$(window), document);
mini.digital.tracking.formgcdm = mini.digital.tracking.formgcdm || {};
(function() {
    mini.digital.tracking.formgcdm.common = {
        trackingAPI: {},
        tracking: {
            componentTrackingIds: {},
            componentTrackingObj: {},
            ssLayerOpen: !1,
            formLoaded: !1,
            formType: "",
            formId: "",
            formTrackingInitalised: !1
        },
        EVENTS: {
            formTrackingSetup: "md:formgcdm:tracking:setup",
            formTrackingTeardown: "md:formgcdm:tracking:teardown",
            modelTypeChanged: "md:selector:model:type:changed",
            overlayClosing: "md:overlay:closing",
            overlayClosed: "md:overlay:closed",
            formLoaded: "md:formgcdm:loaded",
            newStepLoaded: "md:formgcdm:newStepLoaded",
            formTrackingNewStep: "md:formgcdm:tracking:newStepLoaded",
            formSSBroadcast: "md:standardselector:formgcdm:broadcast",
            ssRangeLinkClicked: "md:selector:range:clicked",
            formModelUpdated: "md:gcdm:vehicle:updated",
            formCaptchaStateChange: "md:form:gcdm:captcha:state",
            formAnalyticsEvent: "md:form:gcdm:analytics:event",
            formAnalyticsAddPage: "md:form:gcdm:analytics:page:added"
        },
        elements: {
            $formEl: null,
            $formScope: null
        }
    }
})();
mini.digital.tracking.formgcdm.errors = function(b, f, k) {
    function g(f) {
        !d || !d.trackingAPI || w || d && d.trackingAPI && d.trackingAPI.isTrackingDisabled() || (c(), q = [], l = "", u = {}, l = "in-line validation", u = {
                addressError: {
                    formErrorType: "invalidOrCouldNotBeFound",
                    formErrorFieldName: "choose-address"
                },
                systemError: {
                    formErrorType: "systemError",
                    formErrorFieldName: "systemError"
                },
                validationErrorForm: {
                    formErrorFieldName: "validationErrorForm"
                }
            }, e.componentTrackingObj = {
                attributes: {
                    formHiddenFieldFilled: "false",
                    formCaptchaPresent: "false"
                }
            },
            p.push(b.subscribe(m.formTrackingSetup, g), b.subscribe(m.formTrackingTeardown, c), b.subscribe(m.formCaptchaStateChange, a)), w = !0)
    }

    function c() {
        f.unsubArray(p);
        w = !1
    }

    function a(a) {
        var b = d.trackingAPI.getPageObject(e.componentTrackingIds.pageId),
            c = !1;
        b && (c = "error" === b.type ? !1 : !0);
        c && (e.componentTrackingObj.attributes.formCaptchaPresent = a.captchaShown, d.trackingAPI.updateComponentTracking(e.componentTrackingIds.componentIndex, e.componentTrackingObj, e.componentTrackingIds.pageId))
    }
    var d = k.common,
        e = d.tracking,
        h = d.elements,
        m = d.EVENTS,
        p = [],
        q = [],
        l = "",
        u = {},
        w = !1,
        r = {
            eventInfo: {
                eventName: "error in form",
                eventAction: "automatic",
                eventPoints: "0",
                cause: "default",
                effect: "error shown to user"
            },
            category: {
                primaryCategory: "form error"
            },
            attributes: {
                formErrorFieldMandatory: "",
                formErrorFieldName: "",
                formErrorMessage: "",
                formErrorOn: "",
                relatedComponentID: "",
                relatedComponentName: "",
                relatedComponentPrimaryCategory: "forms"
            }
        };
    return {
        init: g,
        addRequiredField: function(a) {
            q.push(a)
        },
        addError: function(a, c) {
            c = b.extend({}, r);
            if (e.componentTrackingObj) {
                c.attributes.formErrorOn =
                    l;
                var d = c.attributes;
                var f = a.formErrorFieldName;
                var g = h.$formScope;
                void 0 === g || null === g ? console.warn("can't find field-label for 'for' value", f, "using this id instead of the label") : f = g.find('label[for\x3d"' + f + '"]').text();
                d.formErrorFieldName = f || "";
                c.attributes.formErrorFieldMandatory = -1 < q.indexOf(a.formErrorFieldName);
                c.attributes.formErrorMessage = a.formErrorMessage;
                e.componentTrackingObj.componentInfo && (c.attributes.relatedComponentID = e.componentTrackingObj.componentInfo.componentId, c.attributes.relatedComponentName =
                    e.componentTrackingObj.componentInfo.componentName);
                k.base.setCurrentEvent(c);
                k.base.pushEvent()
            }
        },
        removeError: function(a, b) {
            if (void 0 !== e.componentTrackingObj && void 0 !== e.componentTrackingObj.attributes && e.componentTrackingObj) {
                var c = [],
                    d = 0,
                    f = c.length;
                "" !== b && u[b] && (a = u[b].formErrorFieldName);
                for (; d < f; d++)
                    if (b = c[d], b.formErrorFieldName === a) return c.splice(d, 1), !0
            }
        },
        setFormErrorOn: function(a) {
            l = a
        },
        pushErrorsArray: function() {
            d.trackingAPI.updateComponentTracking(e.componentTrackingIds.componentIndex,
                e.componentTrackingObj, e.componentTrackingIds.pageId)
        }
    }
}(mini.digital.$, mini.digital.util, mini.digital.tracking.formgcdm);
mini.digital.tracking.formgcdm.standardSelector = function(b, f, k) {
    function g() {
        x && q && q.trackingAPI && q.trackingAPI.isTrackingDisabled() || (c(), w = "", r.push(b.subscribe(u.formTrackingTeardown, c), b.subscribe(u.formTrackingSetup, g), b.subscribe(u.modelTypeChanged, e), b.subscribe(u.ssRangeLinkClicked, d), b.subscribe(u.toggleUpdated, a), b.subscribe(u.formSSBroadcast, m), b.subscribe(u.formModelUpdated, p)), x = !0)
    }

    function c() {
        f.unsubArray(r);
        x = !1
    }

    function a(a) {
        var b = {
            eventInfo: {}
        };
        a.toggle.hasClass("md-ss-toggle") &&
            (a = "default" === a.value ? "manual" : "automatic", b.eventInfo.eventName = "Switch to " + a, b.eventInfo.eventAction = "toggle", k.base.setCurrentEvent(b), k.base.pushEvent())
    }

    function d(a) {
        var b = {
            eventInfo: {}
        };
        b.eventInfo.eventName = "Click on body type";
        b.eventInfo.eventAction = a.event.type;
        b.eventInfo.effect = "leads to the next step: select motorisation";
        k.base.setCurrentEvent(b);
        k.base.pushEvent()
    }

    function e(a) {
        var c = a || {},
            d = {
                eventInfo: {}
            };
        try {
            !l.currentModelTypeSelected && c.newModelType ? (w = c.newModelType, l.currentModelTypeSelected = !0) : l.currentModelTypeSelected && c.newModelType && (w = c.newModelType, a.event && (d.eventInfo.eventName = "Click on body type", d.eventInfo.eventAction = a.event.type, d.eventInfo.effect = "leads to the next step: select motorisation", k.base.setCurrentEvent(d)), k.base.setNavigationPageAttributes(), q.trackingAPI.closeAllVirtualPages({
                    closeAllAfterIdx: q.trackingAPI.getCurrentPageIndex() - 1
                })), k.base.addVirtualPage({
                    page: {
                        pageInfo: {
                            pageName: "specialEditions" === w ? "select motorisation special models" : "select motorisation standard models"
                        }
                    }
                }),
                l.ssLayerOpen || (l.ssLayerOpen = !0, r.push(b.subscribe("md:layer:closed", h)))
        } catch (z) {
            console.log("Error on modelTypeChange", z)
        }
    }

    function h() {
        l.ssLayerOpen && (w = "", l.currentModelTypeSelected = !1, q.trackingAPI.closeVirtualPage(q.trackingAPI.getCurrentPageIndex()), l.ssLayerOpen = !1)
    }

    function m(a) {
        var b = {
                productInfo: {},
                attributes: {}
            },
            c = b.productInfo,
            d = b.attributes,
            e = a.hasOwnProperty("vehicle") ? a.vehicle.modelRangeName : "na";
        c.productID = a.modelCode || a.itemCode || "";
        c.productName = a.vehicleLongName || "";
        c.productUrl =
            a.modelUrl || "";
        c.productImage = a.decodingImage || "";
        c.productThumbnail = "";
        c.manufacturer = "MINI";
        d.bodyName = a.bodyName || a.rangeName || e || "na";
        d.bodyType = a.modelRangeCode || "na";
        d.modelName = a.vehicleName || "na";
        d.modelCode = a.modelCode || "na";
        d.saCodeList = "";
        "na" !== d.bodyType && "na" !== d.modelCode && k.base.setCurrentProduct(b)
    }

    function p(a) {
        a = a || {
            vehicle: {}
        };
        var b = {
                productInfo: {},
                attributes: {},
                category: {
                    primaryCategory: "New Car",
                    subCategory1: a.vehicle.bodyName,
                    subCategory2: ""
                }
            },
            c = b.productInfo,
            d = b.attributes,
            e = a.vehicle.cosyImageInfos && a.vehicle.cosyImageInfos[2] && a.vehicle.cosyImageInfos[2].urlString;
        c.productID = a.vehicle.modelCode || "";
        c.productName = a.vehicle.bodyName || a.vehicle.modelRangeName || "";
        c.description = a.vehicle.modelName || "";
        c.productUrl = a.vehicle.shareConfigUrl || "";
        c.productImage = e || "";
        c.productThumbnail = "";
        c.manufacturer = "MINI";
        d.bodyName = a.vehicle.bodyName || a.vehicle.modelRangeName || "na";
        d.bodyType = a.vehicle.modelRange || "na";
        d.modelName = a.vehicle.modelName || "na";
        d.modelCode = a.vehicle.modelCode ||
            "na";
        d.saCodeListData = a.vehicle.selectedFeatures || "";
        d.saCodeList = "" !== d.saCodeListData ? d.saCodeListData.toString().replace(",", "::") || "" : "";
        "na" !== d.bodyType && "na" !== d.modelCode && k.base.setCurrentProduct(b)
    }
    var q = k.common,
        l = q.tracking,
        u = q.EVENTS,
        w = "",
        r = [],
        x = !1;
    return {
        init: g,
        modelTypeChange: e
    }
}(mini.digital.$, mini.digital.util, mini.digital.tracking.formgcdm);
mini.digital.tracking.formgcdm.tda = function(b, f, k) {
    function g(a) {
        a = a || {};
        var b = {
                productInfo: {},
                category: {
                    primaryCategory: "New Car",
                    subCategory01: a.bodyName
                },
                attributes: {}
            },
            c = b.productInfo,
            d = b.attributes,
            e = a.cosyImageInfos && a.cosyImageInfos[2] && a.cosyImageInfos[2].urlString;
        c.productID = a.configUrl || "";
        c.productName = a.vehicleName || "";
        c.description = a.note;
        c.productUrl = a.shareConfigUrl || "";
        c.productImage = e || "";
        c.productThumbnail = "";
        c.manufacturer = "MINI";
        d.bodyName = a.bodyName || a.modelRangeName || a.rangeName ||
            a.rangeNameLong || "na";
        d.bodyType = a.modelRange || "na";
        d.modelName = a.bodyName || a.vehicleName || "na";
        d.modelCode = a.modelCode || "na";
        d.saCodeList = "";
        void 0 !== a.selectedFeatures && (d.saCodeList = a.selectedFeatures.toString().replace(",", "::") || "");
        return b
    }

    function c() {
        l && (a(q), l = !1)
    }

    function a(a) {
        "na" !== a.attributes.bodyType && "na" !== a.attributes.modelCode && (k.base.setCurrentProduct(a), k.base.pushProduct())
    }

    function d() {
        f.unsubArray(m);
        p = !1
    }
    var e = k.common,
        h = e.EVENTS,
        m = [],
        p = !1,
        q = {
            productInfo: {},
            category: {},
            attributes: {}
        },
        l = !1;
    return {
        init: function() {
            if (!p || e && e.trackingAPI && e.trackingAPI.isTrackingDisabled && !e.trackingAPI.isTrackingDisabled()) d(), m.push(b.subscribe(h.formLoaded, c), b.subscribe(h.formTrackingTeardown, d)), p = !0
        },
        primeProductData: function(a) {
            q = g(a);
            l = !0
        },
        setProductData: function(b) {
            b = g(b);
            a(b)
        }
    }
}(mini.digital.$, mini.digital.util, mini.digital.tracking.formgcdm);
mini.digital.tracking.formgcdm.brochure = function(b, f, k) {
    function g(a) {
        a = a.newValue;
        for (var b = [], c = {}, d = 0; d < a.length; d += 1) a[d].hasOwnProperty("informationMaterialCode") ? b.push(a[d].informationMaterialCode + " - " + a[d].descriptionText) : b.push(a[d].id);
        c.attributes = {
            brochureList: b
        };
        l.tracking.componentTrackingObj.attributes.brochureList = b;
        l.trackingAPI.updateComponentTracking(l.tracking.componentTrackingIds.componentIndex, c, l.tracking.componentTrackingIds.pageId)
    }

    function c(a) {
        a = {
            attributes: {
                brochureDeliveryType: a.toggleValue
            }
        };
        b.extend(!0, l.tracking.componentTrackingObj, a);
        l.trackingAPI.updateComponentTracking(l.tracking.componentTrackingIds.componentIndex, a, l.tracking.componentTrackingIds.pageId)
    }

    function a(a) {
        var b = "click";
        a.originalEvent && (b = a.originalEvent.type);
        p({
            eventInfo: {
                eventName: "toggle " + a.toggleValue + " delivery",
                eventAction: b,
                effect: "Switched to " + a.toggleValue + " brochures"
            }
        })
    }

    function d(a) {
        p({
            eventInfo: {
                eventName: a.eventName,
                eventAction: "click",
                effect: "User " + (a.itemAdded ? "added" : "removed") + " the " + a.lastBrochureSelected +
                    " brochure."
            }
        })
    }

    function e(a) {
        p({
            eventInfo: {
                eventName: a.eventName,
                eventAction: "click",
                effect: "The user tried to add " + a.lastBrochureSelected + " to the basket, but the limit of " + a.itemData.currentBrochureLimit + " had already been reached"
            }
        })
    }

    function h(a) {
        p({
            eventInfo: {
                eventName: a.eventName,
                eventAction: "click",
                effect: a.lastBrochureSelected + " was selected. There was a conflict, the user " + a.eventEffect + " the conflict."
            }
        })
    }

    function m(a) {
        p({
            eventInfo: {
                eventName: a.eventName,
                eventAction: "click",
                effect: "The user clicked the " +
                    a.btnCta + " button"
            }
        })
    }

    function p(a) {
        k.base.setCurrentEvent(a);
        k.base.pushEvent()
    }

    function q() {
        f.unsubArray(w)
    }
    var l = k.common,
        u = l.EVENTS,
        w = [],
        r = {
            productInfo: {},
            category: {},
            attributes: {}
        };
    return {
        init: function() {
            l && l.trackingAPI && l.trackingAPI.isTrackingDisabled() || (w.push(b.subscribe(u.formTrackingTeardown, q), b.subscribe("md:formgcdm:brochureToggleUpdate", a), b.subscribe("md:formgcdm:brochureToggleUpdate", c), b.subscribe("md:formgcdm:analytics:basketUpdate", d), b.subscribe("md:formgcdm:analytics:basketUpdate",
                g), b.subscribe("md:formgcdm:analytics:brochure:full", e), b.subscribe("md:formgcdm:analytics:brochure:conflict:accepted", h), b.subscribe("md:formgcdm:analytics:brochure:conflict:cancelled", h), b.subscribe("md:formgcdm:analytics:brochure:view:all", m)), r = {
                productInfo: {},
                attributes: {}
            }, l.tracking.componentTrackingObj.attributes.brochureDeliveryType = "download", l.tracking.componentTrackingObj.attributes.formNature = "global")
        },
        setProductData: function(a) {
            a = a || {};
            r = {
                productInfo: {
                    description: a.label,
                    productName: a.label,
                    manufacturer: a.brand,
                    productID: a.productModelCode || "na"
                },
                category: {
                    primaryCategory: "New car",
                    subCategory01: a.label
                },
                attributes: {
                    bodyName: a.label,
                    bodyType: a.productConstructionSeries || "na",
                    modelCode: a.productModelCode || "na",
                    modelName: a.productModelName || "na"
                }
            };
            "na" !== r.attributes.bodyName && (k.base.setCurrentProduct(r), k.base.pushProduct())
        }
    }
}(mini.digital.$, mini.digital.util, mini.digital.tracking.formgcdm);
mini.digital.tracking.formgcdm.dealerlocator = function(b, f, k) {
    function g() {
        var a = {
            attributes: {
                dloViewType: b(".md-map-toggle input:checked").val()
            }
        };
        h(a)
    }

    function c(a) {
        null === a ? (r.tracking.formType = "DEALERLOCATOR", k.common.tracking.componentTrackingObj = b.extend(!0, k.common.tracking.componentTrackingObj, z), k.common.tracking.componentTrackingObj = b.extend(!0, k.common.tracking.componentTrackingObj, b(".md-nav-shelf .md-form-gcdm-dealerlocator").data("tracking-obj")), k.base.addVirtualPage({
                page: {
                    pageInfo: {
                        pageName: "DLO"
                    }
                }
            })) :
            "gcdmForm" === a && (z = b.extend(!0, z, b(".md-nav-shelf .md-form-gcdm-dealerlocator").data("tracking-obj")), k.common.trackingAPI.initComponentTracking(z));
        g()
    }

    function a() {
        var a = {
            eventInfo: {},
            category: {}
        };
        a.eventInfo.eventName = "choose another dealer";
        a.eventInfo.eventAction = "click";
        a.eventInfo.effect = "user switches to general dealer view";
        a.category.primaryCategory = "dealer locator";
        a.category.subCategory01 = "cta";
        k.base.setCurrentEvent(a);
        k.base.pushEvent()
    }

    function d(a) {
        a = a || {};
        var b = a.isInForm ? "forms" :
            "standalone",
            c = A[a.filter || ""],
            d = a.layout || "",
            e = a.resultsCount || 0;
        k.base.addVirtualPage({
            page: {
                pageInfo: {
                    pageName: "DLO search results"
                }
            }
        });
        h({
            attributes: {
                dloVariant: b,
                dloFilterSettings: c,
                dloViewType: d,
                dloResultType: "search",
                onsiteSearch: "Dealer Locator",
                onsiteSearchTerm: a.searchTerm,
                onsiteSearchResults: e,
                onsiteSearchType: "type in"
            }
        })
    }

    function e(a) {
        a = a || {};
        var b = {
            attributes: {
                dloVariant: a.isInForm ? "forms" : "standalone",
                dloFilterSettings: A[a.filter || ""],
                dloViewType: a.layout || "",
                dloResultType: a.resultType
            }
        };
        k.base.addVirtualPage({
            page: {
                pageInfo: {
                    pageName: "DLO dealer card"
                },
                attributes: {
                    dealerName: a.name,
                    dealerID: a.id
                }
            }
        });
        h(b)
    }

    function h(a) {
        for (var c = k.common.trackingAPI.getCurrentPageIndex(), d = k.common.trackingAPI.getPageObject(c), e = -1, f = 0, g = d.component.length; f < g; f++)
            if ("Dealer Locator" === d.component[f].componentInfo.componentName) {
                e = f;
                break
            } - 1 !== e ? k.common.trackingAPI.updateComponentTracking(e, a, c) : (z = b.extend(!0, z, b(".md-nav-shelf .md-form-gcdm-dealerlocator").data("tracking-obj")), z = b.extend(!0, z,
            a), k.common.trackingAPI.initComponentTracking(z))
    }

    function m() {
        var a = {
            eventInfo: {},
            category: {}
        };
        a.eventInfo.eventName = "save preferred dealer";
        a.eventInfo.eventAction = "click";
        a.eventInfo.effect = "user saves dealer as preferred";
        a.category.primaryCategory = "dealer locator";
        a.category.subCategory01 = "cta";
        k.base.setCurrentEvent(a);
        k.base.pushEvent()
    }

    function p() {
        var a = {
            eventInfo: {},
            category: {}
        };
        a.eventInfo.eventName = "visit dealer";
        a.eventInfo.eventAction = "click";
        a.eventInfo.effect = "user visits dealer's website";
        a.category.primaryCategory = "dealer locator";
        a.category.subCategory01 = "cta";
        k.base.setCurrentEvent(a);
        k.base.pushEvent()
    }

    function q() {
        var a = {
            eventInfo: {},
            category: {}
        };
        a.eventInfo.eventName = "clear preferred dealer";
        a.eventInfo.eventAction = "click";
        a.eventInfo.effect = "user clears preferred dealer";
        a.category.primaryCategory = "dealer locator";
        a.category.subCategory01 = "cta";
        k.base.setCurrentEvent(a);
        k.base.pushEvent()
    }

    function l() {
        var a = {
            eventInfo: {},
            category: {}
        };
        a.eventInfo.eventName = "load preferred dealer";
        a.eventInfo.eventAction = "click";
        a.eventInfo.effect = "user loads preferred dealer";
        a.category.primaryCategory = "dealer locator";
        a.category.subCategory01 = "cta";
        k.base.setCurrentEvent(a);
        k.base.pushEvent()
    }

    function u(a) {
        var b = {
            eventInfo: {},
            category: {}
        };
        a.hasClass("md-form-gcdm-dealerlocator") && (b.eventInfo.eventName = "close dealer locator", b.eventInfo.eventAction = "click", b.eventInfo.effect = "user closes dealer locator", b.category.primaryCategory = "dealer locator", b.category.subCategory01 = "cta", k.base.setCurrentEvent(b),
            k.base.pushEvent())
    }

    function w() {
        f.unsubArray(v);
        t = !1
    }
    var r = k.common,
        x = r.EVENTS,
        v = [],
        t = !1,
        A = {
            "": "all",
            F: "new minis",
            G: "used minis",
            T: "service"
        },
        z = {
            category: {
                primaryCategory: "Tools",
                subCategory01: "Dealer Locator"
            },
            componentInfo: {
                componentName: "Dealer Locator"
            }
        };
    return {
        init: function(f) {
            f = "string" !== typeof f ? null : f;
            !t && r && r.trackingAPI && r.trackingAPI.isTrackingDisabled && !r.trackingAPI.isTrackingDisabled() && (w(), v.push(b.subscribe(x.formTrackingTeardown, w), b.subscribe("md:dlo:dloSelected", e), b.subscribe("md:dlo:searchResults",
                d), b.subscribe("md:dlo:chooseAnotherDealer", a), b.subscribe("md:dealerlocator:loadPreferred", l), b.subscribe("md:dealerlocator:setPreferred", m), b.subscribe("md:dealerlocator:removePreferred", q), b.subscribe("md:dealerlocator:visitDealerWebsite", p), b.subscribe("md:navigation:component:closed", u), b.subscribe("md:navigation:dlopened", c), b.subscribe("md:toggle:update", g)), t = !0, c(f))
        },
        chooseAnotherDealer: a,
        searchForDealer: d,
        dealerSelected: e,
        savePreferredDealer: m,
        visitDealerWebsite: p,
        clearPreferredDealer: q,
        loadPreferredDealer: l,
        closeDealerLocator: u
    }
}(mini.digital.$, mini.digital.util, mini.digital.tracking.formgcdm);
mini.digital.tracking.formgcdm.offer = function(b, f, k) {
    function g(a) {
        a = a || {};
        var b = {
                productInfo: {},
                category: {},
                attributes: {}
            },
            c = b.productInfo,
            d = b.attributes,
            e = a.cosyImageInfos && a.cosyImageInfos[2] && a.cosyImageInfos[2].urlString;
        c.productID = a.configUrl || "";
        c.productName = a.bodyName || "";
        c.description = a.note;
        c.productUrl = a.shareConfigUrl || "";
        c.productImage = e || "";
        c.productThumbnail = "";
        c.manufacturer = "MINI";
        d.bodyName = a.bodyName || a.modelRangeName || "na";
        d.bodyType = a.modelRange || "na";
        d.modelName = a.bodyName ||
            "na";
        d.modelCode = a.modelCode || "na";
        a.selectedFeatures && (d.saCodeList = a.selectedFeatures.toString().replace(",", "::") || "");
        return b
    }

    function c() {
        l && (a(q), l = !1)
    }

    function a(a) {
        "na" !== a.attributes.bodyType && "na" !== a.attributes.modelCode && (k.base.setCurrentProduct(a), k.base.pushProduct())
    }

    function d() {
        f.unsubArray(m);
        p = !1
    }
    var e = k.common,
        h = e.EVENTS,
        m = [],
        p = !1,
        q = {
            productInfo: {},
            category: {},
            attributes: {}
        },
        l = !1;
    return {
        init: function() {
            if (!p || e && e.trackingAPI && e.trackingAPI.isTrackingDisabled && !e.trackingAPI.isTrackingDisabled()) d(),
                m.push(b.subscribe(h.formTrackingTeardown, d), b.subscribe(h.formLoaded, c)), p = !0
        },
        primeProductData: function(a) {
            q = g(a);
            l = !0
        },
        setProductData: function(b) {
            b = g(b);
            a(b)
        }
    }
}(mini.digital.$, mini.digital.util, mini.digital.tracking.formgcdm);
mini.digital.tracking.formgcdm.base = function(b, f, k) {
    function g(a) {
        function c(a) {
            if (!b(a).hasClass("md-dealer-item-toggle") && !b(a).hasClass("pika-select")) {
                var c = a.id;
                if ("appointmentDateTime" !== c) {
                    var d = b(a).closest(".md-toggle");
                    if (0 !== d.length) return c = d.data("toggle-type"), "radio" === a.type ? c + "-" + a.value : c;
                    if (void 0 !== a.name && "" !== a.name) return a.name;
                    if (void 0 !== c && "" !== c) return c;
                    c = b(a).attr("ng-model");
                    if (void 0 !== c) return c;
                    console.log("WARN: tracking close-form event: can't determine name of field",
                        a)
                }
            }
        }

        function d(a) {
            a.find("input,select").each(function() {
                if ("hidden" !== this.type && b(this).is(":visible")) {
                    var a = c(this);
                    if (void 0 !== a) {
                        a = (void 0 !== this.form.id && "" !== this.form.id ? this.form.id : this.form.name) + "." + a;
                        var d = b(this).data("md-tracking-field-status");
                        void 0 !== d ? d = "true" === d.toString() : b(this).is("select") ? (d = 0, "" === this.options[d].label && (d += 1), d = this.selectedIndex > d) : d = "checkbox" === this.type || "radio" === this.type ? this.checked : void 0 !== this.value && "" !== this.value;
                        e.nameList.push(a);
                        e.statusList.push(d)
                    }
                }
            })
        }
        var e = {
            nameList: [],
            statusList: []
        };
        a = void 0 !== a ? a.overlayContent : void 0;
        if (void 0 === a || 0 === a.length) return e;
        var f = !0;
        a.find("form").each(function() {
            var a = b(this);
            void 0 === a.attr("gcdm-brand") || "login_form" === a.attr("id") && !f || (d(a), f = !1)
        });
        return e
    }

    function c(a) {
        !A.formLoaded || t && t.trackingAPI && t.trackingAPI.isTrackingDisabled() || (a = g(a), l({
                attributes: {
                    formFieldGcdmNameList: a.nameList,
                    formFieldStatusList: a.statusList
                },
                eventInfo: {
                    eventName: "close form",
                    eventAction: "",
                    effect: "user navigates away from form"
                }
            }),
            u(), f.unsubArray(E), e(), b.publish(B.formTrackingTeardown), J = !0, A.formLoaded = !1)
    }

    function a(a) {
        if (t.trackingAPI && !A.formLoaded && a.formType && !(t && t.trackingAPI && t.trackingAPI.isTrackingDisabled())) {
            var e = {
                eventInfo: {}
            };
            z.$formEl = b(a.formEl);
            A.formType = a.formType.toUpperCase();
            A.requestFormType = a.requestFormType;
            "ACCESSORY" == A.formType && (A.formType = "ACCESSORIES");
            A.formId = z.$formEl.attr("id");
            if (!(A.formLoaded || t && t.trackingAPI && t.trackingAPI.isTrackingDisabled())) {
                y = 0;
                A.formLoaded = !1;
                var g = A.formType +
                    " form",
                    h = "forms",
                    l = A.formType;
                "DEALERLOCATOR" === A.formType && (g = "Dealer Locator", h = "Tools", l = "Dealer Locator");
                A.componentTrackingObj = {
                    attributes: {
                        formHiddenFieldFilled: "false",
                        formCaptchaPresent: "false"
                    },
                    category: {
                        primaryCategory: h,
                        subCategory01: l
                    },
                    componentInfo: {
                        componentName: g
                    }
                };
                A.componentTrackingObj.attributes.formType = A.requestFormType;
                "CONTACT" === A.formType && (A.componentTrackingObj.attributes.contactInquiryType = "");
                "SERVICE" === A.formType && (A.componentTrackingObj.attributes.serviceCategory =
                    "", A.componentTrackingObj.attributes.optionalService = "");
                C = {
                    page: {
                        pageInfo: {},
                        attributes: {
                            virtualPage: !0
                        },
                        category: {
                            subCategory01: A.formType
                        }
                    },
                    component: [],
                    event: [],
                    product: []
                };
                N = {
                    eventInfo: {
                        eventPoints: "0",
                        cause: "default"
                    },
                    category: {
                        primaryCategory: "form navigation"
                    },
                    attributes: {
                        relatedComponentID: A.formId,
                        relatedComponentName: g,
                        relatedComponentPrimaryCategory: h
                    }
                };
                O = {
                    attributes: {
                        relatedComponentID: A.formId,
                        relatedComponentName: g,
                        relatedComponentPrimaryCategory: h
                    },
                    category: {
                        primaryCategory: h,
                        subCategory01: A.formType
                    }
                };
                A.componentTrackingIds = {};
                f.unsubArray(E);
                0 < E.length || t && t.trackingAPI && t.trackingAPI.isTrackingDisabled() || E.push(b.subscribe(B.overlayClosing, c), b.subscribe(B.newStepLoaded, d), b.subscribe(B.formAnalyticsEvent, q), b.subscribe(B.formAnalyticsAddPage, p));
                b.publish(B.formTrackingSetup)
            }
            A.formLoaded = !0;
            y = t.trackingAPI.getCurrentPageIndex();
            A.componentTrackingObj = b.extend(!0, A.componentTrackingObj, z.$formEl.data("tracking-obj"));
            k[a.formType] && k[a.formType].init(t.trackingAPI);
            d({
                stepIndex: 1,
                previousStepIndex: null
            });
            e.eventInfo.eventName = "open form";
            e.eventInfo.eventAction = "";
            e.eventInfo.effect = "user is shown form";
            b.publish(B.formAnalyticsEvent, [{
                eventObj: e,
                immediatePush: !0
            }])
        }
    }

    function d(a) {
        if (z.$formEl && A.formLoaded) {
            var b, c = {
                closeAllAfterIdx: y
            };
            h(z.$formEl.find(".md-form-gcdm-step").eq(a.stepIndex - 1)) || h(z.$formEl);
            if (b = z.$formScope.data("tracking-vpage")) a.steppingBackwards || 1 !== a.stepIndex || (c.closeAllAfterIdx = y = t.trackingAPI.getCurrentPageIndex()), J || (u(), w()), r(), t.trackingAPI.closeAllVirtualPages(c),
                m({
                    page: {
                        pageInfo: {
                            pageName: b
                        }
                    }
                }), "select a dealer" !== b.toLowerCase() && "select preferred dealer" !== b.toLowerCase() || k.dealerlocator.init("gcdmForm"), J && (u(), w(), J = !1);
            v.setFormErrorOn("in-line validation");
            a.steppingBackwards && a.stepHasStandardSelector && x.modelTypeChange()
        }
    }

    function e() {
        t.trackingAPI.closeAllVirtualPages({
            closeAllAfterIdx: y
        })
    }

    function h(a) {
        if (0 === a.length) return !1;
        z.$formScope = a;
        return !0
    }

    function m(a) {
        if (!(t && t.trackingAPI && t.trackingAPI.isTrackingDisabled())) {
            var c = t.trackingAPI.getPageObject(0).page;
            C.page = b.extend(!0, {}, c, C.page);
            var d = "forms",
                e = A.formType;
            "DEALERLOCATOR" === A.formType && (d = "Tools", e = "Dealer Locator");
            a.page.pageInfo.pageName = e + " - " + a.page.pageInfo.pageName;
            C.page.pageInfo.pageInstanceId = (c.pageInfo.pageName + " " + a.page.pageInfo.pageName).toLowerCase() + "_" + c.pageInfo.geoRegion + "_" + c.pageInfo.language + "_" + c.pageInfo.devEnv;
            C.page.pageInfo.pageID = c.pageInfo.pageID + " " + a.page.pageInfo.pageName;
            C.page.pageInfo.breadCrumbs || (C.page.pageInfo.breadCrumbs = []);
            C.page.pageInfo.breadCrumbs.push(a.page.pageInfo.pageName);
            C.page.category.primaryCategory = d;
            C.page.category.subCategory01 = e;
            C.page.category.pageType = "virtual";
            G || r();
            G = !1;
            t.trackingAPI.addVirtualPage(b.extend(!0, {}, C, a), null, document.location.href);
            a = b.extend({}, A.componentTrackingObj);
            a.attributes.formType = A.requestFormType;
            A.componentTrackingIds = t.trackingAPI.initComponentTracking(a);
            u()
        }
    }

    function p(a) {
        e();
        m(a.virtualPage);
        h(a.element)
    }

    function q(a) {
        l(a.eventObj);
        a.pageNavigationObj && !b.isEmptyObject(a.pageNavigationObj) && r(a.pageNavigationObj);
        a.immediatePush &&
            u()
    }

    function l(a) {
        var c = {
            eventInfo: {
                timeStamp: Date.now(),
                eventName: a.eventInfo.eventName
            }
        };
        I = b.extend(!0, a, c);
        F = !1
    }

    function u() {
        F || ("" === I.eventInfo.effect && (I.eventInfo.effect = "User continues to " + z.$formScope.data("tracking-vpage")), t.trackingAPI.addEventTracking(N, I, t.trackingAPI.getCurrentPageIndex()), F = !0)
    }

    function w() {
        Q || t.trackingAPI.isTrackingDisabled() || (t.trackingAPI.initProductTracking(K), C.product = [], C.product.push(K), Q = !0)
    }

    function r(a) {
        var c = t.trackingAPI.getCurrentPageIndex();
        c = (c =
            t.trackingAPI.getPageObject(c)) && c.page && c.page.pageInfo ? c.page.pageInfo : {
            breadCrumbs: []
        };
        var d = A.formType + " form",
            e = "forms";
        "DEALERLOCATOR" === A.formType && (d = "Dealer Locator", e = "Tools");
        c.breadCrumbs || (c.breadCrumbs = []);
        b.extend(!0, C.page.attributes, {
            navigationLevel: c.breadCrumbs.length,
            navigationItemType: "",
            navigationSource: c.pageName,
            navigationItemWording: "",
            navigationComponentId: A.formId,
            navigationComponentName: d,
            navigationComponentPrimaryCategory: e
        }, a);
        G = !0
    }
    var x = k.standardSelector,
        v = k.errors,
        t = k.common,
        A = t.tracking,
        z = t.elements,
        B = t.EVENTS,
        E = [],
        y = 0,
        C = {},
        O = {},
        I = {},
        F = !0,
        N = {},
        K = {},
        Q = !0,
        G = !1,
        J = !0;
    return {
        init: function(d, e) {
            A.formTrackingInitalised ? (c(), A.formLoaded = !1) : (b.subscribe(B.formLoaded, a), t.trackingAPI = d);
            k.errors.init(e);
            k.standardSelector.init();
            A.formTrackingInitalised = !0
        },
        closeAllFormPages: e,
        setScope: h,
        addVirtualPage: m,
        setCurrentEvent: l,
        pushEvent: u,
        setCurrentProduct: function(a) {
            K = b.extend(!0, {}, O, a);
            Q = !1
        },
        pushProduct: w,
        setNavigationPageAttributes: r,
        updateComponentAttribute: function(a) {
            if (A &&
                A.componentTrackingObj && A.componentTrackingObj.componentInfo && A.componentTrackingObj.componentInfo.componentName) {
                for (var b = A.componentTrackingObj.componentInfo.componentName, c = k.common.trackingAPI.getCurrentPageIndex(), d = k.common.trackingAPI.getPageObject(c), e = -1, f = 0; f < d.component.length; f++)
                    if (b === d.component[f].componentInfo.componentName) {
                        e = f;
                        break
                    } a && -1 != e && k.common.trackingAPI.updateComponentTracking(e, {
                    attributes: a
                }, c)
            }
        }
    }
}(mini.digital.$, mini.digital.util, mini.digital.tracking.formgcdm);
mini.digital.comp.formgcdm = function(b, f, k, g, c, a, d) {
    function e() {
        var b = c(C),
            e = b.closest(".md-custom-overlay-main");
        0 !== e.length && (b = b.find(".md-form-gcdm-step"), a.touch && (d.isIPhone || b.css("position", "absolute")), 0 === b.length && (e.hasClass("md-tabview") || e.css("overflow-y", "scroll")))
    }

    function h() {
        var a = c.Deferred();
        window.mini.digital.comp.ucpApi ? a.resolve(window.mini.digital.comp.ucpApi) : require(["apps/minidigital/components/configurator-con/clientlib/ConfiguratorCon"], function(b) {
            window.mini.digital.comp.ucpApi =
                b;
            a.resolve(b)
        });
        return a
    }

    function m(a, d) {
        function k(a, b) {
            a.getVehicle(b).then(function(a) {
                "tda" == x ? c.publish("md:standardselector:init:model", [{
                    modelRange: a.modelRange,
                    modelName: a.vehicleName,
                    modelCode: a.modelCode,
                    configUrl: a.configUrl,
                    shareConfigUrl: a.shareConfigUrl
                }, x]) : u(a, x)
            })
        }
        var m = c.Deferred(),
            r = c(a).attr("gcdm-api-endpoint"),
            q = c(a).attr("md-gcdm-api-javascript-url"),
            x = c(a).data("formgcdm-type"),
            v = c(a).data("request-formgcdm-type");
        if ("directdealermap" === x) return m;
        if (void 0 === q || "null" ===
            q) q = r + "formcomponents/js/gcdm.js";
        C = C || a;
        b.gcdm.init(q).then(function() {
            f.app.init(a);
            !angular.element(a).scope() && d && (angular.module("integration.gcdm.cssConfig", []).value("inShelf", {
                inShelf: !1
            }), angular.bootstrap(a, ["integration.gcdm.cssConfig", f.name]));
            h().then(function(a) {
                var d = window.location.search,
                    e;
                if (d) {
                    var f = d.match(/[?&]configId=([^&]*)?/);
                    var g = d.match(/[?&]ucpBaseurl=([^&]*)?/);
                    var h = d.match(/[?&]modelRange=([^&]*)?/);
                    var m = d.match(/[?&]modelCode=([^&]*)?/);
                    (e = d.match(/[?&]options=([^&]*)?/)) &&
                    e[1] && 0 < e[1].indexOf(",") && (e = decodeURIComponent(e[1]), e = e.split(","))
                }
                if (b.stockLocator.isStockLocatorInPath()) p(x);
                else if (a.isConEnabled() && d)
                    if (g && g[1] && a.setUcpV3Url(decodeURIComponent(g[1])), f && f[1]) k(a, f[1]);
                    else {
                        var r = {
                            modelRange: "",
                            modelCode: "",
                            modelName: ""
                        };
                        h && h[1] && (r.modelRange = h[1]);
                        m && m[1] ? (r.modelCode = m[1], e && 0 < e.length && a.getVehicleByModelCodeAndOptions(r.modelCode, e).then(function(a) {
                            "tda" == x ? c.publish("md:standardselector:init:model", [{
                                modelRange: a.modelRange,
                                modelName: a.vehicleName,
                                modelCode: a.modelCode,
                                configUrl: a.configUrl,
                                shareConfigUrl: a.shareConfigUrl
                            }, x]) : u(a, x)
                        }), a.getModelNameForModelCode(r.modelCode).then(function(a) {
                            r.modelName = a;
                            l(x, r)
                        })) : l(x, r)
                    } require(["core/componentInitializer"], function(a) {
                    var b = c(C).find("div.md-component.md-dealerlocator");
                    0 < b.length && a.initElement(b)
                })
            });
            c(a).addClass("md-js-form-gcdm-loaded");
            c.publish("md:formgcdm:loaded", [{
                formType: x,
                formEl: a,
                requestFormType: v
            }]);
            g[x] && g[x].init(a);
            e();
            m.resolve()
        }).fail(function() {
            console.error("There was a problem loading the requested content. Please try again later.")
        });
        return m
    }

    function p(a) {
        var c = b.stockLocator.loadVehicleFromLocalStorage();
        c && c.vin17 ? q(c.vin17).then(function(b) {
            c.vin = b.vin;
            l(a, c)
        }) : c && c.vin ? l(a, c) : console.error("no configData object or vin number found in local storage object: " + key)
    }

    function q(a) {
        var b = c.Deferred();
        c.ajax({
            url: window.location.origin + "/bin/public/translate/vin?vin\x3d" + a,
            type: "GET"
        }).done(function(a) {
            b.resolve(a)
        });
        return b
    }

    function l(a, b) {
        if (b.modelRange || b.modelCode) "tda" === a || "tdavariant2" === a ? c.publish("md:standardselector:init:model",
            [b, a]) : u(b, a)
    }

    function u(a, c) {
        b.angular.injectEvent(C, "md:formgcdm:gcdmRequest", [a, c])
    }

    function w(a) {
        b.angular.injectEvent(C, "md:formgcdm:gcdmAccessoryRequest", [a])
    }

    function r(a, c, d) {
        "tda" !== d && "tdavariant2" !== d && "rfo" !== d && "rfs" !== d && "rfa" !== d || u(a, d);
        b.angular.injectEvent(C, "md:formgcdm:ss:selected", [a, c, d])
    }

    function x(a) {
        "downloadToggle" === a.type && c("form.md-form-gcdm-steps").find(".md-form-gcdm-brochure-dl").attr("data-selected-value") != a.value && b.angular.injectEvent(C, "md:formgcdm:brochureToggleUpdate",
            [a.value, a.originalEvent])
    }

    function v(a) {
        "downloadToggle" === a.type && b.angular.injectEvent(C, "md:formgcdm:brochureToggleUpdate", [a.value, a.originalEvent])
    }

    function t(a) {
        a.overlayContent.find(C).length && y();
        if (0 < O.length) {
            C = null;
            var d = c(O[0]).attr("id"),
                e = c(document).find("#" + d);
            e = e.parent();
            a = window.location.pathname.replace(".html", "/jcr:content/main.html");
            e && 0 < e.length && c.ajax({
                url: a,
                data: {
                    value: 1
                },
                type: "get",
                error: function(a, b, c) {
                    404 == a.status && (window.location.href = url)
                },
                success: function(a) {
                    a =
                        c(a).find("#" + d);
                    c(c(e.find("#" + d))).replaceWith(a.clone());
                    b.initialise(e)
                }
            });
            O = []
        }
    }

    function A(a) {
        b.angular.injectEvent(C, "loginIdChange", [a])
    }

    function z() {
        b.angular.injectEvent(C, "md:formgcdm:window:resize")
    }

    function B(a, b) {
        "tda" == b && c.publish("md:standardselector:init:model", [{
            modelRange: a.modelRange,
            modelName: a.vehicleName,
            modelCode: a.modelCode
        }, b]);
        if (!a.cosyImageInfos && a.featureDetails) {
            for (var d, e, f, g = [], l = 0; l < a.featureDetails.length; l++)(f = a.featureDetails[l]) && f.featureKey && f.featureKey.typeAndCode &&
                (0 == f.featureKey.typeAndCode.indexOf("P") ? d = f.featureKey.typeAndCode : 0 == f.featureKey.typeAndCode.indexOf("F") ? e = f.featureKey.typeAndCode : g.push(f.featureKey.typeAndCode));
            a.options = g;
            a.paint = {
                code: d
            };
            a.fabric = {
                code: e
            };
            h().then(function(c) {
                a.cosyImageInfos = [{}, {}, {
                    urlString: c.getCosyImages(a)
                }];
                u(a, b)
            })
        } else u(a, b)
    }

    function E() {
        I.push(c.subscribe("md:resize", z), c.subscribe("md:mymini:gcdmRequest", u), c.subscribe("md:configurator:gcdmRequest", u), c.subscribe("md:formgcdm:gcdmRequest", u), c.subscribe("md:accessory:gcdmRequest",
            w), c.subscribe("md:overlay:closed", t), c.subscribe("md:standardselector:formgcdm:broadcast", r), c.subscribe("md:toggle:update", x), c.subscribe("md:toggle:init", v), c.subscribe("md:mymini:loggedin:change", A), c.subscribe("md:sendvehicle:gcdmRequest", B))
    }

    function y() {
        c.each(I, function(a, b) {
            c.unsubscribe(b)
        });
        I = []
    }
    var C, O = [],
        I = [],
        F = null;
    c("html");
    return {
        init: function(a, b, d, e) {
            if (C) {
                var f;
                C && (f = c(C).attr("data-formgcdm-resource-path")) && (f = f.replace("/jcr:content/main/par/formgcdm", ""));
                b = f;
                f = window.location.pathname.replace(".html",
                    "");
                b == f && O.push(C)
            }
            C = a;
            d(a).parent().prev().find(".md-custom-overlay-header-title").addClass("md-form-gcdm-main-title");
            d = d(a).data("formgcdm-type");
            k.init(e, d);
            m(a, !0);
            y();
            E()
        },
        setup: m,
        manageEvents: function() {
            y();
            E()
        },
        setVal: function(a, b, c) {
            a.find(b).val(c)
        },
        toggleTabView: function(a) {
            var d = c(".md-form-gcdm-mymini");
            d.toggleClass("md-hidden", a);
            void 0 !== F && window.clearTimeout(F);
            F = window.setTimeout(function() {
                a || d.hasClass("md-hidden") || !d.hasClass("md-component-defer") || (d.removeClass("md-component-defer"),
                    b.initialise(d))
            }, 500)
        }
    }
}(mini.digital.util, mini.digital.comp.gcdm, mini.digital.tracking.formgcdm.base, mini.digital.comp.forms, mini.digital.$, Modernizr, mini.digital.util.browser);
mini.digital.comp.gcdm.app = function(b, f, k, g) {
    return {
        init: function(c) {
            c = f(c);
            var a = ["gcdm", "ngAnimate", "angularPikaday"];
            if (d) {
                var d = d.split(",");
                a = a.concat(d)
            }
            b.appModule = angular.module(b.name, a).config(["$provide", "$locationProvider", function(a, b) {
                g.isRunning() || -1 < window.location.hash.indexOf("#/dlo") || b.html5Mode({
                    enabled: !0,
                    requireBase: !1,
                    rewriteLinks: !1
                });
                a.decorator("GcdmVehicleTreeProvider", ["$delegate", "$q", function(a, b) {
                    a.getNewBMWGroupVehicles = function() {
                        var a = b.defer();
                        a.resolve({
                            modelData: {
                                series: [{
                                    value: "MI",
                                    name: "Mini"
                                }],
                                bodytypes: [{
                                    name: "MINI Countryman",
                                    value: "F60",
                                    series: "MI",
                                    defaultModelCode: "ZB32"
                                }],
                                models: [{
                                    name: "MINI Countryman",
                                    value: "ZB32",
                                    bodytype: "F60",
                                    series: "MI"
                                }]
                            }
                        });
                        return a.promise
                    };
                    return a
                }]);
                a.decorator("GcdmVehicleAccessoryProvider", ["$delegate", "mdGcdmRequestedAccessoryService", function(a, b) {
                    a.getVehicleAccessories = function() {
                        return b.requestedAccessory
                    };
                    return a
                }]);
                a.decorator("GcdmVehicleConfigurationProvider", ["$delegate", "$q", "mdGcdmRequestedVehicleService", function(a, b, c) {
                    a.getVehicleConfiguration =
                        function() {
                            var a = b.defer(),
                                d = c.getFormattedVehicle();
                            a.resolve(d.modelCode ? d : {});
                            return a.promise
                        };
                    return a
                }]);
                a.decorator("$browser", ["$delegate", k.angular.browserDecorator]);
                a.decorator("$location", ["$delegate", "$browser", k.angular.locationDecorator])
            }]);
            b.controllers.gcdm.init(c);
            b.controllers.login.init();
            b.controllers.contactPolicy.init(c);
            b.controllers.registration.init(c);
            b.controllers.registrationCheck.init(c);
            b.controllers.confirmation.init();
            b.controllers.forgottenpassword.init();
            b.controllers.changepassword.init();
            b.controllers.profile.init();
            b.controllers.profileChange.init();
            b.controllers.deleteAccount.init();
            b.controllers.loginIdChange.init();
            b.controllers.dealerlocator.init();
            b.controllers.brochure.init();
            b.controllers.tda.init();
            b.controllers.activate.init();
            b.controllers.brochure.init();
            b.controllers.offer.init();
            b.controllers.directDealerMap.init();
            b.controllers.vco.init();
            b.directives.init();
            b.services.init(c);
            b.modules.init()
        }
    }
}(mini.digital.comp.gcdm, mini.digital.$, mini.digital.util, mini.digital.comp.configurator);
mini.digital.comp.gcdm.directives = function(b, f, k, g, c, a, d, e, h, m, p) {
    var q = e.getFinanceApp();
    return {
        init: function() {
            function e(a, b, c) {
                b.is(":checked") ? c || a(function() {
                    b.trigger("click")
                }) : c && a(function() {
                    b.trigger("click")
                })
            }

            function p(a, b) {
                a.$watch("checked", function(c, d) {
                    !d && c && ("BROCHURE" === a.gcdmInfoMaterial.informationType && "post" === b.requestType || "DOWNLOAD" === a.gcdmInfoMaterial.informationType && "download" === b.requestType) && b.addSelectedBrochure(a.gcdmInfoMaterial);
                    d && !c && b.removeSelectedBrochure(a.gcdmInfoMaterial.informationMaterialCode)
                })
            }

            function w(a, b, c) {
                a.$on("md:formgcdm:brochure:full", function(d, f) {
                    a.checked && f.informationMaterialCode === a.gcdmInfoMaterial.informationMaterialCode && e(b, c, !1)
                })
            }
            b.appModule.directive("mdGcdmHasConfirmation", function() {
                return {
                    restrict: "A",
                    link: function(a) {
                        a.hasConfirmation = !0
                    }
                }
            });
            b.appModule.directive("mdGcdmRequestedVehicle", ["mdGcdmRequestedVehicleService", function(a) {
                return {
                    restrict: "A",
                    scope: {},
                    template: '\x3cdiv class\x3d"md-form-gcdm-preselected-container"\x3e\x3cp class\x3d"md-form-gcdm-preselected-range"\x3e{{ vehicle.getVehicle().vehicleName || vehicle.getVehicle().bodyName || vehicle.getVehicle().rangeName }}\x3c/p\x3e\x3c/div\x3e\x3cimg class\x3d"md-form-gcdm-preselected-image" ng-class\x3d"{\'md-form-gcdm-preselected-image-front\': vehicle.getVehicle().note}" alt\x3d"{{ vehicle.getVehicle().vehicleName || vehicle.getVehicle().bodyName || vehicle.getVehicle().rangeName }}" md-src\x3d"{{ vehicle.getVehicle().preselectedImage || vehicle.getVehicle().cosyImageInfos[2].urlString }}" /\x3e',
                    link: function(b) {
                        b.vehicle = a;
                        f.publish("md:gcdm:vehicle:updated", [{
                            vehicle: b.vehicle.getVehicle()
                        }])
                    }
                }
            }]);
            b.appModule.directive("mdSrc", function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        c.$observe("mdSrc", function(a) {
                            function d(a, b) {
                                var c = 0;
                                b && (c = a.outerWidth(!0));
                                b = a.css("max-width").replace("px", "");
                                b = parseInt(b);
                                0 === c && 0 < b && (c = b);
                                return 0 < c ? c : d(a.parent(), !0)
                            }
                            null !== c.mdSrc && void 0 !== c.mdSrc && "" !== c.mdSrc && (a = d(f(b[0]), !1), m.lazyLoadImage.loadImage(f(b[0]), c.mdSrc, a))
                        })
                    }
                }
            });
            b.appModule.directive("mdGcdmBrochureVehicle",
                ["mdGcdmRequestedVehicleService", function(a) {
                    return {
                        restrict: "A",
                        scope: !0,
                        link: function(b) {
                            b.vehicle = a;
                            f.publish("md:gcdm:vehicle:updated", [{
                                vehicle: b.vehicle.getVehicle()
                            }])
                        }
                    }
                }]);
            b.appModule.directive("mdGcdmTdaModel", ["mdGcdmRequestedVehicleService", "GcdmUtilService", function(a, b) {
                return {
                    restrict: "A",
                    scope: !0,
                    link: function(c, d, e) {
                        c.$watch(function() {
                            return a.getVehicle() ? a.getVehicle() : null
                        }, function(a) {
                            b.updateModel(c, e.ngModel, a.modelCode);
                            f.publish("md:gcdm:vehicle:updated", [{
                                vehicle: a
                            }])
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmSwitchModelName", ["mdGcdmRequestedVehicleService", function(a) {
                return {
                    restrict: "A",
                    scope: !0,
                    link: function(b, c, d) {
                        a.setReplaceModelNameWithRangeName("true" === d.mdGcdmSwitchModelName ? !0 : !1)
                    }
                }
            }]);
            b.appModule.directive("mdGcdmVehicleSummaryOutput", ["mdGcdmRequestedVehicleService", function(a) {
                return {
                    restrict: "A",
                    scope: !0,
                    link: function(b) {
                        b.mdGcdmVehicleSummary = a
                    }
                }
            }]);
            b.appModule.directive("mdGcdmBrochureRangeSelect", ["mdGcdmBrochureService", "$rootScope", function(a, b) {
                function c(a,
                    b) {
                    b.find("option").each(function(b, c) {
                        void 0 !== c && (b = f(c).val(), 0 === a.getTypedRangeBrochures(b).length ? f(c).hide() : f(c).show())
                    })
                }
                return {
                    restrict: "A",
                    scope: !0,
                    link: function(d, e, g) {
                        var h = f(e);
                        b.$on("md:formgcdm:rfi:loaded", function() {
                            c(d, h);
                            if (d.preselectedBrochureIds) {
                                var b = d.preselectedBrochureIds[0],
                                    f = a.getRangeFromBrochure(b),
                                    g = h.children("option").filter('[data-ss-item-code\x3d"' + f + '"]');
                                g.prop("selected", !0);
                                d.initSelectedBrochure(f, b)
                            } else(b = e.val()) ? d.initSelectedBrochure(b) : (g = e.children("option").filter('[data-ss-item-code\x3d"other"]')) &&
                                g.prop("selected", !0);
                            d.$watch(function() {
                                return a.requestType
                            }, function(a) {
                                c(d, h)
                            })
                        })
                    }
                }
            }]);
            b.appModule.directive("mdCustomGcdmInformationMaterials", ["mdCustomDropdownService", "$rootScope", function(a, b) {
                return {
                    restrict: "A",
                    scope: !0,
                    link: function(a, b, c) {}
                }
            }]);
            b.appModule.directive("mdGcdmBrochureDropdown", ["mdGcdmBrochureService", "$rootScope", function(a, b) {
                return {
                    restrict: "A",
                    require: "^form",
                    replace: !0,
                    scope: !0,
                    template: function() {
                        return '\x3cselect ng-model\x3d"selectedBrochure" ng-change\x3d"onBrochureChanged()" md-gcdm-validate-brochure ng-options\x3d"brochure as getBrochureLabel(brochure) for brochure in brochureOptions" gcdm-apply-value gcdm-validation gcdm-validation-identifier\x3d"request_informations" gcdm-model-check\x3e\x3c/select\x3e'
                    },
                    link: function(c, d, e) {
                        d = f(d);
                        var g = d.data("empty-brochure-label"),
                            h = d.data("brochure-criteria"),
                            l = d.data("multi-brochure-selection");
                        b.$on("md:formgcdm:rfi:loaded", function() {
                            var a = void 0;
                            c.preselectedBrochureIds && (a = c.preselectedBrochureIds[0]);
                            c.initBrochureOptions(g, a, h, l);
                            f.publish("md:selector:initialised")
                        });
                        b.$on("md:formgcdm:gcdmRequest", function(b, d, e) {
                            d && d.modelRange && (b = a.getBrochureIdFromModelRange(d.modelRange, c.gcdmDownloadBrochure)) && c.initBrochureOptions(g, b, h, l)
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmValidateBrochure",
                function() {
                    return {
                        require: "?ngModel",
                        link: function(a, b, c, d) {
                            a = "true" != c.multiBrochureSelection;
                            d && a && (d.$validators.brochures = function(a, b) {
                                return void 0 != b && "_empty_" != b.informationMaterialCode && "" != b.informationMaterialCode
                            })
                        }
                    }
                });
            b.appModule.directive("mdGcdmRangeCodeForService", ["$rootScope", function(a) {
                return {
                    restrict: "A",
                    link: function(b, c, d) {
                        f(c);
                        a.$on("md:formgcdm:gcdmRequest", function(a, c, d) {
                            if ("rfs" === d || "rfa" === d) b.gcdmFormModel.vehicle.model = c.modelRangeCode
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmBrochureImageSetup",
                ["mdGcdmBrochureService", "$rootScope", function(a, b) {
                    return {
                        restrict: "A",
                        link: function(c, d, e) {
                            function g(b) {
                                b.find(".md-ss-range-item .md-ss-range-link").each(function(b, c) {
                                    b = f(c);
                                    c = b.data("ss-item-code");
                                    c = a.gcdmBrochuresGrouped[c] || [];
                                    var d = b.find("img").data("cosySrcset");
                                    for (b = 0; b < c.length; b++) c[b].image = {
                                        src: d
                                    }
                                })
                            }
                            var h = b.$on("md:formgcdm:rfi:loaded", function() {
                                g(f(d))
                            });
                            c.$on("$destroy", function() {
                                h()
                            })
                        }
                    }
                }]);
            b.appModule.directive("mdGcdmFormUpdateCampaign", function() {
                return {
                    restrict: "A",
                    scope: !0,
                    link: function(a, b, c) {
                        function d(a) {
                            a && -1 < a.indexOf("{{") && -1 < a.indexOf("}}") && (a = void 0);
                            return a
                        }
                        console.log("link update campaign");
                        a.gcdmFormModel.campaign.campaignId = d(a.gcdmFormModel.campaign.campaignId);
                        a.gcdmFormModel.campaign.campaignName = d(a.gcdmFormModel.campaign.campaignName);
                        a.gcdmFormModel.campaign.leadContext = d(a.gcdmFormModel.campaign.leadContext);
                        a.gcdmFormModel.campaign.leadSource = d(a.gcdmFormModel.campaign.leadSource);
                        a.gcdmFormModel.campaign.leadSourceId = d(a.gcdmFormModel.campaign.leadSourceId);
                        a.gcdmFormModel.campaign.offerId = d(a.gcdmFormModel.campaign.offerId);
                        a.gcdmFormModel.campaign.treatmentId = d(a.gcdmFormModel.campaign.treatmentId);
                        a.gcdmFormModel.campaign.treatmentName = d(a.gcdmFormModel.campaign.treatmentName);
                        c.gcdmCampaignId && c.$observe("gcdmCampaignId", function(b) {
                            a.gcdmFormModel.campaign.campaignId = c.gcdmCampaignId
                        });
                        c.gcdmCampaignName && c.$observe("gcdmCampaignName", function(b) {
                            a.gcdmFormModel.campaign.campaignName = c.gcdmCampaignName
                        });
                        c.gcdmLeadContext && c.$observe("gcdmLeadContext",
                            function(b) {
                                a.gcdmFormModel.campaign.leadContext = c.gcdmLeadContext
                            });
                        c.gcdmLeadSource && c.$observe("gcdmLeadSource", function(b) {
                            a.gcdmFormModel.campaign.leadSource = c.gcdmLeadSource
                        });
                        c.gcdmLeadSourceId && c.$observe("gcdmLeadSourceId", function(b) {
                            a.gcdmFormModel.campaign.leadSourceId = c.gcdmLeadSourceId
                        });
                        c.gcdmOfferId && c.$observe("gcdmOfferId", function(b) {
                            a.gcdmFormModel.campaign.offerId = c.gcdmOfferId
                        });
                        c.gcdmTreatmentId && c.$observe("gcdmTreatmentId", function(b) {
                            a.gcdmFormModel.campaign.treatmentId =
                                c.gcdmTreatmentId
                        });
                        c.gcdmTreatmentName && c.$observe("gcdmTreatmentName", function(b) {
                            a.gcdmFormModel.campaign.treatmentName = c.gcdmTreatmentName
                        })
                    }
                }
            });
            b.appModule.directive("mdGcdmFormStatus", function() {
                return {
                    restrict: "A",
                    scope: !0,
                    link: function(a, b, c) {
                        a.formSubmitting = !1;
                        a.$watch("gcdmIsLoading()", function(c) {
                            c ? (b.addClass("md-form-gcdm-submitting"), a.formSubmitting = !0) : (b.removeClass("md-form-gcdm-submitting"), a.formSubmitting = !1)
                        })
                    }
                }
            });
            b.appModule.directive("mdRequestType", function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        a.$watch(c.mdRequestType, function(c) {
                            c && a.$evalAsync(function() {
                                "download" === c && /^DIG/.test(a.gcdmInfoMaterial.label) || "post" === c && /^DLR/.test(a.gcdmInfoMaterial.label) ? f(b).removeClass("md-form-gcdm-checkbox-disabled") : f(b).addClass("md-form-gcdm-checkbox-disabled")
                            })
                        })
                    }
                }
            });
            b.appModule.directive("mdFormGcdmBrochureType", ["mdGcdmBrochureService", function(a) {
                return {
                    restrict: "A",
                    link: function(b, c, d) {
                        if (b = d.mdFormGcdmBrochureType) a.requestType = b
                    }
                }
            }]);
            b.appModule.config(["$provide",
                function(a) {
                    a.decorator("gcdmInformationIdDirective", ["$delegate", function(a) {
                        a[0].template = function(a, b) {
                            return '\x3cinput ng-model\x3d"checked" ng-click\x3d"onClick()" type\x3d"' + (b.gcdmFieldType ? b.gcdmFieldType : "hidden") + '" ' + (b.value ? ' value\x3d"' + b.value + '"' : "") + "\x3e"
                        };
                        return a
                    }])
                }
            ]);
            b.appModule.directive("mdGcdmInformationId", ["mdGcdmBrochureService", "mdGcdmRequestedVehicleService", "$timeout", function(a, b, c) {
                return {
                    restrict: "A",
                    scope: !0,
                    link: function(d, g, h) {
                        function l(a) {
                            e(c, k, a)
                        }
                        var k = f(g);
                        d.$watch(function() {
                            return b.getVehicle() ? b.getVehicle().modelCode : null
                        }, function(a) {
                            a: {
                                var b = d.preselectedBrochureIds;
                                var c = d.gcdmInfoMaterial.informationMaterialCode;
                                if (void 0 !== b)
                                    for (var e = b.length; e--;)
                                        if (b[e] === c) {
                                            b.splice(e, 1);
                                            b = !0;
                                            break a
                                        } b = !1
                            }
                            b ? l(!0) : h.mdBrochureModelCode === a ? "DOWNLOAD" === d.mdGcdmBrochureType && /^DIG/.test(d.gcdmInfoMaterial.label) ? l(!0) : "DOWNLOAD" !== d.mdGcdmBrochureType && /^DLR/.test(d.gcdmInfoMaterial.label) && l(!0) : l(!1)
                        });
                        d.$watch(function() {
                            return a.requestType
                        }, function(b,
                            c) {
                            if (b !== c) {
                                var e, f;
                                c = a.getSelectedBrochures();
                                l(!1);
                                null !== c && angular.forEach(c, function(a) {
                                    e = a.productVgModelCode || a.productAgModelCode;
                                    f = d.gcdmInfoMaterial.productVgModelCode || d.gcdmInfoMaterial.productAgModelCode;
                                    a = /^DIG/.test(d.gcdmInfoMaterial.label) ? "download" : "post";
                                    void 0 !== f && f === e && a === b && l(!0)
                                })
                            }
                        });
                        p(d, a);
                        w(d, c, k)
                    }
                }
            }]);
            b.appModule.directive("mdGcdmInformationIdInit", ["mdGcdmBrochureService", "$timeout", function(a, b) {
                return {
                    restrict: "A",
                    scope: !0,
                    link: function(c, d, g) {
                        var h = f(d);
                        p(c, a);
                        w(c,
                            b, h);
                        c.$watch(function() {
                            return mini.digital.util.currentModel.get()
                        }, function(a) {
                            if (void 0 !== a) {
                                var d = c.gcdmCredentials.gcdmLanguage.toLowerCase();
                                a.modelRangeCode === c.gcdmInfoMaterial.productConstructionSeries && d == c.gcdmInfoMaterial.languageISO && e(b, h, !0)
                            }
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmBrochurePrepare", ["mdGcdmRequestedVehicleService", "mdGcdmBrochureService", "$rootScope", "$timeout", function(a, b, c, d) {
                return {
                    restrict: "A",
                    link: function(a, b) {
                        var d = f(b),
                            e = c.$on("md:formgcdm:rfi:loaded", function() {
                                d.removeAttr("aria-busy");
                                e()
                            })
                    }
                }
            }]);
            b.appModule.directive("mdBrochureRequestOutput", ["mdGcdmBrochureService", function(a) {
                return {
                    restrict: "A",
                    link: function(b) {
                        b.$watchCollection(function() {
                            return [a.selectedBrochures, a.conflictedBrochures, a.requestType, a.selectedBrochuresLimit]
                        }, function(a) {
                            b.selectedBrochuresLimit = a[3];
                            b.isDownload = "download" === a[2];
                            b.brochures = a[0];
                            b.conflictedBrochures = a[1]
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmDateTime", ["GcdmUtilService", function(a) {
                return {
                    restrict: "A",
                    scope: !0,
                    link: function(b, c, d) {
                        var e = {
                            am: "T09:00:00",
                            pm: "T13:00:00"
                        };
                        var g = b.$watchCollection(function() {
                            return b.$parent.mdTdaAppointment
                        }, function(g) {
                            var h = f(c).closest(".md-form-gcdm-item").find(".md-form-gcdm-datecustom").attr("format");
                            if (g && g.date) {
                                var l = k(g.date, h).format("YYYY-MM-DD");
                                f.publish("md:overlay:iphone:resize")
                            }
                            d.mdGcdmTimeSlot && l && (l += e[g.timeIsPm ? "pm" : "am"]);
                            a.updateModel(b, d.ngModel, l)
                        });
                        b.$on("$destroy", function() {
                            g()
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmFormSteps", ["mdGcdmStepService", "$rootScope", function(a, b) {
                return {
                    restrict: "A",
                    scope: !0,
                    link: function(d, e) {
                        d.formIsSteppingForward = !0;
                        d.setFormStepDirection = function(a) {
                            d.formIsSteppingForward = "next" === a
                        };
                        d.$watch("gcdmActiveSectionIndex", function(b) {
                            var c = f(e).find(".md-form-gcdm-step").eq(b - 1),
                                d = c.find(".md-form-gcdm-ss"),
                                g = a.activeStep || 0;
                            a.setActiveStep(b);
                            a.isSkipStep(b) || f.publish("md:formgcdm:newStepLoaded", [{
                                previousStepIndex: g,
                                stepIndex: b,
                                steppingBackwards: g && g > b,
                                stepHasStandardSelector: 0 < d.length,
                                selector: c
                            }])
                        });
                        d.$watch("gcdmLastSectionIndex", function(b) {
                            a.setTotalSteps(b)
                        });
                        f(e).find("[ng-animate]").on(c, function() {
                            b.$broadcast("stepTransitionEnded");
                            f.publish("stepTransitionEnded")
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmSkipSection", ["mdGcdmStepService", function(a) {
                return {
                    restrict: "A",
                    scope: !0,
                    link: function(b, c, d) {
                        var e, f = b.gcdmFormSectionIndex;
                        b.$watch(d.mdGcdmSkipSection, function(b) {
                            (e = b) ? a.setSkipStep(f): a.removeSkipStep(f)
                        });
                        b.$watch("gcdmIsSectionActive()", function(a) {
                            e && a && (b.formIsSteppingForward ? b.gcdmNextFormSection() : b.gcdmPrevFormSection())
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmBrochureTypeSwitch",
                ["$rootScope", "mdGcdmBrochureService", function(a, b) {
                    return {
                        restrict: "A",
                        scope: !0,
                        link: function(a, c) {
                            a.mdGcdmBrochureType = c.attr("data-selected-value") ? c.attr("data-selected-value") : b.requestType;
                            "download" === a.mdGcdmBrochureType ? (a.mdDisableRegFlow(), a.setGcdmDownloadBrochure(!0)) : a.setGcdmDownloadBrochure(!1)
                        }
                    }
                }]);
            b.appModule.directive("mdGcdmFormStepsScrollPane", ["$timeout", function(b) {
                return {
                    restrict: "A",
                    scope: !0,
                    link: function(c, d, e) {
                        function g() {
                            var a = l.outerHeight();
                            d[0].style.height = a + "px"
                        }
                        var h = window.JSON.parse(d[0].dataset.scrollPane),
                            l = f(d).closest(h.scrollParentClass);
                        l.find(h.footerNavClass);
                        var k = a.isSamsung;
                        "disabled" !== e.mdGcdmFormStepsScrollPane && (g(), c.$on("md:formgcdm:window:resize", g), c.$on("stepTransitionEnded", function() {
                            k ? b(g, 500) : g()
                        }), c.$on("brochureBasketEmpty", g), c.$on("brochureBasketTransitionEnd", g))
                    }
                }
            }]);
            b.appModule.directive("mdGcdmFormProgress", ["mdGcdmStepService", function(a) {
                return {
                    restrict: "A",
                    scope: {
                        i18nTitle: "@",
                        i18nItem: "@"
                    },
                    template: '\x3cp class\x3d"md-form-gcdm-progress-title" id\x3d"md-form-gcdm-progress-label"\x3e{{ i18nTitle }}\x3c/p\x3e\x3col aria-labelledby\x3d"md-form-gcdm-progress-label" ng-if\x3d"steps.totalSteps" class\x3d"md-form-gcdm-progress" role\x3d"progressbar" aria-valuenow\x3d"{{ steps.activeStep }}" aria-valuemin\x3d"1" aria-valuemax\x3d"{{ steps.totalSteps }}"\x3e\x3cli class\x3d"md-form-gcdm-progress-bar" ng-class\x3d"{\'md-form-gcdm-progress-bar-active\': steps.activeStep \x3e\x3d $index + 1}" ng-repeat\x3d"i in getSteps(steps.totalSteps) track by $index"\x3e\x3cspan class\x3d"md-form-gcdm-progress-bar-text"\x3e{{ i18nItem }} {{ $index + 1 }}\x3c/span\x3e\x3c/li\x3e\x3c/ol\x3e',
                    compile: function() {
                        return function(b) {
                            b.steps = a;
                            b.getSteps = function(a) {
                                var b = [];
                                if (1 === a) return b;
                                for (var c = 0; c < a; c++) b.push("");
                                return b
                            }
                        }
                    }
                }
            }]);
            b.appModule.directive("mdGcdmIsEditMode", function() {
                return {
                    restrict: "A",
                    scope: !0,
                    link: function(a, b, c) {
                        a.isEditMode = "true" === c.mdGcdmIsEditMode
                    }
                }
            });
            b.appModule.directive("mdGcdmTdaSummaryOutput", ["mdGcdmTdaSummaryService", "mdGcdmRequestedVehicleService", function(a, b) {
                return {
                    restrict: "A",
                    scope: !0,
                    link: function(c) {
                        c.tdaSummary = {};
                        angular.extend(c.tdaSummary,
                            b, !0);
                        c.$watch(function() {
                            return b.getVehicle()
                        }, function() {
                            angular.extend(c.tdaSummary, b, !0)
                        });
                        c.$watch(function() {
                            return a.summaryData
                        }, function(a) {
                            angular.extend(c.tdaSummary, a)
                        }, !0)
                    }
                }
            }]);
            b.appModule.directive("mdFormGcdmPolicy", ["$timeout", function(a) {
                return {
                    restrict: "A",
                    link: function(b, c) {
                        function d(a, c, d) {
                            h = d.css("height") > c.css("max-height");
                            b.termsOverflow = a && h;
                            return b.termsOverflow
                        }
                        var e = f(c[0]),
                            g = f(c.find("div")[0]),
                            h;
                        0 < g.length && b.$watch("termsVisible", function(b, c) {
                            c !== b && (e.css("height",
                                b ? g.height() : 0), a(d.bind(this, b, e, g), 50))
                        })
                    }
                }
            }]);
            b.appModule.directive("mcGcdmPolicyUsageConsentValue", ["$timeout", function(a) {
                return {
                    restrict: "A",
                    link: function(b, c, d) {
                        var e = d.mcGcdmPolicyUsageConsentValue,
                            g = d.gcdmPolicyUsageId,
                            h = f(c).closest("[gcdm-policy-id]").attr("gcdm-policy-id");
                        void 0 !== h && a(function() {
                            for (var a = void 0, c = 0; c < b.gcdmFormModel.policyConsents.length; c++)
                                if (b.gcdmFormModel.policyConsents[c].policyId === h) {
                                    a = b.gcdmFormModel.policyConsents[c];
                                    break
                                } void 0 !== a && (a = a.policyUsageConsents[g],
                                void 0 !== a && (a.selected = !!e))
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmProfileRefresh", ["GcdmProfileService", function(a) {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        a.gcdmIsLoggedIn() && a.$watch("gcdmFormModel.settings.updateProfile", function() {
                            a.gcdmFormModel.businessPartner.addresses[0].preferred = a.gcdmFormModel.settings.updateProfile ? !0 : !1
                        })
                    }
                }
            }]);
            b.appModule.directive("ngActivateControl", function() {
                return function(a, b, c) {
                    b.bind("keydown keypress", function(b) {
                        if (13 === b.which || 32 === b.which) a.$apply(function() {
                                a.$eval(c.ngActivateControl)
                            }),
                            b.preventDefault()
                    })
                }
            });
            b.appModule.directive("mdGcdmAddToCalendar", function() {
                return {
                    restrict: "A",
                    link: function(a, b) {
                        function c(a) {
                            try {
                                return k(a).format("YYYYMMDDTHHmmss")
                            } catch (z) {}
                        }
                        var d;
                        b.on("click", function(a) {
                            a.preventDefault();
                            d = "BEGIN:VCALENDAR\nVERSION:2.0\n";
                            d += "PRODID:-//MINI//NONSGML v1.0//EN\n";
                            d += "BEGIN:VEVENT\n";
                            d += "UID: " + Math.random().toString(36).substr(2, 9) + "\n";
                            d += "DTSTAMP:" + b.attr("data-md-calendar-date-time") + "\n";
                            d += "ORGANIZER;CN\x3d" + b.attr("data-md-calendar-firstname") + " " +
                                b.attr("data-md-calendar-surname");
                            d += ":MAILTO::" + b.attr("data-md-calendar-email") + "\n";
                            a = d += "DTSTART:" + c(b.attr("data-md-calendar-date-time")) + "\n";
                            a: {
                                var e = b.attr("data-md-calendar-date-time");
                                try {
                                    var f = c(k(e).add(1, "days"));
                                    break a
                                } catch (E) {}
                                f = void 0
                            }
                            d = a + ("DTEND:" + f + "\n");
                            d += "LOCATION:" + b.attr("data-md-calendar-address") + "\n";
                            d += "SUMMARY:" + b.attr("data-md-calendar-title") + "\n";
                            d += "END:VEVENT\n";
                            d += "END:VCALENDAR";
                            window.open("data:text/calendar;charset\x3dutf8," + encodeURI(d))
                        })
                    }
                }
            });
            b.appModule.directive("mdGcdmRfoInput",
                ["mdGcdmRfoSummaryService", function(a) {
                    return {
                        restrict: "A",
                        require: "?ngModel",
                        link: function(b, c, d, e) {
                            var f = d.mdGcdmRfoInput,
                                g = {};
                            f && e && b.$watch(function() {
                                return e.$modelValue
                            }, function(b) {
                                void 0 !== b && (g[f] = b, a.setSummaryData(g))
                            })
                        }
                    }
                }]);
            b.appModule.directive("mdGcdmFinance", ["mdGcdmFinanceService", function(a) {
                return {
                    restrict: "A",
                    scope: !0,
                    link: function(b, c) {
                        b.$watch("gcdmIsSectionActive()", function(c) {
                            c && (a.loadFinanceInterest(), b.existFinanceInterests = a.isFinanceInterests())
                        });
                        f.subscribe("md:finance:initialised",
                            function() {
                                a.loadFinanceInterest();
                                b.existFinanceInterests = a.isFinanceInterests()
                            })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmRfoSummaryOutput", ["mdGcdmRfoSummaryService", function(a) {
                return {
                    restrict: "A",
                    link: function(b) {
                        b.rfoSummaryData = a.summaryData
                    }
                }
            }]);
            b.appModule.directive("mdGcdmDealerLocatorDistances", function() {
                return {
                    restrict: "A",
                    link: function(a, b) {
                        var c = f(b);
                        a.showDistances = function() {
                            c.find(".md-dealer-distance").css("display", "table-cell")
                        };
                        a.hideDistances = function() {
                            c.find(".md-dealer-distance").css("display",
                                "none")
                        }
                    }
                }
            });
            b.appModule.directive("mdGcdmDealerLocatorErrorOverlay", function() {
                return {
                    restrict: "A",
                    link: function(a, b) {
                        function c(a) {
                            if (!a.requester.is(".md-gcdm-has-error")) return !1;
                            m = f(a.overlayContent);
                            l = m.find("button");
                            f.subscribe("md:overlay:closed", d);
                            m.find(".md-form-gcdm-dlo-error-content").removeClass("md-dlo-overlay-hide");
                            l.on("click", e);
                            f.unsubscribe(p)
                        }

                        function d() {
                            a.onErrorMessageHandled();
                            k = void 0
                        }

                        function e() {
                            k.closeOverlay()
                        }
                        var g = f(b),
                            h = g.find(".md-form-gcdm-dlo-error-content"),
                            l, k, m, p;
                        a.$watch("dealerLocatorError", function(b) {
                            !0 === b && ((b = h.find('[gcdm-error-type\x3d"' + a.currentErrorMessage + '"]').data("overlay-title")) || (b = h.data("default-overlay-title")), k = f.mdOverlay({
                                open: !1,
                                ajax: !1,
                                title: b,
                                source: h,
                                style: "x-sml"
                            }, g), p = f.subscribe("md:overlay:opened", c), k.openOverlay())
                        });
                        a.$on("destroy", function() {
                            l && l.off("click", e)
                        })
                    }
                }
            });
            b.appModule.directive("mdGcdmDealerLocatorTempSaveWarning", function() {
                return {
                    restrict: "A",
                    link: function(a, b) {
                        function c() {
                            a.$apply(function() {
                                a.confirmTempSaveWarningSelection(m);
                                a.tempSave = !1;
                                a.messageBoxOpen = !1
                            })
                        }

                        function d() {
                            c();
                            mini.digital.comp.myminishelf.openShelf()
                        }

                        function e() {
                            m = !0;
                            c()
                        }
                        var g = f(b),
                            h, l, k, m;
                        a.hideLoginLink = 1 === g.parents(".md-nav-shelf, .md-custom-overlay").length;
                        a.displayTempSaveWarning = function() {
                            a.messageBoxOpen = !0;
                            a.tempSave = !0;
                            m = !1;
                            k = g.find(".md-dlo-confirm-temp-save-btn");
                            h = g.find(".md-form-dlo-temp-save-action .md-login-link");
                            l = g.find(".md-dlo-cancel-temp-save-btn");
                            h.on("click", d);
                            k.on("click", e);
                            l.on("click", c);
                            g.closest(".md-form-gcdm-step-content").animate({
                                    scrollTop: 0
                                },
                                "slow")
                        }
                    }
                }
            });
            b.appModule.directive("mdDirectDealerSelectUpdateInfo", function() {
                return {
                    restrict: "A",
                    link: function(a, b) {
                        var c = f(b),
                            d, e;
                        f("body").hasClass("md-group-dealer") || (a.updateAddressInfo = function(a) {
                            d = c.closest(".md-ds-address");
                            e = d.find(".md-ds-addressinfo");
                            var b = e.data("addressInfo");
                            b && b.setData(a)
                        })
                    }
                }
            });
            b.appModule.directive("mdGcdmDealerLocatorOverwriteWarning", function() {
                return {
                    restrict: "A",
                    link: function(a, b) {
                        function c() {
                            a.$apply(function() {
                                a.confirmOverwriteDialogueSelection(k);
                                a.overwriteDealer = !1;
                                a.messageBoxOpen = !1
                            })
                        }

                        function d() {
                            k = !0;
                            c()
                        }

                        function e() {
                            c()
                        }
                        var g = f(b),
                            h, l, k;
                        a.openOverwriteDialogue = function() {
                            a.messageBoxOpen = !0;
                            a.overwriteDealer = !0;
                            k = !1;
                            l = g.find(".md-dlo-cancel-overwrite-btn");
                            h = g.find(".md-dlo-confirm-overwrite-btn");
                            h.on("click", d);
                            l.on("click", e)
                        }
                    }
                }
            });
            b.appModule.directive("mdDloMapEventBinding", function() {
                return {
                    restrict: "A",
                    link: function(a, b) {
                        function c(b) {
                            var c = f(b.target);
                            b = 1 === c.parents(".md-dealer-item").length;
                            var d = 1 === c.parents(".md-form-gcdm-dlo-searchbar").length;
                            c = c.hasClass("mxnIcon");
                            b || c || d || a.closeInfoBox()
                        }

                        function d() {}
                        b = f(b);
                        var e = 1 === b.closest(".md-nav-shelf").length,
                            g = b.closest(e ? ".md-nav-shelf-component" : ".md-js-dlo-map-container"),
                            h = !1;
                        if (!h) {
                            g.on("mousedown", c);
                            var l = a.$on("md:formgcdm:window:resize", d);
                            h = !0
                        }
                        a.$on("$destroy", function() {
                            h && (g.off("mousedown", c), l && l(), h = !1)
                        })
                    }
                }
            });
            b.appModule.directive("mdDloCustomInfoBox", ["$timeout", function(a) {
                return {
                    restrict: "A",
                    link: function(b, c) {
                        function d() {
                            if (m.is(":visible")) {
                                var a = r.offset();
                                if (void 0 !==
                                    a) {
                                    var b = p.offset().left,
                                        c = p.offset().top,
                                        d = m.height(),
                                        e = a.top + r.height(),
                                        f = r.width() / 2,
                                        h = m.width() / 2,
                                        l = m.offset().top;
                                    a = a.left + (f - b - h);
                                    c = e - c - d;
                                    e -= l;
                                    e < d && (c = c + e - d);
                                    c = g.wide.matches ? c - 14 : c - 30;
                                    m.css({
                                        top: c + "px",
                                        left: a + "px"
                                    })
                                }
                            }
                        }

                        function e() {
                            x = (u = 1 === m.closest(".md-nav-shelf").length) ? ".md-nav-shelf-component" : ".md-js-dlo-map-container";
                            r = m.closest(x)
                        }

                        function h() {
                            console.log("onDloSearchResults");
                            p = m.closest(".mxnIconAnchor");
                            q = p.find(".mxnIcon");
                            e();
                            w || (q.on("click", l), w = !0);
                            a(function() {
                                d()
                            })
                        }

                        function l() {
                            b.gcdmDloLocalSearch.gcdmIsPinInfoHidden ||
                                a(function() {
                                    d()
                                })
                        }

                        function k() {
                            G.forEach(function(a) {
                                f.unsubscribe(a[0])
                            });
                            G = [];
                            v = !1;
                            m.off();
                            w && (q.off("click", l), w = !1)
                        }
                        var m = f(c),
                            p, q, r, x, v = !1,
                            w = !1,
                            u = !1,
                            G = [];
                        b.$on("$destroy", function() {
                            v && k()
                        });
                        G.push(f.subscribe("md:dlo:searchResults", h));
                        G.push(f.subscribe("md:dlo:serchResultsDone", h));
                        G.push(f.subscribe("md:dlo:searchResultsSingle", h));
                        G.push(f.subscribe("md:dlo:dloSelected", function() {
                            b.gcdmDealerData.attributes.distributionPartnerId === b.currentDealer.attributes.distributionPartnerId && a(function() {
                                p =
                                    m.closest(".mxnIconAnchor");
                                q = p.find(".mxnIcon");
                                e();
                                d()
                            })
                        }))
                    }
                }
            }]);
            b.appModule.directive("mdDloLayoutToggle", function() {
                return {
                    restrict: "A",
                    link: function(a, b) {
                        var c = f(b).find(".md-toggle-map-layout-list"),
                            d = f(b).find(".md-toggle-map-layout-map");
                        a.switchToList = function() {
                            c.trigger("click")
                        };
                        a.switchToMap = function() {
                            d.trigger("click")
                        }
                    }
                }
            });
            b.appModule.directive("mdGcdmDloLightSelectPreferredDealer", function() {
                return {
                    restrict: "A",
                    link: function(a, b) {
                        a.$watch("preferredDealer", function(b) {
                            if (void 0 !==
                                b) a.onDealerSelected({
                                name: a.preferredDealer.name,
                                street: a.preferredDealer.street,
                                city: a.preferredDealer.city,
                                country: a.preferredDealer.country,
                                postalCode: a.preferredDealer.postalCode,
                                attributes: {
                                    distributionPartnerId: a.preferredDealer.distributionPartnerId,
                                    outletId: a.preferredDealer.outletId
                                }
                            })
                        })
                    }
                }
            });
            b.appModule.directive("mdGcdmAddressCompletionList", function() {
                return {
                    link: function(a, b) {
                        f(b).on("click", function() {
                            a.gcdmAddress.street = "";
                            a.gcdmAddress.regionCode = "";
                            a.gcdmAddress.city = "";
                            a.addressFieldsShow ||
                                a.addressFieldsToggle()
                        })
                    }
                }
            });
            b.appModule.directive("mdGcdmContinueTrigger", ["$rootScope", "$timeout", function(a, b) {
                return {
                    restrict: "A",
                    link: function(c, d) {
                        a.$on("md:formgcdm:ss:selected", function() {
                            b(function() {
                                f(d).trigger("click")
                            })
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmBrochureSelectorListing", ["mdGcdmBrochureService", "$rootScope", "$timeout", function(a, b, c) {
                return {
                    scope: {},
                    restrict: "A",
                    templateUrl: "brochureListing.html",
                    link: function(d, e, g) {
                        var h = b.$on("md:formgcdm:rfi:loaded", function() {
                            d.brochures =
                                a.gcdmBrochuresGrouped[g.mdGcdmBrochureGroup] || [];
                            c(function() {
                                b.$broadcast("md:formgcdm:rfi:listingrendered", f(e), g.mdGcdmBrochureGroup)
                            });
                            h()
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmBrochureSelectorFilter", ["mdGcdmBrochureService", "$rootScope", function(a, b) {
                return {
                    restrict: "A",
                    link: function(c, d, e) {
                        function g(a, b) {
                            b.find(".md-ss-models-list-item").addClass("md-ss-models-brochure-disabled").filter("[data-ss-item-brochure-type\x3d" + a + "]").removeClass("md-ss-models-brochure-disabled")
                        }

                        function h(a, b) {
                            var c =
                                "download" === a ? l : k;
                            b.find(".md-ss-models-list").each(function() {
                                var a = f(this),
                                    b = a.next(".md-ss-models-empty-list");
                                a.find(".md-ss-models-list-item:not(.md-ss-models-brochure-disabled)").length ? b.addClass("md-ss-models-brochure-disabled") : b.length ? b.text(c).removeClass("md-ss-models-brochure-disabled") : (a = a.closest(".md-standard-selector-layer"), b = a.data("ss-item-code"), a.closest(".md-ss-container").find(".md-ss-range-item .md-ss-range-link[data-ss-item-code\x3d" + b + "]").parent().hide())
                            })
                        }
                        var l = e.mdGcdmBrochureEmptyDownload,
                            k = e.mdGcdmBrochureEmptyPost,
                            m = f(d),
                            p = b.$on("md:formgcdm:rfi:listingrendered", function(b, c, d) {
                                g(a.requestType, c);
                                h(a.requestType, c);
                                b = a.gcdmBrochuresGrouped[d] || [];
                                d = m.find('.md-ss-range-list .md-ss-range-link[data-ss-item-code\x3d"' + d + '"]').find(".md-ss-range-image-wrapper img").data("ri-src");
                                for (c = 0; c < b.length; c++) b[c].image = {
                                    src: d
                                }
                            });
                        c.$watch(function() {
                            return a.requestType
                        }, function(a, b) {
                            a !== b && (g(a, m), h(a, m))
                        });
                        c.$on("$destroy", function() {
                            p()
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmBrochureImage",
                ["$rootScope", function(a) {
                    return {
                        restrict: "A",
                        link: function(a, b, c) {
                            function d(b) {
                                if (!(c.ngSrc && 0 < c.ngSrc.length)) {
                                    a.imageUrl = "";
                                    var d = c.mdGcdmBrochureImage;
                                    d && (d.lastIndexOf("/") !== d.length - 1 && (d += "/"), a.imageUrl = d + b.informationMaterialCode + ".jpg")
                                }
                            }
                            d(a.brochure);
                            a.$watch("brochure", function(a) {
                                d(a)
                            })
                        }
                    }
                }]);
            b.appModule.directive("mdGcdmBrochureSelectorTriggers", ["$rootScope", "$timeout", function(a, b) {
                return {
                    restrict: "A",
                    link: function(c, d) {
                        var e = f(d),
                            g = a.$on("md:formgcdm:ss:selected", function(a, c, d) {
                                a =
                                    d.data("ssItemBrochureId");
                                if (a && !d.hasClass("md-ss-models-brochure-disabled")) {
                                    var f = e.find(".md-form-gcdm-checkbox:not(.md-form-gcdm-checkbox-disabled) #" + a);
                                    f.length && (d.hasClass("md-ss-models-brochure-selected") && f.is(":checked") || !d.hasClass("md-ss-models-brochure-selected") && !f.is(":checked")) && (d.attr("aria-busy", "true"), b(function() {
                                        f.trigger("click")
                                    }))
                                }
                            });
                        c.$on("$destroy", function() {
                            g()
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmBrochureSelectorState", ["$rootScope", function(a) {
                return {
                    restrict: "A",
                    link: function(b, c) {
                        function d(a, b) {
                            f(c).find(".md-ss-models-list-link[data-ss-item-brochure-id\x3d" + a.informationMaterialCode + "]")[b ? "removeClass" : "addClass"]("md-ss-models-brochure-selected").removeAttr("aria-busy")
                        }
                        a.$on("md:formgcdm:brochure:add", function(a, c) {
                            b.lastBrochureSelected = c.descriptionText;
                            d(c)
                        });
                        a.$on("md:formgcdm:brochure:remove", function(a, c) {
                            d(c, !0);
                            b.lastBrochureSelected = c.descriptionText
                        });
                        a.$on("md:formgcdm:brochure:full", function(a, c) {
                            d(c, !0);
                            b.lastBrochureSelected = c.descriptionText
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmBrochureDrawer", ["$rootScope", "$timeout", function(a, b) {
                return {
                    restrict: "A",
                    link: function(e, h, l) {
                        function k() {
                            q.removeClass("md-form-gcdm-drawer-is-open");
                            t = !1;
                            x.css("height", v ? 0 : 100 + d())
                        }

                        function m() {
                            t && b(p)
                        }

                        function p() {
                            if (v) {
                                var b = r.outerHeight();
                                0 === b && (x.one(c, function() {
                                    k()
                                }), a.$broadcast("brochureBasketEmpty"));
                                x.css("height", 240 < b ? 240 : b)
                            }
                        }
                        var q = f(h);
                        e = JSON.parse(l.mdGcdmBrochureDrawer);
                        h = q.find(e.triggerElem);
                        var r = q.find(e.hiddenElem),
                            x = q.find(e.listWrap),
                            v = !g.wide.matches,
                            t = !1;
                        h.on("click", function() {
                            x.one(c, function() {
                                a.$broadcast("brochureBasketTransitionEnd")
                            });
                            t ? k() : (p(), 0 !== r.outerHeight() && (q.addClass("md-form-gcdm-drawer-is-open"), t = !0))
                        });
                        a.$on("md:formgcdm:brochure:add", m);
                        a.$on("md:formgcdm:brochure:remove", m);
                        a.$on("md:formgcdm:window:resize", function() {
                            if (v && g.wide.matches || !v && !g.wide.matches) v = !g.wide.matches, k()
                        });
                        k()
                    }
                }
            }]);
            b.appModule.directive("mdGcdmBrochureRemove", ["mdGcdmBrochureService", function(a) {
                return {
                    restrict: "A",
                    link: function(b, c) {
                        c.on("click",
                            function() {
                                a.removeSelectedBrochure(b.brochure.informationMaterialCode);
                                document.getElementById(b.brochure.informationMaterialCode).click()
                            })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmInformationMaterials", ["mdGcdmBrochureService", "$rootScope", function(a, b) {
                return {
                    restrict: "A",
                    link: function(c, d, e) {
                        var f = e.mdGcdmInformationMaterialsMap ? JSON.parse(e.mdGcdmInformationMaterialsMap) : [];
                        c.$parent.$watch("gcdmSelectValues", function(c) {
                            if (!a.gcdmBrochures.length && c && c.length) {
                                var d = {
                                        aftersales: [],
                                        finance: [],
                                        other: []
                                    },
                                    e = 0,
                                    g = c.length,
                                    h = function(a) {
                                        return f.filter(function(b) {
                                            return b.brochureId === a
                                        })
                                    };
                                for (e; e < g; e++) {
                                    c[e].requestType = /^DIG/.test(c[e].label) ? "download" : "post";
                                    var l = h(c[e].informationMaterialCode);
                                    l.length ? (d[l[0].brochureSeries] = d[l[0].brochureSeries] || [], d[l[0].brochureSeries].push(c[e])) : c[e].productConstructionSeries ? (d[c[e].productConstructionSeries] = d[c[e].productConstructionSeries] || [], d[c[e].productConstructionSeries].push(c[e])) : c[e].brochureGroup ? (d[c[e].brochureGroup.toLowerCase()] || d.other).push(c[e]) :
                                        d.other.push(c[e])
                                }
                                a.gcdmBrochures = c;
                                a.gcdmBrochuresGrouped = d;
                                b.$broadcast("md:formgcdm:rfi:loaded")
                            }
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmBrochureConflicts", ["mdGcdmBrochureService", "$timeout", function(a, b) {
                return {
                    restrict: "A",
                    link: function(c, d, e) {
                        var g = f(d),
                            h, l;
                        d = e.mdGcdmBrochureConflictsTitle;
                        var k = e.mdGcdmBrochureConflictsConstrain,
                            m = f(e.mdGcdmBrochureConflictsToggle);
                        e = {
                            source: g.children().first(),
                            constrain: k ? g.closest(k) : null,
                            group: "md-gcdm-brochure-conflicts",
                            initialiseSource: !1,
                            style: "steps",
                            title: d ? d : null
                        };
                        var p = function() {
                                c.$apply(function() {
                                    a.resetConflictedBrochures();
                                    g.data("layer").close()
                                });
                                f.publish("md:formgcdm:analytics:brochure:conflict:cancelled", [{
                                    eventName: "md:formgcdm:analytics:brochure:conflict:cancelled",
                                    eventEffect: "cancelled",
                                    lastBrochureSelected: c.lastBrochureSelected
                                }])
                            },
                            q = function() {
                                var b = [];
                                angular.forEach(a.conflictedBrochures, function(a) {
                                    b.push("#" + a.informationMaterialCode + ":checked")
                                });
                                f(b.join()).trigger("click");
                                c.$apply(function() {
                                    a.resetConflictedBrochures();
                                    a.toggleRequestType();
                                    g.data("layer").close()
                                });
                                f.publish("md:formgcdm:analytics:brochure:conflict:accepted", [{
                                    eventName: "md:formgcdm:analytics:brochure:conflict:accepted",
                                    eventEffect: "accepted",
                                    lastBrochureSelected: c.lastBrochureSelected
                                }])
                            },
                            r = function(a) {
                                a.requester.is("[md-gcdm-brochure-conflicts]") && (a.layerContent.find(".md-gcdm-cancel-conflicts").on("click", p), a.layerContent.find(".md-gcdm-accept-conflicts").on("click", q), f.unsubscribe(h))
                            },
                            x = function(b) {
                                b.requester.is("[md-gcdm-brochure-conflicts]") &&
                                    (a.pendingRequestType && (a.resetPendingRequestType(), m.find("label:not(.md-is-active)").click()), f.unsubscribe(l))
                            };
                        g.layer(e);
                        c.$watch(function() {
                            return a.conflictedBrochures
                        }, function(a) {
                            a && a.length && b(function() {
                                h = f.subscribe("md:layer:opened", r);
                                l = f.subscribe("md:layer:closed", x);
                                g.data("layer").open()
                            })
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmBrochureFull", ["mdGcdmBrochureService", "$timeout", "$rootScope", function(a, b, c) {
                return {
                    restrict: "A",
                    link: function(d, e, g) {
                        d = g.mdGcdmBrochureBasketFullTitle;
                        var h =
                            g.mdGcdmBrochureBasketFullConstrain;
                        g = g.mdGcdmBrochureRequestLimit;
                        var l = f(e);
                        g && a.setSelectedBrochuresLimit(g);
                        l.layer({
                            style: "steps",
                            source: l.children().first(),
                            constrain: h ? l.closest(h) : null,
                            group: "md-gcdm-brochure-basket-full",
                            title: d ? d : null
                        });
                        c.$on("md:formgcdm:brochure:full", function() {
                            b(function() {
                                l.data("layer").open()
                            })
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmBrochureId", function() {
                return {
                    restrict: "A",
                    scope: !0,
                    link: function(a) {
                        a.$watchCollection("gcdmFormModel.information", function(a, b) {
                            if (a !==
                                b) {
                                for (var c in a) "difference" !== c && -1 === b.indexOf(a[c]) && f.publish("md:formgcdm:analytics:basketUpdate", [{
                                    eventName: "Brochure selected",
                                    newValue: a,
                                    itemAdded: "added",
                                    lastBrochureSelected: a[c].id
                                }]);
                                for (var d in b) "difference" !== d && -1 === a.indexOf(b[d]) && f.publish("md:formgcdm:analytics:basketUpdate", [{
                                    eventName: "Brochure de-selected",
                                    newValue: a,
                                    itemAdded: "removed",
                                    lastBrochureSelected: b[d].id
                                }])
                            }
                        })
                    }
                }
            });
            b.appModule.directive("mdGcdmContactReason", ["$rootScope", "$location", function(a, b) {
                return {
                    restrict: "A",
                    scope: !0,
                    link: function(a, c) {
                        var d = JSON.parse(c.attr("dealermap"));
                        a.skipDloSection = !1;
                        a.receivedSelectedDealer = null;
                        a.$on("md:dlo:select:dealer", function(c, e) {
                            a.receivedSelectedDealer = e;
                            if (e.attributes) {
                                console.log("set the RFX mail", e.attributes.rfSupportedEmail[a.gcdmFormModel.useCase]);
                                c = e.attributes.rfSupportedEmail[a.gcdmFormModel.useCase];
                                if (!angular.isDefined(a.gcdmFormModel.contact.requestEmail) || "" === a.gcdmFormModel.contact.requestEmail || null === a.gcdmFormModel.contact.requestEmail) {
                                    a.gcdmFormModel.contact.requestEmail =
                                        c;
                                    for (var f in d) d[f] && (a.gcdmRequestEmails[f] = c)
                                }
                                e = b.url();
                                if (-1 < e.indexOf("dloPartner") && -1 < e.indexOf("dloOutlet"))
                                    for (f in d) a.gcdmRequestEmails[f] = c
                            }
                        });
                        a.$watch("gcdmFormModel.contact.reason", function(b, c) {
                            if (b !== c) {
                                if (c = b) c = c.replace(/[\r\n]+/g, ""), c = c.trim();
                                a.skipDloSection = void 0 === b ? !1 : !d[c];
                                h.base.updateComponentAttribute({
                                    contactInquiryType: b
                                });
                                h.common.tracking.componentTrackingObj.attributes.contactInquiryType = b
                            }
                        })
                    }
                }
            }]);
            b.appModule.directive("mdUpdateTrackingValue", ["$rootScope", function(a) {
                return {
                    restrict: "A",
                    link: function(a, b) {
                        f(b);
                        a.$watch("accessory", function(a, b) {
                            f.subscribe("md:formgcdm:tracking:setup", function() {
                                a && (h.base.updateComponentAttribute({
                                    accessoryName: a.name,
                                    accessoryID: a.id
                                }), h.common.tracking.componentTrackingObj.attributes.accessoryName = a.name, h.common.tracking.componentTrackingObj.attributes.accessoryID = a.id)
                            })
                        });
                        a.$watch("gcdmServiceModel.serviceCategory", function(a, b) {
                            a && (h.base.updateComponentAttribute({
                                    serviceCategory: a
                                }), h.common.tracking.componentTrackingObj.attributes.serviceCategory =
                                a)
                        });
                        a.$watch("gcdmServiceModel.serviceType", function(a, b) {
                            a && (h.base.updateComponentAttribute({
                                optionalService: a
                            }), h.common.tracking.componentTrackingObj.attributes.optionalService = a)
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmValidationErrorMessage", ["mdGcdmAnalyticsService", function(a) {
                return {
                    restrict: "A",
                    link: function(b, c) {
                        var d = "",
                            e = "",
                            g = [{
                                gcdmScopeVar: "gcdmShowAddressValidationErrorMessage",
                                errorType: "addressError"
                            }, {
                                gcdmScopeVar: "gcdmShowSystemNotAvailableMessageState",
                                errorType: "systemError"
                            }],
                            l =
                            f(c),
                            k = function() {
                                a.setErrorsPushed(!1);
                                b.$evalAsync(function() {
                                    a.getErrorsPushed() || (h.errors.pushErrorsArray(), a.setErrorsPushed(!0))
                                })
                            },
                            m = 0;
                        b.$watch(function() {
                            e = d = "";
                            if (b.gcdmShowValidationError) return b.gcdmShowValidationError();
                            if (b.gcdmShowErrorMessage) return b.gcdmShowErrorMessage();
                            for (; m < g.length; m++) {
                                var a = g[m];
                                if (b.hasOwnProperty(a.gcdmScopeVar)) {
                                    b[a.gcdmScopeVar] ? d = a.errorType : e = a.errorType;
                                    break
                                }
                            }
                            return "" !== d ? !0 : !1
                        }, function(a) {
                            a ? (a = {
                                formErrorType: "" === d && l.attr("gcdm-error-type") ||
                                    "",
                                formErrorMessage: l.text(),
                                formErrorFieldName: "" === d && (l.attr("gcdm-for") || l.attr("md-gcdm-tracking-name")) || ""
                            }, h.errors.addError(a, d), k()) : (a = h.errors.removeError(l.attr("gcdm-for"), e)) && k()
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmErrorScrollContainer", ["$timeout", function(b) {
                return {
                    restrict: "A",
                    link: function(c, d) {
                        c.$on("md:form:submit:error", function(c, e) {
                            b(function() {
                                function b(a) {
                                    var c = a instanceof HTMLElement && window.getComputedStyle(a).overflowY;
                                    return a ? "visible" !== c && "hidden" !== c && a.scrollHeight >=
                                        a.clientHeight ? a : b(a.parentNode) || document.body : null
                                }
                                var c = "." + e;
                                c = f(d).find(c).eq(0);
                                var g = b(c[0]);
                                g = f(g);
                                f.publish("md:overlay:iphone:resize");
                                c.length && g.length && (g.animate({
                                    scrollTop: c.position().top
                                }, 400), a.isIPhone && f("body").animate({
                                    scrollTop: c.position().top
                                }, 400))
                            }, 500)
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmScrollContainer", ["$timeout", function(b) {
                return {
                    restrict: "A",
                    link: function(c, d) {
                        a.isMobile && f.subscribe("md:form:scroll", function() {
                            b(function() {
                                var a = f(d);
                                a = a.hasClass("md-form-gcdm-step-content") ?
                                    a : a.find(".md-form-gcdm-step-content");
                                var b = f(".md-form-gcdm-container"),
                                    c = f(".md-form-gcdm-ss");
                                b.length && a.length && a.animate({
                                    scrollTop: c.height()
                                }, 400)
                            }, 500)
                        })
                    }
                }
            }]);
            b.appModule.directive("mdSetCorrespondLanguage", ["$timeout", "$location", function(a, b) {
                return {
                    restrict: "A",
                    require: "^form",
                    link: function(a, b) {
                        var c = f(b).closest("form");
                        b.bind("click", function() {
                            var b = c.closest(".md-component.md-form-gcdm").attr("gcdm-language");
                            void 0 == a.gcdmFormModel.businessPartner.correspondLanguageISO && void 0 !==
                                b && void 0 !== a.gcdmFormModel.businessPartner && (a.gcdmFormModel.businessPartner.correspondLanguageISO = b)
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmDeferredFormSubmit", ["$timeout", "$location", "mdGcdmBrochureService", "mdGcdmRequestedVehicleService", function(a, c, d, e) {
                return {
                    restrict: "A",
                    require: "^form",
                    link: function(c, g) {
                        function h(a) {
                            return f.trim(k[a].$el.toArray().reduce(function(a, b) {
                                return a + b.value
                            }, ""))
                        }
                        var l = f(g).closest("form"),
                            k = {
                                isBlankEmail: {
                                    id: "email",
                                    $el: l.find("#emailPrivate, #emailBusiness, #rfb-emailAddress, #rfbEmailAddress")
                                },
                                isBlankSms: {
                                    id: "sms",
                                    $el: l.find("#phonePrivate")
                                },
                                isBlankPhone: {
                                    id: "phone",
                                    $el: l.find("#phoneBusiness, #phonePrivate")
                                }
                            },
                            m = {},
                            p = {};
                        f.each(k, function(a) {
                            c[a] = !h(a);
                            c.$watch(function() {
                                return h(a)
                            }, function(b) {
                                c[a] = !b
                            })
                        });
                        g.bind("click", function() {
                            function g(a) {
                                if (void 0 !== a) return a.toString()
                            }

                            function h(a, b, c) {
                                void 0 !== c && (void 0 === a.customExtensions && (a.customExtensions = {}), a.customExtensions[b] = {
                                    key: g(b),
                                    value: g(c)
                                })
                            }

                            function k(a, b) {
                                b.isTopDrive && (h(a, "leadContext", b.campaignId), h(a, "leadSourceId",
                                    b.leadSource));
                                b.campaignId && (a.campaign.campaignId = g(b.campaignId));
                                b.leadSource && (a.campaign.leadContext = g(b.leadSource));
                                b.treatmentId && (a.campaign.treatmentId = g(b.treatmentId));
                                if (void 0 !== a.campaignFOURDB) {
                                    b = l.attr("md-gcdm-campaign-number");
                                    var c = l.attr("md-gcdm-campaign-agreement-number");
                                    void 0 !== b && (a.campaignFOURDB.campaignNumber = b);
                                    void 0 !== c && (a.campaignFOURDB.agreementNumber = c)
                                }
                            }

                            function r(a) {
                                var c = b.campaign.getCampaignInfo();
                                b.campaign.isValidCampaignInfo(c) || (c.campaignId = a.campaignId,
                                    c.leadSource = a.campaignLeadSource, c.treatmentId = a.campaignTreatmentSource);
                                return c
                            }

                            function x() {
                                var a = l.closest(".md-component.md-form-gcdm");
                                return a ? "true" == a.attr("data-allowed-dynamic-context") : !1
                            }
                            if ("RFO" === c.gcdmFormModel.useCase) {
                                var v = e.getVehicle();
                                if ("stockLocator" === v.source && v.vin) {
                                    var t = _.get(c, "gcdmFormModel.comment");
                                    t ? t = t + " " + v.vin : t = v.vin;
                                    _.set(c, "gcdmFormModel.comment", t)
                                }
                                if (q.isLoaded) {
                                    if (m = q.SF.getFacade().getSFRequest().interests) {
                                        for (v = 0; v < m.length; v++) p[m[v].key + "RequestIncluded"] =
                                            m[v].value;
                                        c.gcdmFormModel.offer = p
                                    }
                                } else c.gcdmFormModel.offer = {
                                    financeRequestIncluded: !1
                                }
                            }
                            if ("rfi" === c.gcdmFormModel.requestType || "rfid" === c.gcdmFormModel.requestType) c.gcdmFormModel.requestType = "download" === d.requestType ? "rfid" : "rfi", c.gcdmFormModel.useCase = "download" === d.requestType ? window.gcdm.USE_CASES.REQUEST_FOR_INFORMATION_DOWNLOAD : window.gcdm.USE_CASES.REQUEST_FOR_INFORMATION, c.gcdmDownloadBrochure && c.gcdmFormModel && 0 < c.gcdmFormModel.businessPartner.addresses.length && c.gcdmFormModel.businessPartner.addresses.splice(0,
                                1);
                            c.newsletterTemplateId && 0 < c.newsletterTemplateId.indexOf("usecase") && (v = c.gcdmFormModel.useCase, v === window.gcdm.USE_CASES.REQUEST_FOR_INFORMATION && (v = "download" === d.requestType ? window.gcdm.USE_CASES.REQUEST_FOR_INFORMATION_DOWNLOAD : window.gcdm.USE_CASES.REQUEST_FOR_INFORMATION), c.newsletterTemplateId = c.newsletterTemplateId.replace("usecase", v));
                            c.gcdmFormModel && c.gcdmFormModel.fulfillmentInfo && c.gcdmFormModel.fulfillmentInfo.newsletters.push({
                                templateID: c.newsletterTemplateId
                            });
                            v = l.closest(".md-component.md-form-gcdm").attr("gcdm-language");
                            void 0 !== v && void 0 !== c.gcdmFormModel.businessPartner && (c.gcdmFormModel.businessPartner.correspondLanguageISO = v);
                            if (function(a) {
                                    if (a.gcdmFormModel && a.gcdmFormModel.contactPolicyConsents && 0 < a.gcdmFormModel.contactPolicyConsents.length && (a = a.gcdmFormModel.contactPolicyConsents[0], a.usageDefinitions && 0 < a.usageDefinitions.length))
                                        for (var b = 0; b < a.usageDefinitions.length; b++) {
                                            var c = a.usageDefinitions[b];
                                            if (c && c.consents)
                                                for (var d = 0; d < c.consents.length; d++) {
                                                    var e = c.consents[d];
                                                    if ("ANALYTICS" == e.usageId &&
                                                        "ACCEPT" == e.consent) return !0
                                                }
                                        }
                                    return !1
                                }(c) || x()) v = r(c), k(c.gcdmFormModel, v);
                            (function(a, b) {
                                if (!a.gcdmIsLoggedIn()) {
                                    var c = b.data("formgcdmCampaignVehicleInterest");
                                    b = b.data("formgcdmCampaignVehicleInterestPost");
                                    if (c || b) {
                                        var e = a.gcdmFormModel.brand;
                                        "rfi" !== a.gcdmFormModel.requestType && "rfid" !== a.gcdmFormModel.requestType || "download" == d.requestType || (c = b);
                                        a.gcdmFormModel.profile.vehicleInterest = {
                                            productId: c,
                                            brand: e
                                        }
                                    }
                                }
                            })(c, l);
                            0 < f("form[data-additional-brochurename-and-brand]").length && h(c.gcdmFormModel,
                                "brochureBrandName", "MINI");
                            "CR" == c.gcdmFormModel.useCase && (c.campaignResponseType && 0 < c.campaignResponseType.length && (c.gcdmFormModel.campaign.responseType = c.campaignResponseType), (v = f("form[gcdm-request-type]").attr("gcdm-request-type")) && 0 < v.length && (c.gcdmFormModel.campaign.requestType = v));
                            c.mdSetBusinessPartner(c.gcdmFormModel.businessPartner);
                            a(c.gcdmSubmit)
                        })
                    }
                }
            }]);
            b.appModule.directive("mdConvertToString", function() {
                return {
                    require: "ngModel",
                    link: function(a, b, c, d) {
                        d.$parsers.push(function(a) {
                            return "" +
                                a
                        });
                        d.$formatters.push(function(a) {
                            return parseFloat(a)
                        })
                    }
                }
            });
            b.appModule.directive("mdGcdmErrorScrollSubmit", ["$timeout", function(a) {
                return {
                    restrict: "A",
                    link: function(b, c, d) {
                        c.bind("click", function() {
                            a(function() {
                                b.$emit("md:form:submit:error", d.mdErrorSelector)
                            })
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmFormAnalyticsErrors", ["mdGcdmStepService", "mdGcdmAnalyticsService", function(a, b) {
                return {
                    restrict: "A",
                    require: "form",
                    link: function(c, d, e, f) {
                        var g = f.$name,
                            l = "in-line validation";
                        c.$watch("formSubmitting",
                            function(b) {
                                b && (l = a.activeStep === a.totalSteps ? "form submit" : "form next step", h.errors.setFormErrorOn(l))
                            });
                        c.$watch("gcdmErrorInfo", function(a) {
                            a = a.error;
                            if (a && "validationError" !== a.type) {
                                var c = a.type + "Form";
                                h.errors.addError({
                                    formErrorType: a.type,
                                    formErrorCode: a.code,
                                    formErrorMessage: a.message
                                }, c);
                                b.setCurrentFormError(c);
                                h.errors.pushErrorsArray()
                            } else(a = h.errors.removeError(null, b.getCurrentFormError())) && h.errors.pushErrorsArray()
                        }, !0);
                        var k = c[g];
                        c.$watch(function() {
                            return c[g].$submitted
                        }, function(a) {
                            k.$error &&
                                k.$error.required && 0 < k.$error.required.length && angular.forEach(k.$error.required, function(a) {
                                    h.errors.addRequiredField(a.$name)
                                })
                        });
                        angular.forEach(c[g], function(a, b) {
                            var d = "";
                            "$" !== b[0] && (c.$evalAsync(function() {
                                a && a.$error && a.$error.required && h.errors.addRequiredField(a.$name)
                            }), d = g + "." + b + ".$viewValue", c.$watch(d, function() {
                                h.errors.setFormErrorOn("in-line validation")
                            }, !0))
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmFormAnalyticsAddPage", ["$timeout", function(a) {
                return {
                    restrict: "A",
                    link: function(b, c, d) {
                        var e = {
                            page: {
                                pageInfo: {
                                    pageName: ""
                                }
                            }
                        };
                        b.$watch(d.mdGcdmFormAnalyticsAddPage, function(b) {
                            b && (e.page.pageInfo.pageName = d.mdGcdmFormAnalyticsPageTitle, a(function() {
                                f.publish("md:form:gcdm:analytics:page:added", [{
                                    virtualPage: e,
                                    element: c
                                }])
                            }))
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmFormAnalyticsEvent", [function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        var d = {
                                eventInfo: {}
                            },
                            e = {};
                        b.bind("click", function(a) {
                            e.navigationItemWording = "submit form";
                            d.eventInfo.eventName = c.mdGcdmFormAnalyticsEventName || e.navigationItemWording;
                            d.eventInfo.eventAction = e.navigationItemType = a.type || "";
                            d.eventInfo.effect = c.mdGcdmFormAnalyticsEventEffect || "";
                            f.publish("md:form:gcdm:analytics:event", [{
                                eventObj: d,
                                pageNavigationObj: e,
                                immediatePush: "true" === c.mdGcdmFormAnalyticsImmediate
                            }])
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmFormAnalyticsCaptcha", [function() {
                return {
                    restrict: "A",
                    link: function(a) {
                        a.$watch("gcdmIsShowCaptcha", function(a) {
                            void 0 !== a && f.publish("md:form:gcdm:captcha:state", [{
                                captchaShown: !0 === a ? !0 : !1
                            }])
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmRestrictChars",
                function() {
                    return {
                        restrict: "A",
                        link: function(a, b) {
                            var c = f(b).find("textarea"),
                                d = parseInt(c.attr("maxlength"), 10);
                            a.charsRemaining = d;
                            c.bind("keyup keypress keydown change", function() {
                                a.$apply(function() {
                                    a.charsRemaining = d - c.val().length
                                })
                            });
                            a.$on("$destroy", function() {
                                c.unbind("keyup keypress keydown change")
                            })
                        }
                    }
                });
            b.appModule.directive("mdGcdmCaptchaReload", ["$window", function(a) {
                return {
                    restrict: "A",
                    link: function(b, c) {
                        c.bind("click", function() {
                            a.Recaptcha && a.Recaptcha.reload()
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmCaptchaHelp",
                ["$window", function(a) {
                    return {
                        restrict: "A",
                        link: function(b, c) {
                            c.bind("click", function() {
                                a.Recaptcha && a.Recaptcha.showhelp()
                            })
                        }
                    }
                }]);
            b.appModule.directive("mdGcdmCaptchaSwitch", ["$window", function(a) {
                return {
                    restrict: "A",
                    link: function(b, c, d) {
                        var e = d.mdGcdmCaptchaSwitch;
                        c.bind("click", function() {
                            a.Recaptcha && a.Recaptcha.switch_type(e)
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmCheckboxRepaint", function() {
                return {
                    restrict: "A",
                    link: function(a, b) {
                        function c() {
                            d.css("display", "inline-block");
                            d.height();
                            d.css("display",
                                "")
                        }
                        var d = f(b);
                        if (Modernizr.touch) d.find('[type\x3d"checkbox"]').on("change", c)
                    }
                }
            });
            b.appModule.directive("gcdmFormOverlay", ["mdGcdmRequestedVehicleService", function(a) {
                return {
                    restrict: "A",
                    link: function(b, c, d) {
                        d = d.gcdmFormUrl;
                        f(c).overlay({
                            ajax: !0,
                            source: d.replace(".html", "") + "/_jcr_content/main.html?wcmmode\x3ddisabled",
                            style: "steps",
                            veilZIndex: 1030,
                            titleFromContent: !0,
                            titleSelector: ".md-custom-overlay-header-title:first"
                        });
                        b.gcdmFormOpenOverlay = function(b) {
                            var c = a.getVehicle(),
                                d = f.subscribe("md:formgcdm:loaded",
                                    function() {
                                        f.publish("md:formgcdm:gcdmRequest", [c]);
                                        f.unsubscribe(d)
                                    });
                            f(b.target).data("overlay").toggleOverlay(b)
                        }
                    }
                }
            }]);
            b.appModule.directive("mdGcdmFormAnalyticsBrochureOutput", function() {
                return {
                    restrict: "A",
                    link: function(a) {
                        var b = 0;
                        a.$watch(function() {
                            return a.brochures
                        }, function(c, d) {
                            d !== c && (c = {
                                newValue: c,
                                oldValue: d,
                                itemAdded: a.brochures.length > b,
                                eventName: "md:formgcdm:analytics:basketUpdate",
                                lastBrochureSelected: a.lastBrochureSelected
                            }, b = a.brochures.length, f.publish("md:formgcdm:analytics:basketUpdate",
                                [c]))
                        }, !0);
                        a.$on("md:formgcdm:brochure:full", function(b, c) {
                            f.publish("md:formgcdm:analytics:brochure:full", [{
                                ngEventData: b,
                                itemData: c,
                                eventName: "md:formgcdm:analytics:brochure:full",
                                lastBrochureSelected: a.lastBrochureSelected
                            }])
                        })
                    }
                }
            });
            b.appModule.directive("mdGcdmFormAnalyticsBrochureViewAll", function() {
                return {
                    restrict: "A",
                    link: function(a, b) {
                        a = f(b);
                        var c = a.text().trim().toLocaleLowerCase();
                        a.on("click", function(a) {
                            f.publish("md:formgcdm:analytics:brochure:view:all", [{
                                originalEvent: a,
                                eventName: "md:formgcdm:analytics:brochure:view:all",
                                btnCta: c || " "
                            }])
                        })
                    }
                }
            });
            b.appModule.directive("mdGcdmVehicleBrandSelectFilter", function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        f(b);
                        var d = c.mdGcdmVehicleBrandSelectFilter;
                        void 0 != d && null != d && (d = d.split(","), a.$watch(function() {
                            return a.gcdmSelectValues.brands
                        }, function(b) {
                            if (void 0 !== b && 0 !== b.length) {
                                for (var c = [], e = 0; e < b.length; e++)
                                    for (var f = b[e], g = 0; g < d.length; g++)
                                        if (d[g] === f.id) {
                                            c.push(f);
                                            break
                                        } b.length !== c.length && (a.gcdmSelectValues.brands = c)
                            }
                        }))
                    }
                }
            });
            b.appModule.directive("mdGcdmCustomDate",
                ["$rootScope", function(a) {
                    return {
                        restrict: "A",
                        require: "^form",
                        template: function(a, b) {
                            a = "md-form-gcdm-custom-" + b.dateFieldIndex;
                            return '\x3cdiv class\x3d"md-gcdm-form-date-container" md-gcdm-form-date data-field\x3d"' + a + '"    date-i18n-day\x3d"' + b.dateI18nDay + '"    date-i18n-month\x3d"' + b.dateI18nMonth + '"    date-i18n-year\x3d"' + b.dateI18nYear + "\"    ng-class\x3d\"{'md-form-gcdm-has-error': gcdmHasFieldError('" + a + '\')}"\x3e\x3c/div\x3e\x3cinput name\x3d"' + a + '" tabindex\x3d"-1" id\x3d"' + a + '" class\x3d"md-form-gcdm-hidden" ng-model\x3d"gcdmExtension.value" gcdm-custom-extension gcdm-custom-extension-key\x3d"' +
                                b.dateFieldId + '"' + (void 0 !== b.dateFieldRequired ? ' required\x3d"true"' : "") + '"\x3e'
                        }
                    }
                }]);
            b.appModule.directive("mdGcdmFormDate", ["$rootScope", function(a) {
                return {
                    restrict: "A",
                    require: "^form",
                    template: '\x3cinput class\x3d"md-form-gcdm-input md-form-gcdm-small-date-input md-form-gcdm-day" maxlength\x3d"2" pattern\x3d"[0-9]{2}" placeholder\x3d"{{ date.day }}" /\x3e\x3cinput class\x3d"md-form-gcdm-input md-form-gcdm-small-date-input md-form-gcdm-month" maxlength\x3d"2" pattern\x3d"[0-9]{2}" placeholder\x3d"{{ date.month }}" /\x3e\x3cinput class\x3d"md-form-gcdm-input md-form-gcdm-large-date-input md-form-gcdm-year" maxlength\x3d"4" pattern\x3d"[0-9]{4}" placeholder\x3d"{{ date.year }}" /\x3e',
                    link: function(b, c, d, e) {
                        function g(a, b) {
                            if (a) {
                                var c = 0;
                                for (b -= a.length; c < b; c++) a = "0" + a
                            }
                            return a
                        }
                        var h = f(c),
                            l = h.find(".md-form-gcdm-day"),
                            k = h.find(".md-form-gcdm-month"),
                            m = h.find(".md-form-gcdm-year");
                        c = l.add(k).add(m);
                        var p = h.attr("data-field"),
                            q = 1 === h.closest("fieldset").find('[gcdm-error-type\x3d"format"]').length;
                        h = void 0;
                        p && (l.attr("name", p + "Day"), k.attr("name", p + "Month"), m.attr("name", p + "Year"), "birthday" == p && (h = "gcdmFormModel.businessPartner.birthday"));
                        h && b.$watch(h, function(b) {
                            b && (a.setDate =
                                new Date(b), b = a.setDate, l.val() || l.val(b.getDate()), k.val() || k.val(b.getMonth() + 1), m.val() || m.val(b.getFullYear()))
                        });
                        c.on("blur", function() {
                            var a = m.val();
                            a = g(a, 4);
                            var c = g(k.val(), 2),
                                d = g(l.val(), 2);
                            a = a && c && d ? a + "-" + c + "-" + d : "";
                            d = f("#" + p);
                            d.val(a).trigger("change");
                            c = "birthday" == p;
                            var h = d[0];
                            d = e[h.name];
                            d.$setValidity("required", !0);
                            d.$setValidity("format", !0);
                            if (h.required && "" === a) d.$dirty = !0, d.$setValidity("required", !1);
                            else if (q && "" !== a && !a.match(/^\d{4}-\d{1,2}-\d{1,2}$/) && (d.$dirty = !0, d.$setValidity("format",
                                    !1)), "" !== a) {
                                h = new Date;
                                var r = a.split("-");
                                if (r[0] >= h.getUTCFullYear() || 12 < r[1] || 31 < r[2]) d.$dirty = !0, d.$setValidity("format", !1)
                            }
                            b.gcdmFormModel.businessPartner.birthday != a && c && (b.gcdmFormModel.businessPartner.birthday = a);
                            b.$apply()
                        });
                        b.date = {
                            day: d.dateI18nDay,
                            month: d.dateI18nMonth,
                            year: d.dateI18nYear
                        }
                    }
                }
            }]);
            b.appModule.directive("mdGcdmLoginDeferred", ["$timeout", "$controller", "$rootScope", "GcdmCredentials", function(a, b, c, d) {
                return {
                    restrict: "A",
                    link: function(e, g, h) {
                        var l, k, m = f(g).parents("#login_form"),
                            p, q = !!f(g).parents(".md-form-gcdm-mymini").length && !!f(g).parents(".md-custom-overlay-main").find(".md-form-gcdm-offer").length,
                            r = function() {
                                var a, g, l;
                                var m = angular.element(k).injector().get("GcdmLoginService");
                                m.policyId = "MINI.digital-register";
                                m.loginImplicit().then(function() {
                                    a = b("GcdmBaseFormController", {
                                        $scope: e,
                                        GcdmCredentials: d,
                                        $attrs: h
                                    });
                                    e.gcdmResetFormModel();
                                    g = p.$watch("gcdmFormModel.businessPartner.givenName", function() {
                                        e.gcdmFormModel = angular.copy(p.gcdmFormModel);
                                        a.onSuccess();
                                        g()
                                    });
                                    l = p.$watch("gcdmIsLoggedIn()", function(a) {
                                        a && (c.$broadcast("loginIdChange"), c.$broadcast("md:mymini:loggedin", a), f.publish("md:mymini:loggedin:change", [a]), l())
                                    })
                                })
                            };
                        g.bind("click", function() {
                            l = f("[name\x3dgcdmLoginIFrameForm]");
                            k = l.eq(0);
                            k.find("[name\x3dscope]").attr("value", "remote_services vehicle_data authenticate_user smacc fupo");
                            1 < l.length && q ? m.length && m.hasClass("ng-valid") && (k = l.eq(0), k.attr("action", e.gcdmLoginAction), k.find("[name\x3dusername]").attr("value", e.gcdmFormModel.authentication.loginId),
                                k.find("[name\x3dpassword]").attr("value", e.gcdmFormModel.authentication.password), p = angular.element(k).scope(), e.gcdmFormModel && e.gcdmFormModel.authentication && e.gcdmFormModel.authentication.loginId && e.gcdmFormModel.authentication.password && p.gcdmFormModel && (p.gcdmFormModel.authentication || (p.gcdmFormModel.authentication = {}), p.gcdmFormModel.authentication.loginId = e.gcdmFormModel.authentication.loginId, p.gcdmFormModel.authentication.password = e.gcdmFormModel.authentication.password, r())) : a(e.gcdmSubmit)
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmDealerAddress", [function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        function d(a) {
                            return f.map(a.match(/[^\{\}]+/g), function(a) {
                                return f.trim(a)
                            })
                        }
                        a.$watch("gcdmDealerData.name", function() {
                            if (a.gcdmDealerData && a.gcdmDealerData.name) {
                                var e = {
                                        street: a.gcdmDealerData.street,
                                        city: a.gcdmDealerData.city,
                                        country: c.country,
                                        state: a.gcdmDealerData.state,
                                        postalCode: a.gcdmDealerData.postalCode
                                    },
                                    g = d(c.addressSequence),
                                    h = "";
                                f(g).each(function(a, b) {
                                    "br" === b ? h += "\x3cbr/\x3e" : "space" ===
                                        b ? h += " " : e[b] && (h += '\x3cspan data-field\x3d"' + b + '"\x3e' + e[b] + "\x3c/span\x3e")
                                });
                                g = b.children();
                                0 < g.length && g.remove();
                                b.append(h)
                            }
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmFieldsMandatory", [function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        c.mdGcdmFieldsMandatory && (a.mandatoryFields = c.mdGcdmFieldsMandatory.split(","))
                    }
                }
            }]);
            b.appModule.directive("mdAddFieldsMandatory", ["$compile", function(a) {
                return {
                    restrict: "A",
                    link: function(b, c, d) {
                        b.mandatoryFields || (b.mandatoryFields = d.mdAddFieldsMandatory.split(","));
                        if (b.mandatoryFields)
                            for (d = 0; d < b.mandatoryFields.length; d++) c.attr("id") === b.mandatoryFields[d] && (c.attr("required", !0), a(c[0])(b))
                    }
                }
            }]);
            b.appModule.directive("mcGcdmAddressFloorId", [function() {
                return {
                    restrict: "A",
                    require: "^gcdmAddressContainer",
                    replace: !0,
                    template: '\x3cinput ng-model\x3d"gcdmAddress.floorID" ng-blur\x3d"gcdmValidateAddress()" gcdm-apply-value autocomplete\x3d"off"\x3e'
                }
            }]);
            b.appModule.directive("mdAccessoryComponentInit", ["$timeout", function(a) {
                return {
                    restrict: "A",
                    scope: !0,
                    link: function(b,
                        c) {
                        a(function() {
                            mini.digital.comp.accessory.init(c)
                        })
                    }
                }
            }]);
            b.appModule.directive("mcGcdmProfilePersonalIdentificationType", ["GcdmMetadataApiService", "GcdmElementUtilService", "GcdmStorageService", function(a, b, c) {
                return {
                    restrict: "A",
                    require: "^form",
                    replace: !0,
                    template: '\x3cselect ng-model\x3d"gcdmType" ng-change\x3d"gcdmInitPersonalIdentification()" ng-options\x3d"key as value for (key, value) in gcdmSelectValues.personalIdentificationTypes" gcdm-apply-value gcdm-validation gcdm-validation-identifier\x3d"gcdm_type" gcdm-model-check\x3e\x3coption value\x3d"""\x3e{{psText}}\x3c/select\x3e',
                    link: function(d, e, f, g) {
                        d.isLoggedIn && ((e = c.get(window.gcdm.STORAGE_KEY.BUSINESS_PARTNER)) || (e = c.get(window.gcdm.STORAGE_KEY.BUSINESS_PARTNER_LOGGED_IN)), e && e.profile && e.profile.personalIdentifications && 0 < e.profile.personalIdentifications.length && (d.gcdmFormModel.profile.personalIdentifications = e.profile.personalIdentifications, d.gcdmType = e.profile.personalIdentifications[0].type));
                        d.gcdmInitPersonalIdentification = function() {
                            g.gcdmInitPersonalIdentification(d.gcdmType)
                        };
                        b.appendPsTextToSelection(d,
                            f);
                        d.gcdmSelectValues = a.getValuelists().selectValues.profile
                    }
                }
            }]);
            b.appModule.directive("mcGcdmProfilePersonalIdentificationExposeInit", ["GcdmStorageService", function(a) {
                return {
                    restrict: "A",
                    require: "^form",
                    link: function(b, c, d, e) {
                        if (b.isLoggedIn) {
                            var g = a.get(window.gcdm.STORAGE_KEY.BUSINESS_PARTNER);
                            g || (g = a.get(window.gcdm.STORAGE_KEY.BUSINESS_PARTNER_LOGGED_IN));
                            g && g.profile && g.profile.personalIdentifications && 0 < g.profile.personalIdentifications.length && (b.gcdmFormModel.profile.personalIdentifications =
                                g.profile.personalIdentifications, b.gcdmPersonalIdentification && (b.gcdmPersonalIdentification.id = g.profile.personalIdentifications[0].id, b.gcdmPersonalIdentification.type = g.profile.personalIdentifications[0].type), b.gcdmType = g.profile.personalIdentifications[0].type)
                        }
                        e.gcdmInitPersonalIdentification = function(a) {
                            b.gcdmType = a;
                            var c = [];
                            b.isLoggedIn && g.profile.personalIdentifications && 0 < g.profile.personalIdentifications.length && g.profile.personalIdentifications[0].type == b.gcdmType && (b.gcdmFormModel.profile.personalIdentifications =
                                g.profile.personalIdentifications);
                            f.each(b.gcdmFormModel.profile.personalIdentifications, function(a, d) {
                                d.type === b.gcdmType && c.push(d)
                            });
                            b.gcdmFormModel.profile.personalIdentifications = c;
                            b.gcdmInitPersonalIdentification()
                        }
                    }
                }
            }]);
            b.appModule.directive("mdGcdmDealerDirectSelect", ["$compile", function(a) {
                return {
                    restrict: "A",
                    link: function(b, c, d) {
                        var e = m.stockLocator.getDealerIdFromLocalStorage();
                        e || (e = d.mdDistributionPartnerId);
                        void 0 !== e && "" !== e && (b.dealerDirectSelectDealerId = e, c.html(void 0 === e ? "" : '\x3cdiv distribution-partner-id\x3d"' +
                            e + '"\x3e\x3c/div\x3e'), a(c.contents())(b), f.publish("md:directDealer:init"))
                    }
                }
            }]);
            b.appModule.directive("mdShowAccessoryDescriptionHtml", [function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        b.append(a.accessory.description)
                    }
                }
            }]);
            b.appModule.directive("mdDloShow", [function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        var d = b.css("position");
                        a.$watch(c.mdDloShow, function(e) {
                            console.log("mdDloShow", c.mdDloShow, e, a);
                            e ? (b.css("visibility", "visible"), b.css("position", d)) : (b.css("visibility", "hidden"), b.css("position",
                                "absolute"))
                        })
                    }
                }
            }]);
            b.appModule.directive("mdAutoFocus", ["$timeout", function(a) {
                return {
                    restrict: "A",
                    link: function(b, c, d) {
                        a(function() {
                            c[0].focus()
                        })
                    }
                }
            }]);
            b.appModule.directive("mdGcdmExperianAddressValidation", ["MdAddressValidationService", function(a) {
                function b(a, b) {
                    b = b.components;
                    a.buildingID = e(b, "organisation", 20);
                    var f = c(b, "building");
                    var g = c(b, "subBuilding");
                    f = f.concat(g);
                    f = d(f, 40);
                    a.strSuppl1 = f;
                    a.street = e(b, "street", 60);
                    a.houseNumber = e(b, "streetNumber", 10);
                    a.postalCode = e(b, "postalCode", 10);
                    a.city = e(b, "locality", 40);
                    a.regionCode = e(b, "country", 60)
                }

                function c(a, b) {
                    var c = [];
                    b = new RegExp(b + "\\d+");
                    for (var d = 0; d < a.length; d++) {
                        var e = a[d],
                            f = Object.keys(e)[0];
                        b.test(f) && c.push(e[f])
                    }
                    return c
                }

                function d(a, b) {
                    for (var c = "", d = "", e = 0; e < a.length; e++) {
                        d += a[e].trim();
                        if (c.length + d.length > b) break;
                        c += d;
                        d = " "
                    }
                    return "" !== c ? c : null
                }

                function e(a, b, e) {
                    a = c(a, b);
                    return d(a, e)
                }
                return {
                    restrict: "A",
                    link: function(c, d, e) {
                        c.showValidationMessageForExperianAddress = function() {
                            return c.gcdmFormSubmitted && !(c.gcdmFormModel.businessPartner &&
                                c.gcdmFormModel.businessPartner.addresses && 0 < c.gcdmFormModel.businessPartner.addresses.length && c.gcdmFormModel.businessPartner.addresses[0] && c.gcdmFormModel.businessPartner.addresses[0].street)
                        };
                        var f = a.getEndpoint();
                        e = new mini.digital.util.experian.address({
                            token: f.token,
                            endpoint: f.url,
                            placeholderText: e.mdGcdmExperianAddressValidation,
                            elements: {
                                input: d[0],
                                countryList: {
                                    value: f.country
                                }
                            },
                            maxSize: 100
                        });
                        e.events.on("post-formatting-search", function(a) {
                            c.experianSelectedAddress = a;
                            c.$apply(b(c.gcdmFormModel.businessPartner.addresses[0],
                                a));
                            d.attr("data-md-tracking-field-status", "true")
                        });
                        e.events.on("pre-search", function(a) {
                            delete c.experianSelectedAddress
                        });
                        d[0].name = "address-validation"
                    }
                }
            }]);
            b.appModule.directive("mdExpandText", function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        var d = "\x3cdiv class\x3d'read-more-text read-more-pointer'\x3e\x3cbutton class\x3d'md-read-more-icon-plus'\x3e\x3c/button\x3e\x3cspan\x3e" + c.mdExpandText + "\x3c/span\x3e\x3c/div\x3e",
                            e = !1;
                        a.$watch(function() {
                            return b.context.innerHTML.length
                        }, function(a,
                            c) {
                            e || (a = b.find(".read-more"), 0 < a.length || (a = b.find(".read-more-pointer"), 0 < a.length && !a.context.classList.contains("read-more") && (f(a[0]).addClass("read-more"), b.attr("data-hide-text", "true"), 0 == b.find(".read-more-text").length && b.append(d))))
                        });
                        b.on("click", function(a) {
                            var c = f(a.target);
                            c && c.context && (c.context.classList.contains("read-more-pointer") || c.context.parentElement.classList.contains("read-more-pointer")) && "A" !== a.target.nodeName && (a.stopPropagation(), a.preventDefault(), e = !0, a = b.find(".read-more-pointer"),
                                c = b.find(".read-more-text"), 0 < a.length && ("true" === b.attr("data-hide-text") ? (f(a[0]).removeClass("read-more"), c.css({
                                    display: "none"
                                }), b.attr("data-hide-text", "false")) : (f(a[0]).addClass("read-more"), c.css({
                                    display: ""
                                }), b.attr("data-hide-text", "true"))))
                        })
                    }
                }
            });
            b.appModule.directive("mdGcdmContactPolicy", ["GcdmPolicyManagementApi", "GcdmLoginStatusService", "GcdmPolicyConfirmationApi", "$compile", "$log", "GcdmStorageService", function(a, b, c, d, e, f) {
                return {
                    restrict: "E",
                    controller: "mdContactPolicyController",
                    link: function(g, h, l) {
                        var k = "no",
                            m = !0,
                            p = void 0,
                            q = void 0;
                        if (angular.isDefined(l.policyDocumentId))
                            if (angular.isDefined(l.country)) {
                                angular.isDefined(l.checkConsent) && (k = l.checkConsent);
                                angular.isDefined(l.showMarketingPolicy) && (m = !1);
                                angular.isDefined(l.submode) && (p = l.submode);
                                angular.isDefined(l.linkTextSubmode) && (q = l.linkTextSubmode);
                                var r = function(b, c, e, f, h) {
                                        if (b.textBlocks)
                                            for (var k = 0; k < b.textBlocks.length; k++)
                                                if (b.textBlocks[k].brand && l.brand.toLowerCase() === b.textBlocks[k].brand.name.toLowerCase()) {
                                                    var m =
                                                        l.brand;
                                                    console.log("This is a brand policy!")
                                                } a.addUsageDefinitionsToModel(g, b, l.touchpointId, e, m);
                                        b = g.getPolicyTemplate(b, c, e, f, h, m, p, q);
                                        return d(b)(g)
                                    },
                                    w = function(a, d) {
                                        var e = [],
                                            g = null;
                                        angular.isDefined(l.valuePropositions) && (e = JSON.parse("[" + l.valuePropositions + "]"));
                                        angular.isDefined(l.positionPreferredCommunication) && (g = {
                                            display: "true" == l.positionPreferredCommunication ? !0 : !1,
                                            afterUsage: l.usagePreferredCommunication,
                                            html: '\x3cdiv class\x3d"md-gcdm-preferred-channel"\x3e\x3cfieldset class\x3d"md-form-gcdm-item"\x3e\x3clabel class\x3d"md-form-gcdm-label" for\x3d"preferredCommunication" \x3e' +
                                                l.preferredCommunicationLabel + '\x3c/label\x3e\x3cdiv class\x3d"md-form-gcdm-select"\x3e\x3cspan id\x3d"preferredCommunication" name\x3d"preferredCommunication" gcdm-profile-communication-type-preferred\x3e\x3c/span\x3e\x3c/div\x3e \x3cspan class\x3d"md-form-gcdm-error" gcdm-validation-error-message md-gcdm-validation-error-message gcdm-for\x3d"preferredCommunication" gcdm-error-type\x3d"required"\x3e' + l.generalError + "\x3c/span\x3e \x3c/fieldset\x3e\x3c/div\x3e"
                                        });
                                        if (b.getUserData().loggedIn && m && "update" !==
                                            d) c.checkPolicyConfirmation(a.name, f.get(window.gcdm.STORAGE_KEY.ACCESS_TOKEN), a.country, !0).then(function(a) {
                                            a.isMarketingPolicy ? h.replaceWith("\x3cspan id\x3d'donothing'/\x3e") : (k = r(a.checkedPolicyDocument, u, l.language, e, g), h.replaceWith(k))
                                        }, function() {
                                            k = r(a, u, l.language, e, g);
                                            h.replaceWith(k)
                                        });
                                        else if (b.getUserData().loggedIn && "update" === d) c.checkConsents(a.name, f.get(window.gcdm.STORAGE_KEY.ACCESS_TOKEN), a.country).then(function(a) {
                                            a && (k = r(a, u, l.language, e, g), h.replaceWith(k))
                                        }, function() {
                                            k =
                                                r(a, u, l.language, e, g);
                                            h.replaceWith(k)
                                        });
                                        else {
                                            var k = r(a, u, l.language, e, g);
                                            h.replaceWith(k)
                                        }
                                    },
                                    u = "combined";
                                l.mode && (u = l.mode);
                                g.$parent.policyDocuments[l.policyDocumentId + "_" + l.country] ? (e.info("Initialized Policy for confirmation dialog by event for policy: " + g.$parent.policyDocuments[l.policyDocumentId + "_" + l.country].name), w(g.$parent.policyDocuments[l.policyDocumentId + "_" + l.country])) : (e.info("Open policy document : " + l.policyDocumentId + " Country : " + l.country), a.getPolicyDocument(l.policyDocumentId,
                                    l.country).then(function(b) {
                                    200 === b.status ? b.data ? w(b.data, k) : a.createErrorMessage(g, b.status, "Can't load policy document") : a.createErrorMessage(g, b.status, "Can't load policy document")
                                }, function(b) {
                                    e.error(b);
                                    a.createErrorMessage(g, "unreachable", "Can't load policy document")
                                }))
                            } else e.error("Country is missing on directive gcdmContactPolicy");
                        else e.error("policyDocumentId is missing on directive gcdmContactPolicy")
                    }
                }
            }]);
            b.appModule.directive("mdFormStyle", ["inShelf", function(a) {
                return {
                    restrict: "A",
                    link: function(b, c, d) {
                        a && !0 === a.inShelf || c.addClass("md-form-gcdm-white-components")
                    }
                }
            }]);
            b.appModule.directive("mdPasswordCheck", ["$compile", function(a) {
                return {
                    restrict: "A",
                    link: function(b, c, d) {
                        d = c.closest(".md-form-gcdm");
                        var e = d.attr("data-show-password-msg"),
                            f = d.attr("data-hide-password-msg"),
                            g = !1,
                            h = angular.element('\x3cdiv class\x3d"md-icon md-icn-preview md-password-check" title\x3d"' + e + '"\x3e\x3c/div\x3e');
                        h.insertAfter(c);
                        a(h)(b);
                        c.css("padding-right", "40px");
                        h.on("click", function() {
                            g = !g;
                            if (g) {
                                var a =
                                    "md-icn-preview";
                                var b = "md-icn-preview-off";
                                var d = f
                            } else a = "md-icn-preview-off", b = "md-icn-preview", d = e;
                            h.removeClass(a);
                            h.addClass(b);
                            h.attr("title", d);
                            c.attr("type", g ? "text" : "password")
                        })
                    }
                }
            }]);
            b.appModule.directive("mdAddressStatusBusiness", function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        a.gcdmAddress.addressStatus = "BUSINESS"
                    }
                }
            });
            b.appModule.directive("mdDecodeCommentParameter", ["$location", function(a) {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        b = "pfc".replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                        b = (new RegExp("[\\?\x26]" + b + "\x3d([^\x26#]*)")).exec(location.search);
                        (b = null === b ? "" : decodeURIComponent(b[1].replace(/\+/g, " "))) && !a.gcdmFormModel.comment && (a.gcdmFormModel.comment = atob(b))
                    }
                }
            }])
        }
    }
}(mini.digital.comp.gcdm, mini.digital.$, window.moment, mini.digital.util.matchmedia, mini.digital.util.transitionEndEvent, mini.digital.util.browser, mini.digital.util.scrollbarsize, mini.digital.util.finance, mini.digital.tracking.formgcdm, mini.digital.util, mini.digital.util.experian);
mini.digital.comp.gcdm.services = function(b, f, k) {
    return {
        init: function(g) {
            b.appModule.service("mdGcdmRequestedVehicleService", ["$rootScope", function(b) {
                function a(a) {
                    if (a.startsWith("srcset") && 0 < a.indexOf("pre")) {
                        var b = "";
                        a = a.split(",");
                        for (var c = 0, d = "", e = 0; e < a.length; e++)
                            if (a[e].startsWith("srcset")) b = a[e].replace("srcset:", "").replace(" ", "").replace("pre", "");
                            else {
                                var f = a[e].split(" ");
                                if (1 < f.length) {
                                    var g = new Number(f[1]);
                                    g > c && (c = g, d = f[0])
                                }
                            } return b + d
                    }
                    if (a.startsWith("srcset") && 0 > a.indexOf("pre")) {
                        a =
                            a.split(",");
                        c = -1;
                        if (0 < a.length)
                            for (d = 0; d < a.length; d++) e = a[d].split(" "), 1 < e.length && (f = new Number(e[1]), c < f && (c = f, -1 < e[0].indexOf("srcset") && (e[0] = e[0].replace("srcset", "")), b = e[0]));
                        return b
                    }
                    return a
                }
                var c = {},
                    e = null,
                    f = !1;
                b.$on("md:formgcdm:gcdmRequest", function(a, b, d) {
                    a = (a = c = angular.copy(b)) || {};
                    a.requestVehicle = !0;
                    angular.isObject(a.modelCode) && (a.modelBaseCode = a.modelCode.originalValue, a.modelCode = a.modelCode.value);
                    c = a;
                    c.vehicleName && 0 != c.vehicleName.length || (c.vehicleName = c.modelName);
                    "tda" !==
                    d && "tdavariant2" !== d || !f || (c.vehicleName = c.rangeNameLong);
                    "rfo" === d && b.isOpenArea && (c.source = "openArea", c.vin = b.vin ? b.vin : void 0);
                    e = d
                });
                this.getVehicle = function() {
                    return c
                };
                this.getFormattedVehicle = function() {
                    var b = {},
                        d = [{
                            prop: "modelPrice",
                            val: "modelGross"
                        }, {
                            prop: "modelPrice",
                            val: "modelGross"
                        }, {
                            prop: "totalEquipmentPrice",
                            val: "featuresGross"
                        }, {
                            prop: "totalPrice",
                            val: "totalGross"
                        }, {
                            prop: "totalPrice",
                            val: "grossPrice"
                        }],
                        e = [{
                            prop: "modelPrice",
                            val: "modelNet"
                        }, {
                            prop: "modelPrice",
                            val: "modelNet"
                        }, {
                            prop: "totalEquipmentPrice",
                            val: "featuresNet"
                        }, {
                            prop: "totalPrice",
                            val: "totalNet"
                        }, {
                            prop: "totalPrice",
                            val: "netPrice"
                        }],
                        f = [{
                            prop: "requestVehicle",
                            val: "requestVehicle"
                        }, {
                            prop: "bodyCode",
                            val: "modelRangeCode"
                        }, {
                            prop: "bodyName",
                            val: "rangeName"
                        }, {
                            prop: "modelCode",
                            val: "modelCode"
                        }, {
                            prop: "modelName",
                            val: "vehicleName"
                        }, {
                            prop: "configId",
                            val: "configUrl"
                        }, {
                            prop: "configUrl",
                            val: "shareConfigUrl"
                        }],
                        g = [{
                                prop: "requestVehicle",
                                val: "requestVehicle"
                            }, {
                                prop: "bodyCode",
                                val: "modelRange"
                            }, {
                                prop: "modelBaseCode",
                                val: "agModelCode"
                            }, {
                                prop: "modelCode",
                                val: "modelCode"
                            },
                            {
                                prop: "modelName",
                                val: "modelName"
                            }, {
                                prop: "configId",
                                val: "configId"
                            }, {
                                prop: "configUrl",
                                val: "configUrl"
                            }, {
                                prop: "vin",
                                val: "vin"
                            }
                        ],
                        h = [{
                            prop: "requestVehicle",
                            val: "requestVehicle"
                        }, {
                            prop: "bodyCode",
                            val: "modelRange"
                        }, {
                            prop: "modelBaseCode",
                            val: "agCode"
                        }, {
                            prop: "modelCode",
                            val: "vgCode"
                        }, {
                            prop: "modelCode",
                            val: "modelCode"
                        }, {
                            prop: "modelName",
                            val: "vehicleName"
                        }, {
                            prop: "vin",
                            val: "vin"
                        }],
                        k = [{
                            prop: "requestVehicle",
                            val: "requestVehicle"
                        }, {
                            prop: "bodyCode",
                            val: "modelRange"
                        }, {
                            prop: "modelBaseCode",
                            val: "agCode"
                        }, {
                            prop: "modelCode",
                            val: "vgCode"
                        }, {
                            prop: "modelCode",
                            val: "modelCode"
                        }, {
                            prop: "modelName",
                            val: "vehicleName"
                        }, {
                            prop: "configId",
                            val: "configUrl"
                        }, {
                            prop: "configUrl",
                            val: "shareConfigUrl"
                        }];
                    c.source && "standardselector" === c.source ? k = f : c.source && "openArea" === c.source ? k = g : c.source && "stockLocator" === c.source && (k = h);
                    k = this.isTopDrive() ? k.concat(e) : k.concat(d);
                    angular.forEach(k, function(a) {
                        void 0 !== c[a.val] && (b[a.prop] = c[a.val])
                    });
                    c.featureDetails && (b.optionalEquipments = {
                        optionalEquipments: []
                    }, angular.forEach(c.featureDetails, function(a) {
                        b.optionalEquipments.optionalEquipments.push({
                            code: a.featureKey.typeAndCode,
                            name: a.name,
                            price: a.price.netPrice,
                            displayFlag: "IN_MARKET_VISIBLE" === a.displayType ? !0 : !1,
                            standard: a.standard
                        })
                    }));
                    if (c && c.cosyImageInfos && 0 < c.cosyImageInfos.length)
                        for (d = 0; d < c.cosyImageInfos.length; d++)
                            if ((e = c.cosyImageInfos[d]) && e.urlString && 0 < e.urlString.length) {
                                b.cosyData = {
                                    cosyImageUrl: a(e.urlString)
                                };
                                break
                            } return b
                };
                this.isTopDrive = function() {
                    var a = !1;
                    if ("offer" === this.getFormType() || "offerforbusiness" === this.getFormType()) a = /\/de_DE\//.test(window.location.pathname);
                    return a
                };
                this.getFormType =
                    function() {
                        return e
                    };
                this.setVehicleField = function(a, b) {
                    "string" === typeof a && (c[a] = b)
                };
                this.setReplaceModelNameWithRangeName = function(a) {
                    f = a
                }
            }]);
            b.appModule.service("mdGcdmRequestedAccessoryService", ["$rootScope", "$q", function(b, a) {
                var c = a.defer();
                this.requestedAccessory = c.promise;
                b.$on("md:formgcdm:gcdmAccessoryRequest", function(a, b) {
                    c.resolve([b])
                })
            }]);
            b.appModule.service("mdGcdmCookieService", ["$rootScope", function(b) {
                this.areBrowserCookiesEnabled = function() {
                    return f.api.areBrowserCookiesEnabled()
                };
                this.isRegulationAccepted = function() {
                    return !0 === f.api.isRegulationAccepted()
                }
            }]);
            b.appModule.service("mdGcdmExternalBrochureService", ["$http", "$rootScope", function(b, a) {
                var c = g.data("formgcdm-resource-path"),
                    e = [];
                b({
                    method: "GET",
                    url: "/bin/public/mini/brochure?resourcePath\x3d" + c
                }).success(function(b) {
                    b && "success" === b.status && b.brochureObjects.length && (e = b.brochureObjects, a.$broadcast("md:formgcdm:brochure:external"))
                });
                this.markExternalBrochure = function(a) {
                    !angular.isObject(a) || "download" != a.requestType &&
                        "DOWNLOAD" !== a.informationType || e.some(function(b) {
                            if (b.id === a.informationMaterialCode) return a.isExternal = !0, a.externalUrl = b.url, !0
                        });
                    return a
                };
                this.getExternalBrochureData = function(a) {
                    if (angular.isObject(a) && "DOWNLOAD" === a.informationType && e)
                        for (var b = 0; b < e.length; b++) {
                            var c = e[b];
                            if (c.id === a.informationMaterialCode) {
                                var d = c;
                                break
                            }
                        }
                    return d
                }
            }]);
            b.appModule.service("mdCustomDropdownService", ["$http", "$rootScope", "mdGcdmBrochureService", function(b, a, d) {
                var c = g.data("formgcdm-resource-path");
                b({
                    method: "GET",
                    url: "/bin/public/mini/informationmaterial?resourcePath\x3d" + c
                }).success(function(b) {
                    b && (d.gcdmBrochures = b.informationMaterialEntries.informationMaterialEntries, a.$emit("md:formgcdm:rfi:loaded", "md:formgcdm:rfi:loaded"))
                })
            }]);
            b.appModule.service("mdGcdmBrochureService", ["$rootScope", "mdGcdmExternalBrochureService", function(b, a) {
                var c = this,
                    e = b.$on("md:formgcdm:brochure:external", function() {
                        angular.forEach(c.selectedBrochures, function(b, d) {
                            c.selectedBrochures[d] = a.markExternalBrochure(b)
                        });
                        e()
                    });
                c.selectedBrochuresLimit =
                    1;
                c.selectedBrochures = [];
                c.conflictedBrochures = [];
                c.gcdmBrochures = [];
                c.gcdmBrochuresGrouped = {};
                c.requestType = "post";
                c.pendingRequestType = "";
                c.getGcdmRequestType = function() {
                    if ("post" === c.requestType) return "BROCHURE";
                    if ("download" === c.requestType) return "DOWNLOAD"
                };
                c.updateGcdmFromModel = function(b) {
                    b.information = [];
                    for (var d = 0; d < c.selectedBrochures.length; d++) {
                        var e = c.selectedBrochures[d],
                            f = a.getExternalBrochureData(e);
                        var g = 0 < $("form[data-additional-brochurename-and-brand]").length ? {
                            id: e.informationMaterialCode,
                            type: e.informationType,
                            name: e.label
                        } : {
                            id: e.informationMaterialCode,
                            type: e.informationType
                        };
                        var h = [];
                        e.label && h.push({
                            key: "DESCRIPTION",
                            value: e.label
                        });
                        angular.isObject(e) && "DOWNLOAD" === e.informationType && (e = e.urlLinkBrochure, f && f.url && (e = f.url), e && (g.urlLinkBrochure = e, h.push({
                            key: "URL_LINK_BROCHURE",
                            value: e
                        })));
                        0 < h.length && (g.customExtension = {
                            parameters: h
                        });
                        b.information.push(g)
                    }
                };
                c.getRangeFromBrochure = function(a) {
                    var b;
                    var d = 0;
                    for (b = c.gcdmBrochures.length; d < b; d++)
                        if (c.gcdmBrochures[d].informationMaterialCode ===
                            a) return c.gcdmBrochures[d].productConstructionSeries
                };
                c.getBrochureIdFromModelRange = function(a, b) {
                    var d;
                    var e = 0;
                    for (d = c.gcdmBrochures.length; e < d; e++)
                        if (c.gcdmBrochures[e].productConstructionSeries === a && (b ? "DOWNLOAD" === c.gcdmBrochures[e].informationType : "BROCHURE" === c.gcdmBrochures[e].informationType)) return c.gcdmBrochures[e].informationMaterialCode;
                    return null
                };
                c.setSelectedBrochuresLimit = function(a) {
                    c.selectedBrochuresLimit = a
                };
                c.toggleRequestType = function() {
                    c.requestType = c.pendingRequestType ? c.pendingRequestType :
                        c.requestType;
                    c.resetPendingRequestType()
                };
                c.resetPendingRequestType = function() {
                    c.pendingRequestType = ""
                };
                c.isBasketFull = function(a) {
                    return c.selectedBrochures.length >= (a ? 3 : 1)
                };
                c.addSelectedBrochure = function(d, e) {
                    c.isBasketFull(e) ? (d.currentBrochureLimit = c.selectedBrochuresLimit, b.$broadcast("md:formgcdm:brochure:full", d)) : (d = a.markExternalBrochure(d), c.selectedBrochures.push(d), b.$broadcast("md:formgcdm:brochure:add", d))
                };
                c.addConflictedBrochure = function(a) {
                    c.conflictedBrochures.push(a)
                };
                c.removeSelectedBrochure =
                    function(a) {
                        angular.forEach(this.selectedBrochures, function(d, e) {
                            d.informationMaterialCode === a && (c.selectedBrochures.splice(e, 1), b.$broadcast("md:formgcdm:brochure:remove", d))
                        })
                    };
                c.resetSelectedBrochures = function() {
                    c.selectedBrochures = []
                };
                c.resetConflictedBrochures = function() {
                    c.conflictedBrochures = []
                };
                c.getSelectedBrochures = function() {
                    return c.selectedBrochures
                };
                c.hasConflicts = function(a) {
                    var b = [],
                        d = "download" === a ? /^DIG/ : /^DLR/;
                    if (!c.selectedBrochures.length) return !1;
                    angular.forEach(c.selectedBrochures,
                        function(a) {
                            var e, f = a.productVgModelCode || a.productAgModelCode;
                            b.push(a);
                            a = 0;
                            for (e = c.gcdmBrochures.length; a < e; a++) {
                                var g = c.gcdmBrochures[a].productVgModelCode || c.gcdmBrochures[a].productAgModelCode;
                                if (void 0 !== g && g === f && d.test(c.gcdmBrochures[a].label)) {
                                    b.pop();
                                    break
                                }
                            }
                        });
                    return b.length ? (c.conflictedBrochures = b, !0) : !1
                }
            }]);
            b.appModule.service("mdGcdmStepService", function() {
                var b = this;
                b.teardown = function() {
                    b.activeStep = null;
                    b.totalSteps = null;
                    b.skipSteps = {}
                };
                b.setTotalSteps = function(a) {
                    b.totalSteps =
                        a
                };
                b.setActiveStep = function(a) {
                    b.activeStep = a
                };
                b.isSkipStep = function(a) {
                    a = b.skipSteps[a];
                    return void 0 !== a && a
                };
                b.setSkipStep = function(a) {
                    b.isSkipStep(a) || --b.totalSteps;
                    b.skipSteps[a] = !0
                };
                b.removeSkipStep = function(a) {
                    b.isSkipStep(a) && (b.totalSteps += 1);
                    b.skipSteps[a] = !1
                };
                b.teardown()
            });
            b.appModule.service("mdGcdmTdaSummaryService", function() {
                this.summaryData = {};
                this.setSummaryData = function(b) {
                    angular.extend(this.summaryData, b)
                }
            });
            b.appModule.service("mdGcdmRfoSummaryService", function() {
                this.summaryData = {};
                this.setSummaryData = function(b) {
                    angular.extend(this.summaryData, b)
                }
            });
            b.appModule.service("mdGcdmFinanceService", function() {
                var b = this;
                b.isSFLoaded = !1;
                b.financeApi = k.getFinanceApp();
                b.financeInterestViewport;
                b.financeApi.isLoaded || k.init();
                this.loadFinanceInterest = function() {
                    !b.isSFLoaded && b.financeApi.isLoaded && b.financeApi.bmwNameSpace.apps.html5 && (b.financeInterestViewport = new b.financeApi.bmwNameSpace.apps.html5.FinanceInterestViewport(b.financeApi.SF, "financeInterestViewport"), b.financeInterestViewport.start(),
                        b.isSFLoaded = !0)
                };
                this.isFinanceInterests = function() {
                    if (this.financeInterestViewport) {
                        var a = b.financeApi.SF.financeInterests;
                        a && (b.existsFinanceInterests = 0 < a.length)
                    }
                    return this.existsFinanceInterests
                }
            });
            b.appModule.service("mdGcdmAnalyticsService", function() {
                var b = !1,
                    a = "";
                this.setErrorsPushed = function(a) {
                    b = a
                };
                this.setCurrentFormError = function(b) {
                    a = b
                };
                this.getErrorsPushed = function() {
                    return b
                };
                this.getCurrentFormError = function() {
                    return a
                }
            });
            b.appModule.service("MdGcdmDealerLocatorService", ["GcdmDealerLocatorService",
                "MdC2bLocalSearchService",
                function(b, a) {
                    function c(a) {
                        var b = a.distributionPartnerId;
                        void 0 === b && void 0 !== a.attributes && (b = a.attributes.distributionPartnerId);
                        return b
                    }

                    function e(a) {
                        var b = a.outletId;
                        void 0 === b && void 0 !== a.attributes && (b = a.attributes.outletId);
                        return b
                    }

                    function f(a, b) {
                        var c = new window.gcdm.models.DealerWithAddress;
                        c.brand = b.brand;
                        c.city = a.city;
                        c.country = a.country;
                        c.name = a.name;
                        c.postalCode = a.postalCode;
                        c.street = a.street;
                        a.attributes && (c.homepage = a.attributes.homepage);
                        return c
                    }

                    function g(a,
                        b, c, d) {
                        var e = f(a, b);
                        e.distributionPartnerId = c;
                        e.outletId = d;
                        b.dealer = e;
                        c = [];
                        a.name && c.push({
                            key: "DEALER_NAME",
                            value: a.name
                        });
                        a.postalCode && c.push({
                            key: "DEALER_ADDRESS_POSTALCODE",
                            value: a.postalCode
                        });
                        a.city && c.push({
                            key: "DEALER_ADDRESS_CITY",
                            value: a.city
                        });
                        a.street && c.push({
                            key: "DEALER_ADDRESS_STREET",
                            value: a.street
                        });
                        a.attributes && (a.attributes.phone && c.push({
                                key: "DEALER_PHONE",
                                value: a.attributes.phone
                            }), a.attributes.mail && c.push({
                                key: "DEALER_EMAIL",
                                value: a.attributes.mail
                            }), a.attributes.homepage &&
                            c.push({
                                key: "DEALER_HOMEPAGE",
                                value: a.attributes.homepage
                            }));
                        0 < c.length && (b.dealer.customExtension = {
                            parameters: c
                        });
                        void 0 !== a.attributes && void 0 !== a.attributes.rfSupportedEmail && (a = a.attributes.rfSupportedEmail[b.useCase], void 0 === b.contact && (b.contact = {}), a && (b.contact.requestEmail = a))
                    }
                    this.setDealerData = function(d, h, l) {
                        if (l && !d) delete h.dealer;
                        else {
                            var k = c(d),
                                m = e(d);
                            if (l) g(d, h, k, m);
                            else {
                                var p = f(d, h);
                                p.key = d.key;
                                p.lat = d.lat;
                                p.lng = d.lng;
                                p.dist = d.dist;
                                p.attributes = {};
                                d.attributes && d.attributes.rfSupportedEmail &&
                                    d.attributes.rfSupportedEmail[h.useCase] && (p.attributes.rfSupportedEmail = d.attributes.rfSupportedEmail[h.useCase], h.contact && (h.contact.requestEmail = p.attributes.rfSupportedEmail));
                                void 0 !== k && void 0 !== m && (p.attributes.distributionPartnerId = k, p.attributes.outletId = m);
                                a.getC2bLocalSearch().then(function() {
                                    b.setDealerData(p);
                                    g(d, h, k, m)
                                })
                            }
                        }
                    };
                    this.compareDealers = function(a, b) {
                        if (!a || !b) return !1;
                        if (a.attributes && b.attributes) return a.attributes.distributionPartnerId === b.attributes.distributionPartnerId &&
                            a.attributes.outletId === b.attributes.outletId
                    }
                }
            ]);
            b.appModule.service("MdAddressValidationService", function() {
                var b = g;
                b.hasClass("md-form-gcdm") || (b = b.find(".md-form-gcdm"));
                var a = b.data("md-experian-endpoint-url"),
                    d = b.data("md-experian-endpoint-token"),
                    e = b.data("md-experian-endpoint-country");
                this.getEndpoint = function() {
                    return {
                        url: a,
                        token: d,
                        country: e
                    }
                }
            });
            b.appModule.service("casaProfileService", ["MdCasaProfile", function(b) {
                function a(a, b, c, d, e) {
                    var f = $.Deferred(),
                        g = {},
                        h = "";
                    e && (h = JSON.stringify(e));
                    c && (g.Authorization = "Bearer " + c);
                    d && (g = angular.extend(g, d));
                    $.ajax({
                        url: a,
                        dataType: "json",
                        method: b,
                        contentType: "application/json",
                        data: h,
                        headers: g,
                        timeout: 3E4
                    }).done(function(a) {
                        f.resolve(a)
                    }).fail(function(a, b, c) {
                        f.reject(a, b)
                    });
                    return f
                }

                function c() {
                    var a = {};
                    b.businessPartner && b.userAccount && (a = {
                        customer: {
                            loginEmail: b.userAccount.mail,
                            salutation: b.businessPartner.salutation,
                            firstName: b.businessPartner.givenName,
                            lastName: b.businessPartner.surname,
                            language: b.businessPartner.correspondLanguageISO.toLowerCase(),
                            country: "",
                            preferredCommunicationChannel: "EMAIL",
                            accountType: "UNDEFINED"
                        }
                    }, a.customer.country = b.businessPartner.addresses && 0 < b.businessPartner.addresses.length ? b.businessPartner.addresses[0].country : q);
                    return a
                }

                function e(c, d) {
                    var e = p + "/api/me/profile/v2?brand\x3dMI",
                        f = $.Deferred();
                    a(e, "POST", c, null, d).then(function(a) {
                        a && "OK" == a.status && (b.casaProfile = a.customer);
                        f.resolve(!0)
                    }, function(a, b) {
                        f.resolve(!1)
                    });
                    return f
                }
                var f = g,
                    k = $(".md-mymini");
                f.hasClass("md-form-gcdm") || (f = f.find(".md-form-gcdm"));
                var p = f.data("casa-endpoint-url"),
                    q = k.data("mymini-country");
                k.data("mymini-lang");
                b.businessPartner = null;
                b.userAccount = null;
                b.casaProfile = null;
                this.existsProfile = function(c) {
                    var d = p + "/api/me/profile/v2?brand\x3dMI",
                        f = $.Deferred();
                    a(d, "GET", c).then(function(a) {
                        a && a.customer ? "HR" == a.customer.country || "BG" == a.customer.country || "CY" == a.customer.country ? "en" != a.customer.language && (a.customer.language = "en", e(c, a).then(function(a) {
                            b.casaProfile = a.customer;
                            f.resolve(!0)
                        }, function(a, b) {
                            f.resolve(!0)
                        })) : (b.casaProfile =
                            a.customer, f.resolve(!0)) : f.resolve(!1)
                    }, function(a, b) {
                        404 == a.status && f.resolve(!1);
                        f.reject(!1)
                    });
                    return f
                };
                this.addProfile = function(a) {
                    var b = $.Deferred(),
                        d = {};
                    d = c();
                    e(a, d).then(function(a) {
                        b.resolve(!0)
                    }, function(a, c) {
                        b.resolve(!1)
                    });
                    return b
                };
                this.updateProfile = function(a, d) {
                    var f = $.Deferred(),
                        g = c();
                    g.customer.accountType = "UNDEFINED";
                    g.customer.preferredCommunicationChannel = d.preferredCommunicationChannel;
                    b.casaProfile && (g.customer.country = b.casaProfile.country);
                    e(a, g).then(function(a) {
                            f.resolve(!0)
                        },
                        function(a, b) {
                            f.reject(!1)
                        });
                    return f
                };
                return this
            }]);
            b.appModule.factory("MdCasaProfile", function() {
                var b = {};
                b.casaProfile;
                b.businessPartner;
                b.userAccount;
                b.accessToken;
                return b
            });
            b.appModule.service("MdC2bLocalSearchService", ["$q", "$timeout", "$window", function(b, a, d) {
                this.getC2bLocalSearch = function() {
                    function c() {
                        void 0 !== d.C2B && void 0 !== d.C2B.LocalSearch ? f.resolve(d.C2B.LocalSearch) : a(c, 100)
                    }
                    var f = b.defer();
                    c();
                    return f.promise
                }
            }])
        }
    }
}(mini.digital.comp.gcdm, mini.digital.util.cookiecontroller, mini.digital.util.finance);
mini.digital.comp.gcdm.modules = function(b, f) {
    return {
        init: function() {
            angular.module("angularPikaday", []);
            angular.module("angularPikaday").provider("pikaday", function() {
                var b = {};
                this.$get = function() {
                    return b
                };
                this.setConfig = function(f) {
                    b = f
                }
            });
            angular.module("angularPikaday").directive("pikaday", ["pikaday", "$timeout", "$rootScope", function(k, g, c) {
                return {
                    restrict: "A",
                    scope: {
                        pikaday: "\x3d",
                        onSelect: "\x26"
                    },
                    link: function(a, d, e) {
                        function h() {
                            var a = b(x.el),
                                c = a.find(".pika-lendar");
                            a.css("max-height", c.outerHeight() +
                                "px").one(f, function() {
                                a.addClass(l.DELAY_CLOSE)
                            })
                        }

                        function m(a) {
                            var c = b(x.el);
                            c.removeAttr("style");
                            if (a) c.one(f, function() {
                                c.removeClass(l.DELAY_CLOSE)
                            });
                            else c.removeClass(l.DELAY_CLOSE)
                        }
                        var p = b(d),
                            q = p.siblings(".md-js-icn-calendar"),
                            l = {
                                DELAY_CLOSE: "md-form-gcdm-datepicker-delay-close"
                            },
                            u = e.minDate ? parseInt(e.minDate, 10) : void 0,
                            w = e.maxDate ? parseInt(e.maxDate, 10) : void 0,
                            r = "true" === e.mdDatepickerDisableSundays ? function(a) {
                                return 0 === a.getDay()
                            } : void 0,
                            x = new Pikaday({
                                field: d[0],
                                trigger: document.getElementById(e.triggerId),
                                bound: "false" !== e.bound,
                                position: e.position || "",
                                format: e.format || "ddd MMM D YYYY",
                                defaultDate: new Date(e.defaultDate),
                                setDefaultDate: "true" === e.setDefaultDate,
                                disableWeekends: "true" === e.mdDatepickerDisableWeekends,
                                disableDayFn: r,
                                firstDay: e.firstDay ? parseInt(e.firstDay, 10) : 0,
                                minDate: u ? new Date((new Date).getTime() + 864E5 * u) : void 0,
                                maxDate: w ? new Date((new Date).getTime() + 864E5 * w) : void 0,
                                yearRange: e.yearRange ? JSON.parse(e.yearRange) : 10,
                                isRTL: "true" === e.isRTL,
                                i18n: k.i18n || {
                                    previousMonth: e.mdDatepickerPrevMonth,
                                    nextMonth: e.mdDatepickerNextMonth,
                                    months: e.mdDatepickerMonths.split(","),
                                    weekdays: e.mdDatepickerDays.split(","),
                                    weekdaysShort: e.mdDatepickerDaysShort.split(",")
                                },
                                yearSuffix: e.yearSuffix || "",
                                showMonthAfterYear: "true" === e.showMonthAfterYear,
                                onSelect: function() {
                                    m(!0);
                                    if ("onSelect" in e) a.onSelect({
                                        pikaday: this
                                    });
                                    g(function() {
                                        var b = c.$$phase;
                                        "$apply" !== b && "$digest" !== b && a.$apply()
                                    })
                                }
                            });
                        a.pikaday = x;
                        a.$on("$destroy", function() {
                            b(x.el).off();
                            p.off();
                            q.off();
                            x.destroy();
                            x = null
                        });
                        p.on("focus", function() {
                            h()
                        });
                        if (q.length) q.on("click", function() {
                            b(x.el).hasClass(l.DELAY_CLOSE) ? m(!1) : p.focus()
                        });
                        e.mdDatepickerAppendTo && b(d).closest(e.mdDatepickerAppendTo).append(x.el)
                    }
                }
            }])
        }
    }
}(mini.digital.$, mini.digital.util.transitionEndEvent);
mini.digital.comp.gcdm.controllers.gcdm = function(b, f) {
    return {
        init: function(k) {
            b.appModule.controller("mdGcdmController", ["$scope", "GcdmEventHandlingService", "mdGcdmStepService", "GcdmLogoutService", "$timeout", "$rootScope", "casaProfileService", "MdCasaProfile", "GcdmStorageService", function(g, c, a, d, e, h, m, p, q) {
                function l() {
                    var a = g.gcdmGetLoginId();
                    0 < a.length && (!p.casaProfile || a != p.casaProfile.loginEmail) && p.businessPartner && p.userAccount && g.accessToken && g.gcdmIsLoggedIn() && !p.profileChecked && (p.profileChecked = !0, m.existsProfile(g.accessToken).then(function(a) {
                        a ? (p.profileChecked = !0, g.mdProfileCasa = p.casaProfile, g.$apply()) : m.addProfile(g.accessToken).then(function(a) {
                            a && (p.profileChecked = !0, g.mdProfileCasa = p.casaProfile, g.$apply())
                        })
                    }, function() {
                        console.log("Not able to get the profile!")
                    }))
                }

                function u(a) {
                    var b = !1;
                    a && (b = !isNaN(Number(a[1])));
                    return b
                }

                function w(c, d) {
                    f.publish("md:formgcdm:gcdmSuccess", d);
                    if ("registration" == g.formgcdmType && (c = document.referrer, 0 < window.location.search.indexOf("extReg\x3dtrue"))) {
                        window.location.replace(c);
                        return
                    }
                    "login" == g.formgcdmType && "registration" == g.formgcdmType && "profile" == g.formgcdmType && "profilechange" == g.formgcdmType && "deleteaccount" == g.formgcdmType && "changepassword" == g.formgcdmType && "loginidchange" == g.formgcdmType && "setpassword" == g.formgcdmType && "forgottenpassword" == g.formgcdmType || b.campaign.deleteCookie();
                    g.mdGcdmSuccess = !0;
                    g.hasRegisterFlow && !r && "md-login-form" !== d.id && (g.mdShowRegistration ? (g.mdShowRegistration = !1, g.mdShowRegistrationConfirm = !0, e(function() {
                            mini.digital.util.lazyLoadImage.checkImages()
                        })) :
                        (g.mdShowRegistration = !0, g.mdShowRegistrationConfirm = !1));
                    a.teardown()
                }
                var r = g.gcdmIsLoggedIn(),
                    x = "true" === k.attr("data-formgcdm-hasregister"),
                    v = f(".md-mymini").attr("data-myvehicle-path");
                g.accessToken;
                g.isMyVehicleEnabled = v && 0 < v.length ? !0 : !1;
                g.mdGcdmSuccess = !1;
                g.mdShowRegistration = !1;
                g.mdShowRegistrationConfirm = !1;
                g.mdGcdmShowPolicyConfirmation = !1;
                g.addressFieldsShow = !1;
                g.termsShow = !1;
                g.termsOverflow = !1;
                g.profileChecked = !1;
                g.isLoggedIn = r;
                g.hasRegisterFlow = x;
                g.mdBusinessPartner = {};
                g.templateLocale =
                    k.data("formgcdm-template-locale");
                g.formgcdmType = k.data("formgcdm-type");
                g.campaignLeadContext = k.data("formgcdm-campaign-lead-context");
                g.campaignId = k.data("formgcdm-campaign-campaign-id");
                g.campaignLeadSource = k.data("formgcdm-campaign-lead-source");
                g.campaignTreatmentSource = k.data("formgcdm-campaign-treatment-source");
                g.campaignResponseType = f("form", k).attr("gcdm-response-type");
                g.formgcdmType || (g.formgcdmType = f(k).find("[data-component-name\x3d'formgcdm']").attr("data-formgcdm-type"));
                if (g.isLoggedIn &&
                    g.isMyVehicleEnabled) {
                    x = q.get(window.gcdm.STORAGE_KEY.BUSINESS_PARTNER);
                    v = q.get(window.gcdm.STORAGE_KEY.ACCESS_TOKEN);
                    var t = q.get(window.gcdm.STORAGE_KEY.USER_ACCOUNT);
                    x || (x = q.get(window.gcdm.STORAGE_KEY.BUSINESS_PARTNER_LOGGED_IN));
                    p.businessPartner = x;
                    g.accessToken = v;
                    p.accessToken = g.accessToken;
                    p.userAccount = t;
                    l()
                }
                g.getBrochureLabel = function(a) {
                    return "en_gb" === g.templateLocale ? a.descriptionText : a.label
                };
                g.init = function(a) {
                    g.newsletterTemplateId = a
                };
                h.$on("PM2ready_GlobalPolicy", function(a, b) {
                    console.info("PM2 ready",
                        b)
                });
                g.dloPartnerIdSelector = function() {
                    var a = window.location.pathname.match(/\.dloPartner_([^\.]+)\./);
                    return u(a) ? a[1] : null
                }();
                g.dloOutletIdSelector = function() {
                    var a = window.location.pathname.match(/\.dloOutlet_([^\.]+)\./);
                    return u(a) ? a[1] : null
                }();
                g.dloSelector = !(!g.dloPartnerIdSelector || !g.dloOutletIdSelector);
                g.mdRedirectUrl = function() {
                    var a = window.location.hash.match(/(#|&|\?|\/)returnURL=([^&]+)/),
                        b = null,
                        c = document.referrer;
                    a && c && (b = c);
                    return b
                }();
                g.hasSuccessRedirect = !!g.mdRedirectUrl;
                g.mdEnableRegFlow =
                    function() {
                        g.hasRegisterFlow = !0
                    };
                g.mdDisableRegFlow = function() {
                    g.hasRegisterFlow = !1
                };
                g.mdCancelRegFlow = function() {
                    g.mdGcdmSuccess = !0;
                    f.publish("md:overlay:close")
                };
                g.addressFieldsToggle = function() {
                    g.addressFieldsShow = g.addressFieldsShow ? !1 : !0
                };
                g.mdToggleTerms = function(a) {
                    a && a.preventDefault();
                    g.termsVisible = !g.termsVisible
                };
                g.mdLoginRedirectPath = function(a) {
                    if (a) return a.replace(/^(https?:\/\/[^\/]*)?/, window.location.origin)
                };
                g.mdSetBusinessPartner = function(a) {
                    g.mdBusinessPartner = a;
                    g.mdBusinessPartnerMail =
                        void 0;
                    0 < a.communication.emails.length && (g.mdBusinessPartnerMail = a.communication.emails[0].value)
                };
                g.isMainFormActive = function() {
                    var a = g.formgcdmType;
                    "undefined" == typeof a && (a = f('[data-component-name\x3d"formgcdm"]').data("formgcdm-type"));
                    return g.mdGcdmShowPolicyConfirmation && "registration" == a ? !0 : g.mdShowRegistration ? !1 : !g.mdGcdmSuccess || !g.hasConfirmation
                };
                g.$watch("gcdmShowPolicyConfirmation", function(a, b) {
                    g.gcdmShowPolicyConfirmation ? (g.mdGcdmShowPolicyConfirmation = !0, g.mdGcdmSuccessRestoreValue =
                        angular.copy(g.mdGcdmSuccess), g.mdGcdmSuccess = !1) : (g.mdGcdmShowPolicyConfirmation = !1, g.mdGcdmSuccessRestoreValue && (g.mdGcdmSuccess = angular.copy(g.mdGcdmSuccessRestoreValue), g.mdGcdmSuccessRestoreValue = void 0))
                });
                g.mdGcdmClosePolicyConfirmation = function() {
                    g.gcdmClosePolicyConfirmation();
                    g.mdGcdmSuccess = !1;
                    d.logoutAndRemovePrefill()
                };
                c.subscribe("sessionStorageChange", function(a, b) {
                    "login" != g.formgcdmType && "registration" != g.formgcdmType || !g.isMyVehicleEnabled || ("businessPartnerLoggedIn" == b.key && b.value &&
                        (p.businessPartner = b.value.businessPartner), "businessPartner" == b.key && b.value && (p.businessPartner = b.value.businessPartner), "accessToken" == b.key && b.value && (g.accessToken = b.value, p.accessToken = g.accessToken), "userAccount" == b.key && b.value && (p.userAccount = b.value), l())
                });
                c.subscribe("success", w);
                g.mdConfirmRegFlow = function() {
                    w(void 0, {
                        id: "form"
                    })
                }
            }])
        }
    }
}(mini.digital.comp.gcdm, mini.digital.$);
mini.digital.comp.gcdm.controllers.contactPolicy = function(b, f, k) {
    function g(c) {
        return 0 < c.parents(".md-custom-overlay").length || !k.isMobile ? null : {
            veilHeight: void 0 !== document.height ? document.height : document.body.offsetHeight,
            customLayerPaddingTop: 150,
            customLayerTop: b(window).scrollTop()
        }
    }
    return {
        init: function(c) {
            var a = b(c);
            f.appModule.controller("mdContactPolicyController", ["$scope", "$rootScope", "GcdmPolicyManagementApi", function(c, e, f) {
                function d(a, b) {
                    for (var c, d = 0; d < a.length; d++)
                        if (a[d].policyId ===
                            b) {
                            c = a[d];
                            break
                        } return c
                }

                function h(a, b, c, d, e, f) {
                    var g = b.usages.sort(function(a, b) {
                            return a.ordinalNumber - b.ordinalNumber
                        }),
                        h = b.id,
                        l = b.textPrimary,
                        k = b.textSecondary;
                    b = b.legalEntities;
                    for (var m = "\x3cdiv id\x3dusages_" + h + ' class\x3d"md-form-gcdm-policy-usages ' + ("displayUsages" === f ? "gcdm-policy-display-all" : "") + '" \x3e', p, q = 0; q < g.length; q++)
                        if ("IMPLICIT" !== g[q].variant) {
                            if (p = c + "_" + g[q].usage.id, "singleUsage" === d || "combined" === d && "displayUsages" === f && 1 < g.length) {
                                var r = z(e, [g[q]]);
                                "singleUsage" === d &&
                                    (m += x(r, "before"));
                                p = "input_" + p + "_" + (new Date).getTime();
                                m += '\x3cdiv class\x3d"md-form-gcdm-checkbox"\x3e';
                                m = "MANDATORY" === g[q].variant ? m + ('\x3cinput id\x3d"' + p + '"type\x3d"checkbox" ' + ("combined" === d && "displayUsages" === f ? "ng-checked\x3d\"isChecked('" + a + "'," + h + ", '" + g[q].usage.name + "')\"" : "") + " ng-click\x3d\"doChangeUsage('" + a + "'," + h + ",'" + g[q].usage.name + "')\" required /\x3e") : m + ('\x3cinput id\x3d"' + p + '"type\x3d"checkbox" ' + ("combined" === d && "displayUsages" === f ? "ng-checked\x3d\"isChecked('" + a + "'," +
                                    h + ", '" + g[q].usage.name + "')\"" : "") + " ng-click\x3d\"doChangeUsage('" + a + "'," + h + ",'" + g[q].usage.name + "')\"/\x3e");
                                m += '\x3clabel class\x3d"md-clickable" for\x3d"' + p + '"\x3e\x3c/label\x3e';
                                var w = g[q].usage.name;
                                g[q].usage.label && (w = g[q].usage.label);
                                l && "singleUsage" === d && (w = l);
                                m += '\x3clabel class\x3d"md-form-checkable-label" for\x3d"' + p + '"\x3e' + w;
                                k && "singleUsage" === d && (m += A(k, p, b));
                                m += "\x3c/label\x3e\x3c/div\x3e";
                                "singleUsage" === d && (m += x(r, "after"))
                            }
                        } else return "";
                    return m + "\x3c/div\x3e"
                }

                function k(a, b,
                    c, d, e, f, g, h, k, m) {
                    var p = '\x3cdiv class\x3d"md-form-gcdm-policy-text-blocks"\x3e',
                        q = z(f, [{
                            usage: {
                                name: "TEXT"
                            }
                        }]);
                    p += x(q, "before");
                    for (var y = 0; y < a.length; y++)
                        if (!angular.isDefined(d) || d.toLowerCase() === a[y].language.toLowerCase()) {
                            if (h && a[y].brand) {
                                if (h.toLowerCase() !== a[y].brand.name.toLowerCase()) continue
                            } else console.log("TextBlock does not support brand!");
                            var B = b + "_" + a[y].id;
                            p += '\x3cdiv class\x3d"md-form-gcdm-policy-text-block" id\x3d"TextBlock_' + B + '"\x3e';
                            var A = a[y].usageText,
                                C = [],
                                E = [];
                            A = A.sort(function(a,
                                b) {
                                return a.ordinalNumber > b.ordinalNumber ? 1 : 0
                            });
                            C = [];
                            E = [];
                            "combined" === c ? (E = l(A), C = u(A)) : (E = w(A), C = r(A));
                            p += v(E, B);
                            p += x(q, "after");
                            A = a[y].usageDefinitions.sort(function(a, b) {
                                return a.ordinalNumber - b.ordinalNumber
                            });
                            p += t(e, A, B, c, f, g, k, m);
                            p += v(C, B);
                            p += "\x3c/div\x3e"
                        } return p + "\x3cdiv\x3e"
                }

                function l(a) {
                    var b = [];
                    0 < a.length && b.push({
                        primaryText: a[0]
                    });
                    return b
                }

                function u(a) {
                    var b = [],
                        c = {
                            primaryText: "",
                            secondaryText: ""
                        };
                    1 < a.length && (c.primaryText = a[1]);
                    2 < a.length && (c.secondaryText = a[2]);
                    b.push(c);
                    return b
                }

                function w(a) {
                    var b = [];
                    0 < a.length && b.push({
                        primaryText: a[0]
                    });
                    if (3 < a.length) {
                        var c = {};
                        c.primaryText = a[3];
                        4 < a.length && (c.secondaryText = a[4]);
                        b.push(c)
                    }
                    return b
                }

                function r(a) {
                    var b = [];
                    if (1 < a.length) {
                        var c = {};
                        c.primaryText = a[1];
                        2 < a.length && (c.secondaryText = a[2]);
                        b.push(c)
                    }
                    return b
                }

                function x(a, b) {
                    var c = "";
                    if (null != a && 0 < a.length)
                        for (var d = 0; d < a.length; d++) a[d].position == b && (c += a[d].template);
                    return c
                }

                function v(a, b) {
                    var c = "";
                    if (a) {
                        a = a.sort(function(a, b) {
                            return a.ordinalNumber - b.ordinalNumber
                        });
                        c = '\x3cdiv class\x3d"md-form-gcdm-policy-usage-texts"\x3e';
                        for (var d = "", e = 0; e < a.length; e++) {
                            var f = a[e].primaryText,
                                g = a[e].secondaryText;
                            f && (d = b + "_" + f.id, c += '\x3cdiv class\x3d"' + (0 == e ? "md-gcdm-policy-header" : "") + ' md-form-gcdm-policy-usage-text" id\x3d"usageText_' + d + '" \x3e', c += f.value, g && (c += A(g.value, g.id)));
                            c += "\x3c/div\x3e"
                        }
                        c += "\x3c/div\x3e"
                    }
                    return c
                }

                function t(a, b, c, d, e, f, g, l) {
                    for (var k = '\x3cdiv class\x3d"md-form-gcdm-policy-usage-definitions"\x3e', m, p = 0; p < b.length; p++) {
                        m = c + "_" + b[p].id;
                        var q = z(e, b[p].usages);
                        "combined" === d && (k += x(q, "before"));
                        k += '\x3cdiv class\x3d"md-form-gcdm-policy-usage-definition" id\x3d"usageDefinition_' +
                            m + '"\x3e';
                        for (var r = b[p].legalEntities, w = '\x3cdiv class\x3d"md-form-gcdm-policy-legal-entities"\x3e', u, t = 0; t < r.length; t++) u = m + "_" + r[t].id, w += '\x3cdiv class\x3d"md-form-gcdm-policy-legal-entity" id\x3d"legalEntity_' + u + '"\x3e', w += r[t].name, w += "\x3c/div\x3e";
                        k += w + "\x3c/div\x3e";
                        r = b[p].purposes;
                        w = '\x3cdiv class\x3d"md-form-gcdm-policy-purposes"\x3e';
                        for (t = 0; t < r.length; t++) u = m + "_" + r[t].id, w += '\x3cdiv class\x3d"md-form-gcdm-policy-purpose" id\x3d"purpose_' + u + '"\x3e', w += r[t].name, w += "\x3c/div\x3e";
                        k += w +
                            "\x3c/div\x3e";
                        r = "usage_" + m + "_" + (new Date).getTime();
                        "combined" === d && (k += '\x3cdiv class\x3d"md-form-gcdm-checkbox" id\x3d"textPrimary_' + m + '"\x3e', "OPTIONAL" === b[p].usages[0].variant ? k += '\x3cinput id\x3d"' + r + '" type\x3dcheckbox ' + ("combined" === d && "displayUsages" === g ? "ng-checked\x3d\"areAllChecked('" + a + "'," + b[p].id + ')"' : "") + "ng-click\x3d\"doChangeAllUsages('" + a + "'," + b[p].id + ",'" + d + "','" + g + "')\"/\x3e" : "MANDATORY" === b[p].usages[0].variant && (k += '\x3cinput id\x3d"usage_' + m + '" ng-model\x3d"helper_' + m + '" type\x3dcheckbox ' +
                            ("combined" === d && "displayUsages" === g ? "ng-checked\x3d\"areAllChecked('" + a + "'," + b[p].id + ')"' : "") + " ng-click\x3d\"doChangeAllUsages('" + a + "'," + b[p].id + ",'" + d + "','" + g + "')\" gcdm-apply-value gcdm-validation gcdm-model-check required/\x3e"), k += '\x3clabel class\x3d"md-clickable" for\x3d"' + r + '"\x3e\x3c/label\x3e', k += '\x3clabel class\x3d"md-form-checkable-label" for\x3d"' + r + '"\x3e' + b[p].textPrimary, "displayUsages" === g && 1 < b[p].usages.length && (k += '\x3cspan\x3e\x3ca class\x3d"gcdm-link-submode" data-usageid\x3d"' +
                            m + '" ng-click\x3d"displayAllUsages($event)"\x3e' + l + "\x3c/a\x3e\x3c/span\x3e"), k += A(b[p].textSecondary, r, b[p].legalEntities), k += "\x3c/label\x3e", k += "\x3c/div\x3e");
                        m = k += h(a, b[p], m, d, e, g);
                        k = f;
                        r = "";
                        if (k && k.display && k.afterUsage) {
                            w = !1;
                            u = b[p].usages;
                            for (t = 0; t < u.length; t++)
                                if (-1 < k.afterUsage.indexOf(u[t].usage.name)) {
                                    w = !0;
                                    break
                                } w && (r += k.html)
                        }
                        k = m + r;
                        "combined" === d && (k += x(q, "after"));
                        k += "\x3c/div\x3e"
                    }
                    return k + "\x3c/div\x3e"
                }

                function A(a, c, d) {
                    c = "";
                    if (a) {
                        var e = "";
                        if (d && 0 < d.length) {
                            var f = "md-policy-legal-entity";
                            1 < d.length && (f = "md-icn-plus " + f);
                            for (var g = '\x3cdiv class\x3d"md-policy-legal-entity-hide"\x3e', h = 0; h < d.length; h++) {
                                var l = d[h].name;
                                d[h].label && (l = d[h].label);
                                0 === h && (e += '\x3cdiv data-displayed\x3d"false" class\x3d"' + f + '"\x3e\x3cspan class\x3d"md-policy-legal-entity-display"\x3e' + l + "\x3c/span\x3e\x3c/div\x3e");
                                0 < h && (g += ", " + l)
                            }
                            e = '\x3cspan  class\x3d"md-policy-legal-entities"\x3e' + e + (g + "\x3c/div\x3e") + "\x3c/span\x3e"
                        }
                        c = c + ('\x3cdiv class\x3d"md-display-info"\x3e' + a + "\x3c/div\x3e") + '\x3ca class\x3d"md-policy-info md-policy-icn md-policy-icn-info" ng-click\x3d"displayInfo($event)"\x3e\x3c/a\x3e';
                        a = b("\x3cdiv/\x3e").html(c);
                        (d = a.find(".legalEntities")) && 0 < d.length && b.each(d, function(a, c) {
                            b(c).html(e)
                        });
                        c = a.html()
                    }
                    return c
                }

                function z(a, b) {
                    var c = [],
                        d = ["before", "after"];
                    if (b && 0 < b.length && a)
                        for (var e = 0; e < b.length; e++) {
                            Array.isArray(a) || (a = [a]);
                            for (var f = 0; f < d.length; f++)
                                for (var g = 0; g < a.length; g++)
                                    if (b[e].usage.name.toUpperCase() == a[g].usage.toUpperCase() && d[f] == a[g].position) {
                                        var h = '\x3cdiv class\x3d"md-policygdpr-value-propositions"\x3e',
                                            l = "";
                                        if (a[g].propositions)
                                            for (var k = 0; k < a[g].propositions.length; k++) l +=
                                                '\x3cli class\x3d"md-icnpre-check md-policygdpr-value-proposition"\x3e' + a[g].propositions[k].propositionValue + "\x3c/li\x3e";
                                        0 < l.length && (a[g].title && 0 < a[g].title.length && (h += '\x3cdiv class\x3d"md-policygdpr-proposition-title"\x3e' + a[g].title + "\x3c/div\x3e"), h += "\x3cul\x3e" + l + "\x3c/ul\x3e");
                                        h += "\x3c/div\x3e";
                                        c.push({
                                            template: h,
                                            position: a[g].position
                                        });
                                        break
                                    }
                        }
                    return c
                }
                c.$parent.policyDocuments = {};
                c.allUsagesSelected = !1;
                c.doChangeAllUsages = function(a, b, d, e) {
                    if ("combined" === d && "displayUsages" === e) {
                        if (c.allUsagesSelected =
                            c.areAllChecked(a, b), c.allUsagesSelected = !c.allUsagesSelected, d = c.getAllUsages(a, b, c.allUsagesSelected ? "REJECT" : "ACCEPT"), 0 < d.length)
                            for (e = 0; e < d.length; e++) f.doChange(c, a, b, d[e])
                    } else f.doChangeAllUsages(c, a, b)
                };
                c.doChangeUsage = function(a, b, d, e, g) {
                    f.doChange(c, a, b, d)
                };
                c.displayAllUsages = function(a) {
                    if (a = b(a.target).closest(".md-form-gcdm-policy-usage-definition")) {
                        var c = a.find(".gcdm-policy-display-all");
                        b(c).hasClass("gcdm-usages-displayed") ? b(c).fadeOut("slow", function() {
                                b(c).removeClass("gcdm-usages-displayed")
                            }) :
                            b(c).fadeIn("slow", function() {
                                b(c).addClass("gcdm-usages-displayed")
                            })
                    }
                };
                c.getAllUsages = function(a, b, e) {
                    var f = [];
                    a = d(c.gcdmFormModel.contactPolicyConsents, a);
                    if (b && a)
                        for (var g = 0; g < a.usageDefinitions.length; g++) {
                            var h = a.usageDefinitions[g];
                            if (h.id === b)
                                for (var l = 0; l < h.consents.length; l++) {
                                    var k = h.consents[l];
                                    k.consent === e && f.push(k.usageId)
                                }
                        }
                    return f
                };
                c.areAllChecked = function(a, b) {
                    var e = !0;
                    a = d(c.gcdmFormModel.contactPolicyConsents, a);
                    if (b && a)
                        for (var f = 0; f < a.usageDefinitions.length; f++) {
                            var g = a.usageDefinitions[f];
                            if (g.id === b)
                                for (var h = 0; h < g.consents.length; h++)
                                    if ("REJECT" === g.consents[h].consent) {
                                        e = !1;
                                        break
                                    }
                        }
                    return e
                };
                c.isChecked = function(a, b, e) {
                    var f = !1;
                    a = d(c.gcdmFormModel.contactPolicyConsents, a);
                    if (b && a && e)
                        for (var g = 0; g < a.usageDefinitions.length; g++) {
                            var h = a.usageDefinitions[g];
                            if (h.id === b)
                                for (var l = 0; l < h.consents.length; l++) {
                                    var k = h.consents[l];
                                    if (k.usageId === e) return f = "ACCEPT" === k.consent
                                }
                        }
                    return f
                };
                c.addLegalEntityClick = function(a) {
                    a.find(".md-policy-legal-entities").click(function(a) {
                        console.log("entity clicked");
                        a = b(a.currentTarget);
                        var c = a.find(".md-policy-legal-entity-hide"),
                            d = a.find(".md-policy-legal-entity"),
                            e = a.data("displayed");
                        !1 === e ? (b(c).fadeIn("slow"), e = !0, b(d).removeClass("md-icn-plus").addClass("md-icn-minus")) : (b(c).fadeOut("slow"), e = !1, b(d).removeClass("md-icn-minus").addClass("md-icn-plus"));
                        a.data("displayed", e)
                    })
                };
                c.displayInfo = function(d) {
                    b.subscribe("md:layer:opened", function(a) {
                        c.addLegalEntityClick(b(a.layerContent))
                    });
                    d = b(d.currentTarget);
                    var e = d.parent();
                    e = {
                        source: b(e).find(".md-display-info"),
                        constrain: a,
                        group: "md-gcdm-policy",
                        initialiseSource: !0,
                        style: "sml",
                        height: 300
                    };
                    d.layer(e);
                    d.data("layer").toggle(g(a))
                };
                c.getPolicyTemplate = function(a, b, c, d, e, f, g, h) {
                    a = '\x3cdiv class\x3d"md-form-gcdm-policy-document"\x3e' + k(a.textBlocks, a.id, b, c, a.name, d, e, f, g, h);
                    return a + "\x3c/div\x3e"
                }
            }]);
            f.appModule.controller("mdPolicyController", ["$scope", function(c) {
                c.init = function(a, b, d) {
                    c.mandatoryPolicies = c.createArray(a);
                    c.invertValues = c.createArray(b);
                    c.displayPolicyConsent = d;
                    c.uniqueId = (new Date).getTime().toString()
                };
                c.isPolicyMandatory = function(a, b) {
                    if (a.mainId == a.id && b)
                        for (var d in b)
                            if (a.mainId == b[d].mainId && -1 < c.mandatoryPolicies.indexOf(b[d].id)) return !0
                };
                c.displayInfo = function(c) {
                    c = b(c.currentTarget);
                    var d = c.parent();
                    d = {
                        source: b(d).find(".md-display-info"),
                        constrain: a,
                        group: "md-gcdm-policy",
                        initialiseSource: !0,
                        style: "sml",
                        title: c.data("title"),
                        height: 400
                    };
                    c.layer(d);
                    c.data("layer").toggle(g(a))
                };
                c.isInvertValue = function(a) {
                    return -1 < c.invertValues.indexOf(a)
                };
                c.getPolicyLabels = function(a, b) {
                    var d = "";
                    if (b)
                        for (var e in b) b[e].mainId ==
                            a.mainId && c.mandatoryPolicies.indexOf(b[e].id) && (0 < d.length && (d += ","), d = d + "policy-consent-" + b[e].id.toLowerCase());
                    return d
                };
                c.createArray = function(a) {
                    return a && -1 < a.indexOf(",") ? a.split(",") : [a]
                }
            }])
        }
    }
}(mini.digital.$, mini.digital.comp.gcdm, mini.digital.util.browser);
mini.digital.comp.gcdm.controllers.dealerlocator = function(b, f, k, g) {
    return {
        init: function() {
            b.appModule.controller("mdDealerLocatorController", ["$scope", "$rootScope", "$window", "$timeout", "$q", "GcdmEventHandlingService", "MdGcdmDealerLocatorService", function(b, a, d, e, h, m, p) {
                function c() {
                    return x.channel("business-dealerlocator")
                }

                function l(c, d) {
                    console.log("selected dealer", c);
                    b.dealerDirectSelectDealerId && b.dealerDirectSelectDealerId != c.key ? console.log("Dealer direct", b.dealerDirectSelectDealerId, c) :
                        (b.selectDealer({
                            poi: {
                                values: c
                            }
                        }, !0, d), (b.selectedDealer = c) && a.$broadcast("md:dlo:select:dealer", c))
                }

                function u(a, b) {
                    return {
                        topic: a,
                        data: b,
                        headers: {
                            preserveOne: !0
                        }
                    }
                }

                function w(a) {
                    c().publish(u("dloLocationSearchStart", {
                        searchTerm: a
                    }))
                }

                function r(a, d) {
                    b.dealerDirectSelectDealerId && (a = b.dealerDirectSelectDealerId, c().publish(u("dloGetDealer", {
                        dealerKey: a
                    })))
                }
                d = !mini.digital.util.matchmedia.wide.matches;
                b.dealerPins = [];
                b.dealerPinsList = [];
                b.layout = "map";
                b.goToDealer = !1;
                b.selectedDealerIsPreferred = !1;
                b.geoLoadingStatus = "false";
                b.preferredDealer = void 0;
                b.predicate = "poi.values.dist";
                b.showDealerCount = !1;
                b.invalidDealerSelection = !0;
                b.dealerLocatorError = !1;
                b.currentErrorMessage = "";
                b.messageBoxOpen = !1;
                b.tempSave = !1;
                b.overwriteDealer = !1;
                b.mdIsUserLoggedIn = b.gcdmIsLoggedIn();
                b.forceInfoBoxOpen = !1;
                b.isInForm = !1;
                b.preferredView = !1;
                b.hasSavedDealer = !1;
                b.isLastVisitedDealer = !1;
                b.displayLastVisitedDealer = !0;
                b.isNarrow = d;
                b.isLastVisitedCookieFound = !1;
                b.lvdName = "";
                b.chooseDealerActivated = !1;
                b.initialSearchComplete = !1;
                b.userActivatedGeoLocation = !1;
                b.lastVisitedDealer = void 0;
                b.displayDealer = void 0;
                b.currentSearch = {
                    searchTerm: "",
                    layout: "",
                    isInForm: "",
                    resultsCount: "",
                    filter: ""
                };
                b.dloSearchFieldValue = "";
                f.publish("md:overlay:changes_location");
                var x = require("core/Messagebus");
                b.goToNextStep = function() {
                    e(function() {
                        var a = f(".md-form-gcdm-dlo-step .md-form-gcdm-next-btn");
                        0 == a.length && (a = f(".md-form-gcdm-dlo-step .md-form-gcdm-submit-btn"));
                        a.trigger("click")
                    })
                };
                b.selectDealer = function(a, c, d) {
                    a = a.poi.values;
                    p.setDealerData(a,
                        b.gcdmFormModel, d);
                    !c && a && b.goToNextStep()
                };
                b.checkOpenDealerItems = function() {
                    var a = !1;
                    b.dealerPins.forEach(function(b) {
                        b.isOpen && (a = !0)
                    });
                    return a
                };
                b.getLastVisitedDealerId = function(a) {
                    a = mini.digital.comp.dealerSummary.getLastVisitedCookieName();
                    if (a = k.api.getCookie(a)) {
                        a = a.split("|")[0];
                        var b = a.indexOf("_");
                        if (-1 !== b)
                            for (b = a.substring(0, b).length; 5 > b; b++) a = "0" + a;
                        return a
                    }
                };
                b.getDirectSelectDistributionPartnerId = function(a, b, c) {
                    a = void 0;
                    c && (a = b);
                    return a
                };
                b.$watch("gcdmFormModel", function() {
                    var a =
                        mini.digital.comp.dealerSummary.getLastVisitedCookieName();
                    (a = k.api.getCookie(a)) && 0 < a.length && b.displayLastVisitedDealer ? (b.isLastVisitedDealer = !0, b.isLastVisitedCookieFound = !0, b.preferredView = !0) : b.isLastVisitedDealer = !1
                });
                f.subscribe("md:formgcdm:newStepLoaded", function(a) {
                    a.selector.hasClass("md-form-gcdm-dlo-step") && mini.digital.util.toggle.init(f(".md-form-gcdm-dlo-inner .md-js-toggle"))
                });
                m.subscribe("c2bDealerLocatorError", function(a, c) {
                    a = {
                        dloGeolocationPermissionDenied: "denied",
                        dloGeolocationPositionUnavailable: "unavailable",
                        dloGeolocationTimeout: "timeout",
                        dloGeolocationUnknownError: "failed",
                        dloGeolocationNotAvailable: "unavailable",
                        dloClearErrors: "done"
                    } [c];
                    b.messageBoxOpen = !1;
                    b.tempSave && (b.confirmTempSaveWarningSelection(!1), b.tempSave = !1);
                    b.overwriteDealer && (b.confirmTempSaveWarningSelection(!1), b.overwriteDealer = !1);
                    "dloClearErrors" !== c && "dloNoResultsFound" !== c && (b.currentErrorMessage = c, b.dealerLocatorError = !0, b.messageBoxOpen = !0, g.errors.addError({
                            formErrorType: "c2bDealerLocatorError",
                            formErrorCode: c,
                            formErrorMessage: c
                        },
                        "c2bDealerLocatorError"));
                    clearDealerPins();
                    if ("denied" === a || "unavailable" === a || "timeout" === a || "failed" === a) b.geoLoadingStatus = "false"
                });
                b.onErrorMessageHandled = function() {
                    b.dealerLocatorError = !1;
                    b.messageBoxOpen = !1
                };
                b.selectedDealer = void 0;
                b.activateChooseDealer = function(a) {
                    a.preventDefault();
                    b.chooseDealerActivated = !0
                };
                b.onDealerSelected = function(a) {
                    l(a, !0)
                };
                b.$watch("gcdmFormModel.businessPartner.addresses[0].postalCode", function() {
                    if (!b.gcdmFormModel.businessPartner.addresses || 0 != b.gcdmFormModel.businessPartner.addresses.length) {
                        var a =
                            b.gcdmFormModel.businessPartner.addresses[0].postalCode;
                        null === a || void 0 === a || 3 > a.length || e(function() {
                            b.dloSearchFieldValue = a;
                            b.onLocationChanged()
                        }, 3500)
                    }
                });
                b.onLocationChanged = function() {
                    b.dloSearchFieldValue && 0 !== b.dloSearchFieldValue.trim().length && w(b.dloSearchFieldValue)
                };
                var v = function(a, b) {
                    var c;
                    return function(d) {
                        clearTimeout(c);
                        c = setTimeout(function() {
                            c = null;
                            a(d)
                        }, b)
                    }
                }(function() {
                    if (b.dloSearchFieldValue && 0 !== b.dloSearchFieldValue.trim().length) {
                        if (b.dloSearchSuggestions)
                            for (var a = 0; a <
                                b.dloSearchSuggestions.length; a++)
                                if (b.dloSearchSuggestions[a].value.toUpperCase() === b.dloSearchFieldValue.toUpperCase()) {
                                    b.dloSearchSuggestions = [];
                                    w(b.dloSearchFieldValue);
                                    return
                                } a = b.dloSearchFieldValue;
                        c().publish(u("dloLocationSearchSuggestionsGet", {
                            searchTerm: a
                        }))
                    }
                }, 400);
                b.onSearchFieldChange = function(a) {
                    v()
                };
                b.onSearchFieldEnter = function(a) {
                    b.dloSearchFieldValue && 0 !== b.dloSearchFieldValue.trim().length && 13 === a.keyCode && (w(b.dloSearchFieldValue), a.preventDefault())
                };
                var t = function() {
                    document.querySelector("#dlo-search-by-location-and-name").blur()
                };
                b.onSearchFieldFocus = function() {
                    document.querySelector("div.md-form-gcdm-step").addEventListener("scroll", t)
                };
                b.onSearchFieldBlur = function() {
                    document.querySelector("div.md-form-gcdm-step").removeEventListener("scroll", t)
                };
                c().subscribe("dloLocationSearchSuggestionsResults", function(a, c) {
                    c = "";
                    if (a && a.suggestions && 0 < a.suggestions.length) {
                        b.dloSearchSuggestions = a.suggestions;
                        for (var d = 0; d < a.suggestions.length; d++) {
                            var e = a.suggestions[d];
                            c = c + '\x3coption value\x3d"' + e.value + '"\x3e' + e.value + "\x3c/option\x3e"
                        }
                    }
                    f("#dlo-search-by-location-and-name-suggestions").html(c)
                });
                c().subscribe("dloLocationSearchResults", function(a, c) {
                    a = a.dealers;
                    if (0 < a.length) {
                        b.dealers = a;
                        f.publish("md:overlay:iphone:resize");
                        c = a[0];
                        if (b.gcdmFormModel.dealer)
                            for (var d = 0; d < a.length; d++) b.gcdmFormModel.dealer.distributionPartnerId === a[d].attributes.distributionPartnerId && (c = a[d]);
                        b.onDealerSelected(c, !0);
                        b.$apply()
                    }
                });
                c().subscribe("dloGetDealerResult", function(a, c) {
                    a.dealer && (l(a.dealer, !0), b.$parent && (b.$parent.selectedDealerName = a.dealer.name), b.$apply())
                });
                c().subscribe("dloInitialized",
                    r);
                f.subscribe("md:directDealer:init", r)
            }])
        }
    }
}(mini.digital.comp.gcdm, mini.digital.$, mini.digital.util.cookiecontroller, mini.digital.tracking.formgcdm);
mini.digital.comp.gcdm.controllers.directDealerMap = function(b, f) {
    return {
        init: function() {
            b.appModule.controller("mdDirectDealerMap", ["$scope", "$rootScope", "$window", "$timeout", "$q", "GcdmEventHandlingService", "MdGcdmDealerLocatorService", function(b, f, c, a, d, e, h) {}])
        }
    }
}(mini.digital.comp.gcdm, mini.digital.$);
mini.digital.comp.gcdm.controllers.login = function(b, f, k) {
    return {
        init: function() {
            var g;
            b.appModule.controller("mdLoginController", ["$scope", "$rootScope", "GcdmEventHandlingService", "mdGcdmCookieService", "$document", function(b, a, d, e, h) {
                d.subscribe("accessTokenChange", function(a, b) {
                    b.value ? (g = b.value, k.publish("md:gcdm:accessToken:valid", [g])) : k.publish("md:gcdm:accessToken:invalid")
                });
                b.mdGcdmCookie = e;
                b.mdLoginCancel = function() {
                    a.$broadcast("md:formgcdm:cancelform", "login")
                };
                b.mdCookieConsentShow = function() {
                    f.api.consentdrawer.then(function(a) {
                        a.showConsentDrawer()
                    })
                };
                b.onClickInfoIcon = function() {
                    b.showLoginHelperMessage = !b.showLoginHelperMessage
                };
                b.mdLoadForm = function(b) {
                    var c = h[0].forms.gcdmLoginIFrameForm;
                    c && (c = c.parentElement, c.remove ? c.remove() : c.parentNode.removeChild(c));
                    a.$broadcast("md:formgcdm:loadform", b)
                }
            }])
        }
    }
}(mini.digital.comp.gcdm, mini.digital.util.cookiecontroller, mini.digital.$);
mini.digital.comp.gcdm.controllers.forgottenpassword = function(b) {
    return {
        init: function() {
            b.appModule.controller("mdForgottenpasswordController", ["$scope", "$rootScope", function(b, k) {
                b.mdForgottenCancel = function() {
                    k.$broadcast("md:formgcdm:loadform", "login")
                };
                b.mdLoadForm = function(b) {
                    k.$broadcast("md:formgcdm:loadform", b)
                }
            }])
        }
    }
}(mini.digital.comp.gcdm, mini.digital.$);
mini.digital.comp.gcdm.controllers.changepassword = function(b) {
    return {
        init: function() {
            b.appModule.controller("mdChangepasswordController", ["$scope", "$rootScope", function(b, k) {
                b.mdChangePassCancel = function() {
                    k.$broadcast("md:formgcdm:loadform", "profile")
                };
                b.mdLoadForm = function(b) {
                    k.$broadcast("md:formgcdm:loadform", b)
                }
            }])
        }
    }
}(mini.digital.comp.gcdm, mini.digital.$);
mini.digital.comp.gcdm.controllers.confirmation = function(b, f) {
    return {
        init: function() {
            f.appModule.controller("mdRegistrationConfirmationController", ["$scope", "$rootScope", function(f, g) {
                f.$watch("mdGcdmSuccess", function(c, a) {
                    c !== a && b.publish("md:mymini:statechange", [{
                        state: "registrationconfirm",
                        preventTransform: !1
                    }])
                }, !0);
                f.mdRegistrationContinue = function() {
                    g.$broadcast("md:formgcdm:registration:continue")
                }
            }])
        }
    }
}(mini.digital.$, mini.digital.comp.gcdm);
mini.digital.comp.gcdm.controllers.registration = function(b, f) {
    return {
        init: function() {
            b.appModule.controller("mdRegistrationController", ["$scope", "$rootScope", "$attrs", "mdGcdmCookieService", "inShelf", function(b, g, c, a, d) {
                b.gcdmDeactivatePrefill = "true" !== c.hasRegisterFlow;
                $(".md-mymini-content.md-js-mymini-content").scroll(function() {
                    $(":focus").blur()
                });
                b.displayedInShelf = !1;
                d && 1 == d.inShelf && (b.displayedInShelf = !0);
                b.mdGcdmCookie = a;
                b.mdRegistrationCancel = function() {
                    g.$broadcast("md:formgcdm:cancelform",
                        "registration")
                };
                b.mdLoadForm = function(a) {
                    g.$broadcast("md:formgcdm:loadform", a)
                };
                b.mdCookieConsentShow = function() {
                    f.api.consentdrawer.then(function(a) {
                        a.showConsentDrawer()
                    })
                };
                b.$watch(function() {
                    return b.$parent.mdBusinessPartnerMail
                }, function(a) {
                    b.gcdmFormModel && b.gcdmFormModel.userAccount && b.gcdmFormModel.userAccount.mail && (b.gcdmFormModel.userAccount.mail = a)
                });
                b.$watch("gcdmFormModel.businessPartner", function() {
                    console.log(" addExtraRights");
                    $("[name\x3dgcdmLoginIFrameForm]").eq(0).find("[name\x3dscope]").attr("value",
                        "remote_services vehicle_data authenticate_user smacc fupo");
                    if (b.gcdmFormModel && b.gcdmFormModel.businessPartner) {
                        if (b.gcdmFormModel.businessPartner.addresses) {
                            var a = b.gcdmFormModel.businessPartner.addresses;
                            0 < a.length && (null === a[0].postalCode || void 0 === a[0].postalCode) && (a[0].postalCode = "")
                        }!b.gcdmFormModel.businessPartner.homeMarket && (a = $(".md-form-gcdm-registration").find("form")) && (a = $(a).attr("gcdm-vehicle-country"), "EE" == a && (a = "DE"), b.gcdmFormModel.businessPartner.homeMarket = a);
                        b.gcdmFormModel.businessPartner.customExtension ||
                            (b.gcdmFormModel.businessPartner.customExtension = {
                                parameters: []
                            });
                        b.gcdmFormModel.businessPartner.customExtension.parameters.push({
                            key: "CD_accountType",
                            value: "UNDEFINED"
                        });
                        b.gcdmFormModel.businessPartner.customExtension.parameters.push({
                            key: "preferredCommunication",
                            value: "EMAIL"
                        });
                        b.gcdmFormModel.businessPartner.customExtension.parameters.push({
                            key: "CD_brand",
                            value: "MI"
                        })
                    }
                });
                mini.digital.comp.formgcdm.manageEvents()
            }])
        }
    }
}(mini.digital.comp.gcdm, mini.digital.util.cookiecontroller);
mini.digital.comp.gcdm.controllers.registrationCheck = function(b) {
    return {
        init: function(f) {
            b.appModule.controller("mdRegistrationCheckController", ["$scope", "$rootScope", "GcdmEventHandlingService", "GcdmPrefillBusinessPartnerService", function(b, g, c, a) {
                b.mdGcdmShowRegistrationCheckForm = !1;
                b.hasRegistrationCheck = "true" === f.attr("data-mymini-has-registration-check");
                c.subscribe("success", function(a, b) {
                    b && b.id && "registrationcheck" === b.id && g.$broadcast("md:mymini:loggedinandchecked")
                });
                b.$watch("gcdmFormModel.businessPartner",
                    function(c) {
                        var d = !0;
                        b.mdGcdmShowRegistrationCheckForm || a.getLoggedInBusinessPartner().then(function(a) {
                            a && a.businessPartner || b.hasRegistrationCheck || (b.mdGcdmShowRegistrationCheckForm = !0);
                            if ((a = a.businessPartner) && b.mandatoryFields && 0 < b.mandatoryFields.length) {
                                for (var e = 0; e < b.mandatoryFields.length; e++) "title" === b.mandatoryFields[e] && (d = d && !!a.title), "salutation" === b.mandatoryFields[e] && (d = d && !!a.salutation), "givenName" === b.mandatoryFields[e] && (d = d && !!a.givenName), "surname" === b.mandatoryFields[e] &&
                                    (d = d && !!a.surname), "addressStatus" === b.mandatoryFields[e] && (d = d && !!a.addresses && !!a.addresses.length && !!a.addresses[0].addressStatus), "companyName" === b.mandatoryFields[e] && (d = d && !!a.addresses && !!a.addresses.length, a.addresses && 0 < a.addresses.length && "BUSINESS" === a.addresses[0].addressStatus && (d = d && !!a.addresses[0].companyName)), "postalCode" === b.mandatoryFields[e] && (d = d && !!a.addresses && !!a.addresses.length && !!a.addresses[0].postalCode), "addressCity" === b.mandatoryFields[e] && (d = d && !!a.addresses && !!a.addresses.length &&
                                        !!a.addresses[0].city), "addressStreet" === b.mandatoryFields[e] && (d = d && !!a.addresses && !!a.addresses.length && !!a.addresses[0].street), "addressBuildingID" === b.mandatoryFields[e] && (d = d && !!a.addresses && !!a.addresses.length && !!a.addresses[0].buildingID), "addressCountry" === b.mandatoryFields[e] && (d = d && !!a.addresses && !!a.addresses.length && !!a.addresses[0].country), "addressRegionCode" === b.mandatoryFields[e] && (d = d && !!a.addresses && !!a.addresses.length && !!a.addresses[0].regionCode), "addressStrSuppl1" === b.mandatoryFields[e] &&
                                    (d = d && !!a.addresses && !!a.addresses.length && !!a.addresses[0].strSuppl1), "addressStrSuppl2" === b.mandatoryFields[e] && (d = d && !!a.addresses && !!a.addresses.length && !!a.addresses[0].strSuppl2), "addressStrSuppl3" === b.mandatoryFields[e] && (d = d && !!a.addresses && !!a.addresses.length && !!a.addresses[0].strSuppl3), "phonePrivate" === b.mandatoryFields[e] && (d = d && !!a.communication && !!a.communication.phones && !!a.communication.phones.length && !!a.communication.phones[0].value && !1);
                                d ? g.$broadcast("md:mymini:loggedinandchecked") :
                                    b.mdGcdmShowRegistrationCheckForm = !0
                            } else a && (b.hasRegistrationCheck && (d = (d = d && !!a && !(!a.title && !a.salutation) && !!a.givenName && !!a.surname) && !!a.addresses && !!a.addresses.length && !!a.addresses[0].addressStatus && !(!a.addresses[0].houseNumber && !a.addresses[0].buildingID) && !!a.addresses[0].postalCode && !!a.addresses[0].street && !!a.addresses[0].city && !!a.addresses[0].country), c || !b.hasRegistrationCheck) && (d ? g.$broadcast("md:mymini:loggedinandchecked") : b.mdGcdmShowRegistrationCheckForm = !0)
                        })
                    });
                mini.digital.comp.formgcdm.manageEvents()
            }])
        }
    }
}(mini.digital.comp.gcdm);
mini.digital.comp.gcdm.controllers.brochure = function(b, f, k, g, c) {
    return {
        init: function() {
            b.appModule.controller("mdBrochureController", ["$scope", "$rootScope", "$timeout", "mdGcdmBrochureService", "mdGcdmRequestedVehicleService", function(a, b, e, h, m) {
                a.hasPreselectedModel = !1;
                a.lastBrochureSelected = "";
                a.campaign = {};
                a.currentCampaign = {};
                a.initCampaign = function(b, c, d, e) {
                    "true" == b && (a.campaign.download = JSON.parse(d), a.campaign.post = JSON.parse(c), a.currentCampaign = a.campaign[h.requestType])
                };
                a.setGcdmDownloadBrochure =
                    function(b) {
                        a.gcdmDownloadBrochure = b;
                        h.requestType = b ? "download" : "post";
                        a.currentCampaign = a.campaign[h.requestType]
                    };
                a.$watch(function() {
                    return h.requestType
                }, function(b) {
                    null != h.requestType && (a.currentCampaign = a.campaign[h.requestType]);
                    a.currentCampaign ? (a.gcdmFormModel.campaign.campaignId = a.currentCampaign.campaignId, a.gcdmFormModel.campaign.campaignName = a.currentCampaign.campaignName, a.gcdmFormModel.campaign.leadContext = a.currentCampaign.campaignLeadContext, a.gcdmFormModel.campaign.leadSource =
                        a.currentCampaign.campaignLeadSource, a.gcdmFormModel.campaign.offerId = a.currentCampaign.campaignOfferId, a.gcdmFormModel.campaign.treatmentId = a.currentCampaign.campaignTreatmentId, a.gcdmFormModel.campaign.treatmentName = a.currentCampaign.campaignTreatmentName) : (a.gcdmFormModel.campaign.campaignId = null, a.gcdmFormModel.campaign.campaignName = null, a.gcdmFormModel.campaign.leadContext = null, a.gcdmFormModel.campaign.leadSource = null, a.gcdmFormModel.campaign.offerId = null, a.gcdmFormModel.campaign.treatmentId =
                        null, a.gcdmFormModel.campaign.treatmentName = null)
                });
                a.$watch(function() {
                    return m.getVehicle()
                }, function(b) {
                    b && 0 < Object.keys(b).length && "standardselector" !== b.source && b.modelCode && (a.hasPreselectedModel = !0)
                });
                a.selectedBrochure = void 0;
                a.modelRangeBrochures = [];
                a.brochureOptions = [];
                a.brochureCriteria = void 0;
                a.toggleDependentOptions = !1;
                a.selectedBrochureList = [];
                a.isMultipleSelection = !1;
                a.addedBrochureError = !1;
                a.isBrochureSelected = function() {
                    return void 0 !== a.selectedBrochure && "_empty_" !== a.selectedBrochure.informationMaterialCode
                };
                a.foundBrochure = function(b) {
                    for (var c = -1, d = 0; d < b.length; d++)
                        if (a.selectedBrochure.informationMaterialCode === b[d].informationMaterialCode) {
                            c = d;
                            break
                        } return c
                };
                a.onBrochureChanged = function() {
                    a.$id !== this.$id && (a.selectScope = this);
                    a.isMultipleSelection || h.resetSelectedBrochures();
                    a.selectedBrochure = d;
                    void 0 !== a.selectScope && (a.selectedBrochure = a.selectScope.selectedBrochure);
                    if (a.isBrochureSelected() && (h.addSelectedBrochure(a.selectedBrochure, a.isMultipleSelection), a.isMultipleSelection)) {
                        a.selectedBrochureList =
                            h.getSelectedBrochures();
                        var b = a.foundBrochure(a.brochureOptions); - 1 < b && (a.brochureOptions.splice(b, 1), a.selectScope.selectedBrochure = d)
                    }
                    h.updateGcdmFromModel(a.gcdmFormModel);
                    a.selectedBrochure != d && c.brochure.setProductData(a.selectedBrochure)
                };
                a.displayBrochureSelection = function() {
                    var b = !0;
                    a.isMultipleSelection && (b = 1 < a.brochureOptions.length && 3 > a.selectedBrochureList.length);
                    return b
                };
                a.displaySelectionList = function() {
                    return 0 < a.selectedBrochureList.length && a.isMultipleSelection
                };
                a.removeSelectedBrochure =
                    function(b) {
                        b && (h.removeSelectedBrochure(b.informationMaterialCode), a.brochureOptions.push(b), h.updateGcdmFromModel(a.gcdmFormModel))
                    };
                a.hasBrochureValidationError = function(b) {
                    var c = this.form,
                        d = c[b],
                        e = a.isBrochureSelected();
                    e || (c[b].$invalid = !e, c[b].$error.empty = !e, c.$invalid = !e);
                    return e || !c.$submitted || a.addedBrochureError ? e ? a.addedBrochureError = !1 : c[b].$dirty || a.gcdmFormSubmitted || a.gcdmSectionSubmitted : (g.addError({
                        formErrorFieldName: b,
                        formErrorMessage: d.$modelValue.label
                    }), a.addedBrochureError = !0)
                };
                var d = {
                    informationMaterialCode: "_empty_",
                    label: "Please select a brochure ...",
                    descriptionText: "Please select a brochure ..."
                };
                a.getEmptyBrochureSelectValue = function() {
                    for (var b = 0; b < a.modelRangeBrochures.length; b++)
                        if (a.modelRangeBrochures[b].informationMaterialCode === d.informationMaterialCode) return "0";
                    return ""
                };
                a.initSelectedBrochure = function(b, c) {
                    if (void 0 === b) a.selectedBrochure = void 0, a.modelRangeBrochures = [];
                    else {
                        a.modelRangeBrochures = a.getTypedRangeBrochures(b);
                        if (1 === a.modelRangeBrochures.length) a.selectedBrochure =
                            a.modelRangeBrochures[0];
                        else if (c)
                            for (b = 0; b < a.modelRangeBrochures.length; b++) {
                                if (a.modelRangeBrochures[b].informationMaterialCode === c) {
                                    a.selectedBrochure = a.modelRangeBrochures[b];
                                    a.selectScope = this;
                                    break
                                }
                            } else a.modelRangeBrochures.unshift(d), a.selectedBrochure = d;
                        void 0 !== a.selectScope && (a.selectScope.selectedBrochure = a.selectedBrochure)
                    }
                    a.onBrochureChanged.apply(a)
                };
                a.initBrochureOptions = function(b, c, e, f) {
                    a.$id !== this.$id && (a.selectScope = this);
                    a.isMultipleSelection = f;
                    a.isMultipleSelection && (a.selectedBrochureList = [], h.resetSelectedBrochures());
                    d.label = b;
                    d.descriptionText = b;
                    a.emptyBrochure = d;
                    a.brochureOptions = h.gcdmBrochures;
                    if (e) {
                        a.brochureCriteria = e;
                        b = a.brochureCriteria.split(",");
                        e = [];
                        for (f = 0; f < a.brochureOptions.length; f++) {
                            a: {
                                var g = b;
                                for (var l = a.brochureOptions[f], k = 0; k < g.length; k++) {
                                    var m = g[k].split("\x3d\x3d\x3d")[0].trim(),
                                        p = g[k].split("\x3d\x3d\x3d")[1].trim();
                                    "informationType" === m && "toggleDependent" === p && (a.toggleDependentOptions = !0, p = a.gcdmDownloadBrochure ? "DOWNLOAD" : "BROCHURE");
                                    if (l[m] !== p) {
                                        g = !1;
                                        break a
                                    }
                                }
                                g = !0
                            }
                            g && e.push(a.brochureOptions[f])
                        }
                        a.brochureOptions = e
                    }
                    if (1 === a.brochureOptions.length) a.selectedBrochure = a.brochureOptions[0];
                    else if (c)
                        for (b = 0; b < a.brochureOptions.length; b++) {
                            if (a.brochureOptions[b].informationMaterialCode === c) {
                                a.selectedBrochure = a.brochureOptions[b];
                                a.selectScope = this;
                                break
                            }
                        } else a.brochureOptions.unshift(d), a.selectedBrochure = d;
                    void 0 !== a.selectScope && (a.selectScope.selectedBrochure = a.selectedBrochure);
                    a.onBrochureChanged.apply(a)
                };
                var q = b.$on("md:formgcdm:ss:selected",
                    function(b, c, d) {
                        a.initSelectedBrochure(c.modelRangeCode)
                    });
                a.$on("$destroy", function() {
                    q()
                });
                a.getTypedRangeBrochures = function(a) {
                    var b = h.getGcdmRequestType(),
                        c = [];
                    if (void 0 === a || void 0 === h.gcdmBrochuresGrouped[a]) return c;
                    a = h.gcdmBrochuresGrouped[a];
                    for (var d = 0; d < a.length; d++) {
                        var e = a[d];
                        e.informationType === b && c.push(e)
                    }
                    return c
                };
                b.$on("md:formgcdm:brochureToggleUpdate", function(b, c, d) {
                    b = {
                        event: b,
                        originalEvent: d,
                        toggleValue: c
                    };
                    f.publish("md:formgcdm:brochureToggleUpdate", [b]);
                    d = "download" === b.toggleValue;
                    f("form.md-form-gcdm-steps").find(".md-form-gcdm-brochure-dl").attr("data-selected-value", b.toggleValue);
                    a.setGcdmDownloadBrochure(d);
                    c !== h.requestType && (h.hasConflicts(c) ? h.pendingRequestType = c : h.requestType = c);
                    a.toggleDependentOptions && a.initBrochureOptions(a.emptyBrochure.label, void 0, a.brochureCriteria, a.isMultipleSelection)
                });
                k && k.getCurrentLaunchCTAInfo()
            }])
        }
    }
}(mini.digital.comp.gcdm, mini.digital.$, mini.digital.comp.ctas, mini.digital.tracking.formgcdm.errors, mini.digital.tracking.formgcdm);
mini.digital.comp.gcdm.controllers.tda = function(b, f, k) {
    var g = k.common.tracking;
    return {
        init: function() {
            b.appModule.controller("mdTdaController", ["$scope", "$timeout", "mdGcdmTdaSummaryService", "mdGcdmRequestedVehicleService", function(b, a, d, e) {
                b.mdTdaAppointment = {
                    date: "",
                    timeIsPm: null
                };
                b.hasPreselectedModel = !1;
                b.openStandardMiniSelector = function() {
                    b.hasPreselectedModel = !1;
                    k.base.pushEvent();
                    a(function() {
                        mini.digital.util.lazyLoadImage.checkImages()
                    })
                };
                f.subscribe("md:overlay:closing", function(a) {
                    b && b.$destroy()
                });
                b.$watch(function() {
                    return e.getVehicle()
                }, function(a) {
                    a && 0 < Object.keys(a).length && (b.hasPreselectedModel = !0, g.formLoaded ? k.tda.setProductData(a) : k.tda.primeProductData(a))
                });
                b.$watch("mdTdaAppointment", function(a, b) {
                    a !== b && d.setSummaryData({
                        appointmentDateTime: {
                            date: a.date,
                            timeIsPm: a.timeIsPm
                        }
                    })
                }, !0);
                b.$watch("form.appointmentDateTime.$viewValue", function(a, b) {
                    a !== b && d.setSummaryData({
                        dateTime: a
                    })
                }, !0);
                b.$watch("form.givenName.$viewValue", function(a, b) {
                    a !== b && d.setSummaryData({
                        firstName: a
                    })
                }, !0);
                b.$watch("form.surname.$viewValue", function(a, b) {
                    a !== b && d.setSummaryData({
                        surname: a
                    })
                }, !0);
                b.$watch("form.emailPrivate.$viewValue", function(a, b) {
                    a !== b && d.setSummaryData({
                        email: a
                    })
                }, !0)
            }])
        }
    }
}(mini.digital.comp.gcdm, mini.digital.$, mini.digital.tracking.formgcdm);
mini.digital.comp.gcdm.controllers.offer = function(b, f, k, g) {
    var c = k.common.tracking;
    return {
        init: function() {
            b.appModule.controller("mdRfoController", ["$scope", "$timeout", "mdGcdmRequestedVehicleService", function(a, b, e) {
                var d = !1;
                a.hasPreselectedModel = !1;
                a.openStandardMiniSelector = function() {
                    a.hasPreselectedModel = !1;
                    d = !0;
                    k.base.pushEvent();
                    b(function() {
                        mini.digital.util.lazyLoadImage.checkImages()
                    })
                };
                g.subscribe("md:overlay:closing", function(b) {
                    a && a.$destroy()
                });
                a.$watch(function() {
                        return e.getVehicle()
                    },
                    function(b) {
                        b && 0 < Object.keys(b).length ? "standardselector" === b.source || d || (a.hasPreselectedModel = !0, c.formLoaded ? k.offer.setProductData(b) : k.offer.primeProductData(b)) : mini.digital.util.currentModel.get();
                        b.isOpenArea && (a.gcdmFormModel.comment = b.comment ? b.comment : void 0, a.gcdmFormModel.leadContext = b.leadContext ? b.leadContext : void 0, a.gcdmFormModel.dealer = b.dealer ? b.dealer : void 0)
                    });
                a.$watch("hasPreselectedModel", function(a) {
                    d || (a = !0);
                    f.toggleTabView(a)
                })
            }]);
            k.offer.init()
        }
    }
}(mini.digital.comp.gcdm,
    mini.digital.comp.formgcdm, mini.digital.tracking.formgcdm, mini.digital.$);
mini.digital.comp.gcdm.controllers.activate = function(b) {
    return {
        init: function() {
            b.appModule.controller("mdActivateController", ["$scope", "$rootScope", function(b, k) {
                b.nextBtn = function() {
                    k.$broadcast("md:formgcdm:activate:next")
                }
            }])
        }
    }
}(mini.digital.comp.gcdm);
mini.digital.comp.gcdm.controllers.vco = function(b, f) {
    return {
        init: function() {
            b.appModule.controller("mdVcoController", ["$scope", "$rootScope", "$timeout", "GcdmEventHandlingService", "mdGcdmRequestedVehicleService", "GcdmPrefillBusinessPartnerService", function(b, g, c, a, d, e) {
                b.$emit("myminiLoaderShow");
                a.subscribe("success", function(a, b) {
                    b && b.id && "vco" === b.id && g.$broadcast("md:mymini:vcosubmitted")
                });
                b.$watch(function() {
                    return d.getVehicle()
                }, function(c) {
                    c && 0 < Object.keys(c).length && c.modelCode && c.hasOwnProperty("circulationConsent") &&
                        (b.gcdmFormModel.vehicleConfiguration.circulationConsent = c.circulationConsent, e.getBusinessPartner().then(function(c) {
                            c && (window.gcdm.merge.mergeBusinessPartner(b.gcdmFormModel.businessPartner, c.businessPartner, !1, !0), b.gcdmFormModel.businessPartner.gcid = c.businessPartner.gcid);
                            a.publish("vehicleConfigurationSubmit")
                        }, function(b) {
                            console.log("failed to get the partner", b);
                            a.publish("vehicleConfigurationSubmit")
                        }))
                });
                mini.digital.comp.formgcdm.manageEvents();
                f.publish("md:formgcdm:vcoloaded")
            }])
        }
    }
}(mini.digital.comp.gcdm,
    mini.digital.$);
(function() {
    mini.digital.comp.search = function(b, f, k, g, c, a) {
        function d(a) {
            var c = b(a.currentTarget),
                d = c.closest(".md-search-result");
            a = d.index();
            var e = c.closest(n.searchResultLinkBlock);
            c = c.text().replace(/\s+/g, " ").trim();
            d = d.find("h2").text().replace(/\s+/g, " ").trim();
            S.eventInfo.eventName = "open search result";
            S.eventInfo.eventAction = "click";
            S.eventInfo.eventPoints = a;
            ya.attributes.relatedComponentID = ja;
            e.length ? S.eventInfo.effect = "user opens a search result action " + c : "" !== d && (S.eventInfo.effect = "user opens a search result " +
                d);
            S = b.extend({}, S, ya);
            h(S, !0);
            return !0
        }

        function e(a, b, d, e) {
            c.search.updateTracking(ja, {
                onSiteSearch: "general",
                onsiteSearchTerm: a,
                onsiteSearchPage: b + 1,
                onsiteSearchResults: d,
                onsiteSearchType: Da[e]
            })
        }

        function h(a, b) {
            a.eventInfo.cause = b ? "default" : "automatic";
            c.search.setCurrentEvent(a)
        }

        function m(a) {
            if (a.keyCode === ra.upArrow || a.keyCode === ra.downArrow) {
                a.preventDefault();
                var b = Y.find(n.searchSuggestion);
                var c = b.length;
                var d = Y.find(n.searchSuggestionLink + ":focus");
                var e = d.parent().next().find(n.searchSuggestionLink);
                var f = d.parent().prev().find(n.searchSuggestionLink);
                0 === d.length ? (b.eq(a.keyCode === ra.downArrow ? 0 : c - 1).find(n.searchSuggestionLink).focus(), ca.text(Y.find(n.searchSuggestionLink).eq(a.keyCode === ra.downArrow ? 0 : c - 1).text())) : a.keyCode === ra.downArrow && e.length ? (e.focus(), ca.text(e.text())) : a.keyCode === ra.upArrow && f.length ? (f.focus(), ca.text(f.text())) : aa.focus()
            }
        }

        function p() {
            ea.toggleClass("md-search-form-populated", "" !== aa.val())
        }

        function q(a) {
            if ("" === aa.val()) ca.empty(), Y.empty(), T.empty();
            else if (a.keyCode !==
                ra.upArrow && a.keyCode !== ra.downArrow && a.keyCode !== ra.rightArrow && a.keyCode !== ra.enter) {
                if (aa.val() !== ba && 3 <= aa.val().length) {
                    Y.empty();
                    T.empty();
                    ca.empty();
                    Ea.abort();
                    var b = aa.val();
                    Ea = g.get(fa + "\x26q\x3d" + encodeURIComponent(b)).always(function(a) {
                        Y.empty();
                        if (a.results && 0 < a.results.length) {
                            for (var c = "", d = 0; d < a.results.length; d++) {
                                var e = a.results[d].name;
                                e && (e = e.replace(new RegExp("(" + b + ")", "gi"), "\x3cstrong\x3e$1\x3c/strong\x3e"), e = sa.html().replace(/{{suggestion}}/g, e), c += e)
                            }
                            c = ma.html().replace(/{{suggestions}}/g,
                                c);
                            Y.append(c);
                            ca.text(a.results[0].name)
                        }
                    });
                    I()
                } else 3 > aa.val().length && (Y.empty(), T.empty(), F());
                ba = aa.val()
            } else a.keyCode === ra.rightArrow && "" !== ca.text() && (aa.val(ca.text()), X = wa.suggestionSearch, t(X), S.eventInfo.eventName = "search via suggestion", S.eventInfo.eventAction = "select", S.eventInfo.effect = "user selects suggestion in search bar", h(S, !0))
        }

        function l() {
            var a = [],
                b;
            for (b in P) P.hasOwnProperty(b) && a.push(b + "\x3d" + P[b]);
            return a.length ? "?" + a.join("\x26") : ""
        }

        function u() {
            W = !0;
            T.attr("aria-busy",
                "true")
        }

        function w(a, b, c, d) {
            return a.replace(/{{ENCODED_QUERY}}/g, b).replace(/{{START}}/g, c).replace(/{{NUM}}/g, d).replace(/{{PARTNER_ID}}/g, xa ? xa : "")
        }

        function r(a, b) {
            var c = !1;
            a < b && (c = !0);
            return c
        }

        function x(a) {
            for (var b = 0, c = a.length, d, e = {}; b < c; b++) d = a[b], e[d.N] = d.V;
            return e
        }

        function v(a, b, c) {
            var d = a.GSP || {};
            a = d.Q;
            c = (d.RES || {}).R || [];
            Array.isArray(c) || (c = [c]);
            var e = (d.RES || {}).M || 0,
                f = "og:image md:priceFrom md:heading md:subheading md:modelName md:accessoryName md:modelRangeCode md:backImageMobile md:backImageDesktop md:frontImageMobile md:frontImageDesktop pageType description".split(" ");
            c.forEach(function(a, c) {
                var d = x(a.MT);
                a.T && (a.alt = a.T.replace(/<[^>]*>/ig, ""));
                f.forEach(function(b) {
                    var c = d[b];
                    c && (a[b.replace(/^\w+:/, "")] = c)
                });
                b + c + 1 === e && (a.isFinalResult = !0);
                a.isVehicle = "Model" === a.pageType || "BodyType" === a.pageType;
                a.isKeyResult = 1 === a.N
            });
            d = r(b, e);
            var g = "";
            c.forEach(function(a, b) {
                b = ua.html().replace(/{{resultListItemClass}}/g, (a.isFinalResult ? "md-search-result-final-result" : "") + (a.frontImageMobile || a.frontImageDesktop ? " md-search-result-has-image" : "")).replace(/{{resultLink}}/g,
                    a.U).replace(/{{resultTitle}}/g, a.modelName || a.accessoryName || a.T).replace(/{{resultTextClass}}/g, a.image ? "md-search-result-text-beside-image" : "").replace(/{{resultDescription}}/g, a.description || a.S);
                b = a.image ? b.replace(/{{ifHasResultImage}}/g, "").replace(/{{\/ifHasResultImage}}/g, "").replace(/{{resultImage}}/g, a.image) : b.replace(/{{ifHasResultImage}}[.\s\S]*{{\/ifHasResultImage}}/g, "");
                a.frontImageMobile || a.frontImageDesktop ? (a = Ia.html().replace(/{{frontImageMobile}}/g, a.frontImageMobile ? a.frontImageMobile :
                    "").replace(/{{frontImageDesktop}}/g, a.frontImageDesktop ? a.frontImageDesktop : "").replace(/{{altText}}/g, a.alt ? a.alt : "").replace(/style="display:none;"/, ""), b = b.replace(/{{ifHasResponsiveImage}}/g, "").replace(/{{\/ifHasResponsiveImage}}/g, "").replace(/{{responsiveImage}}/g, a)) : b = b.replace(/{{ifHasResponsiveImage}}[.\s\S]*{{\/ifHasResponsiveImage}}/g, "");
                g += b
            });
            c = qa.html().replace(/{{searchResults}}/g, g);
            c = d ? c.replace(/{{ifHasResults}}/g, "").replace(/{{\/ifHasResults}}/g, "").replace(/{{ifHasNoResults}}[.\s\S]*{{\/ifHasNoResults}}/g,
                "") : c.replace(/{{ifHasNoResults}}/g, "").replace(/{{\/ifHasNoResults}}/g, "").replace(/{{ifHasResults}}[.\s\S]*{{\/ifHasResults}}/g, "");
            return c = c.replace(/{{searchTerm}}/g, a).replace(/{{numberOfResults}}/g, e)
        }

        function t(a) {
            var c = aa.val();
            Y.empty();
            ca.empty();
            if (0 < aa.val().length && !W) {
                I();
                T.empty().append(la);
                Ea.abort();
                u();
                var d = w(ka, encodeURIComponent(c), 10 * D, 10);
                Ea = g.get(d).always(function(d) {
                    W = !1;
                    T.removeAttr("aria-busy");
                    d = v(d, 10 * D, 10);
                    T.empty().append(d);
                    b.each(T.find(n.responsiveImage), function(a,
                        b) {
                        f.attempt("responsiveimage.init", f)(b)
                    });
                    aa.blur();
                    T.height();
                    P.miniSearchTerm = encodeURIComponent(aa.val());
                    e(c, D, T.find(n.searchResultList).data("totalResults") || 0, a);
                    b(document).trigger("search:returned");
                    k.pushState({
                        uri: location.search ? location.href.replace(location.search, l()) : location.href + l(),
                        title: ha + ": " + aa.val().toUpperCase()
                    });
                    M.text(ha + ": " + aa.val().toUpperCase())
                })
            } else F()
        }

        function A(a) {
            a.preventDefault();
            B({
                disableTracking: !0
            });
            X = wa.userTyped;
            t(X);
            S.eventInfo.eventName = "search via type in";
            S.eventInfo.eventAction = "type in";
            S.eventInfo.effect = "user types in search bar";
            h(S, !0)
        }

        function z() {
            var a = encodeURIComponent(aa.val());
            if (!T.find(n.searchResultFinalResult).length && !W) {
                Ea.abort();
                T.append(la);
                u();
                var c = w(ka, a, 10 * (D + 1), 10);
                Ea = g.get(c).done(function(c) {
                    W = !1;
                    T.removeAttr("aria-busy");
                    c = v(c, 10 * D, 10);
                    c = b("\x3cdiv\x3e" + c + "\x3c/div\x3e").find(n.searchResultList);
                    var d = T.find(n.searchResultList);
                    0 === c.children.length ? d.find(n.searchResult).last().addClass("md-search-result-final-result") :
                        (b.each(c.find(n.responsiveImage), function(a, b) {
                            f.attempt("responsiveimage.init", f)(b)
                        }), D += 1, e(a, D, d.data("totalResults") || 0, X), d.append(c.children()), la.remove(), S.eventInfo.eventName = "scroll in search results", S.eventInfo.eventAction = "scroll", S.eventInfo.effect = "user scrolls to see more results", h(S, !0))
                })
            }
        }

        function B(a) {
            a = a || {};
            D = 0;
            X = wa.none;
            a = a.disableTracking || !1;
            I();
            ca.empty();
            Y.empty();
            T.empty();
            aa.focus();
            delete P.miniSearchTerm;
            k.pushState({
                uri: location.href.replace(location.search, l()),
                title: R
            });
            a || (S.eventInfo.eventName = "clear", S.eventInfo.eventAction = "backspace/delete", S.eventInfo.effect = "user resets search form", h(S, !0))
        }

        function E(a) {
            var c = b(a.currentTarget),
                d = c.text();
            c = c.hasClass("md-search-suggestion-link-is-disambiguation");
            a.preventDefault();
            B({
                disableTracking: !0
            });
            a = X = c ? wa.disambiguation : wa.suggestionSearch;
            aa.val(d);
            t(a)
        }

        function y(a) {
            E(a);
            S.eventInfo.eventName = "search via suggestion";
            S.eventInfo.eventAction = "click";
            S.eventInfo.effect = "user clicks on suggestion in list below search bar";
            h(S, !0)
        }

        function C(a) {
            H.removeClass(L.close);
            na = Ha.open;
            aa.val("").focus();
            D = 0;
            T.empty();
            F();
            oa || J === window.location.href || (c.search.init(va, ja), oa = !0, J = window.location.href);
            a && (S.eventInfo.eventName = "open search", S.eventInfo.eventAction = "click", S.eventInfo.effect = "user opens a search", h(S, !0))
        }

        function O(a) {
            a = b(a.currentTarget).find(n.recommendationsSearch).text();
            var c = X = wa.recommendedSearch;
            aa.val(a);
            t(c);
            S.eventInfo.eventName = "search recommendation";
            S.eventInfo.eventAction = "click";
            S.eventInfo.effect =
                "user click on recommendation";
            h(S, !0)
        }

        function I() {
            U.css("display", "none")
        }

        function F() {
            U.css("display", "block")
        }

        function N() {
            b(n.recommendationsValues).each(function(a, c) {
                a = JSON.parse(c.value);
                var d = b(c).parent();
                c = d.find(n.recommendationsTitle);
                var e = d.find(n.recommendationsSearch);
                d = d.find(n.recommendationsText);
                c.text(a.title);
                e.text(a.search);
                d.text(a.text)
            })
        }

        function K() {
            Q && (na === Ha.closed ? C(!0) : (I(), H.addClass(L.close), na = Ha.closed, D = 0, aa.blur(), ca.empty(), Y.empty(), delete P.miniSearchTerm,
                k.pushState({
                    uri: location.href.replace(location.search, l()),
                    title: R
                }), S.eventInfo.eventName = "close search", S.eventInfo.eventAction = "click", S.eventInfo.effect = "user closes a search", h(S, !0), oa = !1))
        }
        var Q = !1,
            G = b(a),
            J = {},
            V = G.height(),
            M = b("title"),
            R = M.text(),
            H, T, U, ba, Y, ca, aa, ea, ja = "",
            sa, ma, qa, ua, Ia, la = b('\x3cdiv class\x3d"md-icn-loader"\x3e'),
            L = {
                close: "md-search-close"
            },
            n = {
                responsiveImage: ".md-rimage",
                searchForm: ".md-search-form",
                searchInputField: ".md-search-form-input",
                searchSuggestions: ".md-search-suggestions",
                searchSuggestion: ".md-search-suggestion",
                searchSuggestionTemplate: "#md_search_suggestion_template",
                searchSuggestionsListTemplate: "#md_search_suggestions_list_template",
                searchSuggestionLink: ".md-search-suggestion-link",
                searchResults: ".md-search-results",
                searchResult: ".md-search-result",
                searchResultList: ".md-search-result-list",
                searchResultLink: ".md-search-result-title-link",
                searchResultLinkBlock: ".md-search-result-link-block",
                searchResultFinalResult: ".md-search-result-final-result",
                searchResultsTemplate: "#md_search_results_template",
                searchResultTemplate: "#md_search_result_template",
                searchResultResponsiveImgTemplate: "#md_search_result_responsiveimg-template",
                recommendationsContainer: ".md-search-rcontainer",
                searchRecommendations: ".md-search-recommendations",
                recommendationsSearch: ".md-search-recommendations-search",
                recommendationsTitle: ".md-search-recommendations-title",
                recommendationsText: ".md-search-recommendations-text",
                recommendationsValues: ".md-search-recommendations-values",
                closeButton: ".md-search-button-close"
            },
            Ha = {
                closed: "closed",
                open: "open"
            },
            ra = {
                upArrow: 38,
                downArrow: 40,
                rightArrow: 39,
                enter: 13
            },
            wa = {
                none: "",
                recommendedSearch: "recommendedSearch",
                suggestionSearch: "suggestionSearch",
                userTyped: "userTyped",
                bookmarked: "bookmarked",
                disambiguation: "disambiguation"
            },
            Da = {
                recommendedSearch: "business defined",
                suggestionSearch: "autocomplete",
                userTyped: "type in",
                bookmarked: "type in",
                disambiguation: "disambiguation"
            },
            na = Ha.closed,
            X = wa.none,
            D = 0,
            xa = "",
            P = function() {
                var a = {},
                    b = location.search;
                b = b ? b.replace("?", "").split("\x26") : [];
                for (var c = 0,
                        d = b.length, e; c < d; c++) e = b[c].split("\x3d"), a[e[0]] = e[1];
                return a
            }(),
            ka = "",
            fa = "",
            ha = "",
            va = {},
            oa = !1,
            S = {
                eventInfo: {}
            },
            ya = {
                attributes: {}
            },
            Ea = {
                abort: function() {}
            },
            W = !1,
            Ka;
        return {
            init: function(a, c, e, g) {
                va = g;
                Ka = e(a).find("#encodehtml");
                e.subscribe("md:resize", function() {
                    V = G.height()
                });
                H = e(a).on("scroll", function() {
                    e(this).scrollTop() > T.height() - V && z()
                });
                ja = H.data("componentId");
                fa = H.data("md-search-suggestions-url");
                xa = f.cookiecontroller.getPersistence("cc_last_visited_dealer");
                a = "true" == H.data("md-search-is-dealer-page");
                ka = xa && !a ? H.data("md-search-partner-non-dealer-page-search-url") : a ? H.data("md-search-dealer-page-search-url") : H.data("md-search-default-default-search-url");
                H.data("md-search-locale");
                ha = H.data("md-search-results-text");
                T = H.find(n.searchResults);
                T.height();
                H.find(n.searchRecommendations).on("click", "li", O);
                U = H.find(n.recommendationsContainer);
                Y = H.find(n.searchSuggestions);
                sa = H.find(n.searchSuggestionTemplate);
                ma = H.find(n.searchSuggestionsListTemplate);
                qa = H.find(n.searchResultsTemplate);
                ua = H.find(n.searchResultTemplate);
                Ia = H.find(n.searchResultResponsiveImgTemplate);
                aa = H.find(n.searchInputField).on("keydown", m).on("keyup", q).on("keyup change focus", p);
                H.find(n.closeButton).on("click", K);
                ea = H.find(n.searchForm).on("submit", A).on("reset", B);
                ca = e("\x3cdiv\x3e").addClass("md-search-suggestion-primary").appendTo(ea);
                H.on("keydown", n.searchSuggestionLink, m).on("click", n.searchSuggestionLink + ":focus", E).on("click", n.searchSuggestionLink, y);
                Q = !0;
                if (P.miniSearchTerm) G.on("load", function() {
                    var a = decodeURIComponent(P.miniSearchTerm);
                    a = b(Ka).text(a).html();
                    X = wa.bookmarked;
                    C(!1);
                    S.eventInfo.eventAction = "load";
                    S.eventInfo.eventName = "result";
                    S.eventInfo.effect = "user opens a search result page";
                    h(S, !1);
                    var c = X;
                    aa.val(a);
                    t(c)
                });
                N();
                T.on("click", "a", d)
            },
            trigger: K
        }
    }(mini.digital.$, mini.digital.util, mini.digital.util.historyManager, mini.digital.util.request, mini.digital.tracking, window)
})();
(function() {
    mini.digital.tracking.search = function() {
        var b, f = {},
            k = {
                eventInfo: {
                    eventName: "",
                    eventAction: "click",
                    timeStamp: Date.now(),
                    eventPoints: "",
                    cause: "default",
                    effect: ""
                },
                category: {
                    primaryCategory: "search",
                    subCategory01: "navigation"
                },
                attributes: {
                    relatedComponentID: "",
                    relatedComponentName: "search",
                    relatedComponentPrimaryCategory: "search"
                }
            };
        return {
            init: function(g, c) {
                if (b = g) "function" === typeof b.initComponentTracking && (f = b.initComponentTracking({
                    componentInfo: {
                        componentId: c,
                        componentName: "search"
                    },
                    category: {
                        primaryCategory: "search",
                        subCategory01: ""
                    },
                    attributes: {
                        onsiteSearchTerm: "",
                        onsiteSearchPage: "",
                        onsiteSearchResults: "",
                        onsiteSearchType: ""
                    }
                })), k.attributes.relatedComponentID = c
            },
            updateTracking: function(g, c) {
                b && "function" === typeof b.updateComponentTracking && b.updateComponentTracking(f.componentIndex, {
                    componentInfo: {
                        componentId: g
                    },
                    attributes: c
                }, f.pageId)
            },
            setCurrentEvent: function(g) {
                b && (g.eventInfo.timeStamp = Date.now(), "function" === typeof b.addEventTracking && b.addEventTracking(k, g, f.pageId))
            }
        }
    }()
})();
mini.digital.comp.gcdm.controllers.profile = function(b, f, k) {
    return {
        init: function() {
            b.appModule.controller("mdProfileController", ["$scope", "$rootScope", "GcdmMetadataApiService", "GcdmPrefillDealerService", "MdCasaProfile", "GcdmStorageService", function(b, c, a, d, e, f) {
                b.valuesBusinessPartner = a.getValuelists().selectValues.businessPartner;
                b.valuesAddress = a.getValuelists().selectValues.address;
                b.mdProfileCasa = e.casaProfile;
                b.$watch("[gcdmFormModel, valuesBusinessPartner.titles, valuesAddress.country]", function() {
                    if (b.gcdmFormModel &&
                        b.gcdmFormModel.businessPartner) {
                        var a = f.get(window.gcdm.STORAGE_KEY.BUSINESS_PARTNER);
                        a || (a = f.get(window.gcdm.STORAGE_KEY.BUSINESS_PARTNER_LOGGED_IN));
                        b.gcdmFormModel.profile.personalIdentifications = a.profile.personalIdentifications;
                        b.gcdmFormModel.businessPartner.title && (b.gcdmBupaTitleSelected = b.valuesBusinessPartner.titles[b.gcdmFormModel.businessPartner.title]);
                        b.gcdmFormModel.businessPartner.salutation && (b.gcdmBupaSalutationSelected = b.valuesBusinessPartner.salutations[b.gcdmFormModel.businessPartner.salutation]);
                        b.gcdmFormModel.businessPartner.addresses && b.gcdmFormModel.businessPartner.addresses[0] && b.gcdmFormModel.businessPartner.addresses[0].country && (b.gcdmAddressCountrySelected = b.valuesAddress.country[b.gcdmFormModel.businessPartner.addresses[0].country]);
                        a = c.$$phase;
                        "$apply" !== a && "$digest" !== a && b.$apply()
                    }
                    b.gcdmFormModel && (a = JSON.parse(k.getPersistence("gcdm-preferredDealer")), b.gcdmDealer = a ? a.MINI : null)
                }, !0)
            }])
        }
    }
}(mini.digital.comp.gcdm, mini.digital.$, mini.digital.util.cookiecontroller);
mini.digital.comp.gcdm.controllers.profileChange = function(b, f) {
    return {
        init: function() {
            b.appModule.controller("mdProfileChangeController", ["$scope", "$rootScope", "$timeout", "GcdmEventHandlingService", "MdCasaProfile", "casaProfileService", function(b, g, c, a, d, e) {
                b.mdProfileCasa = angular.copy(d.casaProfile);
                b.failedToUpdate = !1;
                b.mdProfileChangeCancel = function() {
                    g.$broadcast("md:formgcdm:loadform", "profile")
                };
                b.isRequiredPhone = function() {
                    var a = b[b.gcdmFormName];
                    return !a.phonePrivate.$modelValue && !a.landPrivate.$modelValue &&
                        !a.phoneBusiness.$modelValue
                };
                a.subscribe("success", function(a, c) {
                    c && c.id && "profilechange" === c.id && (e && b.isMyVehicleEnabled && d.casaProfile && d.casaProfile.preferredCommunicationChannel != b.mdProfileCasa.preferredCommunicationChannel ? (d.casaProfile.preferredCommunicationChannel = b.mdProfileCasa.preferredCommunicationChannel, e.updateProfile(d.accessToken, d.casaProfile).then(function(a) {
                        g.$broadcast("md:formgcdm:loadform", "profile")
                    }, function() {
                        console.log("failed to update the communication channel");
                        b.failedToUpdate = !0
                    })) : g.$broadcast("md:formgcdm:loadform", "profile"))
                });
                b.gcdmIsLoggedIn && b.gcdmIsLoggedIn() && (f.manageEvents(), c(function() {
                    window.mini.digital.$(".md-form-gcdm-btn-finder").trigger("click")
                }))
            }])
        }
    }
}(mini.digital.comp.gcdm, mini.digital.comp.formgcdm);
mini.digital.comp.gcdm.controllers.deleteAccount = function(b) {
    return {
        init: function() {
            b.appModule.controller("mdDeleteAccountController", ["$scope", "$rootScope", function(b, k) {
                b.mdDeleteAccountCancel = function() {
                    k.$broadcast("md:formgcdm:loadform", "profile")
                };
                b.mdDeleteAccountConfirmationClose = function() {
                    k.$broadcast("md:formgcdm:loadform", "home")
                }
            }])
        }
    }
}(mini.digital.comp.gcdm);
mini.digital.comp.gcdm.controllers.loginIdChange = function(b) {
    return {
        init: function() {
            b.appModule.controller("mdLoginIdChangeController", ["$scope", "$rootScope", function(b, k) {
                b.mdLoginIdChangeCancel = function() {
                    k.$broadcast("md:formgcdm:loadform", "profile")
                }
            }])
        }
    }
}(mini.digital.comp.gcdm);
(function() {
    mini.digital.tracking.standardselector = function(b) {
        function f(b) {
            k && k.isTrackingDisabled() || (b.modelRangeLongName && (e.productInfo.productName = b.modelRangeLongName, e.productInfo.description = b.modelRangeLongName, e.category.subCategory01 = b.modelRangeLongName, e.attributes.bodyName = b.modelRangeLongName), b.modelRangeCode && (e.attributes.bodyType = b.modelRangeCode), b.modelCode && (e.attributes.modelCode = b.modelCode, e.productInfo.productID = b.modelCode), b.modelName && 0 < b.modelName.length && (e.attributes.modelName =
                b.modelName), b.price && (e.attributes.sellingPriceTotal = b.price), a && k.updateProductTracking(a.productIndex, e, a.pageId))
        }
        var k, g, c = -1,
            a = void 0,
            d = "",
            e = {},
            h = {
                CONFIGURATOR_START: {
                    name: "configurator start",
                    effect: "start of configuration process"
                },
                CHOOSE_BODY_TYPE: {
                    name: "choose body type",
                    subCategory: "body type"
                },
                CHOOSE_MODEL_TYPE: {
                    name: "choose model type",
                    subCategory: "model type"
                },
                CHOOSE_TRANSMISSION: {
                    name: "choose transmission type",
                    subCategory: "transmission type"
                },
                CLOSE_CHOOSE_BODY_TYPE_LAYER: {
                    name: "close layer choose body type",
                    componentName: "vco pre steps",
                    relatedComponentPrimaryCategory: "process",
                    effect: "layer closes"
                },
                CLOSE_CHOOSE_MODEL_TYPE_LAYER: {
                    name: "close layer choose model type",
                    componentName: "vco pre steps",
                    relatedComponentPrimaryCategory: "process",
                    effect: "layer closes"
                },
                CLOSE_LAYER_CHOOSE_TRANSMISSION: {
                    name: "close layer choose transmission",
                    componentName: "vco pre steps",
                    relatedComponentPrimaryCategory: "process",
                    effect: "layer closed"
                }
            };
        return {
            init: function(a, c) {
                k && k.isTrackingDisabled() || (k = a, g = c, d = b(c).attr("id"),
                    b(c).data("component-name"))
            },
            initProduct: function(c) {
                k && k.isTrackingDisabled() || (b.extend(e, {
                    productInfo: {
                        description: "",
                        manufacturer: "MINI",
                        productID: "",
                        productImage: "",
                        productName: "",
                        productThumbnail: "",
                        productURL: ""
                    },
                    category: {
                        primaryCategory: "new car",
                        subCategory01: ""
                    },
                    attributes: {
                        bodyName: "",
                        bodyType: "",
                        modelName: "",
                        modelCode: "",
                        relatedComponentID: d,
                        relatedComponentName: "vco pre steps",
                        relatedComponentPrimaryCategory: "",
                        sellingPriceTotal: ""
                    }
                }), e.productInfo.productID = "na", a = k.initProductTracking(e,
                    k.getCurrentPageIndex()), c && f(c))
            },
            updateTrackProduct: f,
            addCurrentEvent: function(a, e) {
                if (!k || !k.isTrackingDisabled())
                    if (k && (c = k.getCurrentPageIndex()), 0 > c && (c = b(g).data("tracking-page-index")), -1 < c) {
                        var f = {};
                        var h = {
                            eventInfo: {
                                eventName: "",
                                eventAction: "click",
                                timeStamp: "",
                                cause: "default",
                                effect: "layer closed",
                                eventPoints: ""
                            },
                            category: {
                                primaryCategory: "layers model selection",
                                subCategory01: ""
                            },
                            attributes: {
                                relatedComponentID: "",
                                relatedComponentName: "",
                                relatedComponentPrimaryCategory: ""
                            }
                        };
                        b.extend(f,
                            h);
                        f.attributes.relatedComponentName = a.componentName;
                        f.attributes.relatedComponentPrimaryCategory = a.relatedComponentPrimaryCategory;
                        f.attributes.relatedComponentID = d;
                        f.eventInfo.timeStamp = Date.now();
                        f.eventInfo.eventName = a.name;
                        f.eventInfo.effect = a.effect;
                        e && b.extend(f.attributes, e);
                        k.addEventTracking(h, f, c)
                    }
            },
            addVirtualPage: function(a) {
                if (!k || !k.isTrackingDisabled()) {
                    var c = k.getPageObject(k.getCurrentPageIndex()),
                        d = {
                            pageInfo: {
                                breadCrumbs: [],
                                pageName: a.name,
                                pageInstanceId: a.name,
                                devEnv: "",
                                geoRegion: "",
                                language: ""
                            },
                            category: {
                                primaryCategory: "layers model selection",
                                subCategory01: a.subCategory
                            },
                            attributes: {
                                underlyingPage: "",
                                virtualPage: "true"
                            }
                        };
                    c && c.page && c.page.pageInfo && (d.attributes.underlyingPage = c.page.pageInfo.pageName, d.pageInfo.devEnv = c.page.pageInfo.devEnv, d.pageInfo.geoRegion = c.page.pageInfo.geoRegion, d.pageInfo.language = c.page.pageInfo.language, d.pageInfo.pageInstanceId = c.page.pageInfo.pageName + "_" + a.name, b.extend(d.pageInfo.breadCrumbs, c.page.pageInfo.breadCrumbs));
                    d && d.pageInfo && d.pageInfo.breadCrumbs &&
                        d.pageInfo.breadCrumbs.push(a.name);
                    c = k.addVirtualPage({
                        page: d,
                        component: [],
                        event: [],
                        product: []
                    }, null, null);
                    a.name != h.CHOOSE_BODY_TYPE.name && a.name != h.CLOSE_CHOOSE_MODEL_TYPE_LAYER.name || k.initComponentTracking(b(g), c.pageId)
                }
            },
            closeCurrentVirtualPage: function() {
                k.closeVirtualPage(k.getCurrentPageIndex())
            },
            constants: h
        }
    }(mini.digital.$)
})();
mini.digital.comp.standardselector = mini.digital.comp.standardselector || {};
(function() {
    mini.digital.comp.standardselector.common = {
        CONST: {
            COMPONENT_TYPE_FORM_DROPDOWN: "formdropdown",
            COMPONENT_TYPE_DEFAULT: "default",
            COMPONENT_INTEGRATION_CONFIGURATOR: "configurator",
            COMPONENT_INTEGRATION_FORM: "form",
            COMPONENT_INTEGRATION_HMC: "hmc",
            modelRangeCode: "modelRangeCode",
            modelCode: "modelCode",
            configUrl: "configUrl",
            shareConfigUrl: "shareConfigUrl",
            modelCodeSeparator: "-",
            basketSource: "standardselector",
            modelName: "modelName"
        },
        selector: {
            ddModelRange: ".md-form-ss-model-range",
            ddModel: ".md-form-ss-model",
            overlayToggle: ".md-standard-selector-toggle",
            modelRows: ".md-js-form-ss-item-model",
            modelRangeImage: ".md-js-ss-model-range-image",
            errorDisplay: ".md-form-ss-error",
            modelRangeItem: ".md-ss-range-item",
            linkModelRange: ".md-ss-range-link",
            standardSelectorLayer: ".md-standard-selector-layer",
            modelsContainer: ".md-ss-models",
            modelsTabContent: ".md-ss-models-tab-content",
            modelsTabLink: ".md-ss-models-tab-link",
            modelsTabContainer: ".md-ss-models-content",
            modelsListItem: ".md-ss-models-list-item",
            modelsItemLink: ".md-ss-models-list-link",
            modelItemStartConfiguratorLink: ".md-ss-model-item-start-configurator-link",
            modelsTabContentMain: ".md-ss-models-content-main",
            modelsTabHeader: ".md-ss-models-tab",
            modelsTabTitle: ".md-ss-model-tab-title",
            toggle: ".md-toggle",
            overlay: ".md-custom-overlay",
            overlayScrollable: ".md-custom-overlay-main",
            overlayAlwaysScrollable: ".md-custom-overlay-type-steps",
            compConfigurator: ".md-configurator",
            compFormGcdmTDA: ".md-form-gcdm-tda",
            compFormGcdmTDAVariant2: ".md-form-gcdm-tdavariant2",
            compFormGcdmRFI: ".md-form-gcdm-brochure",
            compFormGcdmRFS: ".md-form-gcdm-service",
            compFormGcdmRFO: ".md-form-gcdm-offer",
            compFormGcdmRFA: ".md-form-gcdm-accessory",
            compCumise: ".md-custom-selector",
            compCompareSelection: ".md-compareselection",
            compHelpMeChoose: ".md-hmc",
            hmcRangeTicker: ".md-ss-hmc-range-ticker",
            hmcResultRangeTicker: ".md-hmcresults-range-ticker",
            modelsListLayer: ".md-custom-layer",
            basketFullWrapper: ".md-compare-basket-full-overlay-wrapper",
            basketFullOverlayTitle: ".md-compare-basket-full-overlay-title",
            basketFullOverlayContent: ".md-compare-basket-full-content",
            hmcHasFilterModel: ".md-ss-hmc-has-models",
            hmcResultModelListItem: ".md-hmcresults-model-list-item",
            rangeFlipButton: ".md-ss-range-flip-button",
            selectorComponent: ".md-standard-selector",
            hmcSelectModel: ".md-hmcresults-models-link",
            hmcResultsOverlay: ".md-hmc-result-overlay",
            hmcResultsOverlayVeil: ".md-hmc-result-overlay-veil",
            hmcResultsOverlayContent: ".md-hmc-result-overlay-content",
            hmcResultsOverlayClose: ".md-hmc-result-overlay-close",
            modelRangeDropdown: ".md-ss-range-dropdown",
            modelRangeDropdownOption: ".md-ss-range-dropdown-option",
            modelRangeModelsDropdownOption: ".md-ss-range-models-dropdown",
            modelRangesData: ".md-ss-model-ranges-data",
            modelBrochuresRangesData: ".md-ss-broschure-ranges",
            rangeList: ".md-ss-range-list",
            selectedItem: ".md-ss-selected-item"
        },
        cssClass: {
            hide: "md-form-ss-hide",
            ngHide: "ng-hide",
            active: "md-active",
            linkModelRangeEdit: "md-ss-range-link-edit",
            disableScroll: "md-custom-overlay-disable-scroll",
            modelsItemSelected: "md-ss-compare-item-selected",
            toggleHidden: "md-ss-toggle-hidden",
            hmcHasFilterModel: "md-ss-hmc-has-models",
            hmcRowVisibleLast: "md-ss-hmc-visible-last",
            hmcModelSatisfyFilter: "md-hmcresult-satisfy-filter",
            hmcModelSelected: "md-hmcresults-selected",
            enabled: "md-enabled",
            visible: "md-visible",
            loader: "md-icn-loader",
            rangeItemHiglight: "md-ss-range-item-highlight",
            selectedItem: "md-ss-selected-item",
            notSelectedItem: "notSelectedItem",
            fadeRangeItems: "md-ss-fade-range-items"
        },
        events: {
            configuratorInitialise: "md:configurator:initialise",
            configuratorLoading: "md:configurator:loading",
            configuratorChanged: "h5vco.configurationChanged",
            loadingRemove: "md:customselector:loading:remove",
            loadingAdd: "md:customselector:loading:add",
            overlayConfigurator: "md:configurator:model:changed",
            ctaRfoUnconfigured: "md:cta:rfo:unconfigured",
            overlayOpened: "md:overlay:opened",
            overlayClosed: "md:overlay:closed",
            overlayClose: "md:standardselector:overlay:close",
            gcdmModelBroadcast: "md:standardselector:formgcdm:broadcast",
            overlayContentLoaded: "md:overlay:contentLoaded",
            toggleInit: "md:toggle:init",
            toggleUpdate: "md:toggle:update",
            layerContentLoaded: "md:layer:contentLoaded",
            layerMoveComplete: "md:layer:move:complete",
            layerOpened: "md:layer:opened",
            layerClosed: "md:layer:closed",
            layerClosing: "md:overlay:closing",
            modCompareInitialise: "md:selector:mod:compare:initialise",
            selectorInitialised: "md:selector:initialised",
            hmcDataFiltered: "md:hmc:filteredData",
            modelTypeChange: "md:selector:model:type:changed",
            rangeLinkClicked: "md:selector:range:clicked",
            hmcPageResize: "md:resize",
            favouriteModelUpdated: "md:favouritemodel:updated",
            hmcOverlayFilter: "md:hmcresults:overlay:filter",
            hmcOverlayClosed: "md:hmcresults:overlay:closed",
            standardSelectorInitModel: "md:standardselector:init:model"
        },
        dataKeys: {
            ssItemCode: "ssItemCode",
            ssItemModelName: "ssItemModelName",
            ssItemModelLongName: "ssItemModelLongName",
            ssItemRangeName: "ssItemRangeName",
            ssItemRangeLongName: "ssItemRangeLongName",
            ssItemDefaultModelCode: "ssItemDefaultModelCode",
            ssItemSelectedModelCode: "ssItemSelectedModelCode",
            ssItemSelectedModelName: "ssItemSelectedModelName",
            ssItemSelectedConfigUrl: "ssItemSelectedConfigUrl",
            ssItemSelectedShareConfigUrl: "ssItemSelectedShareConfigUrl"
        }
    }
})();
(function(b, f, k, g, c, a, d, e, h) {
    var m = function(a) {
        this.$elem = b(a);
        this.$rangeLink;
        this.$rangeFlipButton;
        this.$standardSelectorLayer;
        this.$layer;
        this.dataParamModelRangeCode;
        this.listeners = [];
        this.moduleName = "standardselector";
        this.layerName = "standardselectorlayer";
        this.CONST = f.common.CONST;
        this.selector = f.common.selector;
        this.cssClass = f.common.cssClass;
        this.events = f.common.events;
        this.dataKeys = f.common.dataKeys;
        this.$rangeDropdown;
        this.$rangeModelDropdown;
        this.$modelRangesData;
        this.$modelBrochuresRangesData
    };
    m.prototype = {
        destroyLayer: function() {
            var a = this.$elem.find(this.selector.standardSelectorLayer).not(".md-component-defer"),
                b = a.data(this.layerName);
            b && b.destroy && (this.$elem.removeData(this.layerName), b.destroy(a))
        },
        onLayerClosed: function(a) {
            if (a && a.requester) {
                this.destroyLayer();
                this.$layer = null;
                var b = a.requester.closest(this.selector.overlay);
                this.integration === this.CONST.COMPONENT_INTEGRATION_CONFIGURATOR && (this.addCurrentEvent(h.constants.CLOSE_CHOOSE_MODEL_TYPE_LAYER, {}), this.closeCurrentVirtualPage());
                this.$elem.find(a.requester).length && b.length && b.removeClass(this.cssClass.disableScroll)
            }
        },
        onChooseRangeLayerClosed: function(a) {
            this.integration === this.CONST.COMPONENT_INTEGRATION_CONFIGURATOR && (this.addCurrentEvent(h.constants.CLOSE_CHOOSE_BODY_TYPE_LAYER, {}), this.closeCurrentVirtualPage())
        },
        onLayerOpened: function(a) {
            if (a && a.requester) {
                var b = a.requester.closest(this.selector.overlay);
                this.$layer = a.requester;
                this.$elem.find(a.requester).length && b.length && !b.find(this.selector.overlayAlwaysScrollable).length &&
                    b.addClass(this.cssClass.disableScroll).find(this.selector.overlayScrollable).scrollTop(0)
            }
        },
        onLayerContentLoaded: function(a) {
            a && a.requester && this.$elem.find(a.requester).length && a.layerContent.find(".md-component-defer").removeClass("md-component-defer")
        },
        setLayer: function(a, b) {
            a.layer({
                source: b,
                constrain: this.$elem,
                group: "md-standard-selector",
                initialiseSource: !0,
                style: "standard-selector"
            })
        },
        closeLayer: function() {
            this.$layer && this.$layer.data("layer") && this.$layer.data("layer").close && this.$layer.data("layer").close()
        },
        initLayer: function() {
            var a = this;
            this.integration !== this.CONST.COMPONENT_INTEGRATION_HMC && (this.$rangeLink.each(function(c, d) {
                c = b(d);
                d = c.attr("data-ss-item-code");
                d = a.$standardSelectorLayer.filter("[data-ss-item-code\x3d" + d + "]");
                c.hasClass(a.cssClass.linkModelRangeEdit) || a.setLayer(c, d)
            }), this.$rangeDropdown.children("option").each(function(c, d) {
                c = b(d);
                if (d = c.data("ss-item-code")) c.prop("selected", !1), d = b(a.$modelRangesData.children("li").filter('[data-ss-item-code\x3d"' + d + '"]')).find(".md-rimage").data("src-wide"),
                    c.attr("data-ss-image-url", d)
            }))
        },
        startConfigurator: function(d) {
            var e = b(d.currentTarget);
            e = this.updateCurrentModel(e);
            c.pushState({
                uri: e.url + window.location.search + window.location.hash,
                title: mini.digital.util.currentModel.get().modelLongName
            });
            a.setDisableRender(!0);
            this.manageConfiguratorState({
                modelCode: e.code,
                modelFeatures: e.features ? e.features : "",
                modelImage: e.modelImage
            });
            var f = b.subscribe("md:configurator:unload", function() {
                window.location.reload();
                b.unsubscribe(f)
            });
            d.preventDefault()
        },
        startConfiguratorModelClick: function(d) {
            d.preventDefault();
            d.stopPropagation();
            d = b(d.currentTarget);
            this.updateCurrentModel(d);
            b.publish(this.events.loadingAdd, [this.events.configuratorLoading]);
            var e = this;
            b.publish(this.events.configuratorInitialise, [{
                modelCode: d.data("ss-item-code")
            }, function() {
                b.publish(e.events.loadingRemove, [e.events.configuratorLoading]);
                a.setDisableRender(!0);
                c.setInAppAction()
            }]);
            this.addCurrentEvent(h.constants.CONFIGURATOR_START)
        },
        manageConfiguratorState: function(a) {
            e.position(b(this.selector.compConfigurator).offset().top, 800);
            g.isRunning() ? this.updateConfigurator(a) : this.loadConfigurator(a)
        },
        updateConfigurator: function(a) {
            var d = [];
            g.transformModel(a);
            d = b.subscribe(this.events.configuratorChanged, function() {
                c.setInAppAction();
                b.unsubscribe(d)
            })
        },
        loadConfigurator: function(a) {
            var e = this;
            b.publish(this.events.loadingAdd, [this.events.configuratorLoading]);
            g.manageConfiguratorLoaded(a, function() {
                d.loadingRemove(e.events.configuratorLoading);
                c.setInAppAction()
            })
        },
        updateCurrentModel: function(a) {
            var b = a.data("ss-item-features"),
                c = a.data("ss-item-code"),
                d = a.data("ss-item-range-code"),
                e = a.data("ss-item-range-name"),
                f = a.attr("href"),
                g = {},
                h = a.data("ss-item-model-name"),
                k = a.data("ss-item-model-longname");
            a = a.data("ss-item-model-image");
            g.code = c;
            g.url = f;
            g.modelImage = a;
            mini.digital.util.currentModel.set({
                modelRangeCode: d,
                modelRangeName: e,
                modelCode: c,
                modelName: h,
                modelLongName: k,
                url: f,
                transmission: b
            });
            b.startsWith("Default,") && (b = b.substring(8));
            void 0 !== b && "Default" !== b && (g.features = b);
            return g
        },
        updateModelSelect: function(a, b, c) {
            a.children(":selected").is(":first-child") ?
                b.empty().append(c.clone()).prop("disabled", !0) : (a = c.children('option[modelrangecode\x3d"' + a.val() + '"]').first().parent(), c = a.children().filter(":selected").val(), b.empty().append(a.children().clone()).prop("disabled", !1), c && b.children('option[value\x3d"' + c + '"]').prop("selected", !0))
        },
        flipRangeTile: function(a) {
            b(a.currentTarget).closest(".md-ss-range-image-stat-wrapper").toggleClass("md-ss-range-flip-stat");
            a.stopPropagation();
            a.preventDefault()
        },
        onClickRangeLink: function(a) {
            var c = b(a.currentTarget),
                d = c.data("layer"),
                e = c.data("ss-click-to-range");
            b.publish(this.events.rangeLinkClicked, [{
                instance: d,
                event: a
            }]);
            this.integration === this.CONST.COMPONENT_INTEGRATION_HMC && this.modules && this.modules.modHmc && this.modules.modHmc.loadRangeModels && this.modules.modHmc.loadRangeModels(a);
            if (this.integration === this.CONST.COMPONENT_INTEGRATION_CONFIGURATOR && !this.$elem.parent().hasClass("md-tv-content")) {
                var f = {
                    modelRangeCode: c.data("ss-item-code"),
                    modelRangeLongName: c.data("ss-model-range-longname"),
                    modelRangeName: c.data("ss-model-range-description")
                };
                this.addVirtualPage(h.constants.CHOOSE_MODEL_TYPE);
                h.initProduct();
                h.updateTrackProduct(f)
            }
            e || (this.integration !== this.CONST.COMPONENT_INTEGRATION_FORM || "tda" !== this.modules.modForm.currentForm && "tdavariant2" !== this.modules.modForm.currentForm ? d && d.toggle && d.toggle() : (d = this.modules.modForm, e = c.attr("data-ss-item-default-model-code"), c = {
                    currentTarget: d.base.$elem.find(d.base.selector.modelsItemLink + '[data-ss-item-code\x3d"' + e + '"]')[0],
                    preventDefault: function() {},
                    rangeImage: c.find("img:visible").attr("src")
                },
                d.onClickModelItem(c)), a.preventDefault())
        },
        addCurrentEvent: function(a, b) {
            h.addCurrentEvent(a, b)
        },
        addVirtualPage: function(a) {
            h.addVirtualPage(a)
        },
        closeCurrentVirtualPage: function() {
            this.integration == this.CONST.COMPONENT_INTEGRATION_CONFIGURATOR && h.closeCurrentVirtualPage()
        },
        manageDefaults: function(a, b) {
            var c = b;
            b || (c = mini.digital.util.currentModel.get());
            this.integration !== this.CONST.COMPONENT_INTEGRATION_CONFIGURATOR || this.$elem.parent().hasClass("md-tv-content") || (this.addVirtualPage(h.constants.CHOOSE_BODY_TYPE),
                (b = "" !== c[this.CONST.modelRangeCode] && "" === c[this.CONST.modelCode]) && this.$rangeLink.filter('[data-ss-item-code\x3d"' + c[this.CONST.modelRangeCode] + '"]').trigger("click"));
            if (c[this.CONST.modelRangeCode]) {
                b = this.$rangeDropdown.children("option").filter('[data-ss-item-code\x3d"' + c[this.CONST.modelRangeCode] + '"]');
                var d = c[this.CONST.modelCode],
                    e = c[this.CONST.modelName],
                    f = c[this.CONST.configUrl],
                    g = c[this.CONST.shareConfigUrl];
                f && b.attr("data-ss-item-selected-config-url", f);
                g && b.attr("data-ss-item-selected-share-config-url",
                    g);
                d && b.attr("data-ss-item-selected-model-code", d);
                e && b.attr("data-ss-item-selected-model-name", e);
                b.prop("selected", !0);
                this.$rangeDropdown.trigger("change");
                if (e = this.$elem.find('[data-ss-item-code\x3d"' + c[this.CONST.modelRangeCode] + '"]')) d && e.attr("data-ss-item-selected-model-code", d), f && b.attr("data-ss-item-selected-config-url", f), g && b.attr("data-ss-item-selected-share-config-url", g), c[this.CONST.modelName] && e.attr("data-ss-item-selected-model-name", c[this.CONST.modelName]), a && a.selectModelRange(e.parent())
            }
        },
        initEvents: function() {
            this.$rangeLink.on("click." + this.moduleName, this.onClickRangeLink.bind(this));
            this.$rangeFlipButton.on("click." + this.moduleName, this.flipRangeTile.bind(this));
            this.$elem.on("click." + this.moduleName, this.selector.modelItemStartConfiguratorLink, this.startConfiguratorModelClick.bind(this));
            this.$rangeModelDropdown.children();
            var a = this;
            this.$rangeDropdown.on("change", function() {
                var c = a.modules.modForm,
                    d = "";
                0 < this.selectedIndex && (d = b(this.options[this.selectedIndex]).data("ss-item-range-name"));
                b(this).data("ss-item-range-name", d);
                c.onSelectModelRange(this)
            })
        },
        initListeners: function() {
            this.integration !== this.CONST.COMPONENT_INTEGRATION_HMC && (this.listeners.push(b.subscribe(this.events.layerContentLoaded, this.onLayerContentLoaded.bind(this))), this.listeners.push(b.subscribe(this.events.layerOpened, this.onLayerOpened.bind(this))), this.listeners.push(b.subscribe(this.events.layerClosed, this.onLayerClosed.bind(this))), this.listeners.push(b.subscribe(this.events.layerClosing, this.onChooseRangeLayerClosed.bind(this))))
        },
        setInternals: function() {
            this.$rangeLink = this.$elem.find(this.selector.linkModelRange);
            this.$standardSelectorLayer = this.$elem.find(this.selector.standardSelectorLayer);
            this.$rangeFlipButton = this.$elem.find(this.selector.rangeFlipButton);
            this.integration = this.$elem.data("ss-component-integration");
            this.dataParamModelRangeCode = this.$elem.data("param-model-range-code");
            this.$rangeDropdown = this.$elem.find(this.selector.modelRangeDropdown);
            this.$rangeModelDropdown = this.$elem.find(this.selector.modelRangeModelsDropdownOption);
            this.$modelRangesData = this.$elem.find(this.selector.modelRangesData);
            this.$modelBrochuresRangesData = this.$elem.find(this.selector.modelBrochuresRangesData)
        },
        init: function(a) {
            h.init(a, this.$elem);
            this.setInternals();
            this.initLayer();
            this.initEvents();
            this.initListeners();
            this.manageDefaults(this.modules.modForm)
        },
        destroy: function() {
            this.$rangeLink.off("click." + this.moduleName);
            this.$rangeFlipButton.off("click." + this.moduleName);
            this.$elem = null;
            k.unsubArray(this.listeners);
            b.isEmptyObject(this.modules) ||
                b.each(this.modules, function(a, b) {
                    b && b.destroy && b.destroy()
                })
        }
    };
    f.StandardSelectorBase = m
})(mini.digital.$, mini.digital.comp.standardselector, mini.digital.util, mini.digital.comp.configurator, mini.digital.util.historyManager, mini.digital.comp.customselector.stateManager, mini.digital.comp.customselector.loadingIndicator, mini.digital.util.scrollTo, mini.digital.tracking.standardselector);
(function(b, f, k, g) {
    mini.digital.comp.standardselectorlayer = function() {
        var c = function(a) {
            this.$elem = b(a);
            this.$tabContent;
            this.$tabContentMain;
            this.$tabLinks;
            this.$listItems;
            this.$tabHeader;
            this.$tabTitle;
            this.$modelsContainer;
            this.listeners = [];
            this.transmissionRequired = this.isEditionRange = this.hasSpecialEditions = this.isNarrow = !1;
            this.defaultTransmission = "";
            this.selector = f.common.selector;
            this.cssClass = f.common.cssClass;
            this.events = f.common.events;
            this.init()
        };
        c.prototype = {
            getElementPadding: function(a) {
                var b =
                    0;
                a && (b = (parseInt(this.$modelsContainer.css("padding-top"), 10) || 0) + (parseInt(this.$modelsContainer.css("padding-bottom"), 10) || 0));
                return b
            },
            manageScrollLayout: function() {
                var a = this.getElementPadding(this.$modelsContainer),
                    c = this.$elem.find(".md-ss-mrm-header").outerHeight(!0),
                    e = this.$elem.parent().outerHeight(!0),
                    f = 0;
                if (this.isNarrow) {
                    this.$elem[0].getBoundingClientRect();
                    b(window).height();
                    var g = this;
                    setTimeout(function() {
                        k.scrollTo.element(g.$elem, {}, 800)
                    }, 500)
                } else f = this.$tabHeader.is(":visible") ?
                    this.$elem.find(".md-ss-models-tab").outerHeight(!0) : 0, this.$tabContentMain.height(e - (c + f) - a)
            },
            setToggle: function() {
                var a = this.$elem.find(".md-toggle"),
                    c = !!this.$listItems.filter('[data-ss-item-features\x3d"Default"]').length,
                    e = !!this.$listItems.filter('[data-ss-item-features\x3d"S0205"]').length,
                    f = !!this.$listItems.filter('[data-ss-item-features\x3d"S02TB"]').length;
                c && (e || f) || e && f ? (this.$elem.find("input, label").each(function(a, c) {
                    a = b(c);
                    c = a.attr("name");
                    var d = a.attr("id"),
                        e = a.attr("for");
                    c && d ?
                        a.attr({
                            name: c + "_standardselectorlayer",
                            id: d + "_standardselectorlayer"
                        }) : e && a.attr("for", e + "_standardselectorlayer")
                }), a.find("input[value\x3d" + this.defaultTransmission + "]").prop("checked", !0).trigger("change", [!0]), b.each(a, function(a, b) {
                    k.toggle.init(b)
                })) : a.addClass(this.cssClass.toggleHidden)
            },
            setActiveTab: function(a, c) {
                this.$tabContent.add(this.$tabLinks).removeClass(this.cssClass.active).filter("[data-ss-tab-item\x3d" + a + "]").addClass(this.cssClass.active);
                b.publish(this.events.modelTypeChange,
                    [{
                        newModelType: a,
                        event: c
                    }])
            },
            onClickTab: function(a) {
                var c = b(a.currentTarget).attr("data-ss-tab-item");
                this.setActiveTab(c, a);
                a.preventDefault()
            },
            displayTabsHeader: function(a) {
                var b = this.isNarrow ? this.$tabTitle : this.$tabHeader;
                b.toggleClass(this.cssClass.active, a);
                "undefined" === typeof isEditionRange && this.hasSpecialEditions || b.removeClass(this.cssClass.active);
                this.isNarrow || this.manageScrollLayout()
            },
            toggleDisplayTabsHeader: function(a) {
                var b = !1;
                this.hasSpecialEditions && !this.isEditionRange && (b = this.$tabContent.filter('[data-ss-tab-item\x3d"specialEditions"]'),
                    (b = !!b.find(this.selector.modelsListItem).filter('[data-ss-item-transmission\x3d"' + a.value + '"]').length) || this.setActiveTab("standard"));
                this.displayTabsHeader(b)
            },
            toggleDisplayContent: function(a) {
                this.$elem.removeClass(function(a, b) {
                    return (a = b.match(/md-ss-transmission-\w+/g)) ? a.join(" ") : ""
                }).addClass("md-ss-transmission-" + a.value.toLowerCase())
            },
            manageToggleDisplay: function(a) {
                this.toggleDisplayContent(a);
                this.toggleDisplayTabsHeader(a)
            },
            onToggleUpdate: function(a) {
                a && a.type && a.value && this.$elem.find(a.toggle).length &&
                    this.manageToggleDisplay(a)
            },
            displayContent: function() {
                this.defaultTransmission && this.$elem.addClass("md-ss-transmission-" + this.defaultTransmission.toLowerCase())
            },
            onLayerMoveComplete: function(a) {
                if (a && a.requester) {
                    var b = this.$elem.closest(this.selector.selectorComponent);
                    b.find(a.requester).length && this.manageScrollLayout()
                }
            },
            onLayerClosed: function(a) {
                if (a && a.requester) {
                    var b = this.$elem.closest(this.selector.selectorComponent);
                    b.find(a.requester).length && this.$tabContentMain.height("")
                }
            },
            setDefaults: function() {
                this.setActiveTab("standard");
                this.transmissionRequired || (this.displayContent(), this.displayTabsHeader(!0))
            },
            manageComponent: function() {
                this.isNarrow = !k.matchmedia.wide.matches
            },
            initEvents: function() {
                this.$elem.on("click.standardselectorlayer", this.selector.modelsTabLink, this.onClickTab.bind(this))
            },
            initListeners: function() {
                this.listeners.push(b.subscribe(this.events.toggleInit, this.onToggleUpdate.bind(this)));
                this.listeners.push(b.subscribe(this.events.toggleUpdate, this.onToggleUpdate.bind(this)));
                this.listeners.push(b.subscribe(this.events.layerMoveComplete,
                    this.onLayerMoveComplete.bind(this)));
                this.listeners.push(b.subscribe(this.events.layerClosed, this.onLayerClosed.bind(this)))
            },
            setInternals: function() {
                this.$tabContent = this.$elem.find(this.selector.modelsTabContent);
                this.$tabContentMain = this.$elem.find(this.selector.modelsTabContentMain);
                this.$tabLinks = this.$elem.find(this.selector.modelsTabLink);
                this.$listItems = this.$elem.find(this.selector.modelsListItem);
                this.$tabHeader = this.$elem.find(this.selector.modelsTabHeader);
                this.$tabTitle = this.$elem.find(this.selector.modelsTabTitle);
                this.$modelsContainer = this.$elem.find(this.selector.modelsContainer);
                this.defaultTransmission = this.$elem.data("ss-default-transmission");
                this.transmissionRequired = this.$elem.data("ss-transmission-required");
                this.hasSpecialEditions = !!this.$tabLinks.filter('[data-ss-tab-item\x3d"specialEditions"]').length;
                this.isEditionRange = this.$elem.attr("ss-is-edition-range");
                this.$listItems.on("click", function(a) {
                    a = b(a.target.parentElement);
                    a = {
                        modelCode: a.data("ss-item-code"),
                        modelName: a.data("ss-item-model-name"),
                        modelLongName: a.data("ss-item-model-longname"),
                        modelRangeCode: a.data("ss-item-range-code"),
                        modelRangeLongName: a.data("ss-item-range-name"),
                        price: a.data("ss-item-model-price")
                    };
                    g.updateTrackProduct(a)
                })
            },
            init: function() {
                this.setInternals();
                this.manageComponent();
                this.setDefaults();
                this.setToggle();
                this.initEvents();
                this.initListeners()
            },
            destroy: function(a) {
                a = b(a);
                var c = a.find(".md-toggle");
                b.each(c, function(a, b) {
                    k.toggle.teardown(b)
                });
                a.off("click.standardselectorlayer");
                this.$tabContentMain.height("");
                k.unsubArray(this.listeners)
            }
        };
        return {
            init: function(a) {
                b(a).data("standardselectorlayer", new c(a))
            },
            teardown: function(a) {
                a = b(a);
                var c = a.data("standardselectorlayer");
                c && (a.removeData("standardselectorlayer"), c.destroy())
            }
        }
    }()
})(mini.digital.$, mini.digital.comp.standardselector, mini.digital.util, mini.digital.tracking.standardselector);
(function(b, f) {
    var k = function(b) {
        this.base = b;
        this.moduleName = "modForm";
        this.currentForm;
        this.standardType = "";
        this.init.apply(this)
    };
    k.prototype = {
        setVehicle: function(f, c) {
            b.publish(this.base.events.gcdmModelBroadcast, [f, c, this.currentForm]);
            b.publish("md:overlay:iphone:resize")
        },
        onClickModelItem: function(f) {
            var c = b(f.currentTarget),
                a = {
                    modelRangeCode: c.closest(".md-standard-selector-layer").attr("data-ss-item-code"),
                    modelCode: c.data("ss-item-code"),
                    modelUrl: c.attr("href"),
                    vehicleName: c.data("ss-item-model-name"),
                    vehicleLongName: c.data("ss-item-model-longname"),
                    rangeName: c.data("ss-item-range-name"),
                    source: "standardselector",
                    decodingImage: c.parents(".md-standard-selector-layer").find(".md-rimage-bp-wide").attr("src"),
                    itemCode: c.data("ss-im-code"),
                    cosyImageInfos: [{}, {}, {
                        urlString: void 0 !== f.rangeImage ? f.rangeImage : c.data("ss-item-model-image")
                    }]
                };
            this.currentForm && (mini.digital.util.currentModel.set({
                modelRangeCode: a.modelRangeCode,
                modelRangeName: a.rangeName,
                modelCode: a.modelCode,
                modelName: a.vehicleName,
                modelLongName: a.vehicleLongName,
                url: a.modelUrl,
                itemCode: a.itemCode,
                cosyImageInfos: a.cosyImageInfos
            }, !1), this.setVehicle(a, c));
            f.preventDefault()
        },
        onSelectModelRange: function(f) {
            var c = b(f.options[f.selectedIndex]);
            c.data("ss-image-url");
            var a = c.data("ss-item-code"),
                d = c.data("ss-item-default-model-code"),
                e = c.data("ss-item-selected-model-code"),
                g = c.data("ss-item-selected-model-name"),
                k = c.data("ssItemDefaultModelImage"),
                p = b(f),
                q = {
                    modelRangeCode: a,
                    modelRange: a,
                    modelCode: e ? e : d,
                    modelUrl: k,
                    vehicleName: g ? g : c.data("ss-item-model-name"),
                    vehicleLongName: c.data("ss-item-model-longname"),
                    rangeName: c.data("ss-item-range-name"),
                    rangeNameLong: c.data("ss-item-range-name-long"),
                    configUrl: c.data("ss-item-selected-config-url"),
                    shareConfigUrl: c.data("ss-item-selected-share-config-url"),
                    source: "standardselector",
                    decodingImage: k,
                    itemCode: c.data("ss-item-code"),
                    cosyImageInfos: [{}, {}, {
                        urlString: k
                    }]
                };
            if (this.currentForm)
                if (window.angular) this.setVehicle(q, p);
                else {
                    var l = this;
                    setTimeout(function() {
                        l.setVehicle(q, p)
                    }, 2E3)
                } event.preventDefault()
        },
        removeAlreadySelectedItem: function() {
            var f = b(this.base.selector.rangeList);
            f && (f = b(f).find(this.base.selector.selectedItem)) && 0 < f.length && b(f).removeClass(this.base.cssClass.selectedItem)
        },
        selectModelRange: function(f) {
            var c = b(f).find(this.base.selector.linkModelRange);
            if (0 != c.length) {
                this.removeAlreadySelectedItem();
                var a = c.data(this.base.dataKeys.ssItemCode),
                    d = b(f).parents(".md-standard-selector").find('[data-ss-item-code\x3d"' + a + '"]').find("img"),
                    e = "";
                d && 0 < d.length && (e = b(d[0]).data("cosySrcset"));
                (d = c.data(this.base.dataKeys.ssItemSelectedModelCode)) || (d = c.data(this.base.dataKeys.ssItemDefaultModelCode));
                var g = {
                    modelRangeCode: a,
                    modelCode: d,
                    modelUrl: e,
                    vehicleName: c.data(this.base.dataKeys.ssItemSelectedModelName) ? c.data(this.base.dataKeys.ssItemSelectedModelName) : c.data(this.base.dataKeys.ssItemModelName),
                    vehicleLongName: c.data(this.base.dataKeys.ssItemModelLongName),
                    rangeName: c.data(this.base.dataKeys.ssItemRangeName),
                    rangeNameLong: c.data(this.base.dataKeys.ssItemRangeLongName),
                    source: "standardselector",
                    decodingImage: e,
                    itemCode: a,
                    configUrl: c.data(this.base.dataKeys.ssItemSelectedConfigUrl),
                    shareConfigUrl: c.data(this.base.dataKeys.ssItemSelectedShareConfigUrl)
                };
                if (this.currentForm)
                    if (window.angular) this.setVehicle(g, c);
                    else {
                        var k = this;
                        setTimeout(function() {
                            k.setVehicle(g, c)
                        }, 2E3)
                    } b(f).addClass(this.base.cssClass.selectedItem)
            }
        },
        onModelRangeSelect: function(f) {
            var c = b(f.currentTarget);
            this.selectModelRange(c);
            b.publish("md:form:scroll");
            f.preventDefault()
        },
        initEvents: function() {
            "tda" !== this.currentForm && "tdavariant2" !== this.currentForm || b(".md-ss-form .md-ss-range-item").addClass("md-ss-range-item-highlight");
            this.base.$elem.on("click." + this.moduleName, this.base.selector.modelsItemLink,
                this.onClickModelItem.bind(this));
            if ("stripForm" === this.standardType) this.base.$elem.on("click." + this.moduleName, this.base.selector.modelRangeItem, this.onModelRangeSelect.bind(this))
        },
        init: function() {
            this.currentForm = b(this.base.selector.compFormGcdmRFS).length ? "rfs" : b(this.base.selector.compFormGcdmTDA).length ? "tda" : b(this.base.selector.compFormGcdmTDAVariant2).length ? "tdavariant2" : b(this.base.selector.compFormGcdmRFI).length ? "rfi" : b(this.base.selector.compFormGcdmRFO).length ? "rfo" : b(this.base.selector.compFormGcdmRFA).length ?
                "rfa" : "";
            this.standardType = this.base.$elem.data("ssComponentType");
            this.initEvents();
            if ("tda" === this.currentForm || "tdavariant2" === this.currentForm) {
                var f = this;
                b.subscribe("md:configurator:gcdmRequest", function(b, a) {
                    f.base.manageDefaults(f, {
                        modelRangeCode: b.modelRange,
                        modelCode: b.modelCode,
                        modelName: b.modelName,
                        configUrl: b.configUrl,
                        shareConfigUrl: b.shareConfigUrl
                    })
                });
                b.subscribe(this.base.events.standardSelectorInitModel, function(b, a) {
                    f.base.manageDefaults(f, {
                        modelRangeCode: b.modelRange,
                        modelCode: b.modelCode,
                        modelName: b.modelName,
                        configUrl: b.configUrl,
                        shareConfigUrl: b.shareConfigUrl
                    })
                })
            }
        },
        destroy: function() {
            this.base.$elem.off("click." + this.moduleName)
        }
    };
    f.modForm = k
})(mini.digital.$, mini.digital.comp.standardselector);
(function(b, f) {
    var k = function(g, c) {
        var a = b(g).data("ss-component-integration"),
            d = "";
        this.modules = {};
        f.StandardSelectorBase.call(this, g);
        for (d in f) f.hasOwnProperty(d) && "mod" === d.substr(0, 3) && d.substring(3).toLowerCase() === a && (this.modules[d] = new f[d](this));
        this.init(c)
    };
    k.prototype = f.StandardSelectorBase.prototype;
    f && f.overlayManager && f.overlayManager.initialise && f.overlayManager.initialise();
    f.init = function(b, c, a, d) {
        c = a(b);
        c.data("standardselector", new k(b, d));
        a.publish(f.common.events.selectorInitialised,
            [{
                integration: c.data("ss-component-integration"),
                selector: c
            }])
    };
    f.teardown = function(f) {
        f = b(f);
        var c = f.data("standardselector");
        c && (f.removeData("standardselector"), c.destroy())
    }
})(mini.digital.$, mini.digital.comp.standardselector);
(function(b, f) {
    mini.digital.comp.myminishelf = function() {
        function k(a) {
            d();
            t.removeClass("md-mms-closed");
            u.addClass("md-mms-opened");
            w.focus();
            y = "open";
            b.publish("md:mymini:open");
            b(document).on("focusin" + J.shelf, g);
            f.veil.manageVeil("open", G);
            a && !A.hasClass("md-tv-active") && A.trigger("click");
            return E.initialize()
        }

        function g(a) {
            a = b(a.target);
            !a.closest(J.shelf).length && (a.closest(J.mdHeader).length || a.closest(J.mdMain).length || a.closest(J.mdFooter).length) && b.publish("md:ht:mouseleave")
        }

        function c(a) {
            b(a).closest(J.shelf).length &&
                (I = t.find(J.tabViewActiveContent), (a = b.trim(I.html())) ? d() : F = b.subscribe(V.tabContentLoaded, function() {
                    b.unsubscribe(F);
                    d()
                }))
        }

        function a() {
            v.css(Modernizr.prefixed("transitionDuration"), "");
            e(v, 0);
            b(document).off("focusin" + J.shelf);
            B.one(N, function() {
                t.addClass("md-mms-closed");
                u.removeClass("md-mms-opened");
                w.removeClass("md-show-register-confirm");
                v.css(Modernizr.prefixed("transform"), "");
                e(t, 0);
                y = "closed";
                b.publish("md:mymini:closed")
            });
            f.veil.manageVeil("close")
        }

        function d() {
            t.css({
                "max-height": ""
            });
            w.css({
                height: ""
            });
            var a = window.innerHeight;
            try {
                window.getComputedStyle && (a = parseInt(window.getComputedStyle(document.querySelector(J.mdBody), ":before").getPropertyValue("height"), 10))
            } catch (H) {}
            var b = a;
            a = t.find(J.tabViewActiveContent).height();
            b = a > b ? b - x.height() : a;
            h() && (b = b < a ? a : b);
            a = b;
            h() && v.css(Modernizr.prefixed("transitionDuration"), "0s");
            t.css({
                "max-height": a + "px"
            });
            w.css({
                height: a - r.height() + "px"
            });
            e(t, -a);
            e(K ? v : B, a)
        }

        function e(a, b) {
            var c = K ? Modernizr.prefixed("transform") : "margin-top";
            a.css(c,
                K ? "translate3d(0, " + b + "px, 0)" : b + "px")
        }

        function h() {
            return "open" === y
        }

        function m(a) {
            a = b(a);
            z = a.find(J.myMini);
            E = z.data(mini.digital.comp.mymini.appName);
            z.length && (b.unsubscribe(F), w = b(J.myMiniContent), r = b(J.myMiniHeader), a.addClass("md-tv-my-mini"), A = t.find(J.tabviewTabBtns).eq(a.index()), A.addClass("md-icnpost-my-mini"), b.publish(V.myMiniContentLoaded), b.subscribe(V.tabChanged, c), z.hasClass("md-mymini-deeplink") && k())
        }

        function p(b) {
            Number(b.id) === Number(G.id) && a()
        }

        function q(a) {
            !h() || a && a.preventTransform ||
                (O = a.state, w.removeClass("md-mymini-content-tall"), 0 <= C.indexOf(O) && w.addClass("md-mymini-content-tall"), "registrationconfirm" === a.state && w.addClass("md-show-register-confirm"), Q && setTimeout(d, 0), Q = !0)
        }

        function l() {
            h() && d()
        }
        var u, w, r, x, v, t, A, z, B, E, y = "closed",
            C = ["registration", "profile", "profile-change"],
            O, I, F, N = f.transitionEndEvent,
            K = Modernizr.csstransforms3d,
            Q = !1,
            G = {
                zIndex: 9,
                id: Math.floor(Math.random() * (new Date).getTime())
            },
            J = {
                myMini: ".md-mymini",
                myMiniContent: ".md-js-mymini-content",
                myMiniHeader: ".md-js-mymini-header",
                shelf: ".md-myminishelf",
                tabviewTabBtns: ".md-js-tabview-tab-btn",
                mdHeader: ".md-js-header",
                mdMain: ".md-js-main",
                mdFooter: ".md-footer",
                mdBody: ".md-body",
                mdHtml: ".md-js",
                mdNavigation: ".md-navigation",
                tabViewActiveContent: ".md-tv-content.md-tv-active"
            },
            V = {
                myMiniContentLoaded: "md:myminishelf:myMiniContentLoaded",
                tabContentLoaded: "md:tabview:tabContentLoaded",
                tabChanged: "md:tabview:tabChanged",
                myMiniStateChange: "md:mymini:statechange",
                resize: "md:resize",
                veilClicked: "md:veil:click"
            };
        return {
            init: function(a) {
                t =
                    b(a);
                u = b(J.mdHtml);
                b(J.mdBody);
                x = b(J.mdNavigation);
                v = b(J.mdHeader).add(J.mdMain).add(J.mdFooter);
                B = v.eq(0);
                F = b.subscribe(V.tabContentLoaded, m);
                b.subscribe(V.myMiniStateChange, q);
                b.subscribe(V.resize, l);
                b.subscribe(V.veilClicked, p)
            },
            openShelf: k,
            getState: function() {
                return y
            },
            shelfIsOpen: h,
            trigger: function() {
                "closed" === y ? k() : a()
            },
            SELECTORS: J
        }
    }()
})(mini.digital.$, mini.digital.util);
(function(b, f, k, g) {
    var c = function(a, c, e) {
        function d(a) {
            u.initialize().then(function() {
                b.angular.injectEvent(w[0], t.myminiSelectPreferredDealer, [a])
            })
        }

        function m() {
            k.openShelf(!0).then(function() {
                b.angular.injectEvent(w[0], t.myminiOpenRegistration, [])
            })
        }

        function p(a) {
            k.openShelf(!0).then(function() {
                b.angular.injectEvent(w[0], t.myminiCarSave, [a])
            });
            g.publish("md:garage:save", [a])
        }

        function q(a) {
            k.openShelf(!0).then(function() {
                b.angular.injectEvent(w[0], t.myminiCarUpdate, [a])
            })
        }

        function l() {
            return {
                angularAnimate: {
                    url: A.ANGULAR_ANIMATE,
                    isLoaded: function() {
                        return b.angular.isModuleAvailable("ngAnimate")
                    }
                },
                angularUIRouter: {
                    url: A.ANGULAR_UI_ROUTER,
                    isLoaded: function() {
                        return b.angular.isModuleAvailable("ui.router")
                    }
                },
                uflExternal: {
                    url: A.UFL_EXTERNAL,
                    isLoaded: function() {
                        return b.angular.isModuleAvailable("UFL")
                    }
                },
                sfUflAdapter: {
                    url: A.SF_UFL_ADAPTER,
                    isLoaded: function() {
                        return b.angular.isModuleAvailable("SF.Widget.Financing")
                    }
                }
            }
        }
        var u = this,
            w = a,
            r = [],
            x = {},
            v, t = {
                confCarSave: "md:configurator:savecar",
                confCarUpdate: "md:configurator:updatecar",
                myminiCarSave: "md:mymini:savecar",
                myminiCarUpdate: "md:mymini:updatecar",
                myminiOpenRegistration: "md:mymini:openregistration",
                myminiSelectPreferredDealer: "md:mymini:selectPreferredDealer"
            },
            A = {
                ANGULAR_ANIMATE: "/etc.clientlibs/settings/wcm/designs/minidigital-white/libs-js.legacy/vendor/external/resources/angular-animate.min.js",
                ANGULAR_UI_ROUTER: "/etc.clientlibs/settings/wcm/designs/minidigital-white/libs-js.legacy/vendor/external/resources/angular-ui-router.min.js",
                UFL_EXTERNAL: "/etc.clientlibs/settings/wcm/designs/minidigital-white/libs-js.legacy/vendor/external/resources/UFLExternal.js",
                SF_UFL_ADAPTER: "/etc.clientlibs/settings/wcm/designs/minidigital-white/libs-js.legacy/vendor/external/resources/SF_UFL_adapter.js"
            };
        u.initialize = function() {
            var a = {},
                d = g.Deferred(),
                h = w.find("[gcdm-app]");
            f.setup(h, !1).then(function() {
                a = l();
                b.lazyLoadScriptMulti([a.angularAnimate, a.angularUIRouter, a.uflExternal, a.sfUflAdapter]).then(function() {
                    b.angular.isModuleAvailable(c) || mini.digital.comp.mymini.app.init(w, x);
                    angular.element(w[0]).scope() || (angular.module("integration.mymini", []).value("postal",
                        require("core/Messagebus")), angular.module("integration.mymini.cssConfig", []).value("inShelf", {
                        inShelf: !0
                    }), angular.bootstrap(w[0], ["integration.mymini", "integration.mymini.cssConfig", c]), w.addClass("md-mymini-loaded"));
                    d.resolve()
                })
            });
            mini.digital.tracking.mymini.init(e, w.data("component-id"), w.data("tracking-component"), w.data("tracking-index"), w.data("tracking-page-index"));
            return d.promise()
        };
        u.destroy = function() {
            for (; r.length;) g.unsubscribe(r.pop())
        };
        (function() {
            var a = g("[data-mymini-tpl]", w),
                b, e = a.length;
            for (b = 0; b < e; b++) {
                var f = g(a[b]);
                x[f.data("myminiTpl")] = f.data("path")
            }
            r.push(g.subscribe(t.confCarSave, p), g.subscribe(t.confCarUpdate, q));
            w.data(c, u);
            w.parents(k.SELECTORS.shelf).length || u.initialize();
            require(["core/Messagebus"], function(a) {
                v = a;
                console.log("postal subscribing to TOPIC_OPEN_REGISTRATION topic");
                v.channel("business-dealerlocator").subscribe("openRegistration", m);
                v.channel("business-dealerlocator").subscribe("selectPreferredDealer", d)
            })
        })()
    };
    mini.digital.comp.mymini = function() {
        return {
            init: function(a,
                b, e, f) {
                a = e(a);
                return new c(a, "mdMymini", f)
            },
            appName: "mdMymini",
            teardown: function(a) {
                (a = g(a).data("mdMymini")) && a.destroy()
            }
        }
    }()
})(mini.digital.util, mini.digital.comp.formgcdm, mini.digital.comp.myminishelf, mini.digital.$);
mini.digital.comp.mymini = mini.digital.comp.mymini || {};
mini.digital.comp.mymini.app = mini.digital.comp.mymini.app || {};
mini.digital.comp.mymini.controllers = mini.digital.comp.mymini.controllers || {};
mini.digital.comp.mymini.directives = mini.digital.comp.mymini.directives || {};
mini.digital.comp.mymini.factories = mini.digital.comp.mymini.factories || {};
mini.digital.comp.mymini.services = mini.digital.comp.mymini.services || {};
(function() {
    mini.digital.tracking.mymini = function() {
        function b(b, c) {
            "function" === typeof a.updateComponentTracking && a.updateComponentTracking(e, {
                attributes: c
            }, h);
            "function" === typeof a.addEventTracking && a.addEventTracking(u, b, h)
        }

        function f(a) {
            "login" === a.state ? (a = {
                eventInfo: {
                    eventName: "login start",
                    effect: "user started login",
                    timeStamp: Date.now()
                }
            }, b(a, {})) : "registration" === a.state ? (a = {
                eventInfo: {
                    eventName: "registration start",
                    effect: "user started registration",
                    timeStamp: Date.now()
                }
            }, b(a, {
                myminiVirtualGarageSavedCars: 0,
                myminiLoginState: "logged out"
            })) : "registrationconfirm" === a.state ? (a = {
                eventInfo: {
                    eventName: "registration finish",
                    effect: "user finished registration",
                    timeStamp: Date.now()
                }
            }, b(a, {
                myminiVirtualGarageSavedCars: 0,
                myminiLoginState: "logged out"
            })) : "registration-check" === a.state && (a = {
                eventInfo: {
                    eventName: "login success",
                    effect: "user logged in",
                    timeStamp: Date.now()
                }
            }, b(a, {
                myminiVirtualGarageSavedCars: q,
                myminiLoginState: "logged in"
            }))
        }

        function k(a) {
            if (a && a.length)
                for (var b = 0; b < a.length; b++) m.product.push(c(a[b]))
        }

        function g(a) {
            console.log("onGarageSave", a);
            a = {
                eventInfo: {
                    eventName: "save car",
                    effect: "user saved a car",
                    timeStamp: Date.now()
                }
            };
            b(a, {})
        }

        function c(a) {
            var b = a.vehicleName || "",
                c = a.agModelCode || "",
                e = a.vehicleName || "",
                f = a.cosyImageInfos[3] && a.cosyImageInfos[3].urlString || "",
                g = a.cosyImageInfos[3] && a.cosyImageInfos[3].urlString || "";
            var h = a.agModelCode;
            var k = a.configUrl;
            if (window.mini.digital.comp.ucpApi.isConEnabled()) h = window.mini.digital.comp.ucpApi.getConPath() + "/configid/" + k;
            else {
                var l = $("body").find("[data-component-name\x3d'mymini']").data("mymini-resource-path");
                h = window.location.protocol + "//" + window.location.host + "/bin/public/mini/modelpage?modelCode\x3d" + h + "\x26resourcePath\x3d" + l + "\x26configurationId\x3d" + k
            }
            return {
                productInfo: {
                    description: b,
                    manufacturer: "MINI",
                    productID: c,
                    productName: e,
                    productImage: f,
                    productThumbnail: g,
                    productURL: h || ""
                },
                category: {
                    primaryCategory: "new car",
                    subCategory01: a.vehicleName || "na"
                },
                attributes: {
                    bodyName: a.vehicleName || "na",
                    bodyType: a.modelRange || "na",
                    modelName: a.vehicleName || "na",
                    modelCode: a.agModelCode || "na",
                    saCodeList: a.options.join("::") || [],
                    carSaved: "true",
                    configurationID: a.configUrl || "",
                    carFavourited: a.carFavourited || "false",
                    relatedComponentID: d.componentInfo.componentId || "",
                    relatedComponentName: d.componentInfo.componentName || "",
                    relatedComponentPrimaryCategory: d.componentInfo.componentName || "",
                    basePriceVehicle: a.modelNetPrice || "",
                    basePriceOptions: a.equipmentNetPrice || "",
                    basePrice: a.totalNetPrice || "",
                    sellingPriceVehicle: a.modelGrossPrice || "",
                    sellingPriceOptions: a.equipmentGrossPrice || "",
                    sellingPriceTotal: a.totalGrossPrice || ""
                }
            }
        }
        var a,
            d = {},
            e, h, m, p, q, l = !1,
            u = {
                eventInfo: {
                    eventAction: "click",
                    eventPoints: "",
                    cause: "default"
                },
                category: {
                    primaryCategory: "mymini",
                    subCategory01: "virtual garage"
                },
                attributes: {
                    relatedComponentID: "",
                    relatedComponentName: "mymini",
                    relatedComponentPrimaryCategory: "mymini"
                }
            };
        return {
            init: function(b, c, p, q, t) {
                l || ($.subscribe("md:mymini:statechange", f), $.subscribe("md:garage:loaded", k), $.subscribe("md:garage:save", g), l = !0);
                a = b;
                u.attributes.relatedComponentID = c;
                h = t;
                m = {};
                "function" === typeof a.getPageObject && (m = a.getPageObject(0));
                e = q;
                void 0 !== p && (d = p)
            },
            popLastSavedNote: function() {
                var a = p;
                p = void 0;
                return a
            },
            storeNumberOfCars: function(a) {
                q = a
            },
            trackSaveInGarageStart: function(a, c) {
                var d = {
                    eventInfo: {
                        eventName: "save car start",
                        effect: "user starts to save car into the garage",
                        timeStamp: Date.now()
                    },
                    category: {},
                    attributes: {
                        itemName: a.note
                    }
                };
                c || (q = void 0);
                p = a.note;
                b(d, {
                    myminiVirtualGarageSavedCars: void 0 === q ? "na" : q,
                    myminiLoginState: "logged " + (c ? "in" : "out")
                })
            },
            trackSaveInGarageEnd: function(a) {
                a = {
                    eventInfo: {
                        eventName: "save car end",
                        effect: "user successfully saved car into the garage",
                        eventAction: "automatic",
                        timeStamp: Date.now()
                    },
                    attributes: {
                        itemName: a
                    }
                };
                b(a, {
                    myminiVirtualGarageSavedCars: q,
                    myminiLoginState: "logged in"
                })
            }
        }
    }()
})();
mini.digital.comp.mymini.controllers.garage = function(b, f, k) {
    return {
        init: function(g, c) {
            g.controller("mdMyminiGarageController", ["$scope", "$q", "$rootElement", "mdMyminiAvailableModelsService", "mdMyminiModelPageService", "mdMyMiniCurrencyFormatService", "mdMyminiDateFormatService", "mdMyMiniLogoutService", "SF_HostingPageService", function(a, d, e, g, m, p, q, l, u) {
                var h = b.app.getGcdmAccessToken(),
                    r, x, v = {},
                    t = "";
                c.attr("data-con-path");
                c.attr("data-is-con-enabled");
                var A = function() {
                        var a = d.defer();
                        window.mini.digital.comp.ucpApi ?
                            a.resolve(window.mini.digital.comp.ucpApi) : require(["apps/minidigital/components/configurator-con/clientlib/ConfiguratorCon"], function(b) {
                                window.mini.digital.comp.ucpApi = b;
                                a.resolve(b)
                            });
                        return a.promise
                    },
                    z = function() {
                        a.$emit("myminiLoaderShow");
                        var b = d.defer();
                        A().then(function(c) {
                            h ? c.listVehicles(h).then(function(b) {
                                a.$emit("myminiLoaderHide");
                                a.garageEntries = b;
                                B(a.garageEntries, "grossPrice");
                                E(a.garageEntries, "created");
                                E(a.garageEntries, "lastUpdate");
                                var c = mini.digital.tracking.mymini.popLastSavedNote();
                                mini.digital.tracking.mymini.storeNumberOfCars(a.garageEntries.length);
                                if (void 0 !== c)
                                    for (var d = 0; d < a.garageEntries.length; d++)
                                        if (a.garageEntries[d].note === c) {
                                            mini.digital.tracking.mymini.trackSaveInGarageEnd(c);
                                            break
                                        } f.publish("md:garage:loaded", b);
                                a.$apply()
                            }, function(b) {
                                a.$emit("myminiLoaderHide");
                                l.isTokenExpired(b) && (l.logout(), a.$apply())
                            }) : (console.log("missing token"), b.resolve([]))
                        })
                    },
                    B = function(a, b) {
                        angular.forEach(a, function(a) {
                            a[b + "Formatted"] || (a[b + "Formatted"] = p.format(a[b]))
                        })
                    },
                    E = function(a,
                        b) {
                        angular.forEach(a, function(a) {
                            if (!a[b + "Formatted"]) {
                                var c = Date.parse(a[b]);
                                a[b + "Formatted"] = q.format(c)
                            }
                        })
                    },
                    y = function(b) {
                        angular.forEach(a.garageEntries, function(c, d) {
                            b.configUrl === c.configUrl && a.garageEntries.splice(d, 1)
                        })
                    },
                    C = function(b) {
                        angular.forEach(a.garageEntries, function(c, d) {
                            b.configUrl === c.configUrl && (a.garageEntries[d].note = b.note)
                        })
                    },
                    O = function(a) {
                        a.requester.is(".md-mymini-button") && (x = f.subscribe("md:overlay:closed", I), k.currentModel.set({
                            modelRangeCode: v.modelRange,
                            modelRangeName: v.modelRangeName,
                            modelCode: v.modelCode.value,
                            modelName: v.vehicleName,
                            modelLongName: v.vehicleName,
                            url: void 0,
                            multipleTransmissions: void 0,
                            transmission: void 0,
                            cosyImageInfos: [{}, {}, {
                                urlString: v.preselectedImage
                            }]
                        }), f.publish("md:mymini:gcdmRequest", [v, t]), f.unsubscribe(r))
                    },
                    I = function(a) {
                        a.requester.is(".md-mymini-button") && (a.overlayContent.empty(), f.unsubscribe(x))
                    };
                A = function() {
                    var a = f.Deferred();
                    window.mini.digital.comp.ucpApi ? a.resolve(window.mini.digital.comp.ucpApi) : require(["apps/minidigital/components/configurator-con/clientlib/ConfiguratorCon"],
                        function(b) {
                            window.mini.digital.comp.ucpApi = b;
                            a.resolve(b)
                        });
                    return a
                };
                var F = function(a) {
                        var b = f.Deferred();
                        A().then(function(a) {
                            b.resolve(!0)
                        });
                        return b.promise()
                    },
                    N = function(a) {
                        var b = f.Deferred();
                        F(a).then(function(a) {
                            b.resolve()
                        });
                        return b.promise()
                    };
                a.viewSavedConfiguration = function(a, b) {
                    A().then(function(c) {
                        c.isConEnabled() ? window.open(c.getConPath() + "/configid/" + b, "_blank") : window.location = m.getServiceUrl(a, b)
                    })
                };
                a.openCarStage = function(b, c) {
                    a.selectedCarItem = angular.copy(c);
                    a.carStage.action =
                        b;
                    a.carStage.visible = !0
                };
                a.closeCarStage = function() {
                    a.carStage.visible = !1
                };
                a.openOverlay = function(b, c, d) {
                    t = d;
                    v = c;
                    v.preselectedImage = a.modelRangeCheck(c);
                    v.shareConfigUrl = window.location.origin + "/?configurationID\x3d" + c.configUrl;
                    "offer" !== d && "offerforbusiness" !== d || !a.financeEnabled ? (r = f.subscribe("md:overlay:opened", O), f(b.target).data("overlay").toggleOverlay(b)) : v.financeRequestInProgress || (v.financeRequestInProgress = !0, N(v).always(function() {
                        v.financeRequestInProgress = !1;
                        r = f.subscribe("md:overlay:opened",
                            O);
                        f(b.target).data("overlay").toggleOverlay(b)
                    }));
                    b.stopPropagation()
                };
                a.toggleCarActions = function(a) {
                    a.carActionsVisible = a.carActionsVisible ? !1 : !0
                };
                a.updateMyGarageEntryNote = function(b) {
                    if (b && b.note.trim()) {
                        var c = d.defer();
                        a.$emit("myminiLoaderShow");
                        A().then(function(a) {
                            a.updateVehicle(h, b).then(function(a) {
                                c.resolve(a)
                            }, function(a) {
                                c.reject(a)
                            })
                        });
                        c.promise.then(function(b) {
                            a.$emit("myminiLoaderHide");
                            a.closeCarStage();
                            C(b)
                        }, function(b) {
                            a.$emit("myminiLoaderHide");
                            l.isTokenExpired(b) && l.logout()
                        })
                    }
                };
                a.deleteEntryFromMyGarage = function(b) {
                    var c = d.defer();
                    a.$emit("myminiLoaderShow");
                    A().then(function(a) {
                        a.deleteVehicle(h, b.configUrl).then(function(a) {
                            c.resolve(a)
                        }, function(a) {
                            c.reject(a)
                        })
                    });
                    c.promise.then(function(c) {
                        a.$emit("myminiLoaderHide");
                        a.closeCarStage();
                        y(b)
                    }, function(b) {
                        a.$emit("myminiLoaderHide");
                        l.isTokenExpired(b) && l.logout()
                    })
                };
                a.$on("$destroy", function() {
                    a.$emit("myminiLoaderHide")
                });
                (function() {
                    var b = f("body");
                    a.garageEntries = null;
                    a.carStage = {};
                    a.gcdmForm = {};
                    z();
                    a.mmViewType = f(".md-mymini-shelf",
                        e).data("mymini-type");
                    a.compareCtaPath = f(".md-mm-compare-cta-path", e).data("path");
                    a.openareaPath = e.data("openarea-path");
                    a.serverUrl = b.data("md-finance-endpoint");
                    a.market = b.data("md-finance-market");
                    a.financeEnabled = b.data("md-finance-enabled");
                    a.financeEnabled && !1 === b.data("md-wcmmode") && k.finance.init()
                })()
            }])
        }
    }
}(mini.digital.comp.mymini, mini.digital.$, mini.digital.util);
mini.digital.comp.mymini.controllers.setgarage = function(b, f, k) {
    return {
        init: function(g) {
            g.controller("mdMyminiSetGarageController", ["$scope", "$rootScope", "$q", "$rootElement", "$stateParams", "$state", "mdMyMiniSaveCarService", "$timeout", "mdMyMiniLogoutService", function(c, a, d, e, g, m, p, q, l) {
                var h = k.app.getGcdmAccessToken(),
                    w = c.gcdmIsLoggedIn(),
                    r = function() {
                        var a = d.defer();
                        window.mini.digital.comp.ucpApi ? a.resolve(window.mini.digital.comp.ucpApi) : require(["apps/minidigital/components/configurator-con/clientlib/ConfiguratorCon"],
                            function(b) {
                                window.mini.digital.comp.ucpApi = b;
                                a.resolve(b)
                            });
                        return a.promise
                    },
                    x = function(a, e) {
                        var g = d.defer();
                        c.$emit("myminiLoaderShow");
                        r().then(function(b) {
                            e ? b.createVehicle(h, a).then(function(a) {
                                g.resolve(a)
                            }, function(a) {
                                g.reject(a)
                            }) : b.updateVehicle(h, {
                                configUrl: a.configUrl,
                                modelCode: {
                                    value: a.modelCode
                                },
                                options: a.selectedFeatures
                            }).then(function(a) {
                                g.resolve(a)
                            }, function(a) {
                                g.reject(a)
                            })
                        });
                        g.promise.then(function(a) {
                            c.$emit("myminiLoaderHide");
                            c.savedCarItem = a;
                            var d = mini.digital.comp.configurator.getFacadeApi();
                            if ("save" === c.setConfigurationAction) {
                                if (d && "function" === typeof d.saveVehicle) try {
                                    d.saveVehicle(a.baseConfigUrl)
                                } catch (E) {}
                                c.enableVco ? mini.digital.comp.configurator.getModelConfig().then(function(a) {
                                    var d = b.subscribe("md:formgcdm:vcoloaded", function() {
                                        a.circulationConsent = c.allowDealerContact;
                                        b.publish("md:formgcdm:gcdmRequest", [a, "vco"]);
                                        b.unsubscribe(d)
                                    });
                                    c.setConfigurationSuccess = !0;
                                    m.go("submitvco")
                                }) : (c.setConfigurationSuccess = !0, m.go("garage"))
                            } else {
                                if (d && "function" === typeof d.saveVehicle) try {
                                    d.saveVehicle(a.baseConfigUrl)
                                } catch (E) {}
                                q(function() {
                                    if (f.shelfIsOpen()) {
                                        var a =
                                            b.subscribe("md:mymini:closed", function() {
                                                m.go("garage");
                                                b.unsubscribe(a)
                                            });
                                        f.trigger()
                                    }
                                }, 3E3)
                            }
                        }, function(a) {
                            c.$emit("myminiLoaderHide");
                            l.isTokenExpired(a) && l.logout()
                        })
                    };
                c.enableVco = b(e).data("mymini-enable-vco");
                c.allowDealerContact = b(e).data("mymini-allow-dealer-contact");
                c.selectedCarItem = angular.copy(g.carItem);
                c.setConfigurationAction = g.setGarageAction;
                h && p.flag && !p.confirmReq ? (e = "save" === c.setConfigurationAction, x(c.selectedCarItem, e), p.unset()) : c.setConfigurationSuccess = !1;
                c.saveConfigurationAsNew =
                    function() {
                        c.setConfigurationAction = "save"
                    };
                c.cancelSaveConfiguration = function() {
                    a.$broadcast("md:mymini:setgarage:cancel")
                };
                c.saveConfigurationToMyGarage = function(a) {
                    mini.digital.tracking.mymini.trackSaveInGarageStart(a, w);
                    w ? x(a, !0) : (p.set("save", a), m.go("login"))
                };
                c.updateConfigurationToMyGarage = function(a) {
                    w ? x(a, !1) : (p.set("update", a), m.go("login"))
                }
            }])
        }
    }
}(mini.digital.$, mini.digital.comp.myminishelf, mini.digital.comp.mymini);
mini.digital.comp.mymini.controllers.mymini = function(b, f, k, g) {
    return {
        init: function(c, a) {
            c.controller("mdMyminiController", ["$scope", "$rootScope", "$attrs", "mdMyminiContent", "$state", "mdMyMiniSaveCarService", "GcdmEventHandlingService", "mdMyMiniCurrencyFormatService", "GcdmPrefillBusinessPartnerService", "mdMyMiniPreferredDealerService", "GcdmPolicyManagementApi", "GcdmPolicyConfirmationApi", "mdMyMiniPolicyConsents", function(c, e, h, m, p, q, l, u, w, r, x, v, t) {
                function d() {
                    var a;
                    t.policyDocument && t.policyDocument.textBlocks &&
                        t.policyDocument.textBlocks.forEach(function(b) {
                            b.language == K && (a = b)
                        });
                    e.$broadcast("open:policy:pepo", a);
                    var d = c.$on("policy:pepo:accepted", function() {
                        t.policyConsentsToAccept = [];
                        t.addUsageDefinitionsToModel(t.policyConsentsToAccept, t.policyDocument, Q, K, "MINI");
                        t.policyConsentsToAccept.forEach(function(a) {
                            a.policyId == F && a.usageDefinitions.forEach(function(a) {
                                a.consents.forEach(function(a) {
                                    a.consentGiven = !0;
                                    a.consent = "ACCEPT"
                                })
                            })
                        });
                        v.addPolicyConsent(t.policyConsentsToAccept, !0).then(function(a) {
                            console.log("success",
                                a);
                            z()
                        }, function(a) {
                            e.$broadcast("open:mymini:error", "consentsNotUpdatedError")
                        })
                    });
                    b.subscribe("md:layer:closed", function() {
                        if (d) try {
                            d()
                        } catch (V) {}
                    })
                }

                function z() {
                    I && 0 < I.length && (-1 == I.indexOf(".html") && (I += ".html"), window.open(window.origin + I, "_self"))
                }
                var B = !1,
                    E = !1,
                    y = ["profile", "profile-change", "login-id-change"],
                    C = !1,
                    O = !1;
                h = h.mdCurrencyFormat;
                var I = a.data("myvehiclePath"),
                    F = a.data("myvehiclePolicy"),
                    N = a.data("myminiCountry"),
                    K = a.data("myminiLang"),
                    Q = a.attr("gcdm-business-context");
                u.init(h);
                c.myminiContent = {};
                c.userFirstName = void 0;
                c.myVehicles = I && 0 < I.length ? !0 : !1;
                c.mdIsFullyLoggedIn = function() {
                    return B
                };
                c.goToMyVehicle = function() {
                    var a = g.app.getGcdmAccessToken();
                    if (a || F) t.businessContext = Q, x.getPolicyDocument(F, N).then(function(b) {
                        t.policyDocument = b.data;
                        t.policyDocument.language = K;
                        t.userConsents = [];
                        x.getPolicyConsent(F, a, N).then(function(a) {
                            a && (t.userConsents = a.data);
                            t.isPolicyConfirmationRequired() ? d() : z()
                        }, function() {
                            e.$broadcast("open:mymini:error", "consentsError")
                        })
                    }, function() {
                        e.$broadcast("open:mymini:error",
                            "missingPolicy")
                    })
                };
                l.subscribe("accessTokenChange", function(a, b) {
                    b.value || (B = !1)
                });
                l.subscribe("sessionStorageChange", function(a, b) {
                    "salutation" === b.key && b.value && b.value.firstName && (c.userFirstName = b.value.firstName);
                    "businessPartnerLoggedIn" === b.key && b.value && b.value.businessPartner.givenName && (c.userFirstName = b.value.businessPartner.givenName);
                    "businessPartner" === b.key && b.value && b.value.businessPartner.givenName && (c.userFirstName = b.value.businessPartner.givenName)
                });
                w.getLoggedInBusinessPartner().then(function(a) {
                    a &&
                        a.businessPartner && (c.userFirstName = a.businessPartner.givenName)
                });
                c.$on("md:mymini:content:updated", function() {
                    c.myminiContent = m.list
                });
                c.$on("md:formgcdm:cancelform", function() {
                    p.go("home")
                });
                c.$on("md:mymini:setgarage:cancel", function() {
                    B ? p.go("garage") : p.go("home")
                });
                c.$on("md:formgcdm:loadform", function(a, b) {
                    p.go(b)
                });
                c.$on("md:formgcdm:activate:next", function() {
                    p.go("login")
                });
                c.$on("md:mymini:loggedin", function(a, b) {
                    E = b;
                    a = JSON.parse(k.getPersistence("gcdm-preferredDealer"));
                    b = null;
                    E && a && a.MINI &&
                        (a = a.MINI, b = a.distributionPartnerId + "_" + a.outletId);
                    r.publishSetPreferredDealer(b, E);
                    c.deepLinkView && !C ? (C = !0, p.go(c.deepLinkView)) : E ? "registration" !== p.current.name ? p.go("registration-check") : B = !0 : "delete-account" !== p.current.name && p.go("home")
                });
                c.$on("md:mymini:loggedinandchecked", function() {
                    B = !0;
                    q.flag ? p.go("setgarage", {
                        setGarageAction: q.action,
                        carItem: q.carItem
                    }) : p.go("garage")
                });
                c.$on("md:mymini:savecar", function(a, b) {
                    B || !E ? p.go("setgarage", {
                        setGarageAction: "save",
                        carItem: b
                    }) : q.set("save", b,
                        !0)
                });
                c.$on("md:mymini:updatecar", function(a, b) {
                    B || !E ? p.go("setgarage", {
                        setGarageAction: "update",
                        carItem: b
                    }) : q.set("update", b, !0)
                });
                c.$on("md:mymini:openregistration", function(a) {
                    B || E || p.go("registration")
                });
                c.$on("md:mymini:selectPreferredDealer", function(a, b) {
                    r.selectPreferredDealer(b)
                });
                c.toggleProfile = function() {
                    var a = -1 < y.indexOf(p.$current.name) ? "garage" : "profile";
                    p.go(a)
                };
                c.toggleMyCars = function() {
                    "mycars" == p.$current.name ? (p.go("garage"), c.isMyCarsView = !1) : (p.go("mycars"), c.isMyCarsView = !0)
                };
                c.$on("$viewContentLoaded", function() {
                    0 < p.current.name.length && (b.publish("md:mymini:statechange", [{
                        state: p.current.name,
                        preventTransform: O
                    }]), O = !1)
                });
                c.$on("$stateChangeSuccess", function(a, b) {
                    c.isProfileView = -1 < y.indexOf(b.name)
                });
                c.$on("md:formgcdm:registration:continue", function() {
                    if (q.flag && B) p.go("setgarage", {
                        setGarageAction: q.action,
                        carItem: q.carItem
                    });
                    else if (f.shelfIsOpen()) {
                        var a = b.subscribe("md:mymini:closed", function() {
                            p.go("garage");
                            b.unsubscribe(a)
                        });
                        O = !0;
                        f.trigger()
                    }
                });
                c.$on("md:mymini:vcosubmitted",
                    function() {
                        p.go("garage")
                    });
                c.modelRangeCheck = function(a) {
                    return a.modelRange ? "R" === a.modelRange.substring(0, 1) ? a.cosyImageInfos[4].urlString : a.cosyImageInfos[3].urlString : !1
                }
            }])
        }
    }
}(mini.digital.$, mini.digital.comp.myminishelf, mini.digital.util.cookiecontroller, mini.digital.comp.mymini);
mini.digital.comp.mymini.directives = function(b, f) {
    return {
        init: function(k, g) {
            var c = g.find(".md-mymini-content");
            k.directive("myminiContentLoaded", function() {
                return {
                    restrict: "A",
                    link: function(a, c) {
                        a.$on("$viewContentLoaded", function() {
                            b(c).find(".md-rimage").each(function(a, b) {
                                mini.digital.util.responsiveimage.init(b)
                            })
                        })
                    }
                }
            });
            k.directive("myminiLoginStatusOutput", function() {
                return {
                    restrict: "A",
                    scope: !0,
                    controller: ["$scope", "$rootScope", function(a, c) {
                        a.$watch("gcdmIsLoggedIn()", function(a) {
                            c.$broadcast("md:mymini:loggedin",
                                a);
                            b.publish("md:mymini:loggedin:change", [a])
                        });
                        b.subscribe("md:mymini:loggedin:change", function(b) {
                            if (a.gcdmIsLoggedIn() && !b || !a.gcdmIsLoggedIn() && b) c.$broadcast("loginIdChange"), c.$broadcast("md:mymini:loggedin", b)
                        })
                    }]
                }
            });
            k.directive("myminiDeepLink", function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        a.deepLinkView = c.myminiDeepLink
                    }
                }
            });
            k.directive("myminiAccountDetails", function() {
                return {
                    restrict: "A",
                    scope: !0,
                    controller: ["$scope", "GcdmPrefillDealerService", function(a, c) {
                        a.$watchCollection("gcdmSalutation",
                            function(a) {
                                b.publish("md:mymini:salutation:change", [a])
                            });
                        a.$watchCollection("gcdmUserAccount", function(a) {
                            var d = function(c) {
                                b.publish("md:mymini:userAccount:change", [a, c])
                            };
                            c.getPreferredDealer("MINI").then(d, function() {
                                d()
                            })
                        })
                    }]
                }
            });
            k.directive("myminiLoading", ["$rootScope", function(a) {
                return {
                    scope: {},
                    template: '\x3cdiv class\x3d"md-cs-loading-indicator md-cs-loading-active" ng-show\x3d"showLoader"\x3e\x3cspan class\x3d"md-icn-loader"\x3e\x3cspan class\x3d"md-icn-alt"\x3eLoader\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e',
                    link: function(b) {
                        var c = function(a) {
                            b.showLoader = "myminiLoaderShow" === a.name
                        };
                        b.showLoader = !1;
                        a.$on("myminiLoaderShow", c);
                        a.$on("myminiLoaderHide", c)
                    }
                }
            }]);
            k.directive("myminiGarageLoaded", [function() {
                return function(a) {
                    a.$last && mini.digital.util.initialise(c)
                }
            }]);
            k.directive("myminiFormsOverlay", [function() {
                return {
                    scope: {},
                    link: function(a, c, e) {
                        a = e.myminiFormsOverlayHref;
                        b(c).overlay({
                            ajax: !0,
                            source: a.replace(".html", "") + "/_jcr_content/main.html?wcmmode\x3ddisabled",
                            style: "steps",
                            veilZIndex: 15,
                            titleFromContent: !0,
                            titleSelector: ".md-custom-overlay-header-title:first"
                        })
                    }
                }
            }]);
            k.directive("hidePriceForModel", function() {
                return {
                    restrict: "A",
                    link: function(a, b, c) {
                        a = c.noPriceForRangeCodes;
                        var d = c.noPriceForModelCodes;
                        c = angular.fromJson(c.hidePriceForModel);
                        var e = !1;
                        a && -1 != a.indexOf(c.modelRange) && (e = !0);
                        d && c.modelCode && -1 != d.indexOf(c.modelCode.value) && (e = !0);
                        e && b.css("display", "none")
                    }
                }
            });
            k.directive("mdSrc", function() {
                return {
                    restrict: "A",
                    link: function(a, c, e) {
                        e.$observe("mdSrc", function(a) {
                            function d(a, b) {
                                var c = 0;
                                b && (c = a.outerWidth(!0));
                                b = a.css("max-width").replace("px", "");
                                b = parseInt(b);
                                0 === c && 0 < b && (c = b);
                                return 0 < c ? c : d(a.parent(), !0)
                            }
                            null !== e.mdSrc && void 0 !== e.mdSrc && "" !== e.mdSrc && (a = d(b(c[0]), !1), f.loadImage(b(c[0]), e.mdSrc, a))
                        })
                    }
                }
            });
            k.directive("mdPolicyConfirmation", ["$rootScope", function(a) {
                return {
                    restrict: "A",
                    link: function(c, e, f) {
                        var d, g = b("script#confirm_policy_personal_portal").html();
                        c.$on("open:policy:pepo", function(c, h) {
                            var k = "";
                            c = {
                                source: g,
                                group: "md-myvehicles-policy-confirmation",
                                initialiseSource: !0,
                                constrain: b("body"),
                                title: f.heading,
                                style: "lrg",
                                open: !1
                            };
                            b(e).layer(c);
                            d = b(e).data("layer");
                            d.open();
                            c = b(".md-pepo-policy");
                            var l = c.find(".md-btn-accept"),
                                m = c.find(".md-btn-cancel");
                            h && h.usageDefinitions && (h.usageDefinitions.forEach(function(a) {
                                k = k + "\x3cdiv\x3e" + a.textPrimary + "\x3c/div\x3e"
                            }), c.find(".md-policy-text").append(k));
                            b(l).on("click", function() {
                                a.$broadcast("policy:pepo:accepted");
                                d && d.close()
                            });
                            b(m).on("click", function() {
                                d && d.close()
                            })
                        })
                    }
                }
            }]).directive("mdGeneralError", ["$rootScope", function(a) {
                return {
                    scope: {},
                    link: function(a, c, f) {
                        a.$on("open:mymini:error", function(a, d) {
                            a = {
                                source: b(c.find("#" + d)),
                                group: "md-error-info",
                                initialiseSource: !0,
                                constrain: b("html"),
                                style: "lrg",
                                open: !1
                            };
                            b(c).layer(a);
                            b(c).data("layer").open()
                        })
                    }
                }
            }])
        }
    }
}(mini.digital.$, mini.digital.util.lazyLoadImage);
mini.digital.comp.mymini.factories = function() {
    return {
        init: function(b, f) {
            b.factory("mdMyminiContent", ["$http", "$rootScope", function(b, g) {
                var c = f.data("path") + "/_jcr_content/main/par/mymini.miniresource.json",
                    a = {
                        list: [],
                        resourceFileLoaded: !1,
                        successCallback: function(b) {
                            a.list = b;
                            a.resourceFileLoaded = !0;
                            g.$broadcast("md:mymini:content:updated", b)
                        },
                        initContentResources: function() {
                            b({
                                method: "GET",
                                url: c
                            }).success(a.successCallback).error(function() {
                                g.$broadcast("md:mymini:content:error")
                            })
                        }
                    };
                a.resourceFileLoaded ||
                    a.initContentResources();
                return a
            }]);
            b.factory("mdMyMiniSaveCarService", function() {
                var b = {
                    flag: !1,
                    confirmReq: null,
                    action: null,
                    carItem: {},
                    set: function(f, c, a) {
                        b.flag = !0;
                        b.confirmReq = a;
                        b.action = f;
                        b.carItem = c
                    },
                    unset: function() {
                        b.flag = !1;
                        b.confirmReq = null;
                        b.action = null;
                        b.carItem = {}
                    }
                };
                return b
            });
            b.factory("mdMyMiniLogoutService", ["GcdmLogoutService", function(b) {
                return {
                    isTokenExpired: function(b) {
                        return null !== b && void 0 !== b && void 0 !== b.errorInfo && "528" === b.errorInfo.errorCode && "112" === b.errorInfo.errorType
                    },
                    logout: function() {
                        b.logoutAndRemovePrefill()
                    }
                }
            }]);
            b.factory("mdMyMiniPolicyConsents", [function() {
                function b(a, b) {
                    var d = [];
                    b.usages.forEach(function(e) {
                        b.legalEntities.forEach(function(f) {
                            b.purposes.forEach(function(b) {
                                d.push({
                                    usageId: e.usage.name,
                                    purposeId: b.purpose.name,
                                    legalEntityId: f.name,
                                    majorVersion: a.majorVersion,
                                    minorVersion: a.minorVersion,
                                    policyId: a.name,
                                    country: a.country,
                                    touchpointId: c.businessContext
                                })
                            })
                        })
                    });
                    return d
                }
                var f = function(a) {
                        this.contactId = null;
                        this.minorVersion = this.majorVersion =
                            0;
                        this.country = this.policyId = null;
                        this.touchpointId = a;
                        this.usageDefinitions = [];
                        this.brand = this.language = null
                    },
                    c = {
                        policyDocument: {},
                        userConsents: [],
                        policyConsentsToAccept: [],
                        businessContext: "",
                        addUsageDefinitionsToModel: function(a, b, c, g, k) {
                            var d = b.textBlocks,
                                e = {};
                            angular.isDefined(a) || (a = []);
                            c = new f(c);
                            c.majorVersion = b.majorVersion;
                            c.minorVersion = b.minorVersion;
                            c.policyId = b.name;
                            c.country = b.country;
                            c.language = g;
                            c.brand = k;
                            for (b = 0; b < d.length; b++)
                                if (!g || g.toLowerCase() === d[b].language.toLowerCase())
                                    for (k =
                                        0; k < d[b].usageDefinitions.length; k++) {
                                        e.legalEntities = [];
                                        e.purposes = [];
                                        e.consents = [];
                                        e.id = d[b].usageDefinitions[k].id;
                                        for (var h = 0; h < d[b].usageDefinitions[k].legalEntities.length; h++) e.legalEntities.push({
                                            country: d[b].usageDefinitions[k].legalEntities[h].country,
                                            legalEntityId: d[b].usageDefinitions[k].legalEntities[h].name
                                        });
                                        for (h = 0; h < d[b].usageDefinitions[k].usages.length; h++) "IMPLICIT" === d[b].usageDefinitions[k].usages[h].variant ? e.consents.push({
                                                consent: "ACCEPT",
                                                usageId: d[b].usageDefinitions[k].usages[h].usage.name
                                            }) :
                                            e.consents.push({
                                                consent: "REJECT",
                                                usageId: d[b].usageDefinitions[k].usages[h].usage.name
                                            });
                                        for (h = 0; h < d[b].usageDefinitions[k].purposes.length; h++) e.purposes.push({
                                            purposeId: d[b].usageDefinitions[k].purposes[h].purpose.name
                                        });
                                        c.usageDefinitions.push(e);
                                        e = {}
                                    }
                            a.push(c)
                        },
                        isPolicyConfirmationRequired: function() {
                            var a = [],
                                d = !1;
                            if (c.policyDocument && c.policyDocument.textBlocks)
                                if (c.policyDocument.textBlocks.forEach(function(d) {
                                        d.usageDefinitions && d.language == c.policyDocument.language && d.usageDefinitions.forEach(function(d) {
                                            (d =
                                                b(c.policyDocument, d)) && 0 < d.length && d.forEach(function(b) {
                                                a.push(b)
                                            })
                                        })
                                    }), c.userConsents)
                                    for (var e = 0; e < a.length; e++) {
                                        for (var f = a[e], g = null, k = 0; k < c.userConsents.length; k++) {
                                            var q = c.userConsents[k];
                                            if (f.usageId === q.usageId && f.purposeId === q.purposeId && f.legalEntityId === q.legalEntityId && f.policyId === q.policyId && f.country === q.country && f.majorVersion === q.majorVersion && f.minorVersion === q.minorVersion && f.touchpointId === q.touchpointId) {
                                                g = q;
                                                break
                                            }
                                        }
                                        if (g) {
                                            if (new Date(g.expirationDate) < Date.now() || "ACCEPT" != g.consent) d = !0
                                        } else d = !0;
                                        if (d) break
                                    } else d = !0;
                            return d
                        }
                    };
                return c
            }])
        }
    }
}();
mini.digital.comp.mymini.services = function() {
    return {
        init: function(b, f) {
            var k = f.data("mymini-resource-path"),
                g = f.data("md-date-short-format"),
                c = f.data("md-time-short-format");
            b.service("mdMyminiModelPageService", function() {
                return {
                    getServiceUrl: function(a, b) {
                        return window.location.protocol + "//" + window.location.host + "/bin/public/mini/modelpage?modelCode\x3d" + a + "\x26resourcePath\x3d" + k + "\x26configurationId\x3d" + b
                    }
                }
            });
            b.service("mdMyMiniPreferredDealerService", ["postal", "GcdmPrefillDealerService", "GcdmStorageService",
                function(a, b, c) {
                    function d() {
                        return a.channel("business-dealerlocator")
                    }
                    return {
                        getChannel: d,
                        publishSetPreferredDealer: function(a, b) {
                            d().publish({
                                topic: "setPreferredDealer",
                                data: {
                                    dealerKey: a,
                                    isLoggedIn: b
                                },
                                headers: {
                                    preserveOne: !0
                                }
                            })
                        },
                        selectPreferredDealer: function(a) {
                            a = a.dealer;
                            if (!a) b.deleteBusinessPartnerAllDealers(), c.remove(window.gcdm.STORAGE_KEY.PREFERRED_DEALER);
                            else if (a.attributes) {
                                var d = new window.gcdm.models.DealerWithAddress;
                                d.brand = a.category;
                                d.city = a.city;
                                d.country = a.country;
                                d.dist = a.dist;
                                d.distributionBranches = a.attributes.distributionBranches;
                                d.distributionPartnerId = a.attributes.distributionPartnerId;
                                d.facebookPlace = a.attributes.facebookPlace;
                                d.homepage = a.attributes.homepage;
                                d.lat = a.lat;
                                d.lng = a.lng;
                                d.mail = a.attributes.mail;
                                d.name = a.name;
                                d.outletId = a.attributes.outletId;
                                d.phone = a.attributes.phone;
                                d.postalCode = a.postalCode;
                                d.street = a.street;
                                b.savePreferredDealer(d)
                            }
                        }
                    }
                }
            ]);
            b.service("mdMyminiAvailableModelsService", ["$http", function(a) {
                return {
                    getModels: function() {
                        return a.get("/bin/public/mini/models?resourcePath\x3d" +
                            k)
                    }
                }
            }]);
            b.service("mdMyminiDateFormatService", [function() {
                return {
                    format: function(a) {
                        return void 0 === a || "" === a ? "" : dateFormat(a, g + " " + c)
                    }
                }
            }]);
            b.service("mdMyMiniCurrencyFormatService", function() {
                function a() {
                    this.currencyFormat;
                    this.currencySymbol;
                    this.decimalSeparator;
                    this.groupingSeparator;
                    this.grouping;
                    this.isSymbolLeft;
                    this.suffix
                }
                var b = function(a) {
                        return a.indexOf(".") < a.indexOf(",")
                    },
                    c = function(a) {
                        return a.indexOf("'") < a.indexOf(".")
                    };
                a.prototype = {
                    init: function(a) {
                        this.currencyFormat = a;
                        a = this.currencyFormat;
                        b(a) ? a = "," : (c(a), a = ".");
                        this.decimalSeparator = a;
                        a = this.currencyFormat;
                        a = b(a) ? "." : c(a) ? "'" : ",";
                        this.groupingSeparator = a;
                        this.currencySymbol = this.currencyFormat.match(/[^#,\.\d'-]/g).join("");
                        a = this.groupingSeparator;
                        this.grouping = this.currencyFormat.replace(this.currencySymbol, "").indexOf(a);
                        this.isSymbolLeft = 0 === this.currencyFormat.indexOf(this.currencySymbol) ? !0 : !1;
                        this.suffix = 0 < this.currencyFormat.indexOf(".-") ? ".-" : null
                    },
                    format: function(a) {
                        a = -1 < a.indexOf(".") ? Number(a).toFixed(2) : a;
                        a = a.replace(".",
                            this.decimalSeparator);
                        a = this.suffix ? a + this.suffix : a;
                        a = a.toString().replace(new RegExp("\\B(?\x3d(\\d{" + this.grouping + "})+(?!\\d))", "g"), this.groupingSeparator);
                        return this.isSymbolLeft ? this.currencySymbol + a : a + this.currencySymbol
                    }
                };
                var f = new a;
                return {
                    init: f.init,
                    format: f.format
                }
            })
        }
    }
}();
mini.digital.comp.mymini.app = function(b, f, k) {
    return {
        init: function(g, c) {
            var a = angular.module(b.appName, ["ngAnimate", "ui.router", "mdGcdm", "UFL", "SF.Widget.Financing"]),
                d = g.data("mymini-ucp");
            a.config(["UFL_AccessProvider", "$stateProvider", function(a, b) {
                a.baseUrl(d);
                b.state("home", {
                    templateUrl: "mymini.home.html"
                }).state("garage", {
                    templateUrl: "mymini.garage.html",
                    controller: "mdMyminiGarageController"
                }).state("setgarage", {
                    templateUrl: "mymini.garage.set.html",
                    controller: "mdMyminiSetGarageController",
                    params: {
                        setGarageAction: "save",
                        carItem: {}
                    }
                }).state("profile", {
                    templateUrl: c.profile
                }).state("profile-change", {
                    templateUrl: c.profileChange
                }).state("delete-account", {
                    templateUrl: c.deleteAccount
                }).state("login-id-change", {
                    templateUrl: c.loginIdChange
                }).state("login", {
                    templateUrl: c.login
                }).state("forgottenpassword", {
                    templateUrl: c.forgottenPassword
                }).state("changepassword", {
                    templateUrl: c.changePassword
                }).state("setpassword", {
                    templateUrl: c.setPassword
                }).state("registration", {
                    templateUrl: c.registration
                }).state("registration-check", {
                    templateUrl: c.registrationCheck
                }).state("activate", {
                    templateUrl: c.activation
                }).state("submitvco", {
                    templateUrl: c.vco
                })
            }]);
            a.run([function() {
                g.data("mymini-lang");
                g.data("mymini-uid");
                g.data("mymini-country");
                f(".md-mymini-app-preload").addClass("md-hidden")
            }]);
            b.directives.init(a, g);
            b.controllers.mymini.init(a, g);
            b.controllers.garage.init(a, g);
            b.controllers.setgarage.init(a);
            b.factories.init(a, g);
            b.services.init(a, g);
            return a
        },
        getGcdmAccessToken: function() {
            return JSON.parse(k.cookiecontroller.getPersistence("gcdm-accessToken"))
        }
    }
}(mini.digital.comp.mymini,
    mini.digital.$, mini.digital.util);
(function() {
    mini.digital.comp.headertoolbar = function(b, f, k, g) {
        function c() {
            g.cookiecontroller.checkPresentAndInit().then(function() {
                if (l = g.cookiecontroller.isUsageAllowed("gcdmToken")) u = g.cookiecontroller.getPersistence("gcdmToken"), k.publish("md:headertoolbar:init:cookie")
            })
        }

        function a(a) {
            p.addClass("md-disabled-" + a)
        }

        function d(a) {
            q.addClass("md-disabled-" + a)
        }

        function e(a) {
            q.removeClass("md-disabled-" + a)
        }

        function h(a) {
            p.removeClass("md-disabled-" + a)
        }
        var m, p, q, l, u = "",
            w;
        return {
            init: function(l) {
                m = k(l);
                w = m.data();
                p = m.find(".md-js-icn-search");
                q = m.find(".md-js-ht-share");
                k.subscribe("md:headertoolbar:init:cookie", function() {
                    var a = m.find(".md-js-ht-mymini");
                    u && 0 < u.length ? k(a).parent().addClass("md-ht-user-login") : k(a).parent().removeClass("md-ht-user-login")
                });
                c();
                g.cookiecontroller.registerOnConsentChange(c);
                g.cookiecontroller.registerOnInitialized(c);
                m.on("mouseenter", ".md-js-ht-mymini", function() {
                    k.publish("md:ht:mouseenter");
                    a("hover");
                    d("hover")
                }).on("mouseleave", ".md-js-ht-mymini", function() {
                    k.publish("md:ht:mouseleave");
                    h("hover");
                    e("hover")
                }).on("focus", ".md-js-ht-mymini", function() {
                    k.publish("md:ht:mouseenter");
                    a("hover");
                    d("hover")
                }).on("blur", ".md-js-ht-mymini", function() {
                    k.publish("md:ht:mouseleave");
                    h("hover");
                    e("hover")
                }).on("click", ".md-js-ht-mymini", function(c) {
                    k.publish("md:ht:click");
                    if (1 == w.enableOneLogin) {
                        var e = c.currentTarget,
                            f = e.parentNode;
                        f.classList.contains("md-js-has-submenu") ? f.classList.contains("md-open") ? (f.classList.remove("md-open"), e.setAttribute("aria-expanded", "false")) : (f.classList.add("md-open"),
                            e.setAttribute("aria-expanded", "true")) : e.setAttribute("aria-expanded", "false");
                        c.preventDefault()
                    } else c.preventDefault(), b.trigger();
                    a("persist");
                    d("persist")
                }).on("click", ".md-js-btn-login", function(a) {
                    a = w;
                    var b = a.oneLoginUrl,
                        c = btoa(window.location.href),
                        d = window.location.origin + a.gcdmRedirectUrl;
                    b = b.replace("${gcdmClient}", a.gcdmClient).replace("${gcdmBrand}", a.gcdmBrand).replace("${gcdmCountry}", a.gcdmCountry).replace("${gcdmLanguage}", a.gcdmLanguage).replace("${gcdmScope}", a.gcdmScope).replace("${gcdmResponseType}",
                        a.gcdmResponseType).replace("${redirectUri}", d).replace("${state}", c);
                    window.location.replace(b)
                }).on("click", ".md-js-btn-register", function(a) {}).on("click", ".md-js-icn-search", function(a) {
                    if (b.shelfIsOpen()) return !1;
                    var c = k(a.currentTarget).attr("target");
                    if ("_blank" === c || "_self" === c) return !0;
                    a.preventDefault();
                    f.trigger()
                });
                k.subscribe("md:mymini:closed", function() {
                    h("persist");
                    e("persist")
                });
                k.subscribe("md:myminishelf:myMiniContentLoaded", function() {
                    m.find(".md-js-ht-mymini").parent().removeClass("md-ht-hidden")
                })
            },
            enableSearch: h
        }
    }(mini.digital.comp.myminishelf, mini.digital.comp.search, mini.digital.$, mini.digital.util)
})();
mini.digital.comp.stickynavigation = mini.digital.comp.stickynavigation || {};
(function(b, f, k, g, c) {
    mini.digital.comp.stickynavigation = function() {
        function a(a) {
            a ? z.find(K.toggleCtas).remove() : b(K.navCtas).find(K.toggleCtas).clone(!0).appendTo(z)
        }

        function d() {
            z.addClass("md-stickynavigation-is-wide");
            b(".md-sn-panner").length ? b(".md-sn-panner").show() : (b(K.stickNav).append('\x3cspan class\x3d"md-sn-panner left md-icn-angle-left" data-scroll-modifier\x3d"-1"\x3e\x3c/span\x3e\x3cspan class\x3d"md-sn-panner right md-icn-angle-right" data-scroll-modifier\x3d"1"\x3e\x3c/span\x3e'), b(".md-sn-panner").on("mousedown touchstart",
                function() {
                    var a = b(this).data("scrollModifier");
                    a = parseInt(a, 10);
                    l(a)
                }).on("mouseup touchend", function() {
                clearInterval(v);
                v = 0
            }))
        }

        function e(a) {
            var c = 0,
                d = 2;
            a.find("li").each(function() {
                c += b(this).outerWidth(!0);
                d++
            });
            return c + d
        }

        function h() {
            z = b(".md-stickynavigation");
            B = z.find(".md-stickynavigation-item")
        }

        function m() {
            !g.wide.matches && Modernizr.touch ? (x(z), C.dom.tabDimensions(y), C.dom.centerActiveItemNoAnimation(z.find(".md-sn-item-active"))) : (C.dom.removeMargins(), p())
        }

        function p() {
            var a = C.dom.hasMoreThanOneItem();
            F = parseInt(b("body").offset().left, 10);
            q();
            u();
            z.toggleClass("md-sn-visible", a).toggleClass("md-sn-hidden", !a);
            x(z);
            t && g.wide.matches && !Modernizr.touch ? d() : b(".md-sn-panner").length && (z.removeClass("md-stickynavigation-is-wide"), b(".md-sn-panner").hide())
        }

        function q() {
            if (b(K.ctaWrapper).hasClass(N.stickShow)) {
                E.css({
                    left: 0,
                    right: 0
                });
                z.css({
                    width: "100%"
                });
                var a = {},
                    c = "padding-left";
                k && k.directionRTL && k.directionRTL.isEnabled && (c = k.directionRTL.isEnabled() ? "padding-right" : "padding-left");
                a[c] = F;
                z.find(K.stickNavContainer).css(a)
            } else E.css({
                left: "",
                right: ""
            }), z.css({
                left: "",
                right: ""
            }), z.find(K.stickNavContainer).removeAttr("style")
        }

        function l(a) {
            0 === v && (v = setInterval(function() {
                var b = z.find(".md-sn-container").scrollLeft() + 5 * a;
                z.find(".md-sn-container").scrollLeft(b)
            }, 10))
        }

        function u() {
            setTimeout(function() {
                O = b(".md-sn-two-part").length ? parseInt(z.parent().offset().top, 10) - 49 : parseInt(z.parent().offset().top, 10) + 2;
                w()
            }, 450)
        }

        function w() {
            if (b(f).scrollTop() >= O && 0 <= O) z.hasClass(N.stickShow) || (a(!1), C.dom.hasMoreThanOneItem() && !c.isRunning() &&
                (b(K.ctaWrapper).addClass(N.stickShow), b(K.pageLoader).addClass(N.stickNavOn), z.addClass(N.stickShow), b.publish("md:sn:positioned", ["fixed", z.height()]))), t && (b(K.toggleCtas).css({
                top: 49
            }), b(K.openCtas).css({
                top: 98
            })), !A || Modernizr.touch && !k.browser.isIPad || b(K.openCtas).css({
                top: 48
            });
            else {
                if (z.hasClass(N.stickShow)) {
                    a(!0);
                    b(K.ctaWrapper).removeClass(N.stickShow);
                    b(K.pageLoader).removeClass(N.stickNavOn);
                    z.removeClass(N.stickShow);
                    if (!g.wide.matches || Modernizr.touch) z.css("display", "none"), z.css("display",
                        "");
                    b.publish("md:sn:positioned", ["static"])
                }
                b(K.toggleCtas).css({
                    top: ""
                });
                b(K.openCtas).css({
                    top: ""
                })
            }
            q()
        }

        function r() {
            w()
        }

        function x(a) {
            y = e(a);
            t = y > b(K.main).width() - 90;
            a = e(b(K.openCtas));
            A = y > b(K.main).width() - a
        }
        var v = 0,
            t = !1,
            A = !1,
            z = {},
            B = {},
            E = {},
            y = {},
            C = {},
            O = {},
            I = {},
            F = 0,
            N = {
                stickShow: "md-sticky-show",
                stickNavOn: "md-sn-fixed-show",
                isWide: "md-stickynavigation-is-wide"
            },
            K = {
                ctaWrapper: ".md-nav-ctas-wrapper",
                pageLoader: ".md-page-loading-indicator",
                main: ".md-main",
                toggleCtas: ".md-toggle-ctas",
                openCtas: ".md-ctas",
                stickNav: ".md-stickynavigation",
                navCtas: ".md-nav-ctas .md-component",
                stickNavContainer: ".md-sn-container"
            };
        return {
            init: function(a) {
                z = b(a);
                E = b(".md-nav-ctas-fixedwrapper");
                B = z.find(".md-stickynavigation-item");
                C = mini.digital.comp.stickynavigation;
                mini.digital.comp.stickynavigation.carousel.init(z);
                x(z);
                I = b(".md-cs-accordion-delay-active").length && !g.wide.matches ? 51 : 2;
                O = parseInt(z.offset().top, 10) + I;
                t && g.wide.matches && !Modernizr.touch && (d(), B.each(function(a, c) {
                    b(c).find(".md-stickynavigation-item-link").click(function() {
                        var a =
                            b(c).find(".md-stickynavigation-item-link").outerWidth(!0),
                            d = z.find(".md-sn-container").outerWidth(!0),
                            e = b(c).find(".md-stickynavigation-item-link").position().left;
                        e < d / 4 && z.find(".md-sn-container").scrollLeft(-1 * a);
                        e > 3 * d / 4 && z.find(".md-sn-container").scrollLeft(d - a)
                    })
                }));
                !g.wide.matches && Modernizr.touch ? (C.dom.tabDimensions(y), C.dom.centerActiveItemNoAnimation(z.find(".md-sn-item-active"))) : C.dom.hasMoreThanOneItem() ? z.removeClass("md-sn-hidden").addClass("md-sn-visible") : z.removeClass("md-sn-visible").addClass("md-sn-hidden");
                b.subscribe("md:sn-carousel-animation-end", u);
                b.subscribe("md:mobilenav:closed", u);
                b.subscribe("md:mobilenav:open", u);
                b.subscribe("md:update-sn-items", h);
                b.subscribe("md:update-sn-items", p);
                b.subscribe("md:redraw:pageElements", p);
                b.subscribe("md:overlay:opening", r);
                b(f).on("scroll", k.throttle(function() {
                    z.hasClass("md-sn-hidden") || w()
                }));
                imagesLoaded(document).on("always", u).on("done", p).on("done", w);
                b.subscribe("md:resize", m);
                b.subscribe("md:resize", p);
                b.subscribe("md:overlay:closed", p)
            }
        }
    }()
})(mini.digital.$,
    window, mini.digital.util, mini.digital.util.matchmedia, mini.digital.comp.configurator);
(function(b, f, k) {
    mini.digital.comp.stickynavigation.dom = function() {
        var g = {},
            c = {},
            a = {},
            d = 0,
            e = {},
            h = {},
            m = {},
            p = !1,
            q = {},
            l = [],
            u = function(f) {
                e = b('\x3cdiv class\x3d"md-page-carousel-wrapper"\x3e\x3cdiv class\x3d"md-page-carousel"\x3e\x3cdiv class\x3d"md-page-carousel-visuals"\x3e\x3cdiv class\x3d"md-page-carousel-items"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
                h = e.find(".md-page-carousel-items");
                a.each(function() {
                    l.push('\x3cdiv class\x3d"md-page-carousel-item empty md-icnpre-loader"/\x3e')
                });
                h.prepend(l.join(""));
                c.nextAll().prependTo(h.find(".md-page-carousel-item:eq(" + d + ")").removeClass("empty"));
                f.closest("main").append(e)
            },
            w = function(f) {
                e = b('\x3cdiv class\x3d"md-page-carousel-wrapper"\x3e\x3cdiv class\x3d"md-page-carousel"\x3e\x3cdiv class\x3d"md-page-carousel-visuals md-page-carousel-visuals-top"\x3e\x3cdiv class\x3d"md-page-carousel-items"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"md-page-carousel-visuals md-page-carousel-visuals-bottom"\x3e\x3cdiv class\x3d"md-page-carousel-items"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
                h = e.find(".md-page-carousel-visuals-top .md-page-carousel-items");
                m = e.find(".md-page-carousel-visuals-bottom .md-page-carousel-items");
                a.each(function() {
                    l.push('\x3cdiv class\x3d"md-page-carousel-item empty md-icnpre-loader"/\x3e')
                });
                h.prepend(l.join(""));
                m.prepend(l.join(""));
                b(c.prevAll().get().reverse()).prependTo(h.find(".md-page-carousel-item:eq(" + d + ")").removeClass("empty"));
                c.nextAll().prependTo(m.find(".md-page-carousel-item:eq(" + d + ")").removeClass("empty"));
                f.closest("main").append(e);
                c.insertAfter(h.parent())
            },
            r = function(a) {
                if (a.length) {
                    var b = a.outerWidth(!0);
                    g.scrollLeft(g.scrollLeft() + a.position().left - g.width() / 2 + b / 2)
                }
            },
            x = function(a) {
                var b = c.outerWidth(),
                    d = 0;
                b > a && (d = (b - a) / 2);
                c.css("paddingLeft", d);
                c.last().css("paddingRight", d)
            },
            v = function() {
                return 1 < a.length
            },
            t = function(d) {
                g.find("ul").remove();
                d.find("ul").clone().appendTo(g.find(".md-sn-container"));
                g = b(".md-stickynavigation");
                c = g.parent();
                c.removeClass("md-sn-wrap-hidden");
                a = g.find("li");
                mini.digital.comp.stickynavigation.carousel.updateElements(a);
                b.publish("md:update-sn-items");
                !k.wide.matches && Modernizr.touch ? (x(a), r(g.find(".md-sn-item-active"))) : v() ? g.removeClass("md-sn-hidden").addClass("md-sn-visible") : g.removeClass("md-sn-visible").addClass("md-sn-hidden")
            },
            A = function(a) {
                b.each(g.find("li"), function(c, d) {
                    d = b(d).find("a").attr("href");
                    var e = a.find("li:eq(" + c + ") a").attr("href");
                    d !== e && q.eq(c).empty().addClass("empty")
                })
            },
            z = function(a, d, f, g) {
                d = f - d;
                var h = 0;
                c.addClass("md-moving-item");
                for (setTimeout(function() {
                            t(a);
                            c.removeClass("md-moving-item")
                        },
                        50); h < d;) b('\x3cdiv class\x3d"md-page-carousel-item empty md-icnpre-loader"/\x3e').insertAfter(q.last()), h++;
                q = e.find(".md-page-carousel-item");
                E(f, g)
            },
            B = function(a, b, d, e) {
                c.addClass("md-moving-item");
                setTimeout(function() {
                    c.removeClass("md-moving-item");
                    t(a)
                }, 350);
                q.eq(d).hasClass("empty") && E(d, e);
                q.eq(d).nextAll().remove()
            },
            E = function(a, c) {
                var d = q.eq(a);
                d.removeClass("empty").html(c);
                a = a < q.length ? a : q.length;
                if (-1 < a)
                    for (c = 0; c < a; c++) f.initialise(q[c]);
                f.initialise(d[0]);
                b.publish("md:page-content:updated",
                    [d])
            };
        return {
            init: function(f, k) {
                g = f;
                c = g.parent();
                a = g.find(".md-stickynavigation-item");
                p = k;
                var l = a.find(".md-sn-item-active").parent();
                l = a.index(l);
                var q = b.Deferred();
                d = l;
                k ? (w(f), f.addClass("md-sn-two-part")) : u(f);
                b.subscribe("md:configurator:initialised", function() {
                    e.fadeOut(1E3)
                });
                b.subscribe("md:configurator:unload", function() {
                    e.fadeIn(600)
                });
                q.resolve({
                    carouselMain: e,
                    snItems: a,
                    itemWrapper: h,
                    itemWrapperBottom: m,
                    itemIndex: l
                });
                return q.promise()
            },
            updateLayout: function(a, d, g) {
                var h = b(a).find(".md-stickynavigation").parent();
                if (p) {
                    d = e.find(".md-page-carousel-visuals-top .md-page-carousel-item:eq(" + g + ")");
                    var k = e.find(".md-page-carousel-visuals-bottom .md-page-carousel-item:eq(" + g + ")");
                    h.length ? ((a = h.prevAll().get()) && b(a.reverse()).prependTo(d.removeClass("empty")), h.nextAll().prependTo(k.removeClass("empty"))) : a.prependTo(k.removeClass("empty"));
                    f.initialise(d[0]);
                    f.initialise(k[0])
                } else {
                    if (b(".md-custom-selector").length) {
                        k = c.find(".md-sn-item-active").attr("data-sn-item-code");
                        var l = b(a).find(".md-cpiwrapper-area").html();
                        "home" === k && (k = "");
                        void 0 === mini.digital.util.cpiPageManager.cpiCache[k] && (mini.digital.util.cpiPageManager.cpiCache[k] = l)
                    }
                    h.length ? h.nextAll().prependTo(d.removeClass("empty")) : a.prependTo(d.removeClass("empty"));
                    f.initialise(d[0])
                }
                e.trigger("slider:animateToItem", g)
            },
            updateNavigationAndCarouselContent: function(a, d, f) {
                var g = parseInt(c.find("li").length - 1, 10),
                    h = parseInt(a.find("li").length - 1, 10),
                    k = parseInt(a.find(".md-sn-item-active").parent().index(), 10);
                q = e.find(".md-page-carousel-item");
                1 <= h &&
                    A(a);
                g > h ? B(a, g, h, d) : g < h ? z(a, g, h, d) : (t(a), E(h, d));
                e.trigger("slider:animateToItem", k);
                b.publish("md:content:updated", [f])
            },
            tabDimensions: x,
            removeMargins: function() {
                c.css("paddingLeft", "");
                c.last().css("paddingRight", "")
            },
            centerActiveItem: function(a) {
                var b = a.outerWidth(!0);
                g.stop().animate({
                    scrollLeft: g.scrollLeft() + a.position().left - g.width() / 2 + b / 2
                })
            },
            centerActiveItemNoAnimation: r,
            hasMoreThanOneItem: v,
            removeNavigation: function() {
                g.find("ul").remove();
                g.removeClass("md-sn-visible").addClass("md-sn-hidden");
                g.parent().addClass("md-sn-wrap-hidden")
            }
        }
    }()
})(mini.digital.$, mini.digital.util, mini.digital.util.matchmedia);
(function(b, f) {
    mini.digital.comp.stickynavigation.ajax = function() {
        var k, g = b('\x3cspan class\x3d"md-page-loading-indicator"\x3e\x3cspan class\x3d"md-icn-loader"\x3e\x3c/span\x3e\x3c/span\x3e'),
            c = function(a) {
                var c = b.Deferred(),
                    e = b(".md-custom-selector").length ? "main/contentwrapperforcpi" : "main",
                    h = f.getContentUrl(a, e);
                g.toggleClass("md-is-active", !0);
                b.ajax({
                    url: h,
                    data: {
                        value: 1
                    },
                    type: "get",
                    error: function(c, d, e) {
                        404 == c.status ? window.location.href = a : b(".md-page-loading-indicator").remove()
                    },
                    success: function(a) {
                        b.get(h,
                            null, null, "html").then(function(a) {
                            g.toggleClass("md-is-active", !1);
                            c.resolve(a)
                        })
                    }
                });
                return c.promise()
            };
        return {
            init: function(a) {
                a = k = a;
                b(".md-cpi-loading-indicator").length || a.prepend(g)
            },
            populateContent: function(a) {
                c(a.itemURL).then(function(c) {
                    c = b("\x3cdiv/\x3e").html(c);
                    mini.digital.comp.stickynavigation.dom.updateLayout(c, a.currentItem, a.itemIndex);
                    b.publish("md:cpi:content:loaded", [{
                        contentUrl: a.itemURL
                    }])
                });
                b(".md-youtubeplayer") ? setTimeout(function() {
                    b.publish("md:componentInitializer:init",
                        b(".md-youtubeplayer"))
                }, 1E3) : setTimeout(function() {
                    b(window).trigger("scroll")
                }, 1E3)
            }
        }
    }()
})(mini.digital.$, mini.digital.util);
(function(b, f, k, g, c, a, d, e, h, m, p, q) {
    mini.digital.comp.stickynavigation.carousel = function() {
        function g(a) {
            var b;
            a = a.find(".md-video-player \x3e *[id^\x3dplayer-]");
            a.length && a.each(function(a) {
                b = jwplayer(a.id);
                try {
                    b && b.getState && "PLAYING" === b.getState() && b.pause()
                } catch (N) {
                    console.log(N)
                }
            })
        }

        function u(b) {
            b.preventDefault();
            var d = a(b.target),
                f = d.attr("href"),
                g = d.hasClass("md-sn-item-active");
            if (f) {
                var k = d.attr("data-sn-item-code");
                b = a(b.currentTarget).index();
                var l = A.find("." + w.CAROUSEL_CLASSNAME_PREFIX +
                        "-item:eq(" + b + ")"),
                    q = {
                        stickyNavigation: z,
                        itemURL: f,
                        currentItem: l,
                        carouselMain: A,
                        itemIndex: b
                    };
                l.hasClass("empty") ? ("home" === k && (k = ""), void 0 === h.cpiCache[k] ? m.ajax.populateContent(q) : (m.dom.updateLayout(h.cpiCache[k], q.currentItem, q.itemIndex), g || a.publish("md:cpi:content:updated", [{
                    contentUrl: q.itemURL
                }]))) : (A.trigger("slider:animateToItem", b), g || a.publish("md:cpi:content:updated", [{
                    contentUrl: q.itemURL
                }]));
                z.find(".md-sn-item-active").removeClass("md-sn-item-active");
                d.addClass("md-sn-item-active");
                !e.wide.matches && Modernizr.touch && m.dom.centerActiveItem(d);
                p.isRunning() || ((k = d.data("pageTitle")) || (k = d.text()), (d = d.attr("href")) && c.pushState({
                    uri: d + window.location.search,
                    title: k
                }));
                g || a.publish("md:content:updated", [f])
            }
        }
        var w = {
                SCROLL_SWIPE_THRESHOLD: 8,
                SCROLL_SWIPE_ANGLE: 50,
                CLASSNAME_PREFIX: "md-stickynavigation",
                CAROUSEL_CLASSNAME_PREFIX: "md-page-carousel",
                CAROUSEL_EVENT_SLIDE_OUT: "md:carousel:slide:out",
                SLIDER: {
                    ANIM_DURATION: 750,
                    DRAG: .15,
                    FRICTION: .1,
                    SNAP: {
                        SLIDE_THRESHOLD: .3,
                        VELOCITY_THRESHOLD: .3,
                        DURATION: 550
                    }
                }
            },
            r = {},
            x = 0,
            v = !1,
            t = {},
            A = {},
            z = {},
            B = function(a, b) {
                this.$elem = b;
                this.notify = function() {}
            },
            E = function(a, b, c, d, e) {
                return -d * (b /= e) * (b - 2) + c
            },
            y = function(a) {
                t = a.map(function(a, b) {
                    return new B(a, b)
                }).toArray()
            },
            C = function(c, e, h) {
                var l = this,
                    m = 0,
                    p = 0,
                    u, z, B = !1,
                    C = !1,
                    R = function() {
                        l.pageSlider.setDimensions(new k(e.width(), e.height()))
                    };
                y(c);
                l.pageSlider = new b(t, d, E, A.find("." + w.CAROUSEL_CLASSNAME_PREFIX + "-visuals"));
                l.pageSlider.addConstraint(new f.Drag(w.SLIDER.DRAG));
                l.pageSlider.addConstraint(new f.EdgeResistance);
                l.pageSlider.addConstraint(new f.Decelerate(w.SLIDER.FRICTION));
                l.pageSlider.addConstraint(new f.SnapToGrid(w.SLIDER.SNAP.SLIDE_THRESHOLD, w.SLIDER.SNAP.VELOCITY_THRESHOLD, w.SLIDER.SNAP.DURATION));
                l.pageSlider.onUpdate(function(a, b) {
                    e.css("left", 100 * a.x / b.x + "%");
                    m = 100 * Math.round(a.x / b.x);
                    a = Math.round(-a.x / b.x);
                    x !== a && (x = a);
                    q.checkImages()
                });
                if (v) {
                    var H = function() {
                        d(H);
                        if (m !== p) {
                            var a = m - p;
                            p += a / 8;
                            .005 > Math.abs(a) && (p = m);
                            h.css("left", p + "%")
                        }
                    };
                    d(H)
                }
                R();
                a.subscribe("md:resize", R);
                a.subscribe("md:update-sn-items",
                    function() {
                        l.pageSlider.elements = t
                    });
                if (Modernizr.touch) A.find("." + w.CAROUSEL_CLASSNAME_PREFIX + "-visuals").on("touchstart", function(b) {
                    var c = b.originalEvent.touches[0];
                    u = new k(c.pageX, c.pageY);
                    B = !0;
                    C = !1;
                    "md-gallery-carousel" !== a(b.target).parents(".md-gallery-carousel").attr("class") ? l.pageSlider.start(u.clone()) : l.pageSlider.pauseLoop()
                }).on("touchmove", function(a) {
                    var b = a.originalEvent.touches[0];
                    z = new k(b.pageX, b.pageY);
                    B && (b = k.diff(z, u), b.mag() > w.SCROLL_SWIPE_THRESHOLD && (B = !1, Math.abs(180 * Math.atan(b.x /
                        b.y) / Math.PI) >= w.SCROLL_SWIPE_ANGLE ? C = !0 : (l.pageSlider.end(), l.pageSlider.pauseLoop())));
                    l.pageSlider.isDragging && (C && a.preventDefault(), l.pageSlider.move(z.clone()))
                }).on("touchend", function(b) {
                    C = !1;
                    l.pageSlider.end();
                    setTimeout(function() {
                        a(t[x].$elem).find("a").trigger("click");
                        l.pageSlider.pauseLoop()
                    }, w.SLIDER.SNAP.DURATION)
                });
                l.pageSlider.notifyListeners();
                l.animateToItem = function(b) {
                    var c = new k(-b * l.pageSlider.dimensions.x, 0),
                        d = A.find(".md-active-slide"),
                        e = w.CAROUSEL_CLASSNAME_PREFIX,
                        f, h, m;
                    r !== b && (l.pageSlider.animateTo(c, w.SLIDER.SNAP.DURATION), a.publish(w.CAROUSEL_EVENT_SLIDE_OUT, [d]), d.removeClass("md-active-slide"), g(d), setTimeout(function() {
                        A.find("." + e + "-visuals").each(function(c, d) {
                            a(d).find("." + e + "-item:eq(" + b + ")").addClass("md-active-slide")
                        });
                        f = v ? A.find("." + e + "-visuals-top .md-active-slide") : A.find(".md-active-slide");
                        h = f.find(".md-wrap-content").length || f.find(".md-cpi-area").length ? f.children().outerHeight() : f.wrapInner('\x3cdiv class\x3d"md-wrap-content"\x3e').children().outerHeight();
                        v && (m = A.find("." + e + "-visuals-bottom .md-active-slide").children().outerHeight(), A.find("." + e + "-visuals-bottom ." + e + "-item").css("max-height", m));
                        A.find("." + e + "-item").css("max-height", h || "");
                        A.find(".md-active-slide").css("max-height", "");
                        a.publish("md:sn-carousel-animation-end");
                        r = b
                    }, w.SLIDER.SNAP.DURATION))
                };
                l.jumpToStartItem = function(a) {
                    var b = new k(-a * l.pageSlider.dimensions.x, 0);
                    l.pageSlider.animateTo(b, 0);
                    m = 100 * Math.round(b.x / l.pageSlider.dimensions.x);
                    p = m - 1E-5;
                    A.find("." + w.CAROUSEL_CLASSNAME_PREFIX +
                        "-item:eq(" + a + ")").addClass("md-active-slide")
                }
            };
        return {
            init: function(b) {
                z = b;
                v = z.hasClass("md-stnav-both");
                void 0 === h.cpiCache && (h.cpiCache = {});
                if (a(".md-custom-selector").length) {
                    b = z.find(".md-sn-item-active").attr("data-sn-item-code");
                    var c = a(".md-cpiwrapper-area").html();
                    "home" === b && (b = "");
                    h.cpiCache[b] = c
                }
                m.dom.init(z, v).then(function(b) {
                    A = a(b.carouselMain);
                    var c = new C(b.snItems, b.itemWrapper, b.itemWrapperBottom);
                    A.on("slider:jumpToStartItem", function(a, b) {
                        c.jumpToStartItem(b)
                    }).on("slider:animateToItem",
                        function(a, b) {
                            c.animateToItem(b)
                        });
                    z.on("click", "." + w.CLASSNAME_PREFIX + "-item", u);
                    m.ajax.init(A);
                    A.trigger("slider:jumpToStartItem", b.itemIndex)
                })
            },
            updateElements: y
        }
    }()
})(mini.digital.util.slider.core, mini.digital.util.slider.constraints, mini.digital.util.vector, mini.digital.util.transitionEndEvent, mini.digital.util.historyManager, mini.digital.$, window.requestAnimationFrame, mini.digital.util.matchmedia, mini.digital.util.cpiPageManager, mini.digital.comp.stickynavigation, mini.digital.comp.configurator,
    mini.digital.util.lazyLoadImage);
(function() {
    mini.digital.comp.countryselector = function(b, f) {
        var k = {},
            g, c, a, d = {},
            e = Modernizr.csstransforms3d ? Modernizr.prefixed("transform") : "left",
            h = Modernizr.csstransforms3d ? "translate3d(%s%, 0, 0)" : "%s%",
            m, p, q = !!b(".md-landing-page").length,
            l = !1,
            u = document.documentElement.lang,
            w = {},
            r, x = function(a) {
                var c = b(a.currentTarget).parent().children(".md-pagesplit");
                c.is(".md-component-defer") && (c.removeClass("md-component-defer"), f.initialise(c));
                a.preventDefault()
            },
            v = function(a) {
                (a.sandbox && a.sandbox.find(a.selectorElem)).each(function(c,
                    d) {
                    c = b(d);
                    d = c.prev(a.selectorToggle);
                    var e;
                    d.one("click", x);
                    (e = c.data("pagesplit")) && e.destroy && e.destroy();
                    if (l && d.hasClass("md-footer-link-overlay")) return !0;
                    a.props.toggleLink = d;
                    c.pagesplit(a.props)
                })
            },
            t = function(a) {
                a.find(".md-js-footer-shelf-child").each(function(a, c) {
                    (a = b(c).data("pagesplit")) && a.destroy && a.destroy()
                })
            },
            A = function(a) {
                (l = !f.matchmedia.wide.matches) ? v({
                    sandbox: a,
                    selectorElem: ".md-js-footer-shelf-child",
                    selectorToggle: ".md-js-footer-shelf-toggle",
                    props: {
                        veil: !1,
                        direction: "both",
                        key: "footer",
                        level: 2
                    }
                }): t(a)
            },
            z = function() {
                A(d)
            },
            B = function(a) {
                var b = a.parents(".md-cts-form-item"),
                    c = b.find(".md-cts-form-error");
                if ("" !== a.val() && void 0 !== a.val()) return c.addClass("md-cts-form-hide"), b.removeClass("md-cts-form-has-error").addClass("md-cts-form-is-valid"), !0;
                c.removeClass("md-cts-form-hide");
                b.removeClass("md-cts-form-is-valid").addClass("md-cts-form-has-error");
                return !1
            },
            E = function(c) {
                m && p && a.each(function() {
                    var a = b(this);
                    a.data("lang") === c ? a.attr("disabled", !1).closest(".md-cts-form-item").removeClass("md-cts-form-hide") :
                        a.attr("disabled", !0).closest(".md-cts-form-item").addClass("md-cts-form-hide")
                })
            },
            y = function(a) {
                r = a.find("option:selected").data("value");
                E(r)
            },
            C = function() {
                if (m) {
                    var a = b(".md-cts-form-select-language").find("select");
                    (r = f.countryPreferences.getPreference("language")) ? a.find("option[data-value\x3d" + r + "]").attr("selected", !0): y(a);
                    a.on("change", function() {
                        y(a)
                    })
                }
            },
            O = function(a) {
                a = f.getLinkedUrl(window.location.href, a);
                window.location.href = a
            },
            I = function() {
                var d;
                if (p) {
                    var e = a.not("[disabled]");
                    (d = f.countryPreferences.getPreference("province")) &&
                    e.find("option[value\x3d" + d + "]").attr("selected", !0)
                }
                c.on("change", function(a) {
                    B(b(a.currentTarget))
                })
            },
            F = function() {
                g.on("submit", function(b) {
                    b.preventDefault();
                    b = !0;
                    if (m) {
                        var c = f.countryPreferences.getPreference("language");
                        if (r !== c) {
                            w.language = r;
                            var d = !0
                        } else w.language = c, q && (d = !0)
                    }
                    var e;
                    p && (c = a.not("[disabled]"), (e = B(c)) ? w.province = c.val() : b = !1, q && (d = !0));
                    d && b && (d = r || u, f.countryPreferences.setPreferences(w), O(d))
                })
            },
            N = function() {
                var a = b(".md-cts-bg-image-wrap"),
                    c = b(".md-cts-carousel-group");
                if (c.length) {
                    var f =
                        b(".md-cts-carousel-link");
                    f.each(function(a, c) {
                        b(c).data("slide-index", a)
                    }).on("click", function(f) {
                        f.preventDefault();
                        var g = b(f.target).data("slide-index");
                        f = b(f.target).data("bg-class") ? b(f.target).data("bg-class") : "";
                        g = 100 * (parseInt(g, 10) - 1);
                        c.css(e, h.replace("%s", g));
                        A(d);
                        a.length && (g = a.data("bg-class"), a.removeClass(g).addClass(f).data("bg-class", f))
                    })
                }
            },
            K = function() {
                k.each(function() {
                    var a = b(this);
                    14 < a.find(".md-cts-list-item").length && a.addClass("md-cts-col-wide")
                })
            },
            Q = function() {
                (m || p) && f.cookiecontroller.checkPresentAndInit().then(function() {
                    f.countryPreferences.isCookieAllowed()
                }).always(function() {
                    var a =
                        u.lastIndexOf("-") + 1;
                    a = u.substring(a);
                    w.country = a;
                    f.countryPreferences.init()
                })
            },
            G = function() {
                var a = [];
                b(".md-cts-form-select-language").find("select option").each(function() {
                    a.push(b(this).data("value"))
                });
                return a
            },
            J = function() {
                var a = !0;
                b("#autoRedirect").data("return") ? f.cookiecontroller.checkPresentAndInit().then(function() {
                    f.countryPreferences.isCookieAllowed() && (a = V())
                }).always(function() {
                    a && b("body").show()
                }) : b("body").show()
            },
            V = function() {
                var a = !0;
                if (0 !== window.document.referrer.indexOf(window.location.origin)) {
                    var c =
                        f.countryPreferences.getPreference("language");
                    if (c) a = !1, O(c);
                    else {
                        var d = navigator.language.substr(0, 2);
                        b.each(G(), function(b, c) {
                            if (0 === c.indexOf(d)) return w.language = c, f.countryPreferences.setPreferences(w), a = !1, O(c), !1
                        })
                    }
                }
                return a
            };
        return {
            init: function(e) {
                d = b(e);
                A(d);
                b.subscribe("md:resize", z);
                k = d.find(".md-cts-country-col");
                g = b(".md-cts-form");
                c = g.find("select");
                a = g.find(".md-cts-form-select-province select");
                m = !!b(".md-cts-form-select-language").length;
                p = !!a.length;
                K();
                Q();
                J();
                C();
                I();
                F();
                N()
            }
        }
    }(mini.digital.$,
        mini.digital.util)
})();
(function() {
    mini.digital.comp.logo = function(b) {
        var f, k;
        return {
            init: function(g) {
                f = b(g);
                k = f.find(".md-logo-link");
                b.subscribe("md:ht:mouseenter", function() {
                    f.addClass("md-disabled-hover")
                });
                b.subscribe("md:ht:click", function() {
                    f.addClass("md-disabled-persist")
                });
                b.subscribe("md:ht:mouseleave", function() {
                    f.removeClass("md-disabled-hover")
                });
                b.subscribe("md:mymini:closed", function() {
                    f.removeClass("md-disabled-persist")
                });
                k.on("click", function() {
                    if (mini.digital.comp.myminishelf.shelfIsOpen()) return !1
                })
            }
        }
    }(mini.digital.$)
})();
(function() {
    mini.digital.comp.contenttile = function(b) {
        function f(f) {
            f.on("click", k.overlayTrigger, function(c) {
                var a = b(c.currentTarget),
                    d = f.find(k.overlaySource);
                c.preventDefault();
                1 > d.length || (a.overlay({
                    source: d,
                    title: a.data("overlayTitle"),
                    style: a.data("overlayStyle"),
                    initialiseSource: !0
                }), a.data("overlay").openOverlay())
            })
        }
        var k = {
            overlayTrigger: ".md-contenttile-overlay-ctrl",
            overlaySource: ".md-contenttile-overlay"
        };
        return {
            init: function(g) {
                f(b(g))
            }
        }
    }(mini.digital.$)
})();
(function() {
    mini.digital.comp.contenttable = function(b, f) {
        function k(b) {
            var d = b.hasClass(h.scrollActive);
            f.matchmedia.wide.matches && d ? (b.removeClass(h.scrollActive), d = !1, b.data(e.scrollWrappers).$main.off("scroll touchstart touchmove touchend")) : f.matchmedia.wide.matches || d || (b.data(e.scrollWrappers) || a(b), b.addClass(h.scrollActive), d = !0, c(b));
            d && g(b)
        }

        function g(a) {
            var c = a.data(e.scrollWrappers);
            a.find("tr").css("height", "auto");
            c.$lead.find("tr").each(function(a, d) {
                d = b(d);
                a = c.$main.find("tr:eq(" +
                    a + ")");
                var e = d.outerHeight(),
                    f = a.outerHeight(),
                    g = e - f;
                0 < g ? a.height(e) : 0 > g && d.height(f)
            })
        }

        function c(a) {
            var b = a.data(e.scrollWrappers),
                c;
            b.$main.on("scroll", function() {
                var c = b.$main,
                    e = c.find(d.table).width();
                a.removeClass(h.scrollExtent);
                c.scrollLeft() + c.width() === e && a.addClass(h.scrollExtent)
            });
            if (Modernizr.touch) b.$main.on("touchstart", function() {
                a.addClass(h.scrollInteracting)
            }).on("scroll touchmove touchend", function() {
                c && clearTimeout(c);
                c = setTimeout(function() {
                        a.removeClass(h.scrollInteracting)
                    },
                    100)
            })
        }

        function a(a) {
            var c = a.find("table"),
                k = {
                    $main: b('\x3cdiv class\x3d"' + h.scrollMain + '"\x3e\x3c/div\x3e'),
                    $lead: b('\x3cdiv class\x3d"' + h.scrollLead + '"\x3e\x3c/div\x3e')
                },
                l = b('\x3cdiv class\x3d"' + h.scrollIndicator + '" style\x3d"margin-bottom:' + f.scrollbarsize() + 'px"\x3e\x3c/div\x3e\x3cdiv class\x3d"' + h.touchIcon + '"\x3e\x3c/div\x3e');
            a.data(e.scrollWrappers, k);
            k.$main.insertAfter(c).append(c.clone());
            a.append(l);
            c.find(d.cell + ":not(:first-child)").remove();
            k.$lead.insertAfter(c).append(c);
            0 < c.find("img").length &&
                b(function() {
                    g(a)
                })
        }
        var d = {
                scrollWrapper: ".md-contenttable-scroll",
                table: ".md-contenttable",
                cell: ".md-contenttable-cell"
            },
            e = {
                scrollWrappers: "scrollWrappers"
            },
            h = {
                scrollLead: "md-contenttable-scroll-lead",
                scrollMain: "md-contenttable-scroll-main",
                scrollActive: "md-contenttable-scroll-active",
                scrollInteracting: "md-contenttable-scroll-touched",
                scrollExtent: "md-contenttable-scroll-extent",
                scrollIndicator: "md-contenttable-scroll-decor",
                touchIcon: "md-contenttable-touch-scroll-icon md-icn-360-swipe-device"
            };
        return {
            init: function(a) {
                var c = b(a).find(d.scrollWrapper);
                c.length && (k(c), b.subscribe("md:resize", function() {
                    k(c)
                }))
            }
        }
    }(mini.digital.$, mini.digital.util)
})();
(function(b, f, k) {
    var g = function(b, a, d) {
        function c() {
            m.$content.removeClass(p).height("");
            m.$content.height(m.$content.height())
        }

        function g(a) {
            a = "boolean" === typeof a && a || !m.$el.hasClass(p);
            m.state = a ? "open" : "closed"
        }
        var m = this,
            p = (d + "-closed").slice(1),
            q = [];
        m.toggle = function(a) {
            if ("boolean" === typeof a && m.state !== (a ? "open" : "closed")) m.$el.toggleClass(p, !a).on(k.transitionEndEvent, function() {
                g(a);
                f.publish("md:contentexpander:toggle", [m])
            })
        };
        m.destroy = function() {
            for (; q.length;) f.unsubscribe(q.pop())
        };
        return function() {
            var a = f.Deferred(),
                e = b.find("img");
            m.$el = b;
            m.$content = b.find(d + "-content");
            m.$el.on("click", d + "-toggle", function() {
                var a = "closed" === m.state;
                m.toggle(a);
                a && k.scrollTo.element(m.$el, {
                    duration: 400
                })
            });
            e.length ? e.load(a.resolve).each(function(b, c) {
                c.complete && a.resolve()
            }) : a.resolve();
            q.push(f.subscribe("md:resize", c));
            a.done(c);
            g();
            return m
        }()
    };
    mini.digital.comp.contentexpander = function() {
        return {
            init: function(b) {
                b = f(b);
                b.data("contentexpander", new g(b, "contentexpander", ".md-contentexpander"))
            },
            teardown: function(b) {
                f(b).data("contentexpander").destroy();
                f.removeData(b, "contentexpander")
            }
        }
    }()
})(window, mini.digital.$, mini.digital.util);
(function(b, f, k) {
    mini.digital.comp.disclaimer = function() {
        function b(a) {
            var b = f(a.overlayContent),
                c = b.find(d.heading).first() || b.find(d.headerTitle),
                e = b.parents(d.overlayWrapper).find(d.overlayTitle);
            a.requester.is(".md-js-lightbox.md-disclaimer-btn") && (a = b.find(".parsys-column"), a.length && a.removeClass("md-colctrl").removeClass(function(a, b) {
                return (b.match(/\bmd-colctrl-\S+/g) || []).join(" ")
            }), c.length && (e.empty().append(c.clone().text()), c.remove()))
        }

        function c(a) {
            a = k.getContentUrl(a, "disclaimer");
            e.toggleClass("md-is-loading", !0);
            k.request.get(a, "html").then(function(a) {
                k.teardown(e);
                e.empty().append(a);
                k.initialise(e)
            }).always(function() {
                e.toggleClass("md-is-loading", !1)
            })
        }
        var a = [],
            d = {
                name: ".md-disclaimer",
                heading: '[class^\x3d"md-heading-"]',
                headerTitle: ".md-custom-overlay-header-title:first",
                overlayWrapper: ".md-custom-overlay-wrapper",
                overlayTitle: ".md-custom-overlay-title"
            },
            e;
        return {
            init: function() {
                e = e || f(d.name);
                a.push(f.subscribe("md:content:updated", c));
                a.push(f.subscribe("md:disclaimer:button:click",
                    function(a, b) {
                        "footer" === a && b.hash && (a = e.find(b.hash).closest(".md-component").data("contentexpander")) && a.toggle(!0)
                    }));
                a.push(f.subscribe("md:contentexpander:toggle", function(a) {
                    e[0] && f.contains(e[0], a.$el[0]) && f.publish("md:disclaimer:items:toggle", [a])
                }));
                a.push(f.subscribe("md:overlay:opened", b))
            },
            teardown: function() {
                for (; a.length;) f.unsubscribe(a.pop())
            }
        }
    }()
})(window, mini.digital.$, mini.digital.util);
mini.digital.comp.standardContentPageIntro = mini.digital.comp.standardContentPageIntro || {};
(function() {
    mini.digital.comp.standardContentPageIntro.common = {
        selector: {
            heading: ".heading",
            colText: ".parbase",
            genericList: ".genericlist",
            pageIntroInner: ".md-pageintro-inner",
            pageIntroTabContent: ".md-pageintro-tab-content"
        },
        cssClass: {
            typeH: "md-pageintro-type",
            active: "md-active"
        },
        events: {
            resize: "md:resize",
            toggleInit: "md:toggle:init",
            toggleUpdate: "md:toggle:update"
        }
    }
})();
(function(b, f, k, g) {
    k.typeh = function() {
        var c = k.common.selector,
            a = k.common.cssClass,
            d = k.common.events,
            e = {},
            f = {},
            g = {},
            p = function(a) {
                this.$elem = b(a);
                this.$pageIntroInner = {};
                this.$pageIntroTabContent = {};
                this.subToggleInit = [];
                this.subToggleUpdate = [];
                this.init.apply(this)
            };
        p.prototype = {
            bind: function(a, b) {
                return function() {
                    return a[b].apply(a, arguments)
                }
            },
            onToggleUpdate: function(c) {
                b.contains(this.$elem[0], c.toggle) && this.$pageIntroTabContent.removeClass(a.active).filter("[data-pageintro-tab-id\x3d" + c.value +
                    "]").addClass(a.active)
            },
            initListeners: function() {
                this.subToggleInit = b.subscribe(d.toggleInit, this.bind(this, "onToggleUpdate"));
                this.subToggleUpdate = b.subscribe(d.toggleUpdate, this.bind(this, "onToggleUpdate"))
            },
            setInternals: function() {
                this.$pageIntroInner = this.$elem.find(c.pageIntroInner);
                this.$pageIntroTabContent = this.$elem.find(c.pageIntroTabContent)
            },
            teardown: function() {
                b.unsubscribe(this.subToggleInit);
                b.unsubscribe(this.subToggleUpdate)
            },
            init: function() {
                this.setInternals();
                this.initListeners()
            }
        };
        f = function(c) {
            e = b(c);
            e.hasClass(a.typeH) && e.data("basicIntro", new p(e))
        };
        g = function(a) {
            (a = b(a).data("basicIntro")) && a.teardown()
        };
        return {
            init: f,
            teardown: g
        }
    }()
})(mini.digital.$, mini.digital.util.matchmedia, mini.digital.comp.standardContentPageIntro);
(function(b) {
    b.init = function(f, k) {
        for (var g in b) b.hasOwnProperty(g) && b[g].hasOwnProperty("init") && "function" === typeof b[g].init && b[g].init(f, k)
    };
    b.teardown = function(f) {
        for (var k in b) b.hasOwnProperty(k) && b[k].hasOwnProperty("teardown") && "function" === typeof b[k].teardown && b[k].teardown(f)
    }
})(mini.digital.comp.standardContentPageIntro = mini.digital.comp.standardContentPageIntro || {});
mini.digital.comp.columns = mini.digital.comp.columns || {};
(function() {
    mini.digital.comp.columns.common = {
        selector: {
            cols: ".md-columns-columns .parsys_column:gt(0)",
            heading: ".heading",
            colText: ".parbase",
            colsHeaders: ".md-columns-col-header",
            genericList: ".genericlist"
        },
        cssClass: {
            typeTriple: "md-columns-type-triple",
            active: "md-active"
        },
        events: {
            resize: "md:resize",
            toggleInit: "md:toggle:init",
            toggleUpdate: "md:toggle:update"
        }
    }
})();
(function(b, f, k, g) {
    k.typeTriple = function() {
        var c = k.common.selector,
            a = k.common.cssClass,
            d = k.common.events,
            e = {},
            g = {},
            m = {},
            p = function(a) {
                this.isNarrow = !1;
                this.$elem = b(a);
                this.$cols = {};
                this.$colsHeaders = {};
                this.subResize = [];
                this.init.apply(this)
            };
        p.prototype = {
            createWrapper: function() {
                this.$cols.each(function(a, d) {
                    a = b(d).find(c.genericList);
                    b(a.prevAll().get().reverse()).wrapAll('\x3cdiv class\x3d"' + c.colsHeaders.substr(1) + '"\x3e\x3c/div\x3e')
                });
                this.$colsHeaders = this.$elem.find(c.colsHeaders)
            },
            manageLayout: function() {
                var a = -1;
                this.isNarrow = !f.wide.matches;
                this.$colsHeaders.css("height", "");
                this.isNarrow || this.$colsHeaders.each(function(c, d) {
                    a = Math.max(a, b(d).outerHeight(!0))
                }).css("height", a)
            },
            initListeners: function() {
                this.subResize = b.subscribe(d.resize, this.manageLayout.bind(this))
            },
            setInternals: function() {
                this.$cols = this.$elem.find(c.cols)
            },
            teardown: function() {
                this.$colsHeaders.css("height", "");
                b.unsubscribe(this.subResize)
            },
            init: function() {
                this.setInternals();
                this.createWrapper();
                this.manageLayout();
                this.initListeners()
            }
        };
        e = function(c) {
            m = b(c);
            m.hasClass(a.typeTriple) && m.data("tripleColumn", new p(m))
        };
        g = function(a) {
            (a = b(a).data("tripleColumn")) && a.teardown()
        };
        return {
            init: e,
            teardown: g
        }
    }()
})(mini.digital.$, mini.digital.util.matchmedia, mini.digital.comp.columns);
(function(b) {
    b.init = function(f, k) {
        for (var g in b) b.hasOwnProperty(g) && b[g].hasOwnProperty("init") && "function" === typeof b[g].init && b[g].init(f, k)
    };
    b.teardown = function(f) {
        for (var k in b) b.hasOwnProperty(k) && b[k].hasOwnProperty("teardown") && "function" === typeof b[k].teardown && b[k].teardown(f)
    }
})(mini.digital.comp.columns = mini.digital.comp.columns || {});
(function(b) {
    mini.digital.comp.grid = function() {
        function f(f, g) {
            f = f.value;
            b("." + f).length && (g.find(".md-contenttile").hide(), g.find("." + f).parent().show())
        }
        return {
            init: function(k) {
                var g = b(k),
                    c = g.find(".md-grid-show-more-btn"),
                    a = g.find(".md-grid-show-less-btn");
                b.subscribe("md:toggle:init", function(a) {
                    f(a, g)
                });
                b.subscribe("md:toggle:update", function(a) {
                    f(a, g)
                });
                c.click(function(c) {
                    var d = b(c.target).closest(".md-grid").find(".md-grid-row:not(.md-grid-row-visible)");
                    d.first().addClass("md-grid-row-visible");
                    a.removeClass("md-grid-hide-btn");
                    2 > d.length && b(c.target).addClass("md-grid-hide-btn")
                });
                a.click(function(a) {
                    var d = b(a.target).closest(".md-grid").find(".md-grid-row.md-grid-row-visible");
                    d.last().removeClass("md-grid-row-visible");
                    c.removeClass("md-grid-hide-btn");
                    2 === d.length && b(a.target).addClass("md-grid-hide-btn")
                })
            }
        }
    }()
})(mini.digital.$);
(function() {
    mini.digital.comp.share = function(b, f, k, g) {
        var c = {},
            a = void 0,
            d = {},
            e = {},
            h = "",
            m = void 0,
            p = {},
            q = {
                eventInfo: {},
                category: {},
                attributes: {}
            },
            l = function(e, f) {
                var g = window.location,
                    h = g.search || "",
                    l = "";
                e = "string" === typeof e ? e : "";
                f = null != f ? f : !1;
                if ("" !== k.currentModel.history().url || e && (e.startsWith("#") || e.startsWith("configurationID")) || f) 1 < h.length && "" !== e && (h += "\x26"), h.startsWith("?configCode") && e.startsWith("configurationID") && (h = ""), 0 !== h.length || "" === e || e.startsWith("#") || (e = "?" + e), l = g.origin +
                    g.pathname + h + e, d.data("url", l).each(function(a, c) {
                        c.hasOwnProperty("shariff") && (b(c).empty(), delete c.shariff, c.shariff = new Shariff(c))
                    }), c.destroy(), c = null, c = b.mdOverlay({
                        deepClone: !0,
                        style: "share",
                        source: ".md-share:last"
                    }, null, a), A(), "" !== e && c.openOverlay()
            },
            u = function() {
                var a = b.subscribe("h5vco.vehicleAnonSaved", function(c) {
                    c && l("configurationID\x3d" + c);
                    b.unsubscribe(a)
                });
                b.publish("h5vco.saveVehicleAnon")
            },
            w = function(a) {
                b.publish("md:video:do:pause");
                d.data("url", window.location.href).each(function(a,
                    c) {
                    c.hasOwnProperty("shariff") && (b(c).empty(), delete c.shariff, c.shariff = new Shariff(c))
                });
                var k = b(a.currentTarget);
                a = k.data("anchorId");
                k = k.data("getParams");
                a && (l("#" + a, !0), m = a);
                k && l(k, !0);
                f && f.isRunning() ? u() : c.openOverlay();
                g.share.init(e, h);
                q.attributes.relatedComponentID = h;
                q.attributes.relatedComponentPrimaryCategory = "share";
                q.category.subCategory01 = "navigation";
                q.eventInfo.cause = "default";
                q.eventInfo.eventName = "open share";
                q.eventInfo.eventAction = "click";
                q.eventInfo.effect = "user opens a share";
                a = r(void 0);
                g.share.updateTracking(h, a);
                g.share.setCurrentEvent(q);
                t();
                p = b.subscribe("md:overlay:closing", v)
            },
            r = function(a) {
                return {
                    shareItemName: m ? m : document.title,
                    shareUrl: window.location.href + (m ? "#" + m : ""),
                    shareService: a ? a.closest(".shariff-button").attr("class").split(" ")[1] : "",
                    shareType: m ? "item" : f && f.isRunning() ? "configuration" : "page"
                }
            },
            x = function(a) {
                var c = b(a.currentTarget);
                c = r(c);
                g.share.updateTracking(h, c);
                q.category.subCategory01 = "success";
                "mail" !== c.shareService ? (a.preventDefault(), q.eventInfo.eventName =
                    "share via social network", q.eventInfo.effect = "user starts sharing with a social network " + c.shareService) : (q.eventInfo.eventName = "share via email", q.eventInfo.effect = "user starts sharing via email");
                g.share.setCurrentEvent(q)
            },
            v = function() {
                q.attributes.relatedComponentPrimaryCategory = "share";
                q.category.subCategory01 = "navigation";
                q.eventInfo.eventName = "close share";
                q.eventInfo.effect = "user closes a share overlay";
                g.share.setCurrentEvent(q);
                b.unsubscribe(p)
            },
            t = function() {
                A();
                var c = b(".md-site-wide-share-action");
                a && (c = b(".md-site-wide-share-action", a));
                c.each(function(a, c) {
                    a = b(c);
                    a.data("shareListenerAdded") || a.on("click", w).data({
                        shareListenerAdded: !0
                    })
                })
            },
            A = function() {
                var c = b(".md-share").find("li");
                a && (c = b(".md-share", a).find("li"));
                b(c).each(function(a) {
                    a = b(c[a]);
                    if (!a.data("shareListenerAdded")) a.data({
                        shareListenerAdded: !0
                    }).find("a").on("click", x)
                })
            };
        return {
            init: function(b, f, g, k) {
                b = g(b);
                e = k;
                k = window.location.href;
                d = b.find(".md-shariff-placeholder");
                d.data("url", k);
                h = b.data("componentId");
                d.each(function(a,
                    b) {
                    b.hasOwnProperty("shariff") || (b.shariff = new Shariff(b))
                });
                k = d.parents();
                a;
                for (b = 0; b < k.length; b++) g(k[b]).hasClass("md-external-share") && (a = g(k[b]));
                c = g.mdOverlay({
                    deepClone: !0,
                    style: "share",
                    source: ".md-share:last"
                }, null, a);
                t("$element");
                g.subscribe("md:currentModel:changed", l);
                g.subscribe("md:configurator:unload", l)
            },
            bindEvents: t
        }
    }(mini.digital.$, mini.digital.comp.configurator, mini.digital.util, mini.digital.tracking)
})();
(function() {
    mini.digital.tracking.share = function() {
        function b(b) {
            return "undefined" !== typeof b && "function" === typeof b ? !0 : !1
        }
        var f, k = {},
            g = {
                eventInfo: {
                    eventName: "share via social network",
                    eventAction: "click",
                    timeStamp: Date.now(),
                    eventPoints: "0",
                    cause: "default",
                    effect: "user starts sharing with a social network"
                },
                category: {
                    primaryCategory: "share",
                    subCategory01: "navigation"
                },
                attributes: {
                    relatedComponentID: "",
                    relatedComponentName: "ShareComponent",
                    relatedComponentPrimaryCategory: "share"
                }
            };
        return {
            init: function(c,
                a) {
                if ((f = c) && (b(f.getCurrentPageIndex) || b(f.getPageObject) || b(f.initComponentTracking))) {
                    c = f.getCurrentPageIndex();
                    var d = f.getPageObject(c);
                    c = void 0;
                    if (d) {
                        d = d.component;
                        for (var e = 0; e < d.length; e++)
                            if (d[e] && d[e].componentInfo && d[e].componentInfo.componentId == a) {
                                c = d[e];
                                break
                            }
                    }
                    k = void 0 === c ? f.initComponentTracking({
                        componentInfo: {
                            componentId: a,
                            componentName: "ShareComponent"
                        },
                        category: {
                            primaryCategory: "share",
                            subCategory01: ""
                        },
                        attributes: {
                            shareItemName: "",
                            shareUrl: "",
                            shareType: "",
                            shareService: ""
                        }
                    }, 0) : c
                }
            },
            updateTracking: function(c, a) {
                f && b(f.updateComponentTracking) && f.updateComponentTracking(k.componentIndex, {
                    componentInfo: {
                        componentId: c
                    },
                    attributes: a
                }, k.pageId)
            },
            setCurrentEvent: function(c) {
                f && b(f.addEventTracking) && (c.eventInfo.timeStamp = Date.now(), f.addEventTracking(g, c, k.pageId))
            }
        }
    }()
})();
(function(b, f) {
    var k = function(g, c, a) {
        function d(a) {
            a.preventDefault();
            a = b(a.currentTarget);
            var c = a.parent().index();
            if (x !== c || !r) {
                x = c;
                w && w.abort();
                r && clearTimeout(r);
                c = a.attr("href");
                var d = u.$content.children().eq(x);
                var f = b.trim(d.html());
                k(a, u.$tabs);
                k(d, u.$content);
                f || e(d, c);
                b.publish(E.tabChanged, a)
            }
        }

        function e(a, c) {
            r = setTimeout(function() {
                w && w.abort()
            }, 6E4);
            h(c).then(function(c) {
                c = b(c).html();
                clearTimeout(r);
                r = 0;
                w = null;
                a.removeClass(B.loader);
                a.html(c);
                f.initialise(a[0]);
                b.publish(E.tabContentLoaded,
                    a)
            })
        }

        function h(a) {
            a = f.getContentUrl(a);
            return w = f.request.get(a, "html")
        }

        function k(a, b) {
            b.find("." + B.active).removeClass(B.active);
            a.addClass(B.active)
        }

        function p() {
            u.scroller.tabviewWidth = u.$el.width();
            u.scroller.tabsWidth = u.$tabs.outerWidth();
            u.scroller.tabviewWidth < u.scroller.tabsWidth ? u.scroller.hasArrows || (u.$el.addClass(B.hasArrows), u.scroller.hasArrows = !0) : u.scroller.hasArrows && (u.$el.removeClass(B.hasArrows), u.scroller.hasArrows = !1, u.scroller.showing = 0, q())
        }

        function q() {
            u.$tabs.animate({
                left: -1 *
                    u.scroller.$tabItems.eq(u.scroller.showing).position().left
            }, 300)
        }

        function l(a) {
            var b = -1 === a.data.dir;
            0 === u.scroller.showing && b || u.scroller.showing === u.scroller.totalTabs && !b || (u.scroller.showing += a.data.dir, q())
        }
        var u = this,
            w, r, x = -1,
            v = a + "-active",
            t = a + "-tabs",
            A = a + "-content-wrap",
            z = a + "-tab-btn",
            B = {
                active: "md-tv-active",
                loader: "md-tv-loader",
                hasArrows: "md-tv-has-arrows",
                tabItem: "md-tv-tab-btn"
            },
            E = {
                tabContentLoaded: "md:tabview:tabContentLoaded",
                tabChanged: "md:tabview:tabChanged"
            };
        (function() {
            u.$el = g;
            u.$name = c;
            u.$tabs = g.find(t);
            u.$content = g.find(A);
            var a = b('\x3cbutton class\x3d"md-tv-arrow md-tv-back"\x3e\x3c/button\x3e'),
                e = b('\x3cbutton class\x3d"md-tv-arrow md-tv-forward"\x3e\x3c/button\x3e'),
                f = u.$tabs.children(".md-tv-tab-item");
            u.$el.append(a);
            u.$el.append(e);
            a.on("click", {
                dir: -1
            }, l);
            e.on("click", {
                dir: 1
            }, l);
            u.scroller = {
                tabsWidth: 0,
                tabviewWidth: 0,
                hasArrows: !1,
                showing: 0,
                $tabItems: f,
                totalTabs: f.length - 1
            };
            p();
            b.subscribe("md:resize", p);
            u.$tabs.data("staticLinks") || (g.on("click." + c, z, d), a = u.$tabs.find(v),
                a.length || (a = u.$tabs.children().first().find("a")), a.trigger("click." + c), g.data(c, u))
        })()
    };
    k.prototype = {
        destroy: function() {
            this.$el.off("." + this.name);
            this.$el.data(this.name, "")
        }
    };
    mini.digital.comp.tabview = function() {
        return {
            init: function(f) {
                f = b(f);
                return new k(f, "tabview", ".md-js-tabview")
            },
            teardown: function(f) {
                (f = b(f).data("tabview")) && f.destroy()
            }
        }
    }()
})(mini.digital.$, mini.digital.util);
mini.digital.comp.selectormanager = mini.digital.comp.selectormanager || {};
(function() {
    mini.digital.comp.selectormanager.overlayManager = function(b, f, k, g, c) {
        var a = {},
            d = [],
            e = function(d) {
                var e = k.get(),
                    l = k.isModelRangePage(),
                    m = k.isModelPage();
                l ? b.publish("md:configurator:model:changed") : m ? a && a.modelCode && a.modelCode === e.modelCode ? b.publish("md:configurator:model:changed") : e.multipleTransmissions && "1" === e.multipleTransmissions ? b.publish("md:transmissiondriveselector:transmission") : (b.publish("md:customselector:loading:add", ["md:configurator:loading"]), g.manageConfiguratorLoaded({
                        modelCode: e.modelCode
                    },
                    function() {
                        c.loadingRemove("md:configurator:loading");
                        f.setInAppAction()
                    }), h(d)) : b.publish("md:configurator:model:changed")
            },
            h = function(a) {
                if (digital && digital.tracking) {
                    var b = digital.tracking.getInstance(window.dataLayer);
                    b.isTrackingDisabled() || (a.trackedEvent.eventInfo.effect = "start of configuration process", a.trackedEvent.eventInfo.name = "configurator start", b.addEventTracking(a.trackedEvent, a.trackedEvent, a.pageIndex))
                }
            },
            m = function(b) {
                a = b
            };
        return {
            initialize: function() {
                d.push(b.subscribe("md:selectormanager:render",
                    e));
                d.push(b.subscribe("h5vco.configurationChanged", m))
            },
            teardown: function() {
                b.each(d, function(a, c) {
                    b.unsubscribe(c)
                });
                d = []
            }
        }
    }(mini.digital.$, mini.digital.util.historyManager, mini.digital.util.currentModel, mini.digital.comp.configurator, mini.digital.comp.customselector.loadingIndicator)
})();
(function() {
    mini.digital.comp.selectormanager.teardown = function(b) {
        var f = mini.digital.comp.transmissiondriveselector,
            g;
        for (g in f) f.hasOwnProperty(g) && f[g].hasOwnProperty("teardown") && "function" === typeof f[g].teardown && f[g].teardown(b)
    };
    var b = mini.digital.comp.selectormanager;
    b.hasOwnProperty("overlayManager") && b.overlayManager.hasOwnProperty("initialize") && "function" === typeof b.overlayManager.initialize && b.overlayManager.initialize()
})();
(function() {
    mini.digital.comp.quicklinks = function(b, f) {
        return {
            init: function(k) {
                k = b(k).find(".md-quicklinks-child-item").find("a[data-overlay]");
                f.ctaOverlay(k);
                k.on("click", function(f) {
                    f.preventDefault();
                    b(".md-pagesplit-veil").hasClass("md-visible") && b.publish("md:pagesplit:close:noscroll")
                })
            }
        }
    }(mini.digital.$, mini.digital.comp.ctas)
})();
(function() {
    var b = function(b) {
        function f() {
            a.scroller.tabviewWidth = a.$el.width();
            a.scroller.tabsWidth = a.$tabs.outerWidth();
            a.scroller.tabviewWidth < a.scroller.tabsWidth ? a.scroller.hasArrows || (a.$tabContainer.addClass(d.hasArrows), a.scroller.hasArrows = !0) : a.scroller.hasArrows && (a.$tabContainer.removeClass(d.hasArrows), a.scroller.hasArrows = !1, a.scroller.showing = 0, g())
        }

        function g() {
            a.$tabs.animate({
                left: -1 * a.scroller.$tabItems.eq(a.scroller.showing).position().left
            }, 300)
        }

        function c(b) {
            var c = -1 === b.data.dir;
            0 === a.scroller.showing && c || a.scroller.showing === a.scroller.totalTabs && !c || (a.scroller.showing += b.data.dir, g())
        }
        var a = this,
            d = {
                active: "md-tp-tab-name-active",
                hasArrows: "md-tp-tablist-has-arrows",
                tabVisible: "md-tp-tab-visible"
            };
        a.$el = b;
        a.$tabContainer = a.$el.find(".md-tp-tab-tabs");
        a.$tabs = a.$el.find(".md-tp-tab-tabs-container");
        a.$tabItems = a.$el.find(".md-tp-tab-tab");
        a.$tabToggles = a.$el.find(".md-tp-tab-name");
        a.$tabContents = a.$el.find(".md-tp-tab-list");
        (function() {
            a.$tabToggles.each(function(b, c) {
                var e =
                    $(c);
                e.click(function() {
                    var b = e.data("tabbedparsystabId");
                    a.$tabToggles.removeClass(d.active);
                    a.$tabItems.removeClass(d.tabVisible);
                    a.$tabItems.eq(b).addClass(d.tabVisible);
                    e.addClass(d.active)
                })
            })
        })();
        (function() {
            var b = a.$tabContainer.find(".md-tp-tab-list-back"),
                d = a.$tabContainer.find(".md-tp-tab-list-forward"),
                g = a.$tabs.find(".md-tp-tab-name");
            b.on("click", {
                dir: -1
            }, c);
            d.on("click", {
                dir: 1
            }, c);
            a.scroller = {
                tabsWidth: 0,
                tabviewWidth: 0,
                hasArrows: !1,
                showing: 0,
                $tabItems: g,
                totalTabs: g.length - 1
            };
            f();
            $.subscribe("md:resize",
                f)
        })()
    };
    mini.digital.comp.tabbedparsystabs = function(f) {
        return {
            init: function(k) {
                k = f(k);
                return new b(k)
            }
        }
    }(mini.digital.$)
})();
(function() {
    mini.digital.comp.dealerSummary = function(b, f) {
        function k() {
            var a = f.cookiecontroller.getPersistence("gcdm-preferredDealer");
            null !== a && (l = JSON.parse(a), l.hasOwnProperty("MINI") && (p = parseInt(l.MINI.distributionPartnerId, 10), q = parseInt(l.MINI.outletId, 10)), p === e && q === h ? u.addClass("md-dealer-icon-visible") : u.removeClass("md-dealer-icon-visible"))
        }

        function g() {
            var a = d.data("domain");
            d.data("dealerUrl");
            var b = "",
                c = "";
            e && h && (c = e + "_" + h + "|" + encodeURI(m));
            void 0 !== a && -1 == a.indexOf("localhost") &&
                (a = "." + a);
            if (w) {
                var f = new Date;
                f.setTime(+f + 864E5 * r.EXPIRY_DAYS);
                b += r.LAST_VISITED_DEALER_COOKIE + "\x3d" + c + ";";
                b += "expires\x3d" + f.toGMTString() + ";";
                document.cookie = b + "path\x3d/;" + ("domain\x3d" + a + ";")
            }
        }

        function c(a) {
            a.on("click", function(a) {
                a.preventDefault();
                b(this).parent().next("div.md-ds-address-list").slideToggle();
                b(this).toggleClass("closed")
            })
        }

        function a() {
            var a = d.find(".md-ds-directions").parent();
            a.addClass("wide-only");
            a = a.clone();
            a.removeClass("wide-only").addClass("narrow-only cloned");
            d.find(".md-ds-addressinfo-openinghours").parent().after(a);
            a = d.find(".md-ds-addressinfo-social");
            a.addClass("wide-only");
            a = a.clone();
            a.removeClass("wide-only").addClass("narrow-only cloned");
            d.find(".md-ds-preview").after(a);
            a.wrap('\x3cdiv class\x3d"md-ds-addressinfo" /\x3e');
            a.wrap('\x3cdiv class\x3d"md-ds-addressinfo-content-container" /\x3e');
            a.wrap('\x3cdiv class\x3d"md-ds-addressinfo-column" /\x3e')
        }
        var d, e, h, m, p, q, l, u, w, r = {
            EXPIRY_DAYS: 31,
            LAST_VISITED_DEALER_COOKIE: "cc_last_visited_dealer"
        };
        return {
            init: function(l) {
                d = b(l);
                u = d.find(".md-dealer-saved");
                f.cookiecontroller.checkPresentAndInit().done(function() {
                    w = f.cookiecontroller.isUsageAllowed(r.LAST_VISITED_DEALER_COOKIE)
                });
                e = d.data("mdDistributionId");
                h = d.data("mdOutletId");
                m = d.data("mdDealerName");
                g();
                k();
                d.hasClass("md-dealersummary-v2") && (c(d.find(".md-toggle-address \x3e a")), a())
            },
            getLastVisitedCookieName: function() {
                return r.LAST_VISITED_DEALER_COOKIE
            }
        }
    }(mini.digital.$, mini.digital.util)
})();
(function() {
    mini.digital.comp.addresses = function(b) {
        function f() {
            m.each(function(a, c) {
                var d = b(c);
                d.click(function() {
                    var a = d.data("addressId");
                    m.removeClass(l.active);
                    h.removeClass(l.addressVisible);
                    q.find('[data-address-id\x3d"' + a + '"]').addClass(l.addressVisible);
                    d.addClass(l.active)
                })
            })
        }

        function k() {
            p.tabviewWidth = a.width();
            p.tabsWidth = e.outerWidth();
            p.tabviewWidth < p.tabsWidth ? p.hasArrows || (d.addClass(l.hasArrows), p.hasArrows = !0) : p.hasArrows && (d.removeClass(l.hasArrows), p.hasArrows = !1, p.showing =
                0, g())
        }

        function g() {
            e.animate({
                left: -1 * p.$tabItems.eq(p.showing).position().left
            }, 300)
        }

        function c(a) {
            var b = -1 === a.data.dir;
            0 === p.showing && b || p.showing === p.totalTabs && !b || (p.showing += a.data.dir, g())
        }
        var a, d, e, h, m, p, q, l = {
            active: "md-ds-address-name-active",
            hasArrows: "md-ds-addresslist-has-arrows",
            addressVisible: "md-ds-address-visible"
        };
        return {
            init: function(g) {
                a = b(g);
                d = a.find(".md-ds-address-tabs");
                e = a.find(".md-ds-address-tabs-container");
                h = a.find(".md-ds-address-tab");
                m = a.find(".md-ds-address-name");
                q = a.find(".md-ds-address-list");
                f();
                g = d.find(".md-address-list-back");
                var l = d.find(".md-address-list-forward"),
                    r = e.find(".md-ds-address-name");
                g.on("click", {
                    dir: -1
                }, c);
                l.on("click", {
                    dir: 1
                }, c);
                p = {
                    tabsWidth: 0,
                    tabviewWidth: 0,
                    hasArrows: !1,
                    showing: 0,
                    $tabItems: r,
                    totalTabs: r.length - 1
                };
                k();
                b.subscribe("md:resize", k)
            }
        }
    }(mini.digital.$)
})();
(function() {
    mini.digital.comp.addressinfo = function(b) {
        var f = [],
            k = function() {
                function c() {
                    g.change(function() {
                        a()
                    })
                }

                function a() {
                    e.each(function(a, c) {
                        b(c).removeClass("md-ds-address-hours-visible")
                    });
                    f.find('[data-department-name\x3d"' + g.val() + '"]').addClass("md-ds-address-hours-visible")
                }
                var d, e, f, g;
                return {
                    init: function(a) {
                        d = b(a);
                        e = d.find(".md-ds-address-hours-set");
                        f = d.find(".md-ds-address-hours-sets");
                        g = d.find("select");
                        c()
                    }
                }
            },
            g = function() {
                function c() {
                    var a = require("core/Messagebus"),
                        b = {
                            topic: "GetViewOnlyDealer",
                            headers: {
                                preserveOne: !0
                            }
                        };
                    a.channel("business-dealerlocator").subscribe("DealerLoaded", function(a) {
                        M = !0;
                        u.setData(a)
                    });
                    M || a.channel("business-dealerlocator").publish(b)
                }

                function a() {
                    r.click(function() {
                        v.hasClass("md-ds-addressinfo-services-visible") ? (v.removeClass("md-ds-addressinfo-services-visible"), x.removeClass("md-icn-angle-up").addClass("md-icn-angle-down")) : (v.addClass("md-ds-addressinfo-services-visible"), x.removeClass("md-icn-angle-down").addClass("md-icn-angle-up"))
                    })
                }

                function d(a) {
                    return (a =
                        a.data("address-sequence")) ? b.map(a.match(/[^\{\}]+/g), function(a) {
                        return b.trim(a)
                    }) : ""
                }

                function e(a) {
                    var c = "";
                    b(Q).each(function(b, d) {
                        "br" === d ? c += "\x3cbr/\x3e" : "space" === d ? c += " " : a[d] && (c += '\x3cspan data-field\x3d"' + d + '"\x3e' + a[d] + "\x3c/span\x3e")
                    });
                    t.html("");
                    t.append(b(c));
                    G = !0
                }

                function f(a) {
                    if (a.key.length) {
                        b.trim(z.html());
                        void 0 === G && e(a);
                        O.attr("href", "http://maps.google.com/maps?q\x3d" + a.lat + "," + a.lng + "\x26ll\x3d" + a.lat + "," + a.lng + "z\x3d17");
                        a.attributes.hasOwnProperty("phone") ? A.attr("href",
                            "tel://" + a.attributes.phone.replace(/\D/g, "")).text(a.attributes.phone) : A.parent().css("display", "none");
                        a.attributes.hasOwnProperty("mail") ? z.attr("href", "mailto:" + a.attributes.mail).text(a.attributes.mail) : z.parent().css("display", "none");
                        var c = void 0 !== C.attr("href");
                        c || (a.attributes.hasOwnProperty("facebookPlace") && "" === a.attributes.facebookPlace ? C.parent().remove() : (C.attr("href", a.attributes.facebookPlace), c = !0));
                        c && V.find(".md-ds-addressinfo-social").removeClass("md-ds-addressinfo-hidden");
                        g(p(a, "F"), F);
                        g(p(a, "G"), N);
                        g(p(a, "T"), K);
                        c = I.data("reviews");
                        void 0 !== c && c.setDealerData(a.attributes.distributionPartnerId, a.attributes.outletId)
                    }
                }

                function g(a, b) {
                    b.find(".md-icn-check").toggleClass("md-icn-service-visible", a);
                    b.find(".md-icn-close").toggleClass("md-icn-service-visible", !a)
                }

                function p(a, b) {
                    return a && a.attributes && a.attributes.distributionBranches ? -1 < a.attributes.distributionBranches.indexOf(b) : !1
                }

                function q(a) {
                    var b = a.find("a[data-return-url]");
                    b.length && b.each(function(a) {
                        a = b.eq(a);
                        if (void 0 !== a) {
                            var c = a.attr("href");
                            if (c) var d = c.replace(/.html$/gi, "") + ".html#returnURL\x3d" + window.location.href;
                            a.attr("href", d)
                        }
                    })
                }
                var l, u = this,
                    w = [],
                    r, x, v, t, A, z, B, E, y, C, O, I, F, N, K, Q, G, J = [],
                    V, M = !1;
                return {
                    init: function(e) {
                        l = b(e);
                        r = l.find(".md-ds-addressinfo-services-toggle");
                        v = l.find(".md-ds-addressinfo-services");
                        x = r.find(".md-ds-addressinfo-services-toggle-icn");
                        l.find(".md-ds-addressinfo-address");
                        t = l.find(".md-ds-addressinfo-gcdm-address-wrapper");
                        A = l.find(".md-ds-addressinfo-gcdm-phone");
                        z =
                            l.find(".md-ds-addressinfo-gcdm-email");
                        B = l.find(".md-ds-addressinfo-mail");
                        E = l.find(".md-ds-addressinfo-mail-two");
                        y = l.find(".md-ds-addressinfo-social");
                        C = y.find(".md-ds-addressinfo-facebook-cta");
                        y.find(".md-ds-addressinfo-twitter-cta");
                        y.find(".md-ds-addressinfo-google-cta");
                        y.find(".md-ds-addressinfo-instagram-cta");
                        y.find(".md-ds-addressinfo-pinterest-cta");
                        O = l.find(".md-ds-addressinfo-directions");
                        F = l.find(".md-ds-addressinfo-service-cat-f");
                        N = l.find(".md-ds-addressinfo-service-cat-g");
                        K = l.find(".md-ds-addressinfo-service-cat-t");
                        I = l.find(".md-ds-reviews");
                        J = l.attr("data-address-data");
                        if ((J = J.split(",")) && 0 < J.length) {
                            for (e = 0; e < J.length; e++) J[e] = atob(J[e]);
                            J[0] && 0 < J[0].length && B.attr("href", "mailto:" + J[0]).text(J[0]);
                            1 < J.length && J[1] && 0 < J[1].length && E.attr("href", "mailto:" + J[1]).text(J[1])
                        }
                        V = b('[data-address-id\x3d"0"]');
                        Q = d(l);
                        q(l);
                        u.setData = function(a) {
                            "true" !== l.attr("data-ds-addressinfo-ignore-gcdm-data") && (Q || (Q = d(l)), f(a))
                        };
                        l.data("addressInfo", u);
                        a();
                        l.find(".md-ds-addressinfo-openinghours").each(function(a, b) {
                            a = new k;
                            a.init(b);
                            w.push(a)
                        });
                        M = !1;
                        c()
                    },
                    setData: f
                }
            };
        return {
            init: function(b) {
                var a = new g;
                a.init(b);
                f.push(a)
            }
        }
    }(mini.digital.$)
})();
(function() {
    mini.digital.comp.dealerReviews = function(b) {
        function f(a) {
            var c = a.target,
                e = a.roundedRatingValue,
                f = a.ratingValue - e;
            a = Math.ceil(a.totalValue);
            for (var g, k = 1; k <= a; k++) {
                g = k <= e ? "md-icnpost-star-full" : 0 < f && k === e + 1 ? "md-icn-star-half" : "md-icnpost-star-full md-icn-star-blank";
                var q = b("\x3cspan\x3e");
                "md-icn-star-half" == g ? q.append("\x3cdiv class\x3d'md-icn-star-half' style\x3d'font-size:20px'\x3e\x3cspan class\x3d'md-icn-alt'\x3estar-half\x3c/span\x3e\x3c/div\x3e") : q.addClass(g);
                c.append(q)
            }
        }
        var k = [],
            g = function() {
                function a() {
                    l.click(function(a) {
                        var c = b(a.currentTarget),
                            d = c.closest(".md-ds-reviews");
                        A = c.data("mdReviewFilter");
                        c.overlay({
                            title: p.data("mdOverlayTitle"),
                            source: d.find(".md-ds-review-overlay-content"),
                            style: "lrg"
                        });
                        v = b.subscribe("md:overlay:opened", k);
                        c.data("overlay").toggleOverlay(a)
                    })
                }

                function c() {
                    x.each(function(a, c) {
                        b(c).click(function(a) {
                            a = b(a.currentTarget).data("mdReviewFilter");
                            e(a)
                        })
                    })
                }

                function e(a) {
                    x.removeClass("md-ds-tab-selected");
                    r.find('[data-md-review-filter\x3d"' +
                        a + '"]').addClass("md-ds-tab-selected");
                    "sales" === a ? (u.removeClass("md-ds-review-hidden"), w.addClass("md-ds-review-hidden")) : (u.addClass("md-ds-review-hidden"), w.removeClass("md-ds-review-hidden"))
                }

                function g(a, c) {
                    var d = b('\x3cdiv class\x3d"md-ds-review-indv-review"\x3e'),
                        e = b('\x3cdiv class\x3d"md-ds-review-indv-visual"\x3e'),
                        g = b('\x3cspan class\x3d"md-ds-review-indv-rating"\x3e'),
                        h = b('\x3cspan class\x3d"md-ds-review-indv-average-rating"\x3e'),
                        k = b('\x3cspan class\x3d"md-ds-review-indv-comment"\x3e');
                    f({
                        target: g,
                        ratingValue: c.ratingValue,
                        roundedRatingValue: Math.floor(c.ratingValue),
                        totalValue: c.ratingStars
                    });
                    k.html(c.userComment);
                    h.html(c.ratingValue);
                    e.append(g);
                    e.append(h);
                    d.append(e);
                    d.append(k);
                    a.append(d)
                }

                function k(a) {
                    if (!b(a.requester).is(".md-ds-review-overlay-toggle")) return !1;
                    b.unsubscribe(v);
                    q = b(a.overlayContent);
                    q.parent().find(".md-ds-review-overlay-content").removeClass("md-ds-review-overlay-content-hidden");
                    x = q.find(".md-ds-review-tab");
                    r = q.find(".md-ds-review-indv-tabs");
                    u = q.find(".md-ds-reviews-sales-indv");
                    w = q.find(".md-ds-reviews-servicing-indv");
                    e(A);
                    c()
                }
                var p, q, l, u, w, r, x, v, t, A;
                return {
                    init: function(b) {
                        p = b;
                        l = p.parent().find(".md-ds-review-overlay-toggle");
                        u = p.find(".md-ds-reviews-sales-indv");
                        w = p.find(".md-ds-reviews-servicing-indv");
                        x = p.find(".md-ds-review-tab");
                        r = p.find(".md-ds-review-indv-tabs");
                        a()
                    },
                    setData: function(a) {
                        t = a;
                        var b;
                        if (null !== t.salesData) {
                            var c = 0;
                            for (b = t.salesData.comments.length; c < b; c++) a = t.salesData.comments[c], g(u, a)
                        }
                        if (null !== t.serviceData)
                            for (c = 0, b = t.serviceData.comments.length; c <
                                b; c++) a = t.serviceData.comments[c], g(w, a)
                    }
                }
            },
            c = function() {
                function a(a, b) {
                    E || (t = a + "_" + b, c())
                }

                function c() {
                    if ("undefined" !== typeof B && "" !== B) {
                        var a = -1 < B.indexOf("?") ? "\x26" : "?";
                        b.ajax({
                            dataType: "jsonp",
                            url: B + a + "dealer_id\x3d" + t,
                            crossDomain: "true",
                            jsonp: "jsonp_callback"
                        }).done(function(a) {
                            if (a && (a.salesData || a.serviceData)) {
                                A = a;
                                z && z.setData(A);
                                E = !0;
                                a = [];
                                if (null !== A.salesData) {
                                    var b = parseFloat(A.salesData.overallRatingValue);
                                    r.html("\x3cp\x3e" + b.toFixed(1) + "\x3c/p\x3e");
                                    a.push({
                                        target: x,
                                        ratingValue: A.salesData.overallRatingValue,
                                        roundedRatingValue: Math.floor(A.salesData.overallRatingValue),
                                        totalValue: A.salesData.overallRatingStars
                                    })
                                } else u.hide(), w.addClass("md-ds-review-hidden");
                                null !== A.serviceData ? (b = parseFloat(A.serviceData.overallRatingValue), q.html("\x3cp\x3e" + b.toFixed(1) + "\x3c/p\x3e"), a.push({
                                    target: l,
                                    ratingValue: A.serviceData.overallRatingValue,
                                    roundedRatingValue: Math.floor(A.serviceData.overallRatingValue),
                                    totalValue: A.serviceData.overallRatingStars
                                })) : (k.hide(), p.addClass("md-ds-review-hidden"));
                                for (var c = 0, d =
                                        a.length; c < d; ++c) b = a[c], f(b)
                            } else w.addClass("md-ds-review-hidden"), p.addClass("md-ds-review-hidden")
                        })
                    }
                }
                var e, h, k, p, q, l, u, w, r, x, v, t, A, z, B, E = !1;
                return {
                    init: function(c) {
                        e = b(c);
                        k = e.find('.md-ds-review-tab[data-md-review-filter\x3d"service"]');
                        p = e.find(".md-ds-reviews-servicing");
                        q = p.find(".md-ds-rating-average");
                        l = p.find(".md-ds-rating-visuals");
                        p.find(".md-ds-review-overlay-toggle");
                        u = e.find('.md-ds-review-tab[data-md-review-filter\x3d"sales"]');
                        w = e.find(".md-ds-reviews-sales");
                        r = w.find(".md-ds-rating-average");
                        x = w.find(".md-ds-rating-visuals");
                        w.find(".md-ds-review-overlay-toggle");
                        v = e.find(".md-ds-review-overlay-content");
                        e.hasClass("md-ds-reviews-overlay-enabled") && (z = new g(v), z.init(v));
                        B = e.data("mdReviewsEndpoint");
                        a(e.data("mdDistributionId"), e.data("mdOutletId"));
                        h = {
                            setDealerData: a
                        };
                        e.data("reviews", h);
                        e.find(".md-ds-reviews-sales .md-ds-rating-average");
                        e.find(".md-ds-reviews-servicing .md-ds-rating-average")
                    },
                    populateStarRating: f
                }
            };
        return {
            init: function(a) {
                var b = new c;
                b.init(a);
                k.push(b)
            }
        }
    }(mini.digital.$)
})();
(function() {
    function b(b, f) {
        function c(b) {
            var c = b * e.itemWidth;
            Modernizr.csstransforms3d ? d.galleryListElem.style[a.cssTransform] = "translate3d(-" + c + "px, 0,  0)" : f(d.galleryListElem).animate({
                left: "-" + c
            }, e.transitionSpeed);
            e.currentIndex = b
        }
        var a = {
                cssTransform: Modernizr.prefixed("transform")
            },
            d = {
                $el: f(b),
                galleryListElem: b.querySelector(".md-accy-gallery-images"),
                caroItems: b.querySelectorAll(".md-accy-gallery-images \x3e .md-accy-gallery-item"),
                $thumbTemplateScript: f(b).find(".md-accy-gallery-thumb-item-template")
            };
        if (!(1 >= d.caroItems.length)) {
            var e = {
                itemWidth: d.caroItems[0].scrollWidth,
                currentIndex: 0,
                itemsInCaro: d.caroItems.length,
                transitionSpeed: 500
            };
            (function() {
                for (var a = d.$thumbTemplateScript.html().trim(), b = "", c = 0; c < e.itemsInCaro; c++) {
                    var g = c === e.currentIndex ? " md-accy-gallery-link-active" : "";
                    b += a.replace("{{ index }}", c).replace("{{ active-class }}", g)
                }
                d.$thumbItems = f(b);
                d.$thumbLinkCollection = d.$thumbItems.find(".md-accy-gallery-link");
                d.$thumbTemplateScript.replaceWith(d.$thumbItems)
            })();
            (function() {
                f.subscribe("md:resize",
                    function() {
                        e.itemWidth = d.caroItems[0].scrollWidth;
                        c && c(e.currentIndex)
                    });
                d.$thumbLinkCollection.each(function(a) {
                    d.$thumbLinkCollection.eq(a).on("click.accessoryGallery", function(a) {
                        a.preventDefault();
                        a = f(a.currentTarget);
                        var b = a.data("index");
                        if (b === e.currentIndex) return !1;
                        d.$thumbLinkCollection.removeClass("md-accy-gallery-link-active");
                        a.addClass("md-accy-gallery-link-active");
                        c(b)
                    })
                })
            })()
        }
    }

    function f(b, f) {
        function c() {
            if (g.$currentOverlay) {
                var a = g.$currentOverlay.data();
                f.publish(e.gcdmAccessoryRequest,
                    [{
                        id: "" + a.rfaId,
                        name: a.rfaName,
                        description: a.rfaDesc,
                        price: a.rfaPrice,
                        pictures: a.rfaPictures ? [a.rfaPictures] : []
                    }])
            }
            f.unsubscribe(k)
        }

        function a(a) {
            g.$currentOverlay = null;
            a.overlayContent.empty();
            f.unsubscribe(p)
        }

        function d(b) {
            var d = f(b.currentTarget),
                h = d.data();
            b.preventDefault();
            g.$currentOverlay = d;
            k = f.subscribe(e.gcdmLoaded, c);
            p = f.subscribe(e.overlayClosed, a);
            h.overlay.openOverlay()
        }
        var e = {
                gcdmLoaded: "md:formgcdm:loaded",
                overlayClosed: "md:overlay:closed",
                gcdmAccessoryRequest: "md:accessory:gcdmRequest"
            },
            g = {
                $dealerCta: f(b),
                $currentOverlay: null
            },
            k, p;
        (function() {
            g.$dealerCta.each(function(a, b) {
                a = f(b);
                b = a.attr("href").replace(/.html$/gi, "") + "/jcr:content/main.html" + window.location.search;
                a.overlay({
                    source: b,
                    ajax: !0,
                    titleFromContent: !0,
                    titleSelector: ".md-custom-overlay-header-title",
                    style: "steps",
                    veilZIndex: 1030,
                    initialiseSource: !0
                });
                a.on("click.accessoryGallery", d)
            })
        })()
    }
    mini.digital.comp.accessory = function(k) {
        function g(a) {
            a = a.target;
            c.trackClickSpecificCTA(k(a).text().trim(), k(a).data("rfa-name"),
                a.href)
        }
        var c;
        return {
            init: function(a) {
                var d = k(a);
                d.find(".md-accy-gallery").each(function(a, c) {
                    return new b(c, k)
                });
                d.find("[data-rfa-overlay]").each(function(a, b) {
                    return new f(b, k)
                });
                require(["apps/business/accessories/components/accessories/clientlib/scripts/tracking/Tracking"], function(a) {
                    c = a;
                    a = k.find(".md-acc-banner .md-heading");
                    c.init(d.data("component-tracking-id"), a && 0 < a.length ? k(a[0]).text().trim() : "")
                });
                d.on("click", ".md-cta-btn", g)
            }
        }
    }(mini.digital.$)
})();
mini.digital.comp.iepop = function(b, f, k) {
    function g() {
        d.find(".md-icn-close").on("click", function() {
            d.addClass(c.hidepopup)
        })
    }
    var c = {
            hidepopup: "md-pop-hide"
        },
        a = !1,
        d;
    return {
        init: function(e, h) {
            d = f(e);
            b.cookiecontroller.checkPresentAndInit().done(function() {
                a = b.cookiecontroller.isUsageAllowed("cc_ie_popup");
                g();
                if (b.browser.isIE) {
                    var e = b.cookiecontroller.getPersistence("cc_ie_popup");
                    a && "true" != e ? (d.removeClass(c.hidepopup), b.cookiecontroller.setPersistence("cc_ie_popup", "true")) : d.hasClass(c.hidepopup) ||
                        d.addClass(c.hidepopup)
                }
            })
        }
    }
}(mini.digital.util, mini.digital.$, window);
(function() {
    mini.digital.comp.faq = function(b, f) {
        function k(a) {
            !0 !== b("body").data("md-wcmmode") && (q ? a.find(w.answerTrigger).addClass(u.overlay) : (a.find(w.sectionItem).first().click(), 1 === a.find(w.sectionItem).length && (a.find(w.sections).addClass(u.hide), a.find(w.questionsData).addClass(u.fullwidth))))
        }

        function g(a) {
            a = b(a.currentTarget);
            var c = a.data("sections"),
                d = a.closest(w.faq);
            d.find(w.questions).find(w.answer).removeClass(u.selected).siblings("." + u.expanded).removeClass(u.expanded);
            d.find(w.sectionItemBtn).removeClass(u.selected);
            a.children(w.sectionBtn).addClass(u.selected);
            var e = d.find(w.questionsData).addClass(u.selected);
            d.find(w.questions).find(w.questionsItem).removeClass(u.selected).filter('[data-sections\x3d"' + c + '"]').addClass(u.selected);
            q && (d.find(w.backButtonText).text(a.find(w.sectionText).text()), f.overlay.disableScrollBehindBase(e), b(w.body).addClass(u.disableEvents))
        }

        function c(a) {
            a = b(a.currentTarget).closest(w.faq).find(w.questionsData).removeClass(u.selected);
            q && (f.overlay.enableScrollBehindBase(a), b(w.body).removeClass(u.disableEvents))
        }

        function a(a) {
            if (!b(a.requester).is(w.answerTrigger)) return !1;
            b.unsubscribe(m);
            p = b.subscribe("md:overlay:closed", d)
        }

        function d() {
            b.unsubscribe(p);
            l = void 0
        }

        function e(c) {
            var d = b(c.currentTarget);
            d.closest(w.questionsItem).siblings().find("." + u.expanded).removeClass(u.expanded).siblings(w.answer).removeClass(u.selected);
            !d.hasClass(u.expandable) && !q || q ? (d = b(c.currentTarget), l = d.overlay({
                open: !1,
                ajax: !1,
                title: d.siblings(w.questionText).text(),
                source: d.siblings(w.answer).clone(),
                style: "lrg"
            }), m = b.subscribe("md:overlay:opened",
                a), d = l.data("overlay"), d.openOverlay(c), d.$overlayContent.scrollTop(0)) : (d.toggleClass(u.expanded), d.siblings(w.answer).toggleClass(u.selected), c = b(w.questionText).height(), c = d.offset().top - c, f.scrollTo.position(c, 500), f.lazyLoadImage.checkImages())
        }

        function h(a) {
            q || void 0 === l.data || l.data("overlay").closeOverlay(a)
        }
        var m, p, q, l = {},
            u = {
                disableEvents: "md-faq-disable-background",
                expanded: "md-faq-is-expanded",
                expandable: "md-faq-is-expandable",
                fullwidth: "md-faq-data-fullwidth",
                hide: "md-faq-hide",
                selected: "md-is-selected",
                overlay: "md-faq-is-overlay"
            },
            w = {
                answer: ".md-faq-answer",
                answerTrigger: ".md-faq-answer-trigger",
                backButton: ".md-faq-back",
                backButtonText: ".md-back-btn-text",
                body: ".md-body",
                expandable: ".md-faq-is-expandable",
                faq: ".md-faq",
                faqOverlayVeil: ".md-custom-overlay",
                sections: ".md-faq-sections",
                sectionBtn: ".md-faq-sections-btn",
                sectionText: ".md-faq-sections-text",
                sectionItem: ".md-faq-sections-item",
                sectionItemBtn: ".md-faq-sections-item .md-faq-sections-btn",
                questions: ".md-faq-data .md-faq-questions",
                questionsTrigger: ".md-faq-questions",
                questionsItem: ".md-faq-questions-item",
                questionsData: ".md-faq-data",
                questionText: ".md-faq-questions-text"
            };
        return {
            init: function(a) {
                var d = b(a);
                a = d.find(w.sectionItem);
                var l = d.find(w.questionsData),
                    m = d.find(w.questionsTrigger),
                    p = b(w.faqOverlayVeil);
                q = !f.matchmedia.wide.matches;
                a.on("click", g);
                l.on("click", w.backButton, c);
                m.on("click", w.answerTrigger, e);
                p.on("click", h);
                f.matchmedia.wide.addListener(function(a) {
                    (q = !a.matches) ? d.find(w.questionsData).removeClass(u.selected): d.find(w.expandable).removeClass(u.overlay);
                    k(d)
                });
                k(d)
            }
        }
    }(mini.digital.$, mini.digital.util)
})();
(function(b, f, k) {
    var g = b([]),
        c = null,
        a = {},
        d = function(a) {
            this.$elem = b(a);
            this.$dropdowncta;
            this.$dropdownctaSelect;
            this.listeners = [];
            this.isNarrow = !1;
            this.overlayOpenedHandle;
            this.overlayClosingHandle;
            this.overlayClosedHandle;
            this.gcdmLoadedHandle;
            this.vehicleData;
            this.instanceOverlay;
            this.isGcdmLoaded = !1;
            this.init.apply(this)
        },
        e = function(a) {
            var c = b(a);
            c.data("dropdownctas", new d(a));
            g = g.add(c)
        },
        h = function(a) {
            var c = b(a),
                d = c.data("dropdownctas");
            d && d.destroy && (d.destroy(), c.removeData("dropdownctas"),
                g = g.not(a))
        };
    d.prototype = {
        destroyOverlay: function() {
            this.instanceOverlay && this.instanceOverlay.destroy && "function" === typeof this.instanceOverlay.destroy && this.instanceOverlay.destroy()
        },
        onOverlayOpened: function() {
            this.isGcdmLoaded ? this.sendVehicle(c.data("configured-vehicle")) : this.gcdmLoadedHandle = b.subscribe("md:formgcdm:loaded", this.onGCDMLoaded.bind(this));
            b.unsubscribe(this.overlayOpenedHandle)
        },
        onOverlayClosing: function() {
            b.unsubscribe(this.overlayClosingHandle);
            b.unsubscribe(this.overlayOpenedHandle);
            this.gcdmLoadedHandle && b.unsubscribe(this.gcdmLoadedHandle);
            c = null
        },
        onOverlayClosed: function(a) {
            a.overlayContent.empty();
            b.unsubscribe(this.overlayClosedHandle)
        },
        onGCDMLoaded: function() {
            c && this.sendVehicle(c.data("configured-vehicle"));
            this.isGcdmLoaded = !0;
            b.unsubscribe(this.gcdmLoadedHandle)
        },
        sendVehicle: function() {
            var a = k.currentModel.get(),
                d = b(".md-custom-selector .md-cs-accordion-active .md-cs-carousel-item-active[data-bodytype-code]").find(".md-cs-image-front .md-rimage"),
                e = b(d).find("img");
            d = e.data("cosySrcset");
            e = e.data("cosySrcset");
            var g = f.configurator.getCosyImages();
            c.data("md-current-modelcode") && (d = c.data("md-currentSrcwide"), e = c.data("md-currentSrcwide"));
            this.vehicleData ? (this.vehicleData.bodyName = a.modelRangeName, this.vehicleData.vehicleName = a.modelName, this.vehicleData.cosyImageInfos = [{}, {}, {
                urlString: g.exteriorImageUrl
            }], b.publish("md:configurator:gcdmRequest", [this.vehicleData])) : a.modelCode && b.publish("md:configurator:gcdmRequest", [{
                modelRange: a.modelRangeCode,
                bodyName: a.modelRangeName,
                vehicleName: a.modelName,
                modelCode: a.modelCode,
                cosyImageInfos: [{}, {}, {
                    urlString: this.isNarrow ? d : e
                }]
            }])
        },
        updateCtas: function(a) {
            (function(a, c) {
                window.requestAnimationFrame(function() {
                    k.teardown(a);
                    h(a);
                    a.html(b(c).html());
                    k.initialise(a);
                    e(a);
                    f.share && f.share.bindEvents && f.share.bindEvents()
                })
            })(this.$elem, a)
        },
        onPageChanged: function(b) {
            var c = this,
                d = k.getContentUrl(b.url, "dropdownctas"),
                e = b.modelCode,
                f = b.modelRangeCode,
                g = k.currentModel.history().modelCode,
                h = k.currentModel.history().modelRangeCode;
            "" ===
            b.url || "" === k.currentModel.history().url || e === g && f === h || (a[d] = a[d] || k.request.get(d, "html"), a[d].then(function(a) {
                c.updateCtas(a)
            }))
        },
        onClickDropdownCta: function(a) {
            a.preventDefault();
            a = b(a.currentTarget);
            var d = a.attr("href").replace(/.html$/gi, "") + "/jcr:content/main.html" + window.location.search;
            this.destroyOverlay();
            this.instanceOverlay = b.mdOverlay({
                source: d,
                ajax: !0,
                titleFromContent: !0,
                titleSelector: ".md-custom-overlay-header-title",
                style: "steps",
                veilZIndex: 1030,
                initialiseSource: !0
            }, a);
            c = a;
            a = a.data();
            a.mdCurrentModelcode && k.currentModel.set({
                modelRangeCode: a.mdCurrentModelrangecode,
                modelRangeName: a.mdCurrentModelrangename,
                modelCode: a.mdCurrentModelcode,
                modelName: a.mdCurrentModelname,
                cosyImages: a.mdCurrentsrcwide
            });
            "rfo" !== a.formType || a.configuredVehicle ? "configurator" === a.formType ? b.publish("md:selectormanager:render") : (this.overlayOpenedHandle = b.subscribe("md:overlay:opened", this.onOverlayOpened.bind(this)), this.overlayClosingHandle = b.subscribe("md:overlay:closing", this.onOverlayClosing.bind(this)),
                this.overlayClosedHandle = b.subscribe("md:overlay:closed", this.onOverlayClosed.bind(this)), this.instanceOverlay.openOverlay()) : b.publish("md:cta:rfo:unconfigured")
        },
        onChangeDropdown: function() {
            var a = this.$dropdownctaSelect.find("option:selected"),
                b = a.data("dropdownctaPath");
            a = a.data("formType");
            this.$dropdowncta.attr("href", b).data("formType", a)
        },
        dropdownctaOverlay: function() {
            var a = this;
            this.isNarrow = !k.matchmedia.wide.matches;
            this.listeners.push(b.subscribe("h5vco.configurationChanged", function(b) {
                a.vehicleData =
                    b
            }));
            this.$dropdowncta.on("click.dropdownctas", this.onClickDropdownCta.bind(this))
        },
        prepareDropdowncta: function() {
            this.$dropdownctaSelect.on("change.dropdownctas", this.onChangeDropdown.bind(this));
            this.dropdownctaOverlay()
        },
        setInternals: function() {
            this.$dropdowncta = this.$elem.find(".md-dropdowncta-link");
            this.$dropdownctaSelect = this.$elem.find(".md-dropdownctas-options")
        },
        init: function() {
            this.setInternals();
            this.prepareDropdowncta();
            this.listeners.push(b.subscribe("md:currentModel:changed", this.onPageChanged.bind(this)))
        },
        destroy: function() {
            k.unsubArray(this.listeners);
            this.$dropdownctaSelect.off("change.dropdownctas");
            this.$dropdowncta.off("click.dropdownctas")
        }
    };
    f.dropdownctas = {
        init: e,
        teardown: h,
        getCurrentOverlay: function() {
            var a = null;
            c && c.length && c.data("overlay") && (a = c.data("overlay"));
            return a
        }
    }
})(mini.digital.$, mini.digital.comp, mini.digital.util, mini.digital.util.matchmedia);
mini.digital.comp.versioninfo = function(b, f) {
    function k(a) {
        a.find(".md-versioninfo-healthcheck-gcdm-ucp-btn").click(function(a) {
            a.preventDefault();
            var b = f(a.target).closest(".md-versioninfo-healthcheck-container");
            a = b.find(".md-versioninfo-healthcheck-tenant").text();
            var d = b.find(".md-versioninfo-healthcheck-loading");
            d.css("display", "block");
            g(b);
            a && "" !== a && f.get("/bin/public/business/healthcheck." + a + ".json?q\x3dgcdm_integrity").done(function(a) {
                a ? c(a, b) : c({
                        success: !1,
                        message: "No result received from test"
                    },
                    b)
            }).fail(function(a) {
                c({
                    success: !1,
                    message: a.status + ". " + a.statusText
                }, b)
            }).always(function() {
                d.css("display", "none")
            })
        })
    }

    function g(a) {
        var b = a.find(".md-versioninfo-healthcheck-result-type");
        a = a.find(".md-versioninfo-healthcheck-result-message");
        b.text("");
        a.text("")
    }

    function c(a, b) {
        g(b);
        var c = b.find(".md-versioninfo-healthcheck-result-type");
        b = b.find(".md-versioninfo-healthcheck-result-message");
        c.removeClass("md-versioninfo-healthcheck-result-error");
        c.removeClass("md-versioninfo-healthcheck-result-success");
        c.addClass(a.success ? "md-versioninfo-healthcheck-result-success" : "md-versioninfo-healthcheck-result-error");
        c.text(a.success ? "SUCCESS" : "FAILED");
        b.text(a.message)
    }
    var a = void 0,
        d = void 0,
        e = void 0;
    return {
        init: function(b, c) {
            b = f(b);
            a = f(c).find(".md-component.md-logo");
            a.click(function(a) {
                a.altKey && a.shiftKey && (a.preventDefault(), a.stopPropagation(), e.openOverlay(a))
            });
            d = b.overlay({
                open: !1,
                ajax: !1,
                title: b.find(".md-versioninfo-overlay-title").text(),
                source: b.find(".md-versioninfo-overlay-body"),
                style: "med"
            });
            e = d.data("overlay");
            f.subscribe("md:overlay:opened", function(a) {
                k(a.overlayContent)
            })
        },
        teardown: function(a) {}
    }
}(mini.digital.util, mini.digital.$);
mini.digital.comp.anchor = function(b, f, k) {
    var g = b.anchorButton.MD_ANCHOR_NAME;
    return {
        init: function(c, a) {
            function d() {
                b.anchorButton.scrollToAnchor(e.find("[data-" + g + "]"))
            }
            var e = f(c);
            c = e.find("[data-" + g + "]").data(g);
            var h = k.location.hash.substring(1);
            c == h && ((c = f("body").find(".md-video-player")) && 0 < c.length && f.subscribe("md:videoplayer:ready", function() {
                d()
            }), setTimeout(function() {
                d()
            }, 1E3), f(a).ready(function() {
                d()
            }))
        },
        teardown: function(b) {},
        scroll: function(b) {
            b = b.offset();
            f("html, body").animate({
                scrollTop: b.top,
                scrollLeft: b.left
            })
        }
    }
}(mini.digital.util, mini.digital.$, window);
mini.digital.util.experian = function(b, f, k) {
    var g = b.ContactDataServices = b.ContactDataServices || {};
    g.addressTemplates = {
        "default": '\x3cdiv class\x3d"toggle"\x3e{addressLine1}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine2}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine3}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{locality}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{province}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{postalCode}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{country}\x3c/div\x3e',
        aus: '\x3cdiv class\x3d"toggle"\x3e{addressLine1}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine2}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine3}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{locality} {provinceCode} {postalCode}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{country}\x3c/div\x3e',
        fra: '\x3cdiv class\x3d"toggle"\x3e{addressLine1}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine2}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine3}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{postalCode} {locality}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{country}\x3c/div\x3e',
        gbr: '\x3cdiv class\x3d"toggle"\x3e{addressLine1}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine2}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine3}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{locality}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{province}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{postalCode}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{country}\x3c/div\x3e',
        nzl: '\x3cdiv class\x3d"toggle"\x3e{addressLine1}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine2}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine3}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{locality} {postalCode}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{country}\x3c/div\x3e',
        usa: '\x3cdiv class\x3d"toggle"\x3e{addressLine1}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine2}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{addressLine3}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{locality} {province} {postalCode}\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e{country}\x3c/div\x3e'
    };
    g.defaults = {
        input: {
            placeholderText: "Start typing an address ..."
        },
        formattedAddress: {
            showHeading: !1,
            headingType: "h3",
            validatedHeadingText: "Validated address",
            manualHeadingText: "Manual address entered"
        },
        editAddressText: "Edit address",
        searchAgainText: "Search again",
        useAddressEnteredText: "\x3cem\x3eEnter address manually\x3c/em\x3e",
        useSpinner: !1,
        language: "en",
        addressLineLabels: "addressLine1 addressLine2 addressLine3 locality province postalCode country".split(" ")
    };
    g.eventFactory = function() {
        var b = {
            collection: {},
            on: function(a, c) {
                b.collection[a] = b.collection[a] || [];
                b.collection[a].push(c)
            },
            trigger: function(a, c) {
                if (b.collection[a])
                    for (var d = 0; d < b.collection[a].length; d++) {
                        for (var f = [c], g = 2; g < arguments.length; g++) f.push(arguments[g]);
                        b.collection[a][d].apply(b.collection, f)
                    }
            }
        };
        return b
    };
    g.translations = {
        en: {
            gbr: {
                locality: "Town/City",
                province: "County",
                postalCode: "Post code"
            },
            usa: {
                locality: "City",
                province: "State",
                postalCode: "Zip code"
            }
        }
    };
    g.ua = {
        banner: {
            show: function(b) {
                var a = f.querySelector(".ua-banner");
                if (!a) {
                    var c =
                        f.querySelector("body").firstChild;
                    a = f.createElement("div");
                    a.classList.add("ua-banner");
                    c.parentNode.insertBefore(a, c.nextSibling)
                }
                a.innerHTML = b
            },
            hide: function() {
                var b = f.querySelector(".ua-banner");
                b && b.parentNode.removeChild(b)
            }
        }
    };
    g.urls = {
        construct: {
            address: {
                search: function(b) {
                    var a = b.endpoint;
                    a += "?query\x3d" + encodeURIComponent(b.currentSearchTerm);
                    a += "\x26country\x3d" + b.currentCountryCode;
                    a += "\x26take\x3d" + (b.maxSize || b.picklist.maxSize);
                    return a += "\x26auth-token\x3d" + b.token
                },
                format: function(b,
                    a) {
                    return b + "\x26auth-token\x3d" + a.token
                }
            }
        },
        getToken: function(b) {
            b.token || (b.token = g.urls.getParameter("token"))
        },
        getParameter: function(b) {
            b = b.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
            b = (new RegExp("[\\?\x26]" + b + "\x3d([^\x26#]*)")).exec(location.search);
            return null === b ? "" : decodeURIComponent(b[1].replace(/\+/g, " "))
        }
    };
    g.address = function(c) {
        var a = c || {};
        a.enabled = !0;
        a.language = a.language || g.defaults.language;
        a.useSpinner = a.useSpinner || g.defaults.useSpinner;
        a.lastSearchTerm = "";
        a.currentSearchTerm =
            "";
        a.lastCountryCode = "";
        a.currentCountryCode = "";
        a.currentSearchUrl = "";
        a.currentFormatUrl = "";
        a.placeholderText = a.placeholderText || g.defaults.input.placeholderText;
        a.editAddressText = a.editAddressText || g.defaults.editAddressText;
        a.searchAgainText = a.searchAgainText || g.defaults.searchAgainText;
        a.formattedAddress = a.formattedAddress || g.defaults.formattedAddress;
        a.elements = a.elements || {};
        a.events = new g.eventFactory;
        a.init = function() {
            a.setCountryList();
            a.elements.input && (a.input = a.elements.input, a.input.addEventListener("keyup",
                a.search), a.input.addEventListener("keydown", a.checkTab), a.input.setAttribute("placeholder", a.placeholderText), a.input.parentNode.setAttribute("autocomplete", "off"), a.input.parentNode.addEventListener("submit", function(a) {
                a.preventDefault()
            }))
        };
        a.search = function(c) {
            c = c || b.event;
            c = c.which || c.keyCode;
            38 === c || 40 === c || 13 === c ? a.picklist.keyup(c) : (a.currentSearchTerm = a.input.value, a.currentCountryCode = a.countryList.value, a.canSearch() ? (a.request.currentRequest && a.request.currentRequest.abort(), a.events.trigger("pre-search",
                a.currentSearchTerm), c = g.urls.construct.address.search(a), a.lastSearchTerm = a.currentSearchTerm, a.result.hide(), a.searchSpinner.hide(), a.searchSpinner.show(), a.request.get(c, a.picklist.show)) : a.lastSearchTerm !== a.currentSearchTerm && a.picklist.hide())
        };
        a.setCountryList = function() {
            a.countryList = a.elements.countryList;
            a.countryList || a.createCountryDropdown()
        };
        a.canSearch = function() {
            return a.enabled && "" !== a.currentSearchTerm && a.lastSearchTerm !== a.currentSearchTerm && a.countryList.value !== k && "" !== a.countryList.value
        };
        a.checkTab = function(c) {
            c = c || b.event;
            c = c.which || c.keyCode;
            9 === c && a.picklist.keyup(c)
        };
        a.createCountryDropdown = function() {
            a.countryList = {}
        };
        a.format = function(b) {
            a.events.trigger("pre-formatting-search", b);
            a.searchSpinner.hide();
            a.currentFormatUrl = g.urls.construct.address.format(b, a);
            a.request.get(a.currentFormatUrl, a.result.show)
        };
        a.picklist = {
            size: 0,
            maxSize: 25,
            show: function(b) {
                a.picklist.items = b.results;
                a.picklist.currentItem = null;
                a.picklist.size = a.picklist.items.length;
                a.picklist.container = a.picklist.container ||
                    a.picklist.createList();
                a.picklist.container.innerHTML = "";
                a.picklist.resetTabCount();
                a.searchSpinner.hide();
                0 < a.picklist.size && (a.events.trigger("pre-picklist-create", a.picklist.items), a.picklist.items.forEach(function(b) {
                    b = a.picklist.createListItem(b);
                    a.picklist.container.appendChild(b);
                    a.picklist.listen(b)
                }), a.events.trigger("post-picklist-create"))
            },
            hide: function() {
                a.picklist.currentItem = null;
                a.picklist.container && (a.input.parentNode.removeChild(a.picklist.container), a.picklist.container = k)
            },
            useAddressEntered: {
                create: function() {
                    var b =
                        a.picklist.createListItem({
                            suggestion: g.defaults.useAddressEnteredText,
                            format: ""
                        });
                    b.classList.add("use-address-entered");
                    a.picklist.container.parentNode.insertBefore(b, a.picklist.container.nextSibling);
                    b.addEventListener("click", a.picklist.useAddressEntered.click);
                    return b
                },
                destroy: function() {
                    a.picklist.useAddressEntered.element && (a.picklist.container.parentNode.removeChild(a.picklist.useAddressEntered.element), a.picklist.useAddressEntered.element = k)
                },
                click: function() {
                    var b = {
                        address: []
                    };
                    if (a.currentSearchTerm) {
                        var c =
                            a.currentSearchTerm.split(",");
                        if (0 < c.length)
                            for (var f = 0; f < c.length; f++) b.address.push(a.picklist.useAddressEntered.formatManualAddressLine(c, f));
                        c = 7 - c.length;
                        if (0 < c)
                            for (c = 7 - c; 7 > c; c++) b.address.push(a.picklist.useAddressEntered.formatManualAddressLine([], c))
                    }
                    a.result.show(b);
                    a.result.editAddressManually()
                },
                formatManualAddressLine: function(a, b) {
                    var c = {};
                    c[g.defaults.addressLineLabels[b]] = a[b] || "";
                    return c
                }
            },
            createList: function() {
                var b = f.createElement("div");
                b.classList.add("address-picklist");
                a.input.parentNode.insertBefore(b,
                    a.input.nextSibling);
                b.addEventListener("keydown", a.picklist.enter);
                return b
            },
            createListItem: function(b) {
                var c = f.createElement("div");
                c.innerHTML = a.picklist.addMatchingEmphasis(b);
                c.setAttribute("format", b.format);
                return c
            },
            tabCount: -1,
            resetTabCount: function() {
                a.picklist.tabCount = -1
            },
            keyup: function(b) {
                if (a.picklist.container)
                    if (13 === b || 9 === b) a.picklist.checkEnter();
                    else {
                        var c = a.picklist.container.querySelectorAll("div");
                        if (0 !== c.length) {
                            38 === b ? a.picklist.tabCount-- : a.picklist.tabCount++;
                            if (0 > a.picklist.tabCount) {
                                a.picklist.tabCount =
                                    c.length - 1;
                                var d = !0
                            }
                            if (a.picklist.tabCount > c.length - 1) {
                                a.picklist.tabCount = 0;
                                var f = !0
                            }
                            b = c[a.picklist.tabCount];
                            (c = a.picklist.container.querySelector(".selected")) && c.classList.remove("selected");
                            b.classList.add("selected");
                            a.picklist.currentItem = b;
                            c = a.picklist.container.offsetTop;
                            var g = a.picklist.container.offsetTop + a.picklist.container.offsetHeight,
                                k = a.picklist.container.scrollTop,
                                l = b.offsetTop,
                                u = b.offsetTop + b.offsetHeight;
                            b = b.offsetHeight;
                            f ? a.picklist.container.scrollTop = 0 : d ? a.picklist.container.scrollTop =
                                999 : u + b > g ? a.picklist.container.scrollTop = k + b : l - b - c < k && (a.picklist.container.scrollTop = k - b)
                        }
                    }
            },
            addMatchingEmphasis: function(a) {
                var b = a.matched || [];
                a = a.suggestion;
                for (var c = 0; c < b.length; c++) {
                    var d = "\x3cb\x3e" + a.substring(b[c][0], b[c][1]) + "\x3c/b\x3e";
                    a = a.substring(0, b[c][0]) + d + a.substring(b[c][1])
                }
                return a
            },
            listen: function(b) {
                b.addEventListener("click", a.picklist.pick.bind(null, b))
            },
            checkEnter: function() {
                if (1 === a.picklist.size) var b = a.picklist.container.querySelectorAll("div")[0];
                else a.picklist.currentItem &&
                    (b = a.picklist.currentItem);
                b && a.picklist.pick(b)
            },
            pick: function(b) {
                a.events.trigger("post-picklist-selection", b);
                a.format(b.getAttribute("format"))
            }
        };
        a.result = {
            show: function(b) {
                a.searchSpinner.hide();
                a.picklist.hide();
                a.input.value = "";
                if (0 < b.address.length) {
                    a.events.trigger("post-formatting-search", b);
                    a.result.formattedAddress = a.elements.formattedAddress || a.result.createFormattedAddressContainer();
                    var c = g.addressTemplates.hasOwnProperty(a.currentCountryCode) ? a.currentCountryCode : "default";
                    c = g.addressTemplates[c];
                    for (var d = 0; d < b.address.length; d++) {
                        var f = b.address[d],
                            k;
                        for (k in f) f.hasOwnProperty(k) && (c = c.replace("{" + k + "}", f[k]))
                    }
                    c = c.replace(/{.*}/, "");
                    a.result.formattedAddress.innerHTML += c;
                    a.result.renderInputList([])
                }
            },
            hide: function() {
                a.result.formattedAddress && (f.querySelector(".formatted-address-container").removeChild(a.result.formattedAddress), a.result.formattedAddress = k)
            },
            createFormattedAddressContainer: function() {
                var b = f.createElement("div");
                b.classList.add("formatted-address");
                if (a.formattedAddress.showHeading) {
                    var c =
                        f.createElement(a.formattedAddress.headingType);
                    c.innerHTML = a.formattedAddress.validatedHeadingText;
                    b.appendChild(c)
                }
                f.querySelector(".formatted-address-container").appendChild(b);
                return b
            },
            createAddressLine: {
                input: function(a, b) {
                    var c = f.createElement("div");
                    c.classList.add("hidden");
                    c.classList.add("address-line-input");
                    var d = f.createElement("label");
                    d.innerHTML = a.replace(/([A-Z])/g, " $1").replace(/([0-9])/g, " $1").replace(/^./, function(a) {
                        return a.toUpperCase()
                    });
                    c.appendChild(d);
                    d = f.createElement("input");
                    d.setAttribute("type", "text");
                    d.setAttribute("name", a);
                    d.setAttribute("value", b);
                    c.appendChild(d);
                    return c
                },
                row: function(a) {
                    var b = f.createElement("div");
                    b.classList.add("toggle");
                    b.innerHTML = a;
                    return b
                },
                label: function(b) {
                    var c = b,
                        d = a.language,
                        f = a.currentCountryCode,
                        k = g.translations;
                    if (k) try {
                        var q = k[d][f][b];
                        q && (c = q)
                    } catch (l) {}
                    return c
                }
            },
            createEditAddressLink: function() {
                var b = f.createElement("a");
                b.setAttribute("href", "#");
                b.classList.add("edit-address-link");
                b.innerHTML = a.editAddressText;
                a.result.formattedAddress.appendChild(b);
                b.addEventListener("click", a.result.editAddressManually)
            },
            createSearchAgainLink: function() {
                var b = f.createElement("a");
                b.setAttribute("href", "#");
                b.classList.add("search-again-link");
                b.innerHTML = a.searchAgainText;
                a.result.formattedAddress.appendChild(b);
                b.addEventListener("click", a.reset)
            },
            editAddressManually: function(b) {
                b && b.preventDefault();
                a.formattedAddress.showHeading && (a.result.formattedAddress.querySelector(a.formattedAddress.headingType).innerHTML = a.formattedAddress.manualHeadingText);
                a.result.formattedAddress.querySelector(".edit-address-link").classList.add("hidden");
                a.toggleVisibility(a.result.formattedAddress);
                b = a.result.formattedAddress.querySelectorAll(".address-line-input");
                for (var c = 0; c < b.length; c++) b[c].classList.remove("hidden")
            },
            renderInputList: function(b) {
                if (0 < b.length)
                    for (var c = 0; c < b.length; c++) a.result.formattedAddress.appendChild(b[c])
            }
        };
        a.toggleVisibility = function(a) {
            a = a || f;
            a = a.querySelectorAll(".toggle");
            for (var b = 0; b < a.length; b++) a[b].classList.contains("hidden") ? a[b].classList.remove("hidden") : a[b].classList.add("hidden")
        };
        a.searchSpinner = {
            show: function() {
                if (a.useSpinner) {
                    var b =
                        f.createElement("div");
                    b.classList.add("loader");
                    b.classList.add("loader-inline");
                    var c = f.createElement("div");
                    c.classList.add("spinner");
                    b.appendChild(c);
                    a.input.parentNode.insertBefore(b, a.input.nextSibling)
                }
            },
            hide: function() {
                if (a.useSpinner) {
                    var b = a.input.parentNode.querySelector(".loader-inline");
                    b && a.input.parentNode.removeChild(b)
                }
            }
        };
        a.reset = function(b) {
            b && b.preventDefault();
            a.enabled = !0;
            a.result.hide();
            a.toggleVisibility(a.input.parentNode);
            a.input.focus();
            a.events.trigger("post-reset")
        };
        a.handleError = {
            badRequest: function(b) {
                a.enabled = !1;
                a.handleError.showSubmitButton();
                a.events.trigger("request-error-400", b)
            },
            unauthorized: function(b) {
                a.enabled = !1;
                a.handleError.showSubmitButton();
                a.events.trigger("request-error-401", b)
            },
            forbidden: function(b) {
                a.enabled = !1;
                a.handleError.showSubmitButton();
                a.events.trigger("request-error-403", b)
            },
            notFound: function(b) {
                a.enabled = !1;
                a.handleError.showSubmitButton();
                a.events.trigger("request-error-404", b)
            },
            showSubmitButton: function() {
                var b = f.createElement("button");
                b.innerText =
                    "Submit";
                a.input.parentNode.insertBefore(b, a.input.nextSibling);
                b.addEventListener("click", function() {
                    a.picklist.useAddressEntered.click();
                    a.input.parentNode.removeChild(b)
                })
            }
        };
        a.request = {
            currentRequest: null,
            get: function(b, c) {
                a.request.currentRequest = new XMLHttpRequest;
                a.request.currentRequest.open("GET", b, !0);
                a.request.currentRequest.timeout = 5E3;
                a.request.currentRequest.onload = function(b) {
                    200 <= a.request.currentRequest.status && 400 > a.request.currentRequest.status ? (b = JSON.parse(a.request.currentRequest.responseText),
                        c(b)) : (a.searchSpinner.hide(), a.events.trigger("request-error", b), 400 === a.request.currentRequest.status ? a.handleError.badRequest(b) : 401 === a.request.currentRequest.status ? a.handleError.unauthorized(b) : 403 === a.request.currentRequest.status ? a.handleError.forbidden(b) : 404 === a.request.currentRequest.status && a.handleError.notFound(b))
                };
                a.request.currentRequest.onerror = function(b) {
                    a.searchSpinner.hide();
                    a.events.trigger("request-error", b)
                };
                a.request.currentRequest.ontimeout = function(b) {
                    a.searchSpinner.hide();
                    a.events.trigger("request-timeout", b)
                };
                a.request.currentRequest.send()
            }
        };
        a.init();
        return a
    };
    return g
}(window, window.document || {});
(function(b) {
    var f = mini.digital.comp.navigation || {};
    f.setReworkStyles = function(f) {
        var g = b("body");
        g && 0 < g.length && b(g).addClass("md-navigation-rework");
        b(f).addClass("md-next");
        g = b("li.md-ss-range-item", f);
        1 > g.length && (g = b("[data-ss-component-integration\x3d'navigation'] li.md-ss-range-item"));
        g.each(function() {
            b(this).find(".md-ss-range-image-wrapper").insertBefore(b(this).find(".md-ss-range-info"));
            if (b(this).find("[data-ss-item-code\x3d'JCW']").length) {
                var a = b('\x3cdiv class\x3d"md-ss-range-info"\x3e\x3cdiv class\x3d"md-ss-jwc-logo"\x3e\x3c/div\x3e\x3c/div\x3e');
                b(this).find(".md-ss-range-info").before(a)
            }
            b(this).find("[data-ss-item-is-electric\x3d'true']").length ? (a = b('\x3cdiv class\x3d"md-ss-range-info"\x3e\x3cdiv class\x3d"md-ss-elt-logo"\x3e\x3c/div\x3e\x3c/div\x3e'), b(this).find(".md-ss-range-info").before(a)) : (b(this).find("[data-ss-item-code\x3d'ELECTRIC']").length && (a = b('\x3cdiv class\x3d"md-ss-range-info"\x3e\x3cdiv class\x3d"md-ss-elt-logo"\x3e\x3c/div\x3e\x3c/div\x3e'), b(this).find(".md-ss-range-info").before(a)), b(this).find("[data-ss-item-code\x3d'Mini Electric']").length &&
                (a = b('\x3cdiv class\x3d"md-ss-range-info"\x3e\x3cdiv class\x3d"md-ss-elt-logo"\x3e\x3c/div\x3e\x3c/div\x3e'), b(this).find(".md-ss-range-info").before(a)))
        });
        g = b(".md-shelf-close-btn-label");
        var c = g.text();
        g.remove();
        var a = b(' \x3cdiv class\x3d"md-nav-close"\x3e\x3ca href\x3d"javascript:void(0);" class\x3d"md-icnpost-close"\x3e\x3cspan class\x3d"md-hidden-accessibility"\x3e' + c + "\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e");
        b(".md-nav-item-level1 \x3e .md-nav-shelf", f).each(function() {
            b(this).append(a.clone())
        });
        b(".md-nav-close a", f).on("click", function() {
            var a = b(".md-custom-overlay-veil");
            if (a.length) b.publish("md:veil:click", [{
                id: a.attr("data-id")
            }]);
            else
                for (var c = f.parents(), d = 0; d < c.length; d++) a = b(".md-custom-overlay-veil", b(c[d])), a.length && b.publish("md:veil:click", [{
                    id: a.attr("data-id")
                }]);
            f.find(".md-nav-show").prop("checked", !1);
            f.trigger("md-nav-statechange")
        });
        b(".md-ss-navigation[data-component-name\x3d'standardselector']").find(".md-ss-shelf-ctas-container a.md-inpagecta").removeClass().addClass("btn btn-secondary");
        g = b("h6.md-ss-shelf-title", f).text().trim();
        var d = b("\x3ch2 class\x3d'h2 md-flex-container-nopadding md-navigation-models-title'\x3e" + g + "\x3c/h2\x3e");
        b(".md-ss-shelf-title", f).parents(".md-nav-shelf").prepend(d);
        b(".md-ss-shelf-title", f).remove();
        b("[data-component-name\x3d'standardshelf']").each(function() {
            var a = b(this).find("h2").text().trim();
            d = b("\x3ch2 class\x3d'h2'\x3e" + a + "\x3c/h2\x3e");
            b(this).parent(".md-nav-shelf-component").after(d).remove()
        });
        g = b('\x3cli class\x3d"md-ss-range-item"\x3e\x3c/li\x3e');
        for (c = 0; 5 > c; c++) b("[data-component-name\x3d'standardselector'] [data-ss-component-integration\x3d'navigation'] ul.md-ss-range-list", f).append(g.clone());
        var e = [];
        b(".md-nav-item-level2 \x3e ul", f).each(function(a, c) {
            e.push(b(c).parent());
            b(c).hide()
        });
        e.forEach(function(a, c, d) {
            b(a).children("a.md-nav-item-link").on("click", function(a) {
                var c = b(a.currentTarget);
                c.hasClass("subnav-visible") ? a.preventDefault() : (a.preventDefault(), d.forEach(function(a) {
                        b(a).children("ul").hide();
                        b(a).children("a.md-nav-item-link").removeClass("subnav-visible")
                    }),
                    c.addClass("subnav-visible"), c.next("ul").show())
            })
        });
        b(".md-nav-shelf .md-standard-selector .md-ss-model-range .md-ss-range-link", f).each(function(a, c) {
            b(c).off("click.standardselector");
            b(c).attr("onclick", "mini.digital.comp.navigation.modelClick(this);")
        })
    };
    f.modelClick = function(f) {
        b(f).off("click.standardselector")
    }
})(mini.digital.$);
(function(b) {
    var f = mini.digital.comp.navigation || {},
        k = function(f) {
            this.$element = b(f);
            this.$links = this.$element.find(".md-nav-item-link, .md-ss-range-link");
            this.$modelShelf = this.$element.find(".md-model-shelf");
            this.$modelShelfTabs = this.$modelShelf.find(".tab-navigation__wrapper");
            this.$modelShelfPanels = this.$modelShelf.find(".md-model-shelf__panels");
            this.$modelShelfButtons = this.$modelShelf.find(".md-model-shelf__panel .btn");
            this.$modelShelfSubButtons = this.$modelShelf.find(".md-model-shelf__panel .entry-body");
            this.trackingInstance = {};
            digital && digital.tracking && (this.trackingInstance = digital.tracking.getInstance());
            this.settings = b.extend({
                debug: !1
            }, this.$element.data());
            this.delayInstance = null;
            this.init()
        };
    k.prototype = {
        defaultEvent: {
            eventInfo: {
                eventName: "",
                eventAction: "",
                cause: "",
                effect: ""
            },
            category: {
                primaryCategory: "overview",
                subCategory01: "na"
            },
            attributes: {
                relatedComponentID: "",
                relatedComponentName: "navigation",
                relatedComponentPrimaryCategory: "overview"
            }
        },
        init: function() {
            this.updateTrackingDefaults();
            this.$links.on("click tap", this.trackButtonClick.bind(this));
            this.$links.map(function(f, c) {
                f = b(c);
                0 !== f.siblings().length && f.data("subnav", !1)
            });
            this.$modelShelf && (this.$modelShelfTabs.on("click tap", this.trackModelShelfEvents.bind(this)), this.$modelShelfButtons.off("click tap").on("click tap", this.trackModelShelfEvents.bind(this)), this.$modelShelfSubButtons.on("click tap", this.trackModelShelfEvents.bind(this)))
        },
        updateTrackingDefaults: function() {
            if ("undefined" !== typeof this.settings.trackingComponent) {
                var b =
                    this.settings.trackingComponent,
                    c = this.defaultEvent;
                c.category.primaryCategory = b.category.primaryCategory;
                c.attributes.relatedComponentID = b.componentInfo.componentId;
                c.attributes.relatedComponentName = b.componentInfo.componentName;
                c.attributes.relatedComponentPrimaryCategory = b.category.primaryCategory
            }
        },
        trackButtonClick: function(f) {
            var c = b(f.currentTarget),
                a = "LABEL" === c[0].tagName,
                d = c.is(".md-ss-range-link"),
                e = "undefined" !== typeof c.data("subnav");
            (a = a || e && c.is(".subnav-visible")) ? c.data("subnav",
                c.is(".subnav-visible")): f.preventDefault();
            a || (e = this.openLink.bind(this, f, c), this.delayInstance = setTimeout(e, 500), b(window).one("digital:tracking:addEventTracking:finished", e));
            this.trackEvent(f, c, a, d)
        },
        trackEvent: function(b, c, a, d) {
            var e = d ? 2 : this.parseNavigationLevel(c);
            b = {
                eventInfo: {
                    eventName: "navigation item click",
                    eventAction: b.type,
                    timeStamp: Date.now().toString(),
                    cause: a ? "open submenu" : "open link",
                    effect: [e, "level"].join(" ")
                },
                attributes: {
                    navigationItemWording: d ? this.getRangeItemText(c) : this.getLinkText(c)
                }
            };
            try {
                this.trackingInstance.addEventTracking(this.defaultEvent, b, 0)
            } catch (h) {}
        },
        parseNavigationLevel: function(b) {
            var c = /md-nav-item-level([1-3])$/;
            return b.parent('[class*\x3d"md-nav-item-level"]')[0].className.split(/\s+/).filter(function(a) {
                return c.test(a)
            })[0].match(c)[1] || "na"
        },
        getRangeItemText: function(b) {
            return b.data("ss-model-range-longname").trim().toLowerCase()
        },
        getLinkText: function(b) {
            return b.text().trim().toLowerCase()
        },
        openLink: function(b, c) {
            null !== this.delayInstance && (clearTimeout(this.delayInstance),
                this.delayInstance = null);
            var a = c.attr("href") || "#";
            c = c.attr("target");
            window.open(a, b.ctrlKey || b.metaKey || "_blank" == c ? "_blank" : "_self")
        },
        trackModelShelfEvents: function(b) {
            b = {
                eventInfo: {
                    eventName: "navigation item click",
                    eventAction: b.type,
                    timeStamp: Date.now().toString(),
                    cause: this.modelShelfInfo(b).cause,
                    effect: this.modelShelfInfo(b).effect
                },
                attributes: {
                    navigationItemWording: this.modelShelfInfo(b).navigationItemWording
                }
            };
            try {
                this.trackingInstance.addEventTracking(this.defaultEvent, b, 0)
            } catch (c) {}
        },
        modelShelfInfo: function(f) {
            var c = b(f.target).closest("a");
            f = this.$modelShelfPanels.find(".md-model-shelf__panel.active .md-fixedtext").text().toLowerCase().trim();
            if (c.hasClass("tab-navigation__heading")) return {
                effect: "2 level",
                cause: "open submenu",
                navigationItemWording: "models \x3e " + f
            };
            if (c.hasClass("btn") || c.hasClass("entry-body")) return c = c.find(".btn-title").text().toLowerCase().trim() || c.find(".text p").text().toLowerCase().trim(), {
                effect: "3 level",
                cause: "open link",
                navigationItemWording: "models \x3e " +
                    f + " \x3e " + c
            }
        }
    };
    f.Tracking = k
})(mini.digital.$);
mini = mini || {};
mini.digital = mini.digital || {};
mini.digital.util = mini.digital.util || {};
mini.digital.comp = mini.digital.comp || {};
mini.digital.$ = $;
(function(b, f) {
    var k = !1;
    b.initLegacyApp = function(b) {
        var c = document;
        null != b && void 0 != b && (c = b);
        if (k) console.warn("Warning: app can be initialised only once");
        else {
            if (null == b || void 0 == b) k = !0;
            f.scrollTo.init();
            f.initialise(c);
            f.form.init();
            f.tracking.init();
            f.resize.init();
            window.dataLayer && window.dataLayer.pages && window.dataLayer.pages.length && window.dataLayer.pages[0].product && window.dataLayer.pages[0].product.length && window.dataLayer.pages[0].product[0].attributes && (b = window.dataLayer.pages[0].product[0].attributes,
                c = window.dataLayer.pages[0].product[0].productInfo, mini.digital.util.currentModel.set({
                    modelRangeCode: void 0 !== b.mmdr ? b.mmdr : b.bodyType,
                    modelRangeName: "na" === b.bodyName || void 0 === b.bodyName || void 0 !== c ? c.productName : b.bodyName
                }))
        }
    }
})(mini.digital, mini.digital.util);
define("business/commons/components/epaas-notavailable-banner", ["jquery"], function(b) {
    var f = function(f) {
            var c = this;
            c.$element = b(f);
            c.closeButton = c.$element.find(".close-button")[0];
            !0 === window.epaasNotAvailable && c._showBanner(c.$element);
            (window.epaas && window.epaas.api || window).addEventListener("consentcontroller.api.notavailable", function() {
                c._showBanner(c.$element)
            });
            b(this.closeButton).click(function() {
                c._hideBanner(c.$element)
            })
        },
        k = f.prototype;
    k._showBanner = function(b) {
        b.addClass("show-banner")
    };
    k._hideBanner = function(b) {
        b.removeClass("show-banner")
    };
    return f
});
